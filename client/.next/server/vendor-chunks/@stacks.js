/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stacks";
exports.ids = ["vendor-chunks/@stacks"];
exports.modules = {

/***/ "(ssr)/./node_modules/@stacks/auth/dist/appConfig.js":
/*!*****************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/appConfig.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AppConfig = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/auth/dist/constants.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nclass AppConfig {\n    constructor(scopes = constants_1.DEFAULT_SCOPE.slice(), appDomain = (0, common_1.getGlobalObject)('location', { returnEmptyObject: true })\n        ?.origin, redirectPath = '', manifestPath = '/manifest.json', coreNode = undefined, authenticatorURL = constants_1.DEFAULT_BLOCKSTACK_HOST) {\n        this.appDomain = appDomain;\n        this.scopes = scopes;\n        this.redirectPath = redirectPath;\n        this.manifestPath = manifestPath;\n        this.coreNode = coreNode;\n        this.authenticatorURL = authenticatorURL;\n    }\n    redirectURI() {\n        return `${this.appDomain}${this.redirectPath}`;\n    }\n    manifestURI() {\n        return `${this.appDomain}${this.manifestPath}`;\n    }\n}\nexports.AppConfig = AppConfig;\n//# sourceMappingURL=appConfig.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvYXBwQ29uZmlnLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixvQkFBb0IsbUJBQU8sQ0FBQyx3RUFBYTtBQUN6QyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekM7QUFDQSxvSEFBb0gseUJBQXlCO0FBQzdJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixlQUFlLEVBQUUsa0JBQWtCO0FBQ3JEO0FBQ0E7QUFDQSxrQkFBa0IsZUFBZSxFQUFFLGtCQUFrQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvYXV0aC9kaXN0L2FwcENvbmZpZy5qcz9iOTI2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcHBDb25maWcgPSB2b2lkIDA7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY2xhc3MgQXBwQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcihzY29wZXMgPSBjb25zdGFudHNfMS5ERUZBVUxUX1NDT1BFLnNsaWNlKCksIGFwcERvbWFpbiA9ICgwLCBjb21tb25fMS5nZXRHbG9iYWxPYmplY3QpKCdsb2NhdGlvbicsIHsgcmV0dXJuRW1wdHlPYmplY3Q6IHRydWUgfSlcbiAgICAgICAgPy5vcmlnaW4sIHJlZGlyZWN0UGF0aCA9ICcnLCBtYW5pZmVzdFBhdGggPSAnL21hbmlmZXN0Lmpzb24nLCBjb3JlTm9kZSA9IHVuZGVmaW5lZCwgYXV0aGVudGljYXRvclVSTCA9IGNvbnN0YW50c18xLkRFRkFVTFRfQkxPQ0tTVEFDS19IT1NUKSB7XG4gICAgICAgIHRoaXMuYXBwRG9tYWluID0gYXBwRG9tYWluO1xuICAgICAgICB0aGlzLnNjb3BlcyA9IHNjb3BlcztcbiAgICAgICAgdGhpcy5yZWRpcmVjdFBhdGggPSByZWRpcmVjdFBhdGg7XG4gICAgICAgIHRoaXMubWFuaWZlc3RQYXRoID0gbWFuaWZlc3RQYXRoO1xuICAgICAgICB0aGlzLmNvcmVOb2RlID0gY29yZU5vZGU7XG4gICAgICAgIHRoaXMuYXV0aGVudGljYXRvclVSTCA9IGF1dGhlbnRpY2F0b3JVUkw7XG4gICAgfVxuICAgIHJlZGlyZWN0VVJJKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5hcHBEb21haW59JHt0aGlzLnJlZGlyZWN0UGF0aH1gO1xuICAgIH1cbiAgICBtYW5pZmVzdFVSSSgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYXBwRG9tYWlufSR7dGhpcy5tYW5pZmVzdFBhdGh9YDtcbiAgICB9XG59XG5leHBvcnRzLkFwcENvbmZpZyA9IEFwcENvbmZpZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcENvbmZpZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/appConfig.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/constants.js":
/*!*****************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/constants.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LOCALSTORAGE_SESSION_KEY = exports.NAME_LOOKUP_PATH = exports.DEFAULT_CORE_NODE = exports.BLOCKSTACK_APP_PRIVATE_KEY_LABEL = exports.DEFAULT_SCOPE = exports.DEFAULT_PROFILE = exports.DEFAULT_BLOCKSTACK_HOST = exports.BLOCKSTACK_STORAGE_LABEL = exports.BLOCKSTACK_HANDLER = void 0;\nexports.BLOCKSTACK_HANDLER = 'blockstack';\nexports.BLOCKSTACK_STORAGE_LABEL = 'blockstack';\nexports.DEFAULT_BLOCKSTACK_HOST = 'https://browser.blockstack.org/auth';\nexports.DEFAULT_PROFILE = {\n    '@type': 'Person',\n    '@context': 'http://schema.org',\n};\nexports.DEFAULT_SCOPE = [\"store_write\"];\nexports.BLOCKSTACK_APP_PRIVATE_KEY_LABEL = 'blockstack-transit-private-key';\nexports.DEFAULT_CORE_NODE = 'https://stacks-node-api.stacks.co';\nexports.NAME_LOOKUP_PATH = '/v1/names';\nexports.LOCALSTORAGE_SESSION_KEY = 'blockstack-session';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxHQUFHLHdCQUF3QixHQUFHLHlCQUF5QixHQUFHLHdDQUF3QyxHQUFHLHFCQUFxQixHQUFHLHVCQUF1QixHQUFHLCtCQUErQixHQUFHLGdDQUFnQyxHQUFHLDBCQUEwQjtBQUN0UiwwQkFBMEI7QUFDMUIsZ0NBQWdDO0FBQ2hDLCtCQUErQjtBQUMvQix1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLHdDQUF3QztBQUN4Qyx5QkFBeUI7QUFDekIsd0JBQXdCO0FBQ3hCLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2F1dGgvZGlzdC9jb25zdGFudHMuanM/MTAyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTE9DQUxTVE9SQUdFX1NFU1NJT05fS0VZID0gZXhwb3J0cy5OQU1FX0xPT0tVUF9QQVRIID0gZXhwb3J0cy5ERUZBVUxUX0NPUkVfTk9ERSA9IGV4cG9ydHMuQkxPQ0tTVEFDS19BUFBfUFJJVkFURV9LRVlfTEFCRUwgPSBleHBvcnRzLkRFRkFVTFRfU0NPUEUgPSBleHBvcnRzLkRFRkFVTFRfUFJPRklMRSA9IGV4cG9ydHMuREVGQVVMVF9CTE9DS1NUQUNLX0hPU1QgPSBleHBvcnRzLkJMT0NLU1RBQ0tfU1RPUkFHRV9MQUJFTCA9IGV4cG9ydHMuQkxPQ0tTVEFDS19IQU5ETEVSID0gdm9pZCAwO1xuZXhwb3J0cy5CTE9DS1NUQUNLX0hBTkRMRVIgPSAnYmxvY2tzdGFjayc7XG5leHBvcnRzLkJMT0NLU1RBQ0tfU1RPUkFHRV9MQUJFTCA9ICdibG9ja3N0YWNrJztcbmV4cG9ydHMuREVGQVVMVF9CTE9DS1NUQUNLX0hPU1QgPSAnaHR0cHM6Ly9icm93c2VyLmJsb2Nrc3RhY2sub3JnL2F1dGgnO1xuZXhwb3J0cy5ERUZBVUxUX1BST0ZJTEUgPSB7XG4gICAgJ0B0eXBlJzogJ1BlcnNvbicsXG4gICAgJ0Bjb250ZXh0JzogJ2h0dHA6Ly9zY2hlbWEub3JnJyxcbn07XG5leHBvcnRzLkRFRkFVTFRfU0NPUEUgPSBbXCJzdG9yZV93cml0ZVwiXTtcbmV4cG9ydHMuQkxPQ0tTVEFDS19BUFBfUFJJVkFURV9LRVlfTEFCRUwgPSAnYmxvY2tzdGFjay10cmFuc2l0LXByaXZhdGUta2V5JztcbmV4cG9ydHMuREVGQVVMVF9DT1JFX05PREUgPSAnaHR0cHM6Ly9zdGFja3Mtbm9kZS1hcGkuc3RhY2tzLmNvJztcbmV4cG9ydHMuTkFNRV9MT09LVVBfUEFUSCA9ICcvdjEvbmFtZXMnO1xuZXhwb3J0cy5MT0NBTFNUT1JBR0VfU0VTU0lPTl9LRVkgPSAnYmxvY2tzdGFjay1zZXNzaW9uJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/dids.js":
/*!************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/dids.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getAddressFromDID = exports.getDIDType = exports.makeDIDFromPublicKey = exports.makeDIDFromAddress = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nfunction makeDIDFromAddress(address) {\n    return `did:btc-addr:${address}`;\n}\nexports.makeDIDFromAddress = makeDIDFromAddress;\nfunction makeDIDFromPublicKey(publicKey) {\n    return `did:ecdsa-pub:${publicKey}`;\n}\nexports.makeDIDFromPublicKey = makeDIDFromPublicKey;\nfunction getDIDType(decentralizedID) {\n    const didParts = decentralizedID.split(':');\n    if (didParts.length !== 3) {\n        throw new common_1.InvalidDIDError('Decentralized IDs must have 3 parts');\n    }\n    if (didParts[0].toLowerCase() !== 'did') {\n        throw new common_1.InvalidDIDError('Decentralized IDs must start with \"did\"');\n    }\n    return didParts[1].toLowerCase();\n}\nexports.getDIDType = getDIDType;\nfunction getAddressFromDID(decentralizedID) {\n    if (decentralizedID) {\n        const didType = getDIDType(decentralizedID);\n        if (didType === 'btc-addr') {\n            return decentralizedID.split(':')[2];\n        }\n        else {\n            return undefined;\n        }\n    }\n    return undefined;\n}\nexports.getAddressFromDID = getAddressFromDID;\n//# sourceMappingURL=dids.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvZGlkcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUIsR0FBRyxrQkFBa0IsR0FBRyw0QkFBNEIsR0FBRywwQkFBMEI7QUFDMUcsaUJBQWlCLG1CQUFPLENBQUMseUVBQWdCO0FBQ3pDO0FBQ0EsMkJBQTJCLFFBQVE7QUFDbkM7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSw0QkFBNEIsVUFBVTtBQUN0QztBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvZGlkcy5qcz9kYWY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRBZGRyZXNzRnJvbURJRCA9IGV4cG9ydHMuZ2V0RElEVHlwZSA9IGV4cG9ydHMubWFrZURJREZyb21QdWJsaWNLZXkgPSBleHBvcnRzLm1ha2VESURGcm9tQWRkcmVzcyA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuZnVuY3Rpb24gbWFrZURJREZyb21BZGRyZXNzKGFkZHJlc3MpIHtcbiAgICByZXR1cm4gYGRpZDpidGMtYWRkcjoke2FkZHJlc3N9YDtcbn1cbmV4cG9ydHMubWFrZURJREZyb21BZGRyZXNzID0gbWFrZURJREZyb21BZGRyZXNzO1xuZnVuY3Rpb24gbWFrZURJREZyb21QdWJsaWNLZXkocHVibGljS2V5KSB7XG4gICAgcmV0dXJuIGBkaWQ6ZWNkc2EtcHViOiR7cHVibGljS2V5fWA7XG59XG5leHBvcnRzLm1ha2VESURGcm9tUHVibGljS2V5ID0gbWFrZURJREZyb21QdWJsaWNLZXk7XG5mdW5jdGlvbiBnZXRESURUeXBlKGRlY2VudHJhbGl6ZWRJRCkge1xuICAgIGNvbnN0IGRpZFBhcnRzID0gZGVjZW50cmFsaXplZElELnNwbGl0KCc6Jyk7XG4gICAgaWYgKGRpZFBhcnRzLmxlbmd0aCAhPT0gMykge1xuICAgICAgICB0aHJvdyBuZXcgY29tbW9uXzEuSW52YWxpZERJREVycm9yKCdEZWNlbnRyYWxpemVkIElEcyBtdXN0IGhhdmUgMyBwYXJ0cycpO1xuICAgIH1cbiAgICBpZiAoZGlkUGFydHNbMF0udG9Mb3dlckNhc2UoKSAhPT0gJ2RpZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IGNvbW1vbl8xLkludmFsaWRESURFcnJvcignRGVjZW50cmFsaXplZCBJRHMgbXVzdCBzdGFydCB3aXRoIFwiZGlkXCInKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZFBhcnRzWzFdLnRvTG93ZXJDYXNlKCk7XG59XG5leHBvcnRzLmdldERJRFR5cGUgPSBnZXRESURUeXBlO1xuZnVuY3Rpb24gZ2V0QWRkcmVzc0Zyb21ESUQoZGVjZW50cmFsaXplZElEKSB7XG4gICAgaWYgKGRlY2VudHJhbGl6ZWRJRCkge1xuICAgICAgICBjb25zdCBkaWRUeXBlID0gZ2V0RElEVHlwZShkZWNlbnRyYWxpemVkSUQpO1xuICAgICAgICBpZiAoZGlkVHlwZSA9PT0gJ2J0Yy1hZGRyJykge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2VudHJhbGl6ZWRJRC5zcGxpdCgnOicpWzJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5nZXRBZGRyZXNzRnJvbURJRCA9IGdldEFkZHJlc3NGcm9tRElEO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/dids.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/index.js":
/*!*************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.UserSession = exports.verifyAuthRequestAndLoadManifest = exports.isRedirectUriValid = exports.isManifestUriValid = exports.doSignaturesMatchPublicKeys = exports.doPublicKeysMatchIssuer = exports.isIssuanceDateValid = exports.isExpirationDateValid = exports.verifyAuthResponse = exports.verifyAuthRequest = exports.fetchAppManifest = exports.getAuthRequestFromURL = exports.decryptPrivateKey = exports.makeAuthResponse = exports.makeAuthRequestToken = exports.makeAuthRequest = exports.AppConfig = void 0;\nvar appConfig_1 = __webpack_require__(/*! ./appConfig */ \"(ssr)/./node_modules/@stacks/auth/dist/appConfig.js\");\nObject.defineProperty(exports, \"AppConfig\", ({ enumerable: true, get: function () { return appConfig_1.AppConfig; } }));\nvar messages_1 = __webpack_require__(/*! ./messages */ \"(ssr)/./node_modules/@stacks/auth/dist/messages.js\");\nObject.defineProperty(exports, \"makeAuthRequest\", ({ enumerable: true, get: function () { return messages_1.makeAuthRequest; } }));\nObject.defineProperty(exports, \"makeAuthRequestToken\", ({ enumerable: true, get: function () { return messages_1.makeAuthRequestToken; } }));\nObject.defineProperty(exports, \"makeAuthResponse\", ({ enumerable: true, get: function () { return messages_1.makeAuthResponse; } }));\nObject.defineProperty(exports, \"decryptPrivateKey\", ({ enumerable: true, get: function () { return messages_1.decryptPrivateKey; } }));\nvar provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@stacks/auth/dist/provider.js\");\nObject.defineProperty(exports, \"getAuthRequestFromURL\", ({ enumerable: true, get: function () { return provider_1.getAuthRequestFromURL; } }));\nObject.defineProperty(exports, \"fetchAppManifest\", ({ enumerable: true, get: function () { return provider_1.fetchAppManifest; } }));\nvar verification_1 = __webpack_require__(/*! ./verification */ \"(ssr)/./node_modules/@stacks/auth/dist/verification.js\");\nObject.defineProperty(exports, \"verifyAuthRequest\", ({ enumerable: true, get: function () { return verification_1.verifyAuthRequest; } }));\nObject.defineProperty(exports, \"verifyAuthResponse\", ({ enumerable: true, get: function () { return verification_1.verifyAuthResponse; } }));\nObject.defineProperty(exports, \"isExpirationDateValid\", ({ enumerable: true, get: function () { return verification_1.isExpirationDateValid; } }));\nObject.defineProperty(exports, \"isIssuanceDateValid\", ({ enumerable: true, get: function () { return verification_1.isIssuanceDateValid; } }));\nObject.defineProperty(exports, \"doPublicKeysMatchIssuer\", ({ enumerable: true, get: function () { return verification_1.doPublicKeysMatchIssuer; } }));\nObject.defineProperty(exports, \"doSignaturesMatchPublicKeys\", ({ enumerable: true, get: function () { return verification_1.doSignaturesMatchPublicKeys; } }));\nObject.defineProperty(exports, \"isManifestUriValid\", ({ enumerable: true, get: function () { return verification_1.isManifestUriValid; } }));\nObject.defineProperty(exports, \"isRedirectUriValid\", ({ enumerable: true, get: function () { return verification_1.isRedirectUriValid; } }));\nObject.defineProperty(exports, \"verifyAuthRequestAndLoadManifest\", ({ enumerable: true, get: function () { return verification_1.verifyAuthRequestAndLoadManifest; } }));\n__exportStar(__webpack_require__(/*! ./dids */ \"(ssr)/./node_modules/@stacks/auth/dist/dids.js\"), exports);\nvar userSession_1 = __webpack_require__(/*! ./userSession */ \"(ssr)/./node_modules/@stacks/auth/dist/userSession.js\");\nObject.defineProperty(exports, \"UserSession\", ({ enumerable: true, get: function () { return userSession_1.UserSession; } }));\n__exportStar(__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/auth/dist/constants.js\"), exports);\n__exportStar(__webpack_require__(/*! ./profile */ \"(ssr)/./node_modules/@stacks/auth/dist/profile.js\"), exports);\n__exportStar(__webpack_require__(/*! ./userData */ \"(ssr)/./node_modules/@stacks/auth/dist/userData.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsd0NBQXdDLEdBQUcsMEJBQTBCLEdBQUcsMEJBQTBCLEdBQUcsbUNBQW1DLEdBQUcsK0JBQStCLEdBQUcsMkJBQTJCLEdBQUcsNkJBQTZCLEdBQUcsMEJBQTBCLEdBQUcseUJBQXlCLEdBQUcsd0JBQXdCLEdBQUcsNkJBQTZCLEdBQUcseUJBQXlCLEdBQUcsd0JBQXdCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCLEdBQUcsaUJBQWlCO0FBQ3RmLGtCQUFrQixtQkFBTyxDQUFDLHdFQUFhO0FBQ3ZDLDZDQUE0QyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUNySCxpQkFBaUIsbUJBQU8sQ0FBQyxzRUFBWTtBQUNyQyxtREFBa0QsRUFBRSxxQ0FBcUMsc0NBQXNDLEVBQUM7QUFDaEksd0RBQXVELEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDO0FBQzFJLG9EQUFtRCxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUNsSSxxREFBb0QsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDcEksaUJBQWlCLG1CQUFPLENBQUMsc0VBQVk7QUFDckMseURBQXdELEVBQUUscUNBQXFDLDRDQUE0QyxFQUFDO0FBQzVJLG9EQUFtRCxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUNsSSxxQkFBcUIsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDN0MscURBQW9ELEVBQUUscUNBQXFDLDRDQUE0QyxFQUFDO0FBQ3hJLHNEQUFxRCxFQUFFLHFDQUFxQyw2Q0FBNkMsRUFBQztBQUMxSSx5REFBd0QsRUFBRSxxQ0FBcUMsZ0RBQWdELEVBQUM7QUFDaEosdURBQXNELEVBQUUscUNBQXFDLDhDQUE4QyxFQUFDO0FBQzVJLDJEQUEwRCxFQUFFLHFDQUFxQyxrREFBa0QsRUFBQztBQUNwSiwrREFBOEQsRUFBRSxxQ0FBcUMsc0RBQXNELEVBQUM7QUFDNUosc0RBQXFELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQzFJLHNEQUFxRCxFQUFFLHFDQUFxQyw2Q0FBNkMsRUFBQztBQUMxSSxvRUFBbUUsRUFBRSxxQ0FBcUMsMkRBQTJELEVBQUM7QUFDdEssYUFBYSxtQkFBTyxDQUFDLDhEQUFRO0FBQzdCLG9CQUFvQixtQkFBTyxDQUFDLDRFQUFlO0FBQzNDLCtDQUE4QyxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUMzSCxhQUFhLG1CQUFPLENBQUMsd0VBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLG9FQUFXO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQyxzRUFBWTtBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2F1dGgvZGlzdC9pbmRleC5qcz9kMjAyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlVzZXJTZXNzaW9uID0gZXhwb3J0cy52ZXJpZnlBdXRoUmVxdWVzdEFuZExvYWRNYW5pZmVzdCA9IGV4cG9ydHMuaXNSZWRpcmVjdFVyaVZhbGlkID0gZXhwb3J0cy5pc01hbmlmZXN0VXJpVmFsaWQgPSBleHBvcnRzLmRvU2lnbmF0dXJlc01hdGNoUHVibGljS2V5cyA9IGV4cG9ydHMuZG9QdWJsaWNLZXlzTWF0Y2hJc3N1ZXIgPSBleHBvcnRzLmlzSXNzdWFuY2VEYXRlVmFsaWQgPSBleHBvcnRzLmlzRXhwaXJhdGlvbkRhdGVWYWxpZCA9IGV4cG9ydHMudmVyaWZ5QXV0aFJlc3BvbnNlID0gZXhwb3J0cy52ZXJpZnlBdXRoUmVxdWVzdCA9IGV4cG9ydHMuZmV0Y2hBcHBNYW5pZmVzdCA9IGV4cG9ydHMuZ2V0QXV0aFJlcXVlc3RGcm9tVVJMID0gZXhwb3J0cy5kZWNyeXB0UHJpdmF0ZUtleSA9IGV4cG9ydHMubWFrZUF1dGhSZXNwb25zZSA9IGV4cG9ydHMubWFrZUF1dGhSZXF1ZXN0VG9rZW4gPSBleHBvcnRzLm1ha2VBdXRoUmVxdWVzdCA9IGV4cG9ydHMuQXBwQ29uZmlnID0gdm9pZCAwO1xudmFyIGFwcENvbmZpZ18xID0gcmVxdWlyZShcIi4vYXBwQ29uZmlnXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQXBwQ29uZmlnXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhcHBDb25maWdfMS5BcHBDb25maWc7IH0gfSk7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuL21lc3NhZ2VzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZUF1dGhSZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXNzYWdlc18xLm1ha2VBdXRoUmVxdWVzdDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1ha2VBdXRoUmVxdWVzdFRva2VuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXNzYWdlc18xLm1ha2VBdXRoUmVxdWVzdFRva2VuOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZUF1dGhSZXNwb25zZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWVzc2FnZXNfMS5tYWtlQXV0aFJlc3BvbnNlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVjcnlwdFByaXZhdGVLZXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lc3NhZ2VzXzEuZGVjcnlwdFByaXZhdGVLZXk7IH0gfSk7XG52YXIgcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0QXV0aFJlcXVlc3RGcm9tVVJMXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm92aWRlcl8xLmdldEF1dGhSZXF1ZXN0RnJvbVVSTDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZldGNoQXBwTWFuaWZlc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3ZpZGVyXzEuZmV0Y2hBcHBNYW5pZmVzdDsgfSB9KTtcbnZhciB2ZXJpZmljYXRpb25fMSA9IHJlcXVpcmUoXCIuL3ZlcmlmaWNhdGlvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInZlcmlmeUF1dGhSZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2ZXJpZmljYXRpb25fMS52ZXJpZnlBdXRoUmVxdWVzdDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInZlcmlmeUF1dGhSZXNwb25zZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmVyaWZpY2F0aW9uXzEudmVyaWZ5QXV0aFJlc3BvbnNlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXNFeHBpcmF0aW9uRGF0ZVZhbGlkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2ZXJpZmljYXRpb25fMS5pc0V4cGlyYXRpb25EYXRlVmFsaWQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc0lzc3VhbmNlRGF0ZVZhbGlkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2ZXJpZmljYXRpb25fMS5pc0lzc3VhbmNlRGF0ZVZhbGlkOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZG9QdWJsaWNLZXlzTWF0Y2hJc3N1ZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbl8xLmRvUHVibGljS2V5c01hdGNoSXNzdWVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZG9TaWduYXR1cmVzTWF0Y2hQdWJsaWNLZXlzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2ZXJpZmljYXRpb25fMS5kb1NpZ25hdHVyZXNNYXRjaFB1YmxpY0tleXM7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc01hbmlmZXN0VXJpVmFsaWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbl8xLmlzTWFuaWZlc3RVcmlWYWxpZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzUmVkaXJlY3RVcmlWYWxpZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmVyaWZpY2F0aW9uXzEuaXNSZWRpcmVjdFVyaVZhbGlkOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidmVyaWZ5QXV0aFJlcXVlc3RBbmRMb2FkTWFuaWZlc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZlcmlmaWNhdGlvbl8xLnZlcmlmeUF1dGhSZXF1ZXN0QW5kTG9hZE1hbmlmZXN0OyB9IH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2RpZHNcIiksIGV4cG9ydHMpO1xudmFyIHVzZXJTZXNzaW9uXzEgPSByZXF1aXJlKFwiLi91c2VyU2Vzc2lvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlVzZXJTZXNzaW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1c2VyU2Vzc2lvbl8xLlVzZXJTZXNzaW9uOyB9IH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcHJvZmlsZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXNlckRhdGFcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/messages.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/messages.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.makeAuthResponse = exports.decryptPrivateKey = exports.encryptPrivateKey = exports.makeAuthRequestToken = exports.makeAuthRequest = exports.generateTransitKey = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst encryption_1 = __webpack_require__(/*! @stacks/encryption */ \"(ssr)/./node_modules/@stacks/encryption/dist/index.js\");\nconst jsontokens_1 = __webpack_require__(/*! jsontokens */ \"(ssr)/./node_modules/jsontokens/lib/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/auth/dist/constants.js\");\nconst dids_1 = __webpack_require__(/*! ./dids */ \"(ssr)/./node_modules/@stacks/auth/dist/dids.js\");\nconst VERSION = '1.4.0';\nfunction generateTransitKey() {\n    const transitKey = (0, encryption_1.makeECPrivateKey)();\n    return transitKey;\n}\nexports.generateTransitKey = generateTransitKey;\nexports.makeAuthRequest = makeAuthRequestToken;\nfunction makeAuthRequestToken(transitPrivateKey, redirectURI, manifestURI, scopes = constants_1.DEFAULT_SCOPE.slice(), appDomain, expiresAt = (0, common_1.nextMonth)().getTime(), extraParams = {}) {\n    const getWindowOrigin = (paramName) => {\n        const location = (0, common_1.getGlobalObject)('location', {\n            throwIfUnavailable: true,\n            usageDesc: `makeAuthRequest([${paramName}=undefined])`,\n        });\n        return location?.origin;\n    };\n    if (!redirectURI) {\n        redirectURI = `${getWindowOrigin('redirectURI')}/`;\n    }\n    if (!manifestURI) {\n        manifestURI = `${getWindowOrigin('manifestURI')}/manifest.json`;\n    }\n    if (!appDomain) {\n        appDomain = getWindowOrigin('appDomain');\n    }\n    const payload = Object.assign({}, extraParams, {\n        jti: (0, common_1.makeUUID4)(),\n        iat: Math.floor(new Date().getTime() / 1000),\n        exp: Math.floor(expiresAt / 1000),\n        iss: null,\n        public_keys: [],\n        domain_name: appDomain,\n        manifest_uri: manifestURI,\n        redirect_uri: redirectURI,\n        version: VERSION,\n        do_not_include_profile: true,\n        supports_hub_url: true,\n        scopes,\n    });\n    const publicKey = jsontokens_1.SECP256K1Client.derivePublicKey(transitPrivateKey);\n    payload.public_keys = [publicKey];\n    const address = (0, encryption_1.publicKeyToBtcAddress)(publicKey);\n    payload.iss = (0, dids_1.makeDIDFromAddress)(address);\n    const tokenSigner = new jsontokens_1.TokenSigner('ES256k', transitPrivateKey);\n    const token = tokenSigner.sign(payload);\n    return token;\n}\nexports.makeAuthRequestToken = makeAuthRequestToken;\nasync function encryptPrivateKey(publicKey, privateKey) {\n    const encryptedObj = await (0, encryption_1.encryptECIES)(publicKey, (0, common_1.utf8ToBytes)(privateKey), true);\n    const encryptedJSON = JSON.stringify(encryptedObj);\n    return (0, common_1.bytesToHex)((0, common_1.utf8ToBytes)(encryptedJSON));\n}\nexports.encryptPrivateKey = encryptPrivateKey;\nasync function decryptPrivateKey(privateKey, hexedEncrypted) {\n    const unhexedString = (0, common_1.bytesToUtf8)((0, common_1.hexToBytes)(hexedEncrypted));\n    const encryptedObj = JSON.parse(unhexedString);\n    const decrypted = await (0, encryption_1.decryptECIES)(privateKey, encryptedObj);\n    if (typeof decrypted !== 'string') {\n        throw new Error('Unable to correctly decrypt private key');\n    }\n    else {\n        return decrypted;\n    }\n}\nexports.decryptPrivateKey = decryptPrivateKey;\nasync function makeAuthResponse(privateKey, profile = {}, metadata, coreToken = null, appPrivateKey = null, expiresAt = (0, common_1.nextMonth)().getTime(), transitPublicKey = null, hubUrl = null, blockstackAPIUrl = null, associationToken = null, appPrivateKeyFromWalletSalt = null) {\n    const publicKey = jsontokens_1.SECP256K1Client.derivePublicKey(privateKey);\n    const address = (0, encryption_1.publicKeyToBtcAddress)(publicKey);\n    let privateKeyPayload = appPrivateKey;\n    let coreTokenPayload = coreToken;\n    let additionalProperties = {};\n    if (appPrivateKey !== undefined && appPrivateKey !== null) {\n        if (transitPublicKey !== undefined && transitPublicKey !== null) {\n            privateKeyPayload = await encryptPrivateKey(transitPublicKey, appPrivateKey);\n            if (coreToken !== undefined && coreToken !== null) {\n                coreTokenPayload = await encryptPrivateKey(transitPublicKey, coreToken);\n            }\n        }\n        additionalProperties = {\n            email: metadata?.email ? metadata.email : null,\n            profile_url: metadata?.profileUrl ? metadata.profileUrl : null,\n            hubUrl,\n            blockstackAPIUrl,\n            associationToken,\n            version: VERSION,\n        };\n    }\n    else {\n    }\n    const payload = Object.assign({}, {\n        jti: (0, common_1.makeUUID4)(),\n        iat: Math.floor(new Date().getTime() / 1000),\n        exp: Math.floor(expiresAt / 1000),\n        iss: (0, dids_1.makeDIDFromAddress)(address),\n        private_key: privateKeyPayload,\n        public_keys: [publicKey],\n        appPrivateKeyFromWalletSalt,\n        profile,\n        core_token: coreTokenPayload,\n    }, additionalProperties);\n    const tokenSigner = new jsontokens_1.TokenSigner('ES256k', privateKey);\n    return tokenSigner.sign(payload);\n}\nexports.makeAuthResponse = makeAuthResponse;\n//# sourceMappingURL=messages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvbWVzc2FnZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcseUJBQXlCLEdBQUcseUJBQXlCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCLEdBQUcsMEJBQTBCO0FBQ3RLLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBb0I7QUFDakQscUJBQXFCLG1CQUFPLENBQUMsZ0VBQVk7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsd0VBQWE7QUFDekMsZUFBZSxtQkFBTyxDQUFDLDhEQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsdUJBQXVCO0FBQ3ZCLG1NQUFtTTtBQUNuTTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsVUFBVTtBQUNyRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtCQUErQjtBQUN4RDtBQUNBO0FBQ0EseUJBQXlCLCtCQUErQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2F1dGgvZGlzdC9tZXNzYWdlcy5qcz9hMmRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tYWtlQXV0aFJlc3BvbnNlID0gZXhwb3J0cy5kZWNyeXB0UHJpdmF0ZUtleSA9IGV4cG9ydHMuZW5jcnlwdFByaXZhdGVLZXkgPSBleHBvcnRzLm1ha2VBdXRoUmVxdWVzdFRva2VuID0gZXhwb3J0cy5tYWtlQXV0aFJlcXVlc3QgPSBleHBvcnRzLmdlbmVyYXRlVHJhbnNpdEtleSA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgZW5jcnlwdGlvbl8xID0gcmVxdWlyZShcIkBzdGFja3MvZW5jcnlwdGlvblwiKTtcbmNvbnN0IGpzb250b2tlbnNfMSA9IHJlcXVpcmUoXCJqc29udG9rZW5zXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBkaWRzXzEgPSByZXF1aXJlKFwiLi9kaWRzXCIpO1xuY29uc3QgVkVSU0lPTiA9ICcxLjQuMCc7XG5mdW5jdGlvbiBnZW5lcmF0ZVRyYW5zaXRLZXkoKSB7XG4gICAgY29uc3QgdHJhbnNpdEtleSA9ICgwLCBlbmNyeXB0aW9uXzEubWFrZUVDUHJpdmF0ZUtleSkoKTtcbiAgICByZXR1cm4gdHJhbnNpdEtleTtcbn1cbmV4cG9ydHMuZ2VuZXJhdGVUcmFuc2l0S2V5ID0gZ2VuZXJhdGVUcmFuc2l0S2V5O1xuZXhwb3J0cy5tYWtlQXV0aFJlcXVlc3QgPSBtYWtlQXV0aFJlcXVlc3RUb2tlbjtcbmZ1bmN0aW9uIG1ha2VBdXRoUmVxdWVzdFRva2VuKHRyYW5zaXRQcml2YXRlS2V5LCByZWRpcmVjdFVSSSwgbWFuaWZlc3RVUkksIHNjb3BlcyA9IGNvbnN0YW50c18xLkRFRkFVTFRfU0NPUEUuc2xpY2UoKSwgYXBwRG9tYWluLCBleHBpcmVzQXQgPSAoMCwgY29tbW9uXzEubmV4dE1vbnRoKSgpLmdldFRpbWUoKSwgZXh0cmFQYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IGdldFdpbmRvd09yaWdpbiA9IChwYXJhbU5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSAoMCwgY29tbW9uXzEuZ2V0R2xvYmFsT2JqZWN0KSgnbG9jYXRpb24nLCB7XG4gICAgICAgICAgICB0aHJvd0lmVW5hdmFpbGFibGU6IHRydWUsXG4gICAgICAgICAgICB1c2FnZURlc2M6IGBtYWtlQXV0aFJlcXVlc3QoWyR7cGFyYW1OYW1lfT11bmRlZmluZWRdKWAsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbG9jYXRpb24/Lm9yaWdpbjtcbiAgICB9O1xuICAgIGlmICghcmVkaXJlY3RVUkkpIHtcbiAgICAgICAgcmVkaXJlY3RVUkkgPSBgJHtnZXRXaW5kb3dPcmlnaW4oJ3JlZGlyZWN0VVJJJyl9L2A7XG4gICAgfVxuICAgIGlmICghbWFuaWZlc3RVUkkpIHtcbiAgICAgICAgbWFuaWZlc3RVUkkgPSBgJHtnZXRXaW5kb3dPcmlnaW4oJ21hbmlmZXN0VVJJJyl9L21hbmlmZXN0Lmpzb25gO1xuICAgIH1cbiAgICBpZiAoIWFwcERvbWFpbikge1xuICAgICAgICBhcHBEb21haW4gPSBnZXRXaW5kb3dPcmlnaW4oJ2FwcERvbWFpbicpO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwgZXh0cmFQYXJhbXMsIHtcbiAgICAgICAganRpOiAoMCwgY29tbW9uXzEubWFrZVVVSUQ0KSgpLFxuICAgICAgICBpYXQ6IE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgZXhwOiBNYXRoLmZsb29yKGV4cGlyZXNBdCAvIDEwMDApLFxuICAgICAgICBpc3M6IG51bGwsXG4gICAgICAgIHB1YmxpY19rZXlzOiBbXSxcbiAgICAgICAgZG9tYWluX25hbWU6IGFwcERvbWFpbixcbiAgICAgICAgbWFuaWZlc3RfdXJpOiBtYW5pZmVzdFVSSSxcbiAgICAgICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdFVSSSxcbiAgICAgICAgdmVyc2lvbjogVkVSU0lPTixcbiAgICAgICAgZG9fbm90X2luY2x1ZGVfcHJvZmlsZTogdHJ1ZSxcbiAgICAgICAgc3VwcG9ydHNfaHViX3VybDogdHJ1ZSxcbiAgICAgICAgc2NvcGVzLFxuICAgIH0pO1xuICAgIGNvbnN0IHB1YmxpY0tleSA9IGpzb250b2tlbnNfMS5TRUNQMjU2SzFDbGllbnQuZGVyaXZlUHVibGljS2V5KHRyYW5zaXRQcml2YXRlS2V5KTtcbiAgICBwYXlsb2FkLnB1YmxpY19rZXlzID0gW3B1YmxpY0tleV07XG4gICAgY29uc3QgYWRkcmVzcyA9ICgwLCBlbmNyeXB0aW9uXzEucHVibGljS2V5VG9CdGNBZGRyZXNzKShwdWJsaWNLZXkpO1xuICAgIHBheWxvYWQuaXNzID0gKDAsIGRpZHNfMS5tYWtlRElERnJvbUFkZHJlc3MpKGFkZHJlc3MpO1xuICAgIGNvbnN0IHRva2VuU2lnbmVyID0gbmV3IGpzb250b2tlbnNfMS5Ub2tlblNpZ25lcignRVMyNTZrJywgdHJhbnNpdFByaXZhdGVLZXkpO1xuICAgIGNvbnN0IHRva2VuID0gdG9rZW5TaWduZXIuc2lnbihwYXlsb2FkKTtcbiAgICByZXR1cm4gdG9rZW47XG59XG5leHBvcnRzLm1ha2VBdXRoUmVxdWVzdFRva2VuID0gbWFrZUF1dGhSZXF1ZXN0VG9rZW47XG5hc3luYyBmdW5jdGlvbiBlbmNyeXB0UHJpdmF0ZUtleShwdWJsaWNLZXksIHByaXZhdGVLZXkpIHtcbiAgICBjb25zdCBlbmNyeXB0ZWRPYmogPSBhd2FpdCAoMCwgZW5jcnlwdGlvbl8xLmVuY3J5cHRFQ0lFUykocHVibGljS2V5LCAoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKHByaXZhdGVLZXkpLCB0cnVlKTtcbiAgICBjb25zdCBlbmNyeXB0ZWRKU09OID0gSlNPTi5zdHJpbmdpZnkoZW5jcnlwdGVkT2JqKTtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKCgwLCBjb21tb25fMS51dGY4VG9CeXRlcykoZW5jcnlwdGVkSlNPTikpO1xufVxuZXhwb3J0cy5lbmNyeXB0UHJpdmF0ZUtleSA9IGVuY3J5cHRQcml2YXRlS2V5O1xuYXN5bmMgZnVuY3Rpb24gZGVjcnlwdFByaXZhdGVLZXkocHJpdmF0ZUtleSwgaGV4ZWRFbmNyeXB0ZWQpIHtcbiAgICBjb25zdCB1bmhleGVkU3RyaW5nID0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9VdGY4KSgoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoaGV4ZWRFbmNyeXB0ZWQpKTtcbiAgICBjb25zdCBlbmNyeXB0ZWRPYmogPSBKU09OLnBhcnNlKHVuaGV4ZWRTdHJpbmcpO1xuICAgIGNvbnN0IGRlY3J5cHRlZCA9IGF3YWl0ICgwLCBlbmNyeXB0aW9uXzEuZGVjcnlwdEVDSUVTKShwcml2YXRlS2V5LCBlbmNyeXB0ZWRPYmopO1xuICAgIGlmICh0eXBlb2YgZGVjcnlwdGVkICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjb3JyZWN0bHkgZGVjcnlwdCBwcml2YXRlIGtleScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlY3J5cHRlZDtcbiAgICB9XG59XG5leHBvcnRzLmRlY3J5cHRQcml2YXRlS2V5ID0gZGVjcnlwdFByaXZhdGVLZXk7XG5hc3luYyBmdW5jdGlvbiBtYWtlQXV0aFJlc3BvbnNlKHByaXZhdGVLZXksIHByb2ZpbGUgPSB7fSwgbWV0YWRhdGEsIGNvcmVUb2tlbiA9IG51bGwsIGFwcFByaXZhdGVLZXkgPSBudWxsLCBleHBpcmVzQXQgPSAoMCwgY29tbW9uXzEubmV4dE1vbnRoKSgpLmdldFRpbWUoKSwgdHJhbnNpdFB1YmxpY0tleSA9IG51bGwsIGh1YlVybCA9IG51bGwsIGJsb2Nrc3RhY2tBUElVcmwgPSBudWxsLCBhc3NvY2lhdGlvblRva2VuID0gbnVsbCwgYXBwUHJpdmF0ZUtleUZyb21XYWxsZXRTYWx0ID0gbnVsbCkge1xuICAgIGNvbnN0IHB1YmxpY0tleSA9IGpzb250b2tlbnNfMS5TRUNQMjU2SzFDbGllbnQuZGVyaXZlUHVibGljS2V5KHByaXZhdGVLZXkpO1xuICAgIGNvbnN0IGFkZHJlc3MgPSAoMCwgZW5jcnlwdGlvbl8xLnB1YmxpY0tleVRvQnRjQWRkcmVzcykocHVibGljS2V5KTtcbiAgICBsZXQgcHJpdmF0ZUtleVBheWxvYWQgPSBhcHBQcml2YXRlS2V5O1xuICAgIGxldCBjb3JlVG9rZW5QYXlsb2FkID0gY29yZVRva2VuO1xuICAgIGxldCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHt9O1xuICAgIGlmIChhcHBQcml2YXRlS2V5ICE9PSB1bmRlZmluZWQgJiYgYXBwUHJpdmF0ZUtleSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAodHJhbnNpdFB1YmxpY0tleSAhPT0gdW5kZWZpbmVkICYmIHRyYW5zaXRQdWJsaWNLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHByaXZhdGVLZXlQYXlsb2FkID0gYXdhaXQgZW5jcnlwdFByaXZhdGVLZXkodHJhbnNpdFB1YmxpY0tleSwgYXBwUHJpdmF0ZUtleSk7XG4gICAgICAgICAgICBpZiAoY29yZVRva2VuICE9PSB1bmRlZmluZWQgJiYgY29yZVRva2VuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29yZVRva2VuUGF5bG9hZCA9IGF3YWl0IGVuY3J5cHRQcml2YXRlS2V5KHRyYW5zaXRQdWJsaWNLZXksIGNvcmVUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBlbWFpbDogbWV0YWRhdGE/LmVtYWlsID8gbWV0YWRhdGEuZW1haWwgOiBudWxsLFxuICAgICAgICAgICAgcHJvZmlsZV91cmw6IG1ldGFkYXRhPy5wcm9maWxlVXJsID8gbWV0YWRhdGEucHJvZmlsZVVybCA6IG51bGwsXG4gICAgICAgICAgICBodWJVcmwsXG4gICAgICAgICAgICBibG9ja3N0YWNrQVBJVXJsLFxuICAgICAgICAgICAgYXNzb2NpYXRpb25Ub2tlbixcbiAgICAgICAgICAgIHZlcnNpb246IFZFUlNJT04sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBqdGk6ICgwLCBjb21tb25fMS5tYWtlVVVJRDQpKCksXG4gICAgICAgIGlhdDogTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBleHA6IE1hdGguZmxvb3IoZXhwaXJlc0F0IC8gMTAwMCksXG4gICAgICAgIGlzczogKDAsIGRpZHNfMS5tYWtlRElERnJvbUFkZHJlc3MpKGFkZHJlc3MpLFxuICAgICAgICBwcml2YXRlX2tleTogcHJpdmF0ZUtleVBheWxvYWQsXG4gICAgICAgIHB1YmxpY19rZXlzOiBbcHVibGljS2V5XSxcbiAgICAgICAgYXBwUHJpdmF0ZUtleUZyb21XYWxsZXRTYWx0LFxuICAgICAgICBwcm9maWxlLFxuICAgICAgICBjb3JlX3Rva2VuOiBjb3JlVG9rZW5QYXlsb2FkLFxuICAgIH0sIGFkZGl0aW9uYWxQcm9wZXJ0aWVzKTtcbiAgICBjb25zdCB0b2tlblNpZ25lciA9IG5ldyBqc29udG9rZW5zXzEuVG9rZW5TaWduZXIoJ0VTMjU2aycsIHByaXZhdGVLZXkpO1xuICAgIHJldHVybiB0b2tlblNpZ25lci5zaWduKHBheWxvYWQpO1xufVxuZXhwb3J0cy5tYWtlQXV0aFJlc3BvbnNlID0gbWFrZUF1dGhSZXNwb25zZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/messages.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/profile.js":
/*!***************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/profile.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.lookupProfile = void 0;\nconst profile_1 = __webpack_require__(/*! @stacks/profile */ \"(ssr)/./node_modules/@stacks/profile/dist/index.js\");\nconst network_1 = __webpack_require__(/*! @stacks/network */ \"(ssr)/./node_modules/@stacks/network/dist/index.js\");\nfunction lookupProfile(lookupOptions) {\n    if (!lookupOptions.username) {\n        return Promise.reject(new Error('No username provided'));\n    }\n    const defaultOptions = {\n        network: new network_1.StacksMainnet(),\n    };\n    const options = Object.assign(defaultOptions, lookupOptions);\n    const network = network_1.StacksNetwork.fromNameOrNetwork(options.network);\n    let lookupPromise;\n    if (options.zoneFileLookupURL) {\n        const url = `${options.zoneFileLookupURL.replace(/\\/$/, '')}/${options.username}`;\n        lookupPromise = network.fetchFn(url).then(response => response.json());\n    }\n    else {\n        lookupPromise = network.getNameInfo(options.username);\n    }\n    return lookupPromise.then((responseJSON) => {\n        if (responseJSON.hasOwnProperty('zonefile') && responseJSON.hasOwnProperty('address')) {\n            return (0, profile_1.resolveZoneFileToProfile)(responseJSON.zonefile, responseJSON.address, network.fetchFn);\n        }\n        else {\n            throw new Error('Invalid zonefile lookup response: did not contain `address`' + ' or `zonefile` field');\n        }\n    });\n}\nexports.lookupProfile = lookupProfile;\n//# sourceMappingURL=profile.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvcHJvZmlsZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsa0JBQWtCLG1CQUFPLENBQUMsMkVBQWlCO0FBQzNDLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZDQUE2QyxHQUFHLGlCQUFpQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvcHJvZmlsZS5qcz9iZDk5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb29rdXBQcm9maWxlID0gdm9pZCAwO1xuY29uc3QgcHJvZmlsZV8xID0gcmVxdWlyZShcIkBzdGFja3MvcHJvZmlsZVwiKTtcbmNvbnN0IG5ldHdvcmtfMSA9IHJlcXVpcmUoXCJAc3RhY2tzL25ldHdvcmtcIik7XG5mdW5jdGlvbiBsb29rdXBQcm9maWxlKGxvb2t1cE9wdGlvbnMpIHtcbiAgICBpZiAoIWxvb2t1cE9wdGlvbnMudXNlcm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTm8gdXNlcm5hbWUgcHJvdmlkZWQnKSk7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBuZXR3b3JrOiBuZXcgbmV0d29ya18xLlN0YWNrc01haW5uZXQoKSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBsb29rdXBPcHRpb25zKTtcbiAgICBjb25zdCBuZXR3b3JrID0gbmV0d29ya18xLlN0YWNrc05ldHdvcmsuZnJvbU5hbWVPck5ldHdvcmsob3B0aW9ucy5uZXR3b3JrKTtcbiAgICBsZXQgbG9va3VwUHJvbWlzZTtcbiAgICBpZiAob3B0aW9ucy56b25lRmlsZUxvb2t1cFVSTCkge1xuICAgICAgICBjb25zdCB1cmwgPSBgJHtvcHRpb25zLnpvbmVGaWxlTG9va3VwVVJMLnJlcGxhY2UoL1xcLyQvLCAnJyl9LyR7b3B0aW9ucy51c2VybmFtZX1gO1xuICAgICAgICBsb29rdXBQcm9taXNlID0gbmV0d29yay5mZXRjaEZuKHVybCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbG9va3VwUHJvbWlzZSA9IG5ldHdvcmsuZ2V0TmFtZUluZm8ob3B0aW9ucy51c2VybmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBsb29rdXBQcm9taXNlLnRoZW4oKHJlc3BvbnNlSlNPTikgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2VKU09OLmhhc093blByb3BlcnR5KCd6b25lZmlsZScpICYmIHJlc3BvbnNlSlNPTi5oYXNPd25Qcm9wZXJ0eSgnYWRkcmVzcycpKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHByb2ZpbGVfMS5yZXNvbHZlWm9uZUZpbGVUb1Byb2ZpbGUpKHJlc3BvbnNlSlNPTi56b25lZmlsZSwgcmVzcG9uc2VKU09OLmFkZHJlc3MsIG5ldHdvcmsuZmV0Y2hGbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgem9uZWZpbGUgbG9va3VwIHJlc3BvbnNlOiBkaWQgbm90IGNvbnRhaW4gYGFkZHJlc3NgJyArICcgb3IgYHpvbmVmaWxlYCBmaWVsZCcpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmxvb2t1cFByb2ZpbGUgPSBsb29rdXBQcm9maWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvZmlsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/profile.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/protocolEchoDetection.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/protocolEchoDetection.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.protocolEchoReplyDetection = void 0;\nconst GLOBAL_DETECTION_CACHE_KEY = '_blockstackDidCheckEchoReply';\nconst ECHO_REPLY_PARAM = 'echoReply';\nconst AUTH_CONTINUATION_PARAM = 'authContinuation';\nfunction getQueryStringParams(query) {\n    if (!query) {\n        return {};\n    }\n    const trimmed = /^[?#]/.test(query) ? query.slice(1) : query;\n    return trimmed.split('&').reduce((params, param) => {\n        const [key, value] = param.split('=');\n        params[key] = value ? decodeURIComponent(value.replace(/\\+/g, ' ')) : '';\n        return params;\n    }, {});\n}\nfunction protocolEchoReplyDetection() {\n    let globalScope;\n    if (typeof self !== 'undefined') {\n        globalScope = self;\n    }\n    else if (typeof window !== 'undefined') {\n        globalScope = window;\n    }\n    else {\n        return false;\n    }\n    if (!globalScope.location || !globalScope.localStorage) {\n        return false;\n    }\n    const existingDetection = globalScope[GLOBAL_DETECTION_CACHE_KEY];\n    if (typeof existingDetection === 'boolean') {\n        return existingDetection;\n    }\n    const searchParams = getQueryStringParams(globalScope.location.search);\n    const echoReplyParam = searchParams[ECHO_REPLY_PARAM];\n    if (echoReplyParam) {\n        globalScope[GLOBAL_DETECTION_CACHE_KEY] = true;\n        const echoReplyKey = `echo-reply-${echoReplyParam}`;\n        globalScope.localStorage.setItem(echoReplyKey, 'success');\n        globalScope.setTimeout(() => {\n            const authContinuationParam = searchParams[AUTH_CONTINUATION_PARAM];\n            globalScope.location.href = authContinuationParam;\n        }, 10);\n        return true;\n    }\n    return false;\n}\nexports.protocolEchoReplyDetection = protocolEchoReplyDetection;\n//# sourceMappingURL=protocolEchoDetection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvcHJvdG9jb2xFY2hvRGV0ZWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGVBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvcHJvdG9jb2xFY2hvRGV0ZWN0aW9uLmpzPzVjMTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnByb3RvY29sRWNob1JlcGx5RGV0ZWN0aW9uID0gdm9pZCAwO1xuY29uc3QgR0xPQkFMX0RFVEVDVElPTl9DQUNIRV9LRVkgPSAnX2Jsb2Nrc3RhY2tEaWRDaGVja0VjaG9SZXBseSc7XG5jb25zdCBFQ0hPX1JFUExZX1BBUkFNID0gJ2VjaG9SZXBseSc7XG5jb25zdCBBVVRIX0NPTlRJTlVBVElPTl9QQVJBTSA9ICdhdXRoQ29udGludWF0aW9uJztcbmZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nUGFyYW1zKHF1ZXJ5KSB7XG4gICAgaWYgKCFxdWVyeSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IHRyaW1tZWQgPSAvXls/I10vLnRlc3QocXVlcnkpID8gcXVlcnkuc2xpY2UoMSkgOiBxdWVyeTtcbiAgICByZXR1cm4gdHJpbW1lZC5zcGxpdCgnJicpLnJlZHVjZSgocGFyYW1zLCBwYXJhbSkgPT4ge1xuICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBwYXJhbS5zcGxpdCgnPScpO1xuICAgICAgICBwYXJhbXNba2V5XSA9IHZhbHVlID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlLnJlcGxhY2UoL1xcKy9nLCAnICcpKSA6ICcnO1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHByb3RvY29sRWNob1JlcGx5RGV0ZWN0aW9uKCkge1xuICAgIGxldCBnbG9iYWxTY29wZTtcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGdsb2JhbFNjb3BlID0gc2VsZjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZ2xvYmFsU2NvcGUgPSB3aW5kb3c7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghZ2xvYmFsU2NvcGUubG9jYXRpb24gfHwgIWdsb2JhbFNjb3BlLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGV4aXN0aW5nRGV0ZWN0aW9uID0gZ2xvYmFsU2NvcGVbR0xPQkFMX0RFVEVDVElPTl9DQUNIRV9LRVldO1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmdEZXRlY3Rpb24gPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdEZXRlY3Rpb247XG4gICAgfVxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IGdldFF1ZXJ5U3RyaW5nUGFyYW1zKGdsb2JhbFNjb3BlLmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgY29uc3QgZWNob1JlcGx5UGFyYW0gPSBzZWFyY2hQYXJhbXNbRUNIT19SRVBMWV9QQVJBTV07XG4gICAgaWYgKGVjaG9SZXBseVBhcmFtKSB7XG4gICAgICAgIGdsb2JhbFNjb3BlW0dMT0JBTF9ERVRFQ1RJT05fQ0FDSEVfS0VZXSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGVjaG9SZXBseUtleSA9IGBlY2hvLXJlcGx5LSR7ZWNob1JlcGx5UGFyYW19YDtcbiAgICAgICAgZ2xvYmFsU2NvcGUubG9jYWxTdG9yYWdlLnNldEl0ZW0oZWNob1JlcGx5S2V5LCAnc3VjY2VzcycpO1xuICAgICAgICBnbG9iYWxTY29wZS5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhDb250aW51YXRpb25QYXJhbSA9IHNlYXJjaFBhcmFtc1tBVVRIX0NPTlRJTlVBVElPTl9QQVJBTV07XG4gICAgICAgICAgICBnbG9iYWxTY29wZS5sb2NhdGlvbi5ocmVmID0gYXV0aENvbnRpbnVhdGlvblBhcmFtO1xuICAgICAgICB9LCAxMCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLnByb3RvY29sRWNob1JlcGx5RGV0ZWN0aW9uID0gcHJvdG9jb2xFY2hvUmVwbHlEZXRlY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm90b2NvbEVjaG9EZXRlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/protocolEchoDetection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/provider.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/provider.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchAppManifest = exports.getAuthRequestFromURL = void 0;\nconst jsontokens_1 = __webpack_require__(/*! jsontokens */ \"(ssr)/./node_modules/jsontokens/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst network_1 = __webpack_require__(/*! @stacks/network */ \"(ssr)/./node_modules/@stacks/network/dist/index.js\");\nfunction getAuthRequestFromURL() {\n    const location = (0, common_1.getGlobalObject)('location', {\n        throwIfUnavailable: true,\n        usageDesc: 'getAuthRequestFromURL',\n    });\n    const params = new URLSearchParams(location?.search);\n    return params.get('authRequest')?.replaceAll(`${common_1.BLOCKSTACK_HANDLER}:`, '') ?? null;\n}\nexports.getAuthRequestFromURL = getAuthRequestFromURL;\nasync function fetchAppManifest(authRequest, fetchFn = (0, network_1.createFetchFn)()) {\n    if (!authRequest) {\n        throw new Error('Invalid auth request');\n    }\n    const payload = (0, jsontokens_1.decodeToken)(authRequest).payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    const manifestURI = payload.manifest_uri;\n    try {\n        const response = await fetchFn(manifestURI);\n        const responseText = await response.text();\n        const responseJSON = JSON.parse(responseText);\n        return { ...responseJSON, manifestURI };\n    }\n    catch (error) {\n        console.log(error);\n        throw new Error('Could not fetch manifest.json');\n    }\n}\nexports.fetchAppManifest = fetchAppManifest;\n//# sourceMappingURL=provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvcHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcsNkJBQTZCO0FBQ3hELHFCQUFxQixtQkFBTyxDQUFDLGdFQUFZO0FBQ3pDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvREFBb0QsNEJBQTRCO0FBQ2hGO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2F1dGgvZGlzdC9wcm92aWRlci5qcz8zZjk2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mZXRjaEFwcE1hbmlmZXN0ID0gZXhwb3J0cy5nZXRBdXRoUmVxdWVzdEZyb21VUkwgPSB2b2lkIDA7XG5jb25zdCBqc29udG9rZW5zXzEgPSByZXF1aXJlKFwianNvbnRva2Vuc1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgbmV0d29ya18xID0gcmVxdWlyZShcIkBzdGFja3MvbmV0d29ya1wiKTtcbmZ1bmN0aW9uIGdldEF1dGhSZXF1ZXN0RnJvbVVSTCgpIHtcbiAgICBjb25zdCBsb2NhdGlvbiA9ICgwLCBjb21tb25fMS5nZXRHbG9iYWxPYmplY3QpKCdsb2NhdGlvbicsIHtcbiAgICAgICAgdGhyb3dJZlVuYXZhaWxhYmxlOiB0cnVlLFxuICAgICAgICB1c2FnZURlc2M6ICdnZXRBdXRoUmVxdWVzdEZyb21VUkwnLFxuICAgIH0pO1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24/LnNlYXJjaCk7XG4gICAgcmV0dXJuIHBhcmFtcy5nZXQoJ2F1dGhSZXF1ZXN0Jyk/LnJlcGxhY2VBbGwoYCR7Y29tbW9uXzEuQkxPQ0tTVEFDS19IQU5ETEVSfTpgLCAnJykgPz8gbnVsbDtcbn1cbmV4cG9ydHMuZ2V0QXV0aFJlcXVlc3RGcm9tVVJMID0gZ2V0QXV0aFJlcXVlc3RGcm9tVVJMO1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBcHBNYW5pZmVzdChhdXRoUmVxdWVzdCwgZmV0Y2hGbiA9ICgwLCBuZXR3b3JrXzEuY3JlYXRlRmV0Y2hGbikoKSkge1xuICAgIGlmICghYXV0aFJlcXVlc3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGF1dGggcmVxdWVzdCcpO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gKDAsIGpzb250b2tlbnNfMS5kZWNvZGVUb2tlbikoYXV0aFJlcXVlc3QpLnBheWxvYWQ7XG4gICAgaWYgKHR5cGVvZiBwYXlsb2FkID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdG9rZW4gcGF5bG9hZCB0eXBlIG9mIHN0cmluZycpO1xuICAgIH1cbiAgICBjb25zdCBtYW5pZmVzdFVSSSA9IHBheWxvYWQubWFuaWZlc3RfdXJpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hGbihtYW5pZmVzdFVSSSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VKU09OID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpO1xuICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZUpTT04sIG1hbmlmZXN0VVJJIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZldGNoIG1hbmlmZXN0Lmpzb24nKTtcbiAgICB9XG59XG5leHBvcnRzLmZldGNoQXBwTWFuaWZlc3QgPSBmZXRjaEFwcE1hbmlmZXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/sessionData.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/sessionData.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SessionData = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst SESSION_VERSION = '1.0.0';\nclass SessionData {\n    constructor(options) {\n        this.version = SESSION_VERSION;\n        this.userData = options.userData;\n        this.transitKey = options.transitKey;\n        this.etags = options.etags ? options.etags : {};\n    }\n    static fromJSON(json) {\n        if (json.version !== SESSION_VERSION) {\n            throw new common_1.InvalidStateError(`JSON data version ${json.version} not supported by SessionData`);\n        }\n        const options = {\n            coreNode: json.coreNode,\n            userData: json.userData,\n            transitKey: json.transitKey,\n            etags: json.etags,\n        };\n        return new SessionData(options);\n    }\n    toString() {\n        return JSON.stringify(this);\n    }\n}\nexports.SessionData = SessionData;\n//# sourceMappingURL=sessionData.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3Qvc2Vzc2lvbkRhdGEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CO0FBQ25CLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxjQUFjO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvYXV0aC9kaXN0L3Nlc3Npb25EYXRhLmpzP2VkZWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlc3Npb25EYXRhID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBTRVNTSU9OX1ZFUlNJT04gPSAnMS4wLjAnO1xuY2xhc3MgU2Vzc2lvbkRhdGEge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gU0VTU0lPTl9WRVJTSU9OO1xuICAgICAgICB0aGlzLnVzZXJEYXRhID0gb3B0aW9ucy51c2VyRGF0YTtcbiAgICAgICAgdGhpcy50cmFuc2l0S2V5ID0gb3B0aW9ucy50cmFuc2l0S2V5O1xuICAgICAgICB0aGlzLmV0YWdzID0gb3B0aW9ucy5ldGFncyA/IG9wdGlvbnMuZXRhZ3MgOiB7fTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKGpzb24udmVyc2lvbiAhPT0gU0VTU0lPTl9WRVJTSU9OKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29tbW9uXzEuSW52YWxpZFN0YXRlRXJyb3IoYEpTT04gZGF0YSB2ZXJzaW9uICR7anNvbi52ZXJzaW9ufSBub3Qgc3VwcG9ydGVkIGJ5IFNlc3Npb25EYXRhYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNvcmVOb2RlOiBqc29uLmNvcmVOb2RlLFxuICAgICAgICAgICAgdXNlckRhdGE6IGpzb24udXNlckRhdGEsXG4gICAgICAgICAgICB0cmFuc2l0S2V5OiBqc29uLnRyYW5zaXRLZXksXG4gICAgICAgICAgICBldGFnczoganNvbi5ldGFncyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXNzaW9uRGF0YShvcHRpb25zKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlNlc3Npb25EYXRhID0gU2Vzc2lvbkRhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uRGF0YS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/sessionData.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/sessionStore.js":
/*!********************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/sessionStore.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LocalStorageStore = exports.InstanceDataStore = exports.SessionDataStore = void 0;\nconst sessionData_1 = __webpack_require__(/*! ./sessionData */ \"(ssr)/./node_modules/@stacks/auth/dist/sessionData.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/auth/dist/constants.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nclass SessionDataStore {\n    constructor(sessionOptions) {\n        if (sessionOptions) {\n            const newSessionData = new sessionData_1.SessionData(sessionOptions);\n            this.setSessionData(newSessionData);\n        }\n    }\n    getSessionData() {\n        throw new Error('Abstract class');\n    }\n    setSessionData(_session) {\n        throw new Error('Abstract class');\n    }\n    deleteSessionData() {\n        throw new Error('Abstract class');\n    }\n}\nexports.SessionDataStore = SessionDataStore;\nclass InstanceDataStore extends SessionDataStore {\n    constructor(sessionOptions) {\n        super(sessionOptions);\n        if (!this.sessionData) {\n            this.setSessionData(new sessionData_1.SessionData({}));\n        }\n    }\n    getSessionData() {\n        if (!this.sessionData) {\n            throw new common_1.NoSessionDataError('No session data was found.');\n        }\n        return this.sessionData;\n    }\n    setSessionData(session) {\n        this.sessionData = session;\n        return true;\n    }\n    deleteSessionData() {\n        this.setSessionData(new sessionData_1.SessionData({}));\n        return true;\n    }\n}\nexports.InstanceDataStore = InstanceDataStore;\nclass LocalStorageStore extends SessionDataStore {\n    constructor(sessionOptions) {\n        super(sessionOptions);\n        if (sessionOptions &&\n            sessionOptions.storeOptions &&\n            sessionOptions.storeOptions.localStorageKey &&\n            typeof sessionOptions.storeOptions.localStorageKey === 'string') {\n            this.key = sessionOptions.storeOptions.localStorageKey;\n        }\n        else {\n            this.key = constants_1.LOCALSTORAGE_SESSION_KEY;\n        }\n        const data = localStorage.getItem(this.key);\n        if (!data) {\n            const sessionData = new sessionData_1.SessionData({});\n            this.setSessionData(sessionData);\n        }\n    }\n    getSessionData() {\n        const data = localStorage.getItem(this.key);\n        if (!data) {\n            throw new common_1.NoSessionDataError('No session data was found in localStorage');\n        }\n        const dataJSON = JSON.parse(data);\n        return sessionData_1.SessionData.fromJSON(dataJSON);\n    }\n    setSessionData(session) {\n        localStorage.setItem(this.key, session.toString());\n        return true;\n    }\n    deleteSessionData() {\n        localStorage.removeItem(this.key);\n        this.setSessionData(new sessionData_1.SessionData({}));\n        return true;\n    }\n}\nexports.LocalStorageStore = LocalStorageStore;\n//# sourceMappingURL=sessionStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3Qvc2Vzc2lvblN0b3JlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QixHQUFHLHlCQUF5QixHQUFHLHdCQUF3QjtBQUNoRixzQkFBc0IsbUJBQU8sQ0FBQyw0RUFBZTtBQUM3QyxvQkFBb0IsbUJBQU8sQ0FBQyx3RUFBYTtBQUN6QyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2F1dGgvZGlzdC9zZXNzaW9uU3RvcmUuanM/ZjI2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9jYWxTdG9yYWdlU3RvcmUgPSBleHBvcnRzLkluc3RhbmNlRGF0YVN0b3JlID0gZXhwb3J0cy5TZXNzaW9uRGF0YVN0b3JlID0gdm9pZCAwO1xuY29uc3Qgc2Vzc2lvbkRhdGFfMSA9IHJlcXVpcmUoXCIuL3Nlc3Npb25EYXRhXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNsYXNzIFNlc3Npb25EYXRhU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHNlc3Npb25PcHRpb25zKSB7XG4gICAgICAgIGlmIChzZXNzaW9uT3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbmV3U2Vzc2lvbkRhdGEgPSBuZXcgc2Vzc2lvbkRhdGFfMS5TZXNzaW9uRGF0YShzZXNzaW9uT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnNldFNlc3Npb25EYXRhKG5ld1Nlc3Npb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZXNzaW9uRGF0YSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBYnN0cmFjdCBjbGFzcycpO1xuICAgIH1cbiAgICBzZXRTZXNzaW9uRGF0YShfc2Vzc2lvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fic3RyYWN0IGNsYXNzJyk7XG4gICAgfVxuICAgIGRlbGV0ZVNlc3Npb25EYXRhKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fic3RyYWN0IGNsYXNzJyk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXNzaW9uRGF0YVN0b3JlID0gU2Vzc2lvbkRhdGFTdG9yZTtcbmNsYXNzIEluc3RhbmNlRGF0YVN0b3JlIGV4dGVuZHMgU2Vzc2lvbkRhdGFTdG9yZSB7XG4gICAgY29uc3RydWN0b3Ioc2Vzc2lvbk9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoc2Vzc2lvbk9wdGlvbnMpO1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbkRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2Vzc2lvbkRhdGEobmV3IHNlc3Npb25EYXRhXzEuU2Vzc2lvbkRhdGEoe30pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZXNzaW9uRGF0YSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25EYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29tbW9uXzEuTm9TZXNzaW9uRGF0YUVycm9yKCdObyBzZXNzaW9uIGRhdGEgd2FzIGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25EYXRhO1xuICAgIH1cbiAgICBzZXRTZXNzaW9uRGF0YShzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkRhdGEgPSBzZXNzaW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZGVsZXRlU2Vzc2lvbkRhdGEoKSB7XG4gICAgICAgIHRoaXMuc2V0U2Vzc2lvbkRhdGEobmV3IHNlc3Npb25EYXRhXzEuU2Vzc2lvbkRhdGEoe30pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5JbnN0YW5jZURhdGFTdG9yZSA9IEluc3RhbmNlRGF0YVN0b3JlO1xuY2xhc3MgTG9jYWxTdG9yYWdlU3RvcmUgZXh0ZW5kcyBTZXNzaW9uRGF0YVN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihzZXNzaW9uT3B0aW9ucykge1xuICAgICAgICBzdXBlcihzZXNzaW9uT3B0aW9ucyk7XG4gICAgICAgIGlmIChzZXNzaW9uT3B0aW9ucyAmJlxuICAgICAgICAgICAgc2Vzc2lvbk9wdGlvbnMuc3RvcmVPcHRpb25zICYmXG4gICAgICAgICAgICBzZXNzaW9uT3B0aW9ucy5zdG9yZU9wdGlvbnMubG9jYWxTdG9yYWdlS2V5ICYmXG4gICAgICAgICAgICB0eXBlb2Ygc2Vzc2lvbk9wdGlvbnMuc3RvcmVPcHRpb25zLmxvY2FsU3RvcmFnZUtleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMua2V5ID0gc2Vzc2lvbk9wdGlvbnMuc3RvcmVPcHRpb25zLmxvY2FsU3RvcmFnZUtleTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2V5ID0gY29uc3RhbnRzXzEuTE9DQUxTVE9SQUdFX1NFU1NJT05fS0VZO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSk7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBuZXcgc2Vzc2lvbkRhdGFfMS5TZXNzaW9uRGF0YSh7fSk7XG4gICAgICAgICAgICB0aGlzLnNldFNlc3Npb25EYXRhKHNlc3Npb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZXNzaW9uRGF0YSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KTtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29tbW9uXzEuTm9TZXNzaW9uRGF0YUVycm9yKCdObyBzZXNzaW9uIGRhdGEgd2FzIGZvdW5kIGluIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGFKU09OID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25EYXRhXzEuU2Vzc2lvbkRhdGEuZnJvbUpTT04oZGF0YUpTT04pO1xuICAgIH1cbiAgICBzZXRTZXNzaW9uRGF0YShzZXNzaW9uKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LCBzZXNzaW9uLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZGVsZXRlU2Vzc2lvbkRhdGEoKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMua2V5KTtcbiAgICAgICAgdGhpcy5zZXRTZXNzaW9uRGF0YShuZXcgc2Vzc2lvbkRhdGFfMS5TZXNzaW9uRGF0YSh7fSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLkxvY2FsU3RvcmFnZVN0b3JlID0gTG9jYWxTdG9yYWdlU3RvcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uU3RvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/sessionStore.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/userData.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/userData.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=userData.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvdXNlckRhdGEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvdXNlckRhdGEuanM/MzU0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZXJEYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/userData.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/userSession.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/userSession.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.UserSession = void 0;\nconst appConfig_1 = __webpack_require__(/*! ./appConfig */ \"(ssr)/./node_modules/@stacks/auth/dist/appConfig.js\");\nconst sessionStore_1 = __webpack_require__(/*! ./sessionStore */ \"(ssr)/./node_modules/@stacks/auth/dist/sessionStore.js\");\nconst jsontokens_1 = __webpack_require__(/*! jsontokens */ \"(ssr)/./node_modules/jsontokens/lib/index.js\");\nconst verification_1 = __webpack_require__(/*! ./verification */ \"(ssr)/./node_modules/@stacks/auth/dist/verification.js\");\nconst authMessages = __importStar(__webpack_require__(/*! ./messages */ \"(ssr)/./node_modules/@stacks/auth/dist/messages.js\"));\nconst encryption_1 = __webpack_require__(/*! @stacks/encryption */ \"(ssr)/./node_modules/@stacks/encryption/dist/index.js\");\nconst dids_1 = __webpack_require__(/*! ./dids */ \"(ssr)/./node_modules/@stacks/auth/dist/dids.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst profile_1 = __webpack_require__(/*! @stacks/profile */ \"(ssr)/./node_modules/@stacks/profile/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/auth/dist/constants.js\");\nconst network_1 = __webpack_require__(/*! @stacks/network */ \"(ssr)/./node_modules/@stacks/network/dist/index.js\");\nconst protocolEchoDetection_1 = __webpack_require__(/*! ./protocolEchoDetection */ \"(ssr)/./node_modules/@stacks/auth/dist/protocolEchoDetection.js\");\nclass UserSession {\n    constructor(options) {\n        let runningInBrowser = true;\n        if (typeof window === 'undefined' && typeof self === 'undefined') {\n            runningInBrowser = false;\n        }\n        if (options && options.appConfig) {\n            this.appConfig = options.appConfig;\n        }\n        else if (runningInBrowser) {\n            this.appConfig = new appConfig_1.AppConfig();\n        }\n        else {\n            throw new common_1.MissingParameterError('You need to specify options.appConfig');\n        }\n        if (options && options.sessionStore) {\n            this.store = options.sessionStore;\n        }\n        else if (runningInBrowser) {\n            if (options) {\n                this.store = new sessionStore_1.LocalStorageStore(options.sessionOptions);\n            }\n            else {\n                this.store = new sessionStore_1.LocalStorageStore();\n            }\n        }\n        else if (options) {\n            this.store = new sessionStore_1.InstanceDataStore(options.sessionOptions);\n        }\n        else {\n            this.store = new sessionStore_1.InstanceDataStore();\n        }\n    }\n    makeAuthRequestToken(transitKey, redirectURI, manifestURI, scopes, appDomain, expiresAt = (0, common_1.nextHour)().getTime(), extraParams = {}) {\n        const appConfig = this.appConfig;\n        if (!appConfig) {\n            throw new common_1.InvalidStateError('Missing AppConfig');\n        }\n        transitKey = transitKey || this.generateAndStoreTransitKey();\n        redirectURI = redirectURI || appConfig.redirectURI();\n        manifestURI = manifestURI || appConfig.manifestURI();\n        scopes = scopes || appConfig.scopes;\n        appDomain = appDomain || appConfig.appDomain;\n        return authMessages.makeAuthRequestToken(transitKey, redirectURI, manifestURI, scopes, appDomain, expiresAt, extraParams);\n    }\n    generateAndStoreTransitKey() {\n        const sessionData = this.store.getSessionData();\n        const transitKey = authMessages.generateTransitKey();\n        sessionData.transitKey = transitKey;\n        this.store.setSessionData(sessionData);\n        return transitKey;\n    }\n    getAuthResponseToken() {\n        const search = (0, common_1.getGlobalObject)('location', {\n            throwIfUnavailable: true,\n            usageDesc: 'getAuthResponseToken',\n        })?.search;\n        const params = new URLSearchParams(search);\n        return params.get('authResponse') ?? '';\n    }\n    isSignInPending() {\n        try {\n            const isProtocolEcho = (0, protocolEchoDetection_1.protocolEchoReplyDetection)();\n            if (isProtocolEcho) {\n                common_1.Logger.info('protocolEchoReply detected from isSignInPending call, the page is about to redirect.');\n                return true;\n            }\n        }\n        catch (error) {\n            common_1.Logger.error(`Error checking for protocol echo reply isSignInPending: ${error}`);\n        }\n        return !!this.getAuthResponseToken();\n    }\n    isUserSignedIn() {\n        return !!this.store.getSessionData().userData;\n    }\n    async handlePendingSignIn(authResponseToken = this.getAuthResponseToken(), fetchFn = (0, network_1.createFetchFn)()) {\n        const sessionData = this.store.getSessionData();\n        if (sessionData.userData) {\n            throw new common_1.LoginFailedError('Existing user session found.');\n        }\n        const transitKey = this.store.getSessionData().transitKey;\n        let coreNode = this.appConfig && this.appConfig.coreNode;\n        if (!coreNode) {\n            const network = new network_1.StacksMainnet();\n            coreNode = network.bnsLookupUrl;\n        }\n        const tokenPayload = (0, jsontokens_1.decodeToken)(authResponseToken).payload;\n        if (typeof tokenPayload === 'string') {\n            throw new Error('Unexpected token payload type of string');\n        }\n        const isValid = await (0, verification_1.verifyAuthResponse)(authResponseToken);\n        if (!isValid) {\n            throw new common_1.LoginFailedError('Invalid authentication response.');\n        }\n        let appPrivateKey = tokenPayload.private_key;\n        let coreSessionToken = tokenPayload.core_token;\n        if ((0, common_1.isLaterVersion)(tokenPayload.version, '1.1.0')) {\n            if (transitKey !== undefined && transitKey != null) {\n                if (tokenPayload.private_key !== undefined && tokenPayload.private_key !== null) {\n                    try {\n                        appPrivateKey = (await authMessages.decryptPrivateKey(transitKey, tokenPayload.private_key));\n                    }\n                    catch (e) {\n                        common_1.Logger.warn('Failed decryption of appPrivateKey, will try to use as given');\n                        if (!(0, encryption_1.isValidPrivateKey)(tokenPayload.private_key)) {\n                            throw new common_1.LoginFailedError('Failed decrypting appPrivateKey. Usually means' +\n                                ' that the transit key has changed during login.');\n                        }\n                    }\n                }\n                if (coreSessionToken !== undefined && coreSessionToken !== null) {\n                    try {\n                        coreSessionToken = (await authMessages.decryptPrivateKey(transitKey, coreSessionToken));\n                    }\n                    catch (e) {\n                        common_1.Logger.info('Failed decryption of coreSessionToken, will try to use as given');\n                    }\n                }\n            }\n            else {\n                throw new common_1.LoginFailedError('Authenticating with protocol > 1.1.0 requires transit' + ' key, and none found.');\n            }\n        }\n        let hubUrl = common_1.BLOCKSTACK_DEFAULT_GAIA_HUB_URL;\n        let gaiaAssociationToken;\n        if ((0, common_1.isLaterVersion)(tokenPayload.version, '1.2.0') &&\n            tokenPayload.hubUrl !== null &&\n            tokenPayload.hubUrl !== undefined) {\n            hubUrl = tokenPayload.hubUrl;\n        }\n        if ((0, common_1.isLaterVersion)(tokenPayload.version, '1.3.0') &&\n            tokenPayload.associationToken !== null &&\n            tokenPayload.associationToken !== undefined) {\n            gaiaAssociationToken = tokenPayload.associationToken;\n        }\n        const userData = {\n            profile: tokenPayload.profile,\n            email: tokenPayload.email,\n            decentralizedID: tokenPayload.iss,\n            identityAddress: (0, dids_1.getAddressFromDID)(tokenPayload.iss),\n            appPrivateKey,\n            coreSessionToken,\n            authResponseToken,\n            hubUrl,\n            appPrivateKeyFromWalletSalt: tokenPayload.appPrivateKeyFromWalletSalt,\n            coreNode: tokenPayload.blockstackAPIUrl,\n            gaiaAssociationToken,\n        };\n        const profileURL = tokenPayload.profile_url;\n        if (!userData.profile && profileURL) {\n            const response = await fetchFn(profileURL);\n            if (!response.ok) {\n                userData.profile = Object.assign({}, constants_1.DEFAULT_PROFILE);\n            }\n            else {\n                const responseText = await response.text();\n                const wrappedProfile = JSON.parse(responseText);\n                userData.profile = (0, profile_1.extractProfile)(wrappedProfile[0].token);\n            }\n        }\n        else {\n            userData.profile = tokenPayload.profile;\n        }\n        sessionData.userData = userData;\n        this.store.setSessionData(sessionData);\n        return userData;\n    }\n    loadUserData() {\n        const userData = this.store.getSessionData().userData;\n        if (!userData) {\n            throw new common_1.InvalidStateError('No user data found. Did the user sign in?');\n        }\n        return userData;\n    }\n    encryptContent(content, options) {\n        const opts = Object.assign({}, options);\n        if (!opts.privateKey) {\n            opts.privateKey = this.loadUserData().appPrivateKey;\n        }\n        return (0, encryption_1.encryptContent)(content, opts);\n    }\n    decryptContent(content, options) {\n        const opts = Object.assign({}, options);\n        if (!opts.privateKey) {\n            opts.privateKey = this.loadUserData().appPrivateKey;\n        }\n        return (0, encryption_1.decryptContent)(content, opts);\n    }\n    signUserOut(redirectURL) {\n        this.store.deleteSessionData();\n        if (redirectURL) {\n            if (typeof location !== 'undefined' && location.href) {\n                location.href = redirectURL;\n            }\n        }\n    }\n}\nexports.UserSession = UserSession;\nUserSession.prototype.makeAuthRequest = UserSession.prototype.makeAuthRequestToken;\n//# sourceMappingURL=userSession.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvdXNlclNlc3Npb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixvQkFBb0IsbUJBQU8sQ0FBQyx3RUFBYTtBQUN6Qyx1QkFBdUIsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDL0MscUJBQXFCLG1CQUFPLENBQUMsZ0VBQVk7QUFDekMsdUJBQXVCLG1CQUFPLENBQUMsOEVBQWdCO0FBQy9DLGtDQUFrQyxtQkFBTyxDQUFDLHNFQUFZO0FBQ3RELHFCQUFxQixtQkFBTyxDQUFDLGlGQUFvQjtBQUNqRCxlQUFlLG1CQUFPLENBQUMsOERBQVE7QUFDL0IsaUJBQWlCLG1CQUFPLENBQUMseUVBQWdCO0FBQ3pDLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFpQjtBQUMzQyxvQkFBb0IsbUJBQU8sQ0FBQyx3RUFBYTtBQUN6QyxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBaUI7QUFDM0MsZ0NBQWdDLG1CQUFPLENBQUMsZ0dBQXlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtKQUFrSjtBQUNsSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsTUFBTTtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvdXNlclNlc3Npb24uanM/ZGQxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Vc2VyU2Vzc2lvbiA9IHZvaWQgMDtcbmNvbnN0IGFwcENvbmZpZ18xID0gcmVxdWlyZShcIi4vYXBwQ29uZmlnXCIpO1xuY29uc3Qgc2Vzc2lvblN0b3JlXzEgPSByZXF1aXJlKFwiLi9zZXNzaW9uU3RvcmVcIik7XG5jb25zdCBqc29udG9rZW5zXzEgPSByZXF1aXJlKFwianNvbnRva2Vuc1wiKTtcbmNvbnN0IHZlcmlmaWNhdGlvbl8xID0gcmVxdWlyZShcIi4vdmVyaWZpY2F0aW9uXCIpO1xuY29uc3QgYXV0aE1lc3NhZ2VzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL21lc3NhZ2VzXCIpKTtcbmNvbnN0IGVuY3J5cHRpb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2VuY3J5cHRpb25cIik7XG5jb25zdCBkaWRzXzEgPSByZXF1aXJlKFwiLi9kaWRzXCIpO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBwcm9maWxlXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9wcm9maWxlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBuZXR3b3JrXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9uZXR3b3JrXCIpO1xuY29uc3QgcHJvdG9jb2xFY2hvRGV0ZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9wcm90b2NvbEVjaG9EZXRlY3Rpb25cIik7XG5jbGFzcyBVc2VyU2Vzc2lvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBsZXQgcnVubmluZ0luQnJvd3NlciA9IHRydWU7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJ1bm5pbmdJbkJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFwcENvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5hcHBDb25maWcgPSBvcHRpb25zLmFwcENvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChydW5uaW5nSW5Ccm93c2VyKSB7XG4gICAgICAgICAgICB0aGlzLmFwcENvbmZpZyA9IG5ldyBhcHBDb25maWdfMS5BcHBDb25maWcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb21tb25fMS5NaXNzaW5nUGFyYW1ldGVyRXJyb3IoJ1lvdSBuZWVkIHRvIHNwZWNpZnkgb3B0aW9ucy5hcHBDb25maWcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnNlc3Npb25TdG9yZSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG9wdGlvbnMuc2Vzc2lvblN0b3JlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJ1bm5pbmdJbkJyb3dzZXIpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBzZXNzaW9uU3RvcmVfMS5Mb2NhbFN0b3JhZ2VTdG9yZShvcHRpb25zLnNlc3Npb25PcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgc2Vzc2lvblN0b3JlXzEuTG9jYWxTdG9yYWdlU3RvcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlID0gbmV3IHNlc3Npb25TdG9yZV8xLkluc3RhbmNlRGF0YVN0b3JlKG9wdGlvbnMuc2Vzc2lvbk9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBzZXNzaW9uU3RvcmVfMS5JbnN0YW5jZURhdGFTdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1ha2VBdXRoUmVxdWVzdFRva2VuKHRyYW5zaXRLZXksIHJlZGlyZWN0VVJJLCBtYW5pZmVzdFVSSSwgc2NvcGVzLCBhcHBEb21haW4sIGV4cGlyZXNBdCA9ICgwLCBjb21tb25fMS5uZXh0SG91cikoKS5nZXRUaW1lKCksIGV4dHJhUGFyYW1zID0ge30pIHtcbiAgICAgICAgY29uc3QgYXBwQ29uZmlnID0gdGhpcy5hcHBDb25maWc7XG4gICAgICAgIGlmICghYXBwQ29uZmlnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29tbW9uXzEuSW52YWxpZFN0YXRlRXJyb3IoJ01pc3NpbmcgQXBwQ29uZmlnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNpdEtleSA9IHRyYW5zaXRLZXkgfHwgdGhpcy5nZW5lcmF0ZUFuZFN0b3JlVHJhbnNpdEtleSgpO1xuICAgICAgICByZWRpcmVjdFVSSSA9IHJlZGlyZWN0VVJJIHx8IGFwcENvbmZpZy5yZWRpcmVjdFVSSSgpO1xuICAgICAgICBtYW5pZmVzdFVSSSA9IG1hbmlmZXN0VVJJIHx8IGFwcENvbmZpZy5tYW5pZmVzdFVSSSgpO1xuICAgICAgICBzY29wZXMgPSBzY29wZXMgfHwgYXBwQ29uZmlnLnNjb3BlcztcbiAgICAgICAgYXBwRG9tYWluID0gYXBwRG9tYWluIHx8IGFwcENvbmZpZy5hcHBEb21haW47XG4gICAgICAgIHJldHVybiBhdXRoTWVzc2FnZXMubWFrZUF1dGhSZXF1ZXN0VG9rZW4odHJhbnNpdEtleSwgcmVkaXJlY3RVUkksIG1hbmlmZXN0VVJJLCBzY29wZXMsIGFwcERvbWFpbiwgZXhwaXJlc0F0LCBleHRyYVBhcmFtcyk7XG4gICAgfVxuICAgIGdlbmVyYXRlQW5kU3RvcmVUcmFuc2l0S2V5KCkge1xuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHRoaXMuc3RvcmUuZ2V0U2Vzc2lvbkRhdGEoKTtcbiAgICAgICAgY29uc3QgdHJhbnNpdEtleSA9IGF1dGhNZXNzYWdlcy5nZW5lcmF0ZVRyYW5zaXRLZXkoKTtcbiAgICAgICAgc2Vzc2lvbkRhdGEudHJhbnNpdEtleSA9IHRyYW5zaXRLZXk7XG4gICAgICAgIHRoaXMuc3RvcmUuc2V0U2Vzc2lvbkRhdGEoc2Vzc2lvbkRhdGEpO1xuICAgICAgICByZXR1cm4gdHJhbnNpdEtleTtcbiAgICB9XG4gICAgZ2V0QXV0aFJlc3BvbnNlVG9rZW4oKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaCA9ICgwLCBjb21tb25fMS5nZXRHbG9iYWxPYmplY3QpKCdsb2NhdGlvbicsIHtcbiAgICAgICAgICAgIHRocm93SWZVbmF2YWlsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHVzYWdlRGVzYzogJ2dldEF1dGhSZXNwb25zZVRva2VuJyxcbiAgICAgICAgfSk/LnNlYXJjaDtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpO1xuICAgICAgICByZXR1cm4gcGFyYW1zLmdldCgnYXV0aFJlc3BvbnNlJykgPz8gJyc7XG4gICAgfVxuICAgIGlzU2lnbkluUGVuZGluZygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGlzUHJvdG9jb2xFY2hvID0gKDAsIHByb3RvY29sRWNob0RldGVjdGlvbl8xLnByb3RvY29sRWNob1JlcGx5RGV0ZWN0aW9uKSgpO1xuICAgICAgICAgICAgaWYgKGlzUHJvdG9jb2xFY2hvKSB7XG4gICAgICAgICAgICAgICAgY29tbW9uXzEuTG9nZ2VyLmluZm8oJ3Byb3RvY29sRWNob1JlcGx5IGRldGVjdGVkIGZyb20gaXNTaWduSW5QZW5kaW5nIGNhbGwsIHRoZSBwYWdlIGlzIGFib3V0IHRvIHJlZGlyZWN0LicpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29tbW9uXzEuTG9nZ2VyLmVycm9yKGBFcnJvciBjaGVja2luZyBmb3IgcHJvdG9jb2wgZWNobyByZXBseSBpc1NpZ25JblBlbmRpbmc6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRBdXRoUmVzcG9uc2VUb2tlbigpO1xuICAgIH1cbiAgICBpc1VzZXJTaWduZWRJbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdG9yZS5nZXRTZXNzaW9uRGF0YSgpLnVzZXJEYXRhO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVQZW5kaW5nU2lnbkluKGF1dGhSZXNwb25zZVRva2VuID0gdGhpcy5nZXRBdXRoUmVzcG9uc2VUb2tlbigpLCBmZXRjaEZuID0gKDAsIG5ldHdvcmtfMS5jcmVhdGVGZXRjaEZuKSgpKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gdGhpcy5zdG9yZS5nZXRTZXNzaW9uRGF0YSgpO1xuICAgICAgICBpZiAoc2Vzc2lvbkRhdGEudXNlckRhdGEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb21tb25fMS5Mb2dpbkZhaWxlZEVycm9yKCdFeGlzdGluZyB1c2VyIHNlc3Npb24gZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNpdEtleSA9IHRoaXMuc3RvcmUuZ2V0U2Vzc2lvbkRhdGEoKS50cmFuc2l0S2V5O1xuICAgICAgICBsZXQgY29yZU5vZGUgPSB0aGlzLmFwcENvbmZpZyAmJiB0aGlzLmFwcENvbmZpZy5jb3JlTm9kZTtcbiAgICAgICAgaWYgKCFjb3JlTm9kZSkge1xuICAgICAgICAgICAgY29uc3QgbmV0d29yayA9IG5ldyBuZXR3b3JrXzEuU3RhY2tzTWFpbm5ldCgpO1xuICAgICAgICAgICAgY29yZU5vZGUgPSBuZXR3b3JrLmJuc0xvb2t1cFVybDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlblBheWxvYWQgPSAoMCwganNvbnRva2Vuc18xLmRlY29kZVRva2VuKShhdXRoUmVzcG9uc2VUb2tlbikucGF5bG9hZDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlblBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdG9rZW4gcGF5bG9hZCB0eXBlIG9mIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCAoMCwgdmVyaWZpY2F0aW9uXzEudmVyaWZ5QXV0aFJlc3BvbnNlKShhdXRoUmVzcG9uc2VUb2tlbik7XG4gICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvbW1vbl8xLkxvZ2luRmFpbGVkRXJyb3IoJ0ludmFsaWQgYXV0aGVudGljYXRpb24gcmVzcG9uc2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFwcFByaXZhdGVLZXkgPSB0b2tlblBheWxvYWQucHJpdmF0ZV9rZXk7XG4gICAgICAgIGxldCBjb3JlU2Vzc2lvblRva2VuID0gdG9rZW5QYXlsb2FkLmNvcmVfdG9rZW47XG4gICAgICAgIGlmICgoMCwgY29tbW9uXzEuaXNMYXRlclZlcnNpb24pKHRva2VuUGF5bG9hZC52ZXJzaW9uLCAnMS4xLjAnKSkge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRLZXkgIT09IHVuZGVmaW5lZCAmJiB0cmFuc2l0S2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5QYXlsb2FkLnByaXZhdGVfa2V5ICE9PSB1bmRlZmluZWQgJiYgdG9rZW5QYXlsb2FkLnByaXZhdGVfa2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBQcml2YXRlS2V5ID0gKGF3YWl0IGF1dGhNZXNzYWdlcy5kZWNyeXB0UHJpdmF0ZUtleSh0cmFuc2l0S2V5LCB0b2tlblBheWxvYWQucHJpdmF0ZV9rZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uXzEuTG9nZ2VyLndhcm4oJ0ZhaWxlZCBkZWNyeXB0aW9uIG9mIGFwcFByaXZhdGVLZXksIHdpbGwgdHJ5IHRvIHVzZSBhcyBnaXZlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoMCwgZW5jcnlwdGlvbl8xLmlzVmFsaWRQcml2YXRlS2V5KSh0b2tlblBheWxvYWQucHJpdmF0ZV9rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGNvbW1vbl8xLkxvZ2luRmFpbGVkRXJyb3IoJ0ZhaWxlZCBkZWNyeXB0aW5nIGFwcFByaXZhdGVLZXkuIFVzdWFsbHkgbWVhbnMnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyB0aGF0IHRoZSB0cmFuc2l0IGtleSBoYXMgY2hhbmdlZCBkdXJpbmcgbG9naW4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvcmVTZXNzaW9uVG9rZW4gIT09IHVuZGVmaW5lZCAmJiBjb3JlU2Vzc2lvblRva2VuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JlU2Vzc2lvblRva2VuID0gKGF3YWl0IGF1dGhNZXNzYWdlcy5kZWNyeXB0UHJpdmF0ZUtleSh0cmFuc2l0S2V5LCBjb3JlU2Vzc2lvblRva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbl8xLkxvZ2dlci5pbmZvKCdGYWlsZWQgZGVjcnlwdGlvbiBvZiBjb3JlU2Vzc2lvblRva2VuLCB3aWxsIHRyeSB0byB1c2UgYXMgZ2l2ZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBjb21tb25fMS5Mb2dpbkZhaWxlZEVycm9yKCdBdXRoZW50aWNhdGluZyB3aXRoIHByb3RvY29sID4gMS4xLjAgcmVxdWlyZXMgdHJhbnNpdCcgKyAnIGtleSwgYW5kIG5vbmUgZm91bmQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGh1YlVybCA9IGNvbW1vbl8xLkJMT0NLU1RBQ0tfREVGQVVMVF9HQUlBX0hVQl9VUkw7XG4gICAgICAgIGxldCBnYWlhQXNzb2NpYXRpb25Ub2tlbjtcbiAgICAgICAgaWYgKCgwLCBjb21tb25fMS5pc0xhdGVyVmVyc2lvbikodG9rZW5QYXlsb2FkLnZlcnNpb24sICcxLjIuMCcpICYmXG4gICAgICAgICAgICB0b2tlblBheWxvYWQuaHViVXJsICE9PSBudWxsICYmXG4gICAgICAgICAgICB0b2tlblBheWxvYWQuaHViVXJsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGh1YlVybCA9IHRva2VuUGF5bG9hZC5odWJVcmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBjb21tb25fMS5pc0xhdGVyVmVyc2lvbikodG9rZW5QYXlsb2FkLnZlcnNpb24sICcxLjMuMCcpICYmXG4gICAgICAgICAgICB0b2tlblBheWxvYWQuYXNzb2NpYXRpb25Ub2tlbiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdG9rZW5QYXlsb2FkLmFzc29jaWF0aW9uVG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZ2FpYUFzc29jaWF0aW9uVG9rZW4gPSB0b2tlblBheWxvYWQuYXNzb2NpYXRpb25Ub2tlbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgICAgIHByb2ZpbGU6IHRva2VuUGF5bG9hZC5wcm9maWxlLFxuICAgICAgICAgICAgZW1haWw6IHRva2VuUGF5bG9hZC5lbWFpbCxcbiAgICAgICAgICAgIGRlY2VudHJhbGl6ZWRJRDogdG9rZW5QYXlsb2FkLmlzcyxcbiAgICAgICAgICAgIGlkZW50aXR5QWRkcmVzczogKDAsIGRpZHNfMS5nZXRBZGRyZXNzRnJvbURJRCkodG9rZW5QYXlsb2FkLmlzcyksXG4gICAgICAgICAgICBhcHBQcml2YXRlS2V5LFxuICAgICAgICAgICAgY29yZVNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIGF1dGhSZXNwb25zZVRva2VuLFxuICAgICAgICAgICAgaHViVXJsLFxuICAgICAgICAgICAgYXBwUHJpdmF0ZUtleUZyb21XYWxsZXRTYWx0OiB0b2tlblBheWxvYWQuYXBwUHJpdmF0ZUtleUZyb21XYWxsZXRTYWx0LFxuICAgICAgICAgICAgY29yZU5vZGU6IHRva2VuUGF5bG9hZC5ibG9ja3N0YWNrQVBJVXJsLFxuICAgICAgICAgICAgZ2FpYUFzc29jaWF0aW9uVG9rZW4sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb2ZpbGVVUkwgPSB0b2tlblBheWxvYWQucHJvZmlsZV91cmw7XG4gICAgICAgIGlmICghdXNlckRhdGEucHJvZmlsZSAmJiBwcm9maWxlVVJMKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRm4ocHJvZmlsZVVSTCk7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdXNlckRhdGEucHJvZmlsZSA9IE9iamVjdC5hc3NpZ24oe30sIGNvbnN0YW50c18xLkRFRkFVTFRfUFJPRklMRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZFByb2ZpbGUgPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgdXNlckRhdGEucHJvZmlsZSA9ICgwLCBwcm9maWxlXzEuZXh0cmFjdFByb2ZpbGUpKHdyYXBwZWRQcm9maWxlWzBdLnRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJEYXRhLnByb2ZpbGUgPSB0b2tlblBheWxvYWQucHJvZmlsZTtcbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uRGF0YS51c2VyRGF0YSA9IHVzZXJEYXRhO1xuICAgICAgICB0aGlzLnN0b3JlLnNldFNlc3Npb25EYXRhKHNlc3Npb25EYXRhKTtcbiAgICAgICAgcmV0dXJuIHVzZXJEYXRhO1xuICAgIH1cbiAgICBsb2FkVXNlckRhdGEoKSB7XG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy5zdG9yZS5nZXRTZXNzaW9uRGF0YSgpLnVzZXJEYXRhO1xuICAgICAgICBpZiAoIXVzZXJEYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29tbW9uXzEuSW52YWxpZFN0YXRlRXJyb3IoJ05vIHVzZXIgZGF0YSBmb3VuZC4gRGlkIHRoZSB1c2VyIHNpZ24gaW4/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVzZXJEYXRhO1xuICAgIH1cbiAgICBlbmNyeXB0Q29udGVudChjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRzLnByaXZhdGVLZXkpIHtcbiAgICAgICAgICAgIG9wdHMucHJpdmF0ZUtleSA9IHRoaXMubG9hZFVzZXJEYXRhKCkuYXBwUHJpdmF0ZUtleTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIGVuY3J5cHRpb25fMS5lbmNyeXB0Q29udGVudCkoY29udGVudCwgb3B0cyk7XG4gICAgfVxuICAgIGRlY3J5cHRDb250ZW50KGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIW9wdHMucHJpdmF0ZUtleSkge1xuICAgICAgICAgICAgb3B0cy5wcml2YXRlS2V5ID0gdGhpcy5sb2FkVXNlckRhdGEoKS5hcHBQcml2YXRlS2V5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgZW5jcnlwdGlvbl8xLmRlY3J5cHRDb250ZW50KShjb250ZW50LCBvcHRzKTtcbiAgICB9XG4gICAgc2lnblVzZXJPdXQocmVkaXJlY3RVUkwpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5kZWxldGVTZXNzaW9uRGF0YSgpO1xuICAgICAgICBpZiAocmVkaXJlY3RVUkwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnICYmIGxvY2F0aW9uLmhyZWYpIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gcmVkaXJlY3RVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlVzZXJTZXNzaW9uID0gVXNlclNlc3Npb247XG5Vc2VyU2Vzc2lvbi5wcm90b3R5cGUubWFrZUF1dGhSZXF1ZXN0ID0gVXNlclNlc3Npb24ucHJvdG90eXBlLm1ha2VBdXRoUmVxdWVzdFRva2VuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlclNlc3Npb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/userSession.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/auth/dist/verification.js":
/*!********************************************************!*\
  !*** ./node_modules/@stacks/auth/dist/verification.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifyAuthResponse = exports.verifyAuthRequestAndLoadManifest = exports.verifyAuthRequest = exports.isRedirectUriValid = exports.isManifestUriValid = exports.isExpirationDateValid = exports.isIssuanceDateValid = exports.doPublicKeysMatchIssuer = exports.doSignaturesMatchPublicKeys = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst encryption_1 = __webpack_require__(/*! @stacks/encryption */ \"(ssr)/./node_modules/@stacks/encryption/dist/index.js\");\nconst jsontokens_1 = __webpack_require__(/*! jsontokens */ \"(ssr)/./node_modules/jsontokens/lib/index.js\");\nconst dids_1 = __webpack_require__(/*! ./dids */ \"(ssr)/./node_modules/@stacks/auth/dist/dids.js\");\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@stacks/auth/dist/provider.js\");\nfunction doSignaturesMatchPublicKeys(token) {\n    const payload = (0, jsontokens_1.decodeToken)(token).payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    const publicKeys = payload.public_keys;\n    if (publicKeys.length === 1) {\n        const publicKey = publicKeys[0];\n        try {\n            const tokenVerifier = new jsontokens_1.TokenVerifier('ES256k', publicKey);\n            return tokenVerifier.verify(token);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    else {\n        throw new Error('Multiple public keys are not supported');\n    }\n}\nexports.doSignaturesMatchPublicKeys = doSignaturesMatchPublicKeys;\nfunction doPublicKeysMatchIssuer(token) {\n    const payload = (0, jsontokens_1.decodeToken)(token).payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    const publicKeys = payload.public_keys;\n    const addressFromIssuer = (0, dids_1.getAddressFromDID)(payload.iss);\n    if (publicKeys.length === 1) {\n        const addressFromPublicKeys = (0, encryption_1.publicKeyToBtcAddress)(publicKeys[0]);\n        if (addressFromPublicKeys === addressFromIssuer) {\n            return true;\n        }\n    }\n    else {\n        throw new Error('Multiple public keys are not supported');\n    }\n    return false;\n}\nexports.doPublicKeysMatchIssuer = doPublicKeysMatchIssuer;\nfunction isIssuanceDateValid(token) {\n    const payload = (0, jsontokens_1.decodeToken)(token).payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    if (payload.iat) {\n        if (typeof payload.iat !== 'number') {\n            return false;\n        }\n        const issuedAt = new Date(payload.iat * 1000);\n        if (new Date().getTime() < issuedAt.getTime()) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        return true;\n    }\n}\nexports.isIssuanceDateValid = isIssuanceDateValid;\nfunction isExpirationDateValid(token) {\n    const payload = (0, jsontokens_1.decodeToken)(token).payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    if (payload.exp) {\n        if (typeof payload.exp !== 'number') {\n            return false;\n        }\n        const expiresAt = new Date(payload.exp * 1000);\n        if (new Date().getTime() > expiresAt.getTime()) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        return true;\n    }\n}\nexports.isExpirationDateValid = isExpirationDateValid;\nfunction isManifestUriValid(token) {\n    const payload = (0, jsontokens_1.decodeToken)(token).payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    return (0, common_1.isSameOriginAbsoluteUrl)(payload.domain_name, payload.manifest_uri);\n}\nexports.isManifestUriValid = isManifestUriValid;\nfunction isRedirectUriValid(token) {\n    const payload = (0, jsontokens_1.decodeToken)(token).payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    return (0, common_1.isSameOriginAbsoluteUrl)(payload.domain_name, payload.redirect_uri);\n}\nexports.isRedirectUriValid = isRedirectUriValid;\nasync function verifyAuthRequest(token) {\n    if ((0, jsontokens_1.decodeToken)(token).header.alg === 'none') {\n        throw new Error('Token must be signed in order to be verified');\n    }\n    const values = await Promise.all([\n        isExpirationDateValid(token),\n        isIssuanceDateValid(token),\n        doSignaturesMatchPublicKeys(token),\n        doPublicKeysMatchIssuer(token),\n        isManifestUriValid(token),\n        isRedirectUriValid(token),\n    ]);\n    return values.every(val => val);\n}\nexports.verifyAuthRequest = verifyAuthRequest;\nasync function verifyAuthRequestAndLoadManifest(token) {\n    const valid = await verifyAuthRequest(token);\n    if (!valid) {\n        throw new Error('Token is an invalid auth request');\n    }\n    return (0, provider_1.fetchAppManifest)(token);\n}\nexports.verifyAuthRequestAndLoadManifest = verifyAuthRequestAndLoadManifest;\nasync function verifyAuthResponse(token) {\n    const conditions = await Promise.all([\n        isExpirationDateValid(token),\n        isIssuanceDateValid(token),\n        doSignaturesMatchPublicKeys(token),\n        doPublicKeysMatchIssuer(token),\n    ]);\n    return conditions.every(val => val);\n}\nexports.verifyAuthResponse = verifyAuthResponse;\n//# sourceMappingURL=verification.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9hdXRoL2Rpc3QvdmVyaWZpY2F0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLHdDQUF3QyxHQUFHLHlCQUF5QixHQUFHLDBCQUEwQixHQUFHLDBCQUEwQixHQUFHLDZCQUE2QixHQUFHLDJCQUEyQixHQUFHLCtCQUErQixHQUFHLG1DQUFtQztBQUNqUyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMscUJBQXFCLG1CQUFPLENBQUMsaUZBQW9CO0FBQ2pELHFCQUFxQixtQkFBTyxDQUFDLGdFQUFZO0FBQ3pDLGVBQWUsbUJBQU8sQ0FBQyw4REFBUTtBQUMvQixtQkFBbUIsbUJBQU8sQ0FBQyxzRUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvYXV0aC9kaXN0L3ZlcmlmaWNhdGlvbi5qcz83YjBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52ZXJpZnlBdXRoUmVzcG9uc2UgPSBleHBvcnRzLnZlcmlmeUF1dGhSZXF1ZXN0QW5kTG9hZE1hbmlmZXN0ID0gZXhwb3J0cy52ZXJpZnlBdXRoUmVxdWVzdCA9IGV4cG9ydHMuaXNSZWRpcmVjdFVyaVZhbGlkID0gZXhwb3J0cy5pc01hbmlmZXN0VXJpVmFsaWQgPSBleHBvcnRzLmlzRXhwaXJhdGlvbkRhdGVWYWxpZCA9IGV4cG9ydHMuaXNJc3N1YW5jZURhdGVWYWxpZCA9IGV4cG9ydHMuZG9QdWJsaWNLZXlzTWF0Y2hJc3N1ZXIgPSBleHBvcnRzLmRvU2lnbmF0dXJlc01hdGNoUHVibGljS2V5cyA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgZW5jcnlwdGlvbl8xID0gcmVxdWlyZShcIkBzdGFja3MvZW5jcnlwdGlvblwiKTtcbmNvbnN0IGpzb250b2tlbnNfMSA9IHJlcXVpcmUoXCJqc29udG9rZW5zXCIpO1xuY29uc3QgZGlkc18xID0gcmVxdWlyZShcIi4vZGlkc1wiKTtcbmNvbnN0IHByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlclwiKTtcbmZ1bmN0aW9uIGRvU2lnbmF0dXJlc01hdGNoUHVibGljS2V5cyh0b2tlbikge1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwganNvbnRva2Vuc18xLmRlY29kZVRva2VuKSh0b2tlbikucGF5bG9hZDtcbiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB0b2tlbiBwYXlsb2FkIHR5cGUgb2Ygc3RyaW5nJyk7XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0tleXMgPSBwYXlsb2FkLnB1YmxpY19rZXlzO1xuICAgIGlmIChwdWJsaWNLZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSBwdWJsaWNLZXlzWzBdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5WZXJpZmllciA9IG5ldyBqc29udG9rZW5zXzEuVG9rZW5WZXJpZmllcignRVMyNTZrJywgcHVibGljS2V5KTtcbiAgICAgICAgICAgIHJldHVybiB0b2tlblZlcmlmaWVyLnZlcmlmeSh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZSBwdWJsaWMga2V5cyBhcmUgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cbn1cbmV4cG9ydHMuZG9TaWduYXR1cmVzTWF0Y2hQdWJsaWNLZXlzID0gZG9TaWduYXR1cmVzTWF0Y2hQdWJsaWNLZXlzO1xuZnVuY3Rpb24gZG9QdWJsaWNLZXlzTWF0Y2hJc3N1ZXIodG9rZW4pIHtcbiAgICBjb25zdCBwYXlsb2FkID0gKDAsIGpzb250b2tlbnNfMS5kZWNvZGVUb2tlbikodG9rZW4pLnBheWxvYWQ7XG4gICAgaWYgKHR5cGVvZiBwYXlsb2FkID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdG9rZW4gcGF5bG9hZCB0eXBlIG9mIHN0cmluZycpO1xuICAgIH1cbiAgICBjb25zdCBwdWJsaWNLZXlzID0gcGF5bG9hZC5wdWJsaWNfa2V5cztcbiAgICBjb25zdCBhZGRyZXNzRnJvbUlzc3VlciA9ICgwLCBkaWRzXzEuZ2V0QWRkcmVzc0Zyb21ESUQpKHBheWxvYWQuaXNzKTtcbiAgICBpZiAocHVibGljS2V5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgYWRkcmVzc0Zyb21QdWJsaWNLZXlzID0gKDAsIGVuY3J5cHRpb25fMS5wdWJsaWNLZXlUb0J0Y0FkZHJlc3MpKHB1YmxpY0tleXNbMF0pO1xuICAgICAgICBpZiAoYWRkcmVzc0Zyb21QdWJsaWNLZXlzID09PSBhZGRyZXNzRnJvbUlzc3Vlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgcHVibGljIGtleXMgYXJlIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5kb1B1YmxpY0tleXNNYXRjaElzc3VlciA9IGRvUHVibGljS2V5c01hdGNoSXNzdWVyO1xuZnVuY3Rpb24gaXNJc3N1YW5jZURhdGVWYWxpZCh0b2tlbikge1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwganNvbnRva2Vuc18xLmRlY29kZVRva2VuKSh0b2tlbikucGF5bG9hZDtcbiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB0b2tlbiBwYXlsb2FkIHR5cGUgb2Ygc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLmlhdCkge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQuaWF0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzc3VlZEF0ID0gbmV3IERhdGUocGF5bG9hZC5pYXQgKiAxMDAwKTtcbiAgICAgICAgaWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIDwgaXNzdWVkQXQuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5pc0lzc3VhbmNlRGF0ZVZhbGlkID0gaXNJc3N1YW5jZURhdGVWYWxpZDtcbmZ1bmN0aW9uIGlzRXhwaXJhdGlvbkRhdGVWYWxpZCh0b2tlbikge1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwganNvbnRva2Vuc18xLmRlY29kZVRva2VuKSh0b2tlbikucGF5bG9hZDtcbiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB0b2tlbiBwYXlsb2FkIHR5cGUgb2Ygc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLmV4cCkge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQuZXhwICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKHBheWxvYWQuZXhwICogMTAwMCk7XG4gICAgICAgIGlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSA+IGV4cGlyZXNBdC5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLmlzRXhwaXJhdGlvbkRhdGVWYWxpZCA9IGlzRXhwaXJhdGlvbkRhdGVWYWxpZDtcbmZ1bmN0aW9uIGlzTWFuaWZlc3RVcmlWYWxpZCh0b2tlbikge1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwganNvbnRva2Vuc18xLmRlY29kZVRva2VuKSh0b2tlbikucGF5bG9hZDtcbiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB0b2tlbiBwYXlsb2FkIHR5cGUgb2Ygc3RyaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiAoMCwgY29tbW9uXzEuaXNTYW1lT3JpZ2luQWJzb2x1dGVVcmwpKHBheWxvYWQuZG9tYWluX25hbWUsIHBheWxvYWQubWFuaWZlc3RfdXJpKTtcbn1cbmV4cG9ydHMuaXNNYW5pZmVzdFVyaVZhbGlkID0gaXNNYW5pZmVzdFVyaVZhbGlkO1xuZnVuY3Rpb24gaXNSZWRpcmVjdFVyaVZhbGlkKHRva2VuKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9ICgwLCBqc29udG9rZW5zXzEuZGVjb2RlVG9rZW4pKHRva2VuKS5wYXlsb2FkO1xuICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHRva2VuIHBheWxvYWQgdHlwZSBvZiBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5pc1NhbWVPcmlnaW5BYnNvbHV0ZVVybCkocGF5bG9hZC5kb21haW5fbmFtZSwgcGF5bG9hZC5yZWRpcmVjdF91cmkpO1xufVxuZXhwb3J0cy5pc1JlZGlyZWN0VXJpVmFsaWQgPSBpc1JlZGlyZWN0VXJpVmFsaWQ7XG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlBdXRoUmVxdWVzdCh0b2tlbikge1xuICAgIGlmICgoMCwganNvbnRva2Vuc18xLmRlY29kZVRva2VuKSh0b2tlbikuaGVhZGVyLmFsZyA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gbXVzdCBiZSBzaWduZWQgaW4gb3JkZXIgdG8gYmUgdmVyaWZpZWQnKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBpc0V4cGlyYXRpb25EYXRlVmFsaWQodG9rZW4pLFxuICAgICAgICBpc0lzc3VhbmNlRGF0ZVZhbGlkKHRva2VuKSxcbiAgICAgICAgZG9TaWduYXR1cmVzTWF0Y2hQdWJsaWNLZXlzKHRva2VuKSxcbiAgICAgICAgZG9QdWJsaWNLZXlzTWF0Y2hJc3N1ZXIodG9rZW4pLFxuICAgICAgICBpc01hbmlmZXN0VXJpVmFsaWQodG9rZW4pLFxuICAgICAgICBpc1JlZGlyZWN0VXJpVmFsaWQodG9rZW4pLFxuICAgIF0pO1xuICAgIHJldHVybiB2YWx1ZXMuZXZlcnkodmFsID0+IHZhbCk7XG59XG5leHBvcnRzLnZlcmlmeUF1dGhSZXF1ZXN0ID0gdmVyaWZ5QXV0aFJlcXVlc3Q7XG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlBdXRoUmVxdWVzdEFuZExvYWRNYW5pZmVzdCh0b2tlbikge1xuICAgIGNvbnN0IHZhbGlkID0gYXdhaXQgdmVyaWZ5QXV0aFJlcXVlc3QodG9rZW4pO1xuICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBpcyBhbiBpbnZhbGlkIGF1dGggcmVxdWVzdCcpO1xuICAgIH1cbiAgICByZXR1cm4gKDAsIHByb3ZpZGVyXzEuZmV0Y2hBcHBNYW5pZmVzdCkodG9rZW4pO1xufVxuZXhwb3J0cy52ZXJpZnlBdXRoUmVxdWVzdEFuZExvYWRNYW5pZmVzdCA9IHZlcmlmeUF1dGhSZXF1ZXN0QW5kTG9hZE1hbmlmZXN0O1xuYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QXV0aFJlc3BvbnNlKHRva2VuKSB7XG4gICAgY29uc3QgY29uZGl0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgaXNFeHBpcmF0aW9uRGF0ZVZhbGlkKHRva2VuKSxcbiAgICAgICAgaXNJc3N1YW5jZURhdGVWYWxpZCh0b2tlbiksXG4gICAgICAgIGRvU2lnbmF0dXJlc01hdGNoUHVibGljS2V5cyh0b2tlbiksXG4gICAgICAgIGRvUHVibGljS2V5c01hdGNoSXNzdWVyKHRva2VuKSxcbiAgICBdKTtcbiAgICByZXR1cm4gY29uZGl0aW9ucy5ldmVyeSh2YWwgPT4gdmFsKTtcbn1cbmV4cG9ydHMudmVyaWZ5QXV0aFJlc3BvbnNlID0gdmVyaWZ5QXV0aFJlc3BvbnNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyaWZpY2F0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/auth/dist/verification.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/buffer.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/common/dist/buffer.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.writeUInt32LE = exports.readUInt32LE = exports.writeUInt32BE = exports.readUInt32BE = exports.writeUInt16LE = exports.readUInt16LE = exports.writeUInt8 = exports.readUInt8 = exports.writeUInt16BE = exports.readUInt16BE = exports.alloc = exports.equals = void 0;\nfunction equals(a, b) {\n    if (a.byteLength !== b.byteLength)\n        return false;\n    for (let i = 0; i < a.byteLength; i++) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n}\nexports.equals = equals;\nfunction alloc(length, value) {\n    const a = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n        a[i] = value;\n    }\n    return a;\n}\nexports.alloc = alloc;\nfunction readUInt16BE(source, offset) {\n    return ((source[offset + 0] << 8) | source[offset + 1]) >>> 0;\n}\nexports.readUInt16BE = readUInt16BE;\nfunction writeUInt16BE(source, value, offset) {\n    source[offset + 0] = value >>> 8;\n    source[offset + 1] = value >>> 0;\n}\nexports.writeUInt16BE = writeUInt16BE;\nfunction readUInt8(source, offset) {\n    return source[offset];\n}\nexports.readUInt8 = readUInt8;\nfunction writeUInt8(destination, value, offset) {\n    destination[offset] = value;\n}\nexports.writeUInt8 = writeUInt8;\nfunction readUInt16LE(source, offset) {\n    return ((source[offset + 0] << 0) >>> 0) | ((source[offset + 1] << 8) >>> 0);\n}\nexports.readUInt16LE = readUInt16LE;\nfunction writeUInt16LE(destination, value, offset) {\n    destination[offset + 0] = value & 255;\n    value >>>= 8;\n    destination[offset + 1] = value & 255;\n}\nexports.writeUInt16LE = writeUInt16LE;\nfunction readUInt32BE(source, offset) {\n    return (source[offset] * 2 ** 24 +\n        source[offset + 1] * 2 ** 16 +\n        source[offset + 2] * 2 ** 8 +\n        source[offset + 3]);\n}\nexports.readUInt32BE = readUInt32BE;\nfunction writeUInt32BE(destination, value, offset) {\n    destination[offset + 3] = value;\n    value >>>= 8;\n    destination[offset + 2] = value;\n    value >>>= 8;\n    destination[offset + 1] = value;\n    value >>>= 8;\n    destination[offset] = value;\n}\nexports.writeUInt32BE = writeUInt32BE;\nfunction readUInt32LE(source, offset) {\n    return (((source[offset + 0] << 0) >>> 0) |\n        ((source[offset + 1] << 8) >>> 0) |\n        ((source[offset + 2] << 16) >>> 0) |\n        ((source[offset + 3] << 24) >>> 0));\n}\nexports.readUInt32LE = readUInt32LE;\nfunction writeUInt32LE(destination, value, offset) {\n    destination[offset + 0] = value & 255;\n    value >>>= 8;\n    destination[offset + 1] = value & 255;\n    value >>>= 8;\n    destination[offset + 2] = value & 255;\n    value >>>= 8;\n    destination[offset + 3] = value & 255;\n}\nexports.writeUInt32LE = writeUInt32LE;\n//# sourceMappingURL=buffer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9idWZmZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCLEdBQUcsaUJBQWlCLEdBQUcscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcsYUFBYSxHQUFHLGNBQWM7QUFDblE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9idWZmZXIuanM/MTI4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud3JpdGVVSW50MzJMRSA9IGV4cG9ydHMucmVhZFVJbnQzMkxFID0gZXhwb3J0cy53cml0ZVVJbnQzMkJFID0gZXhwb3J0cy5yZWFkVUludDMyQkUgPSBleHBvcnRzLndyaXRlVUludDE2TEUgPSBleHBvcnRzLnJlYWRVSW50MTZMRSA9IGV4cG9ydHMud3JpdGVVSW50OCA9IGV4cG9ydHMucmVhZFVJbnQ4ID0gZXhwb3J0cy53cml0ZVVJbnQxNkJFID0gZXhwb3J0cy5yZWFkVUludDE2QkUgPSBleHBvcnRzLmFsbG9jID0gZXhwb3J0cy5lcXVhbHMgPSB2b2lkIDA7XG5mdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICAgIGlmIChhLmJ5dGVMZW5ndGggIT09IGIuYnl0ZUxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5ieXRlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5lcXVhbHMgPSBlcXVhbHM7XG5mdW5jdGlvbiBhbGxvYyhsZW5ndGgsIHZhbHVlKSB7XG4gICAgY29uc3QgYSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhW2ldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhO1xufVxuZXhwb3J0cy5hbGxvYyA9IGFsbG9jO1xuZnVuY3Rpb24gcmVhZFVJbnQxNkJFKHNvdXJjZSwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuICgoc291cmNlW29mZnNldCArIDBdIDw8IDgpIHwgc291cmNlW29mZnNldCArIDFdKSA+Pj4gMDtcbn1cbmV4cG9ydHMucmVhZFVJbnQxNkJFID0gcmVhZFVJbnQxNkJFO1xuZnVuY3Rpb24gd3JpdGVVSW50MTZCRShzb3VyY2UsIHZhbHVlLCBvZmZzZXQpIHtcbiAgICBzb3VyY2Vbb2Zmc2V0ICsgMF0gPSB2YWx1ZSA+Pj4gODtcbiAgICBzb3VyY2Vbb2Zmc2V0ICsgMV0gPSB2YWx1ZSA+Pj4gMDtcbn1cbmV4cG9ydHMud3JpdGVVSW50MTZCRSA9IHdyaXRlVUludDE2QkU7XG5mdW5jdGlvbiByZWFkVUludDgoc291cmNlLCBvZmZzZXQpIHtcbiAgICByZXR1cm4gc291cmNlW29mZnNldF07XG59XG5leHBvcnRzLnJlYWRVSW50OCA9IHJlYWRVSW50ODtcbmZ1bmN0aW9uIHdyaXRlVUludDgoZGVzdGluYXRpb24sIHZhbHVlLCBvZmZzZXQpIHtcbiAgICBkZXN0aW5hdGlvbltvZmZzZXRdID0gdmFsdWU7XG59XG5leHBvcnRzLndyaXRlVUludDggPSB3cml0ZVVJbnQ4O1xuZnVuY3Rpb24gcmVhZFVJbnQxNkxFKHNvdXJjZSwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuICgoc291cmNlW29mZnNldCArIDBdIDw8IDApID4+PiAwKSB8ICgoc291cmNlW29mZnNldCArIDFdIDw8IDgpID4+PiAwKTtcbn1cbmV4cG9ydHMucmVhZFVJbnQxNkxFID0gcmVhZFVJbnQxNkxFO1xuZnVuY3Rpb24gd3JpdGVVSW50MTZMRShkZXN0aW5hdGlvbiwgdmFsdWUsIG9mZnNldCkge1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDBdID0gdmFsdWUgJiAyNTU7XG4gICAgdmFsdWUgPj4+PSA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDFdID0gdmFsdWUgJiAyNTU7XG59XG5leHBvcnRzLndyaXRlVUludDE2TEUgPSB3cml0ZVVJbnQxNkxFO1xuZnVuY3Rpb24gcmVhZFVJbnQzMkJFKHNvdXJjZSwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIChzb3VyY2Vbb2Zmc2V0XSAqIDIgKiogMjQgK1xuICAgICAgICBzb3VyY2Vbb2Zmc2V0ICsgMV0gKiAyICoqIDE2ICtcbiAgICAgICAgc291cmNlW29mZnNldCArIDJdICogMiAqKiA4ICtcbiAgICAgICAgc291cmNlW29mZnNldCArIDNdKTtcbn1cbmV4cG9ydHMucmVhZFVJbnQzMkJFID0gcmVhZFVJbnQzMkJFO1xuZnVuY3Rpb24gd3JpdGVVSW50MzJCRShkZXN0aW5hdGlvbiwgdmFsdWUsIG9mZnNldCkge1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDNdID0gdmFsdWU7XG4gICAgdmFsdWUgPj4+PSA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDJdID0gdmFsdWU7XG4gICAgdmFsdWUgPj4+PSA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDFdID0gdmFsdWU7XG4gICAgdmFsdWUgPj4+PSA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldF0gPSB2YWx1ZTtcbn1cbmV4cG9ydHMud3JpdGVVSW50MzJCRSA9IHdyaXRlVUludDMyQkU7XG5mdW5jdGlvbiByZWFkVUludDMyTEUoc291cmNlLCBvZmZzZXQpIHtcbiAgICByZXR1cm4gKCgoc291cmNlW29mZnNldCArIDBdIDw8IDApID4+PiAwKSB8XG4gICAgICAgICgoc291cmNlW29mZnNldCArIDFdIDw8IDgpID4+PiAwKSB8XG4gICAgICAgICgoc291cmNlW29mZnNldCArIDJdIDw8IDE2KSA+Pj4gMCkgfFxuICAgICAgICAoKHNvdXJjZVtvZmZzZXQgKyAzXSA8PCAyNCkgPj4+IDApKTtcbn1cbmV4cG9ydHMucmVhZFVJbnQzMkxFID0gcmVhZFVJbnQzMkxFO1xuZnVuY3Rpb24gd3JpdGVVSW50MzJMRShkZXN0aW5hdGlvbiwgdmFsdWUsIG9mZnNldCkge1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDBdID0gdmFsdWUgJiAyNTU7XG4gICAgdmFsdWUgPj4+PSA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDFdID0gdmFsdWUgJiAyNTU7XG4gICAgdmFsdWUgPj4+PSA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDJdID0gdmFsdWUgJiAyNTU7XG4gICAgdmFsdWUgPj4+PSA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDNdID0gdmFsdWUgJiAyNTU7XG59XG5leHBvcnRzLndyaXRlVUludDMyTEUgPSB3cml0ZVVJbnQzMkxFO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/buffer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/config.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/common/dist/config.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.config = void 0;\nconst config = {\n    network: {\n        layer1: 'placeholder',\n    },\n    logLevel: 'debug',\n};\nexports.config = config;\n//# sourceMappingURL=config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9jb25maWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYztBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvY29tbW9uL2Rpc3QvY29uZmlnLmpzPzZiN2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmZpZyA9IHZvaWQgMDtcbmNvbnN0IGNvbmZpZyA9IHtcbiAgICBuZXR3b3JrOiB7XG4gICAgICAgIGxheWVyMTogJ3BsYWNlaG9sZGVyJyxcbiAgICB9LFxuICAgIGxvZ0xldmVsOiAnZGVidWcnLFxufTtcbmV4cG9ydHMuY29uZmlnID0gY29uZmlnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/constants.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stacks/common/dist/constants.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BLOCKSTACK_DEFAULT_GAIA_HUB_URL = exports.PRIVATE_KEY_UNCOMPRESSED_LENGTH = exports.PRIVATE_KEY_COMPRESSED_LENGTH = exports.PeerNetworkID = exports.TransactionVersion = exports.ChainID = void 0;\nvar ChainID;\n(function (ChainID) {\n    ChainID[ChainID[\"Testnet\"] = 2147483648] = \"Testnet\";\n    ChainID[ChainID[\"Mainnet\"] = 1] = \"Mainnet\";\n})(ChainID || (exports.ChainID = ChainID = {}));\nvar TransactionVersion;\n(function (TransactionVersion) {\n    TransactionVersion[TransactionVersion[\"Mainnet\"] = 0] = \"Mainnet\";\n    TransactionVersion[TransactionVersion[\"Testnet\"] = 128] = \"Testnet\";\n})(TransactionVersion || (exports.TransactionVersion = TransactionVersion = {}));\nvar PeerNetworkID;\n(function (PeerNetworkID) {\n    PeerNetworkID[PeerNetworkID[\"Mainnet\"] = 385875968] = \"Mainnet\";\n    PeerNetworkID[PeerNetworkID[\"Testnet\"] = 4278190080] = \"Testnet\";\n})(PeerNetworkID || (exports.PeerNetworkID = PeerNetworkID = {}));\nexports.PRIVATE_KEY_COMPRESSED_LENGTH = 33;\nexports.PRIVATE_KEY_UNCOMPRESSED_LENGTH = 32;\nexports.BLOCKSTACK_DEFAULT_GAIA_HUB_URL = 'https://hub.blockstack.org';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUNBQXVDLEdBQUcsdUNBQXVDLEdBQUcscUNBQXFDLEdBQUcscUJBQXFCLEdBQUcsMEJBQTBCLEdBQUcsZUFBZTtBQUNoTTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsY0FBYyxlQUFlLGVBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5QiwwQkFBMEIsMEJBQTBCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQkFBb0IscUJBQXFCLHFCQUFxQjtBQUMvRCxxQ0FBcUM7QUFDckMsdUNBQXVDO0FBQ3ZDLHVDQUF1QztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2NvbW1vbi9kaXN0L2NvbnN0YW50cy5qcz9jODUzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CTE9DS1NUQUNLX0RFRkFVTFRfR0FJQV9IVUJfVVJMID0gZXhwb3J0cy5QUklWQVRFX0tFWV9VTkNPTVBSRVNTRURfTEVOR1RIID0gZXhwb3J0cy5QUklWQVRFX0tFWV9DT01QUkVTU0VEX0xFTkdUSCA9IGV4cG9ydHMuUGVlck5ldHdvcmtJRCA9IGV4cG9ydHMuVHJhbnNhY3Rpb25WZXJzaW9uID0gZXhwb3J0cy5DaGFpbklEID0gdm9pZCAwO1xudmFyIENoYWluSUQ7XG4oZnVuY3Rpb24gKENoYWluSUQpIHtcbiAgICBDaGFpbklEW0NoYWluSURbXCJUZXN0bmV0XCJdID0gMjE0NzQ4MzY0OF0gPSBcIlRlc3RuZXRcIjtcbiAgICBDaGFpbklEW0NoYWluSURbXCJNYWlubmV0XCJdID0gMV0gPSBcIk1haW5uZXRcIjtcbn0pKENoYWluSUQgfHwgKGV4cG9ydHMuQ2hhaW5JRCA9IENoYWluSUQgPSB7fSkpO1xudmFyIFRyYW5zYWN0aW9uVmVyc2lvbjtcbihmdW5jdGlvbiAoVHJhbnNhY3Rpb25WZXJzaW9uKSB7XG4gICAgVHJhbnNhY3Rpb25WZXJzaW9uW1RyYW5zYWN0aW9uVmVyc2lvbltcIk1haW5uZXRcIl0gPSAwXSA9IFwiTWFpbm5ldFwiO1xuICAgIFRyYW5zYWN0aW9uVmVyc2lvbltUcmFuc2FjdGlvblZlcnNpb25bXCJUZXN0bmV0XCJdID0gMTI4XSA9IFwiVGVzdG5ldFwiO1xufSkoVHJhbnNhY3Rpb25WZXJzaW9uIHx8IChleHBvcnRzLlRyYW5zYWN0aW9uVmVyc2lvbiA9IFRyYW5zYWN0aW9uVmVyc2lvbiA9IHt9KSk7XG52YXIgUGVlck5ldHdvcmtJRDtcbihmdW5jdGlvbiAoUGVlck5ldHdvcmtJRCkge1xuICAgIFBlZXJOZXR3b3JrSURbUGVlck5ldHdvcmtJRFtcIk1haW5uZXRcIl0gPSAzODU4NzU5NjhdID0gXCJNYWlubmV0XCI7XG4gICAgUGVlck5ldHdvcmtJRFtQZWVyTmV0d29ya0lEW1wiVGVzdG5ldFwiXSA9IDQyNzgxOTAwODBdID0gXCJUZXN0bmV0XCI7XG59KShQZWVyTmV0d29ya0lEIHx8IChleHBvcnRzLlBlZXJOZXR3b3JrSUQgPSBQZWVyTmV0d29ya0lEID0ge30pKTtcbmV4cG9ydHMuUFJJVkFURV9LRVlfQ09NUFJFU1NFRF9MRU5HVEggPSAzMztcbmV4cG9ydHMuUFJJVkFURV9LRVlfVU5DT01QUkVTU0VEX0xFTkdUSCA9IDMyO1xuZXhwb3J0cy5CTE9DS1NUQUNLX0RFRkFVTFRfR0FJQV9IVUJfVVJMID0gJ2h0dHBzOi8vaHViLmJsb2Nrc3RhY2sub3JnJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/errors.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/common/dist/errors.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PreconditionFailedError = exports.PayloadTooLargeError = exports.ValidationError = exports.BadPathError = exports.NotEnoughProofError = exports.ConflictError = exports.DoesNotExist = exports.GaiaHubError = exports.NoSessionDataError = exports.InvalidStateError = exports.FailedDecryptionError = exports.SignatureVerificationError = exports.LoginFailedError = exports.InvalidAmountError = exports.NotEnoughFundsError = exports.InvalidDIDError = exports.RemoteServiceError = exports.MissingParameterError = exports.InvalidParameterError = exports.BlockstackError = exports.ERROR_CODES = void 0;\nexports.ERROR_CODES = {\n    MISSING_PARAMETER: 'missing_parameter',\n    REMOTE_SERVICE_ERROR: 'remote_service_error',\n    INVALID_STATE: 'invalid_state',\n    NO_SESSION_DATA: 'no_session_data',\n    DOES_NOT_EXIST: 'does_not_exist',\n    FAILED_DECRYPTION_ERROR: 'failed_decryption_error',\n    INVALID_DID_ERROR: 'invalid_did_error',\n    NOT_ENOUGH_FUNDS_ERROR: 'not_enough_error',\n    INVALID_AMOUNT_ERROR: 'invalid_amount_error',\n    LOGIN_FAILED_ERROR: 'login_failed',\n    SIGNATURE_VERIFICATION_ERROR: 'signature_verification_failure',\n    CONFLICT_ERROR: 'conflict_error',\n    NOT_ENOUGH_PROOF_ERROR: 'not_enough_proof_error',\n    BAD_PATH_ERROR: 'bad_path_error',\n    VALIDATION_ERROR: 'validation_error',\n    PAYLOAD_TOO_LARGE_ERROR: 'payload_too_large_error',\n    PRECONDITION_FAILED_ERROR: 'precondition_failed_error',\n    UNKNOWN: 'unknown',\n};\nObject.freeze(exports.ERROR_CODES);\nclass BlockstackError extends Error {\n    constructor(error) {\n        super();\n        let message = error.message;\n        let bugDetails = `Error Code: ${error.code}`;\n        let stack = this.stack;\n        if (!stack) {\n            try {\n                throw new Error();\n            }\n            catch (e) {\n                stack = e.stack;\n            }\n        }\n        else {\n            bugDetails += `Stack Trace:\\n${stack}`;\n        }\n        message += `\\nIf you believe this exception is caused by a bug in stacks.js,\n      please file a bug report: https://github.com/blockstack/stacks.js/issues\\n\\n${bugDetails}`;\n        this.message = message;\n        this.code = error.code;\n        this.parameter = error.parameter ? error.parameter : undefined;\n    }\n    toString() {\n        return `${super.toString()}\n    code: ${this.code} param: ${this.parameter ? this.parameter : 'n/a'}`;\n    }\n}\nexports.BlockstackError = BlockstackError;\nclass InvalidParameterError extends BlockstackError {\n    constructor(parameter, message = '') {\n        super({ code: exports.ERROR_CODES.MISSING_PARAMETER, message, parameter });\n        this.name = 'MissingParametersError';\n    }\n}\nexports.InvalidParameterError = InvalidParameterError;\nclass MissingParameterError extends BlockstackError {\n    constructor(parameter, message = '') {\n        super({ code: exports.ERROR_CODES.MISSING_PARAMETER, message, parameter });\n        this.name = 'MissingParametersError';\n    }\n}\nexports.MissingParameterError = MissingParameterError;\nclass RemoteServiceError extends BlockstackError {\n    constructor(response, message = '') {\n        super({ code: exports.ERROR_CODES.REMOTE_SERVICE_ERROR, message });\n        this.response = response;\n    }\n}\nexports.RemoteServiceError = RemoteServiceError;\nclass InvalidDIDError extends BlockstackError {\n    constructor(message = '') {\n        super({ code: exports.ERROR_CODES.INVALID_DID_ERROR, message });\n        this.name = 'InvalidDIDError';\n    }\n}\nexports.InvalidDIDError = InvalidDIDError;\nclass NotEnoughFundsError extends BlockstackError {\n    constructor(leftToFund) {\n        const message = `Not enough UTXOs to fund. Left to fund: ${leftToFund}`;\n        super({ code: exports.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR, message });\n        this.leftToFund = leftToFund;\n        this.name = 'NotEnoughFundsError';\n        this.message = message;\n    }\n}\nexports.NotEnoughFundsError = NotEnoughFundsError;\nclass InvalidAmountError extends BlockstackError {\n    constructor(fees, specifiedAmount) {\n        const message = `Not enough coin to fund fees transaction fees. Fees would be ${fees},` +\n            ` specified spend is  ${specifiedAmount}`;\n        super({ code: exports.ERROR_CODES.INVALID_AMOUNT_ERROR, message });\n        this.specifiedAmount = specifiedAmount;\n        this.fees = fees;\n        this.name = 'InvalidAmountError';\n        this.message = message;\n    }\n}\nexports.InvalidAmountError = InvalidAmountError;\nclass LoginFailedError extends BlockstackError {\n    constructor(reason) {\n        const message = `Failed to login: ${reason}`;\n        super({ code: exports.ERROR_CODES.LOGIN_FAILED_ERROR, message });\n        this.message = message;\n        this.name = 'LoginFailedError';\n    }\n}\nexports.LoginFailedError = LoginFailedError;\nclass SignatureVerificationError extends BlockstackError {\n    constructor(reason) {\n        const message = `Failed to verify signature: ${reason}`;\n        super({ code: exports.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR, message });\n        this.message = message;\n        this.name = 'SignatureVerificationError';\n    }\n}\nexports.SignatureVerificationError = SignatureVerificationError;\nclass FailedDecryptionError extends BlockstackError {\n    constructor(message = 'Unable to decrypt cipher object.') {\n        super({ code: exports.ERROR_CODES.FAILED_DECRYPTION_ERROR, message });\n        this.message = message;\n        this.name = 'FailedDecryptionError';\n    }\n}\nexports.FailedDecryptionError = FailedDecryptionError;\nclass InvalidStateError extends BlockstackError {\n    constructor(message) {\n        super({ code: exports.ERROR_CODES.INVALID_STATE, message });\n        this.message = message;\n        this.name = 'InvalidStateError';\n    }\n}\nexports.InvalidStateError = InvalidStateError;\nclass NoSessionDataError extends BlockstackError {\n    constructor(message) {\n        super({ code: exports.ERROR_CODES.INVALID_STATE, message });\n        this.message = message;\n        this.name = 'NoSessionDataError';\n    }\n}\nexports.NoSessionDataError = NoSessionDataError;\nclass GaiaHubError extends BlockstackError {\n    constructor(error, response) {\n        super(error);\n        if (response) {\n            this.hubError = {\n                statusCode: response.status,\n                statusText: response.statusText,\n            };\n            if (typeof response.body === 'string') {\n                this.hubError.message = response.body;\n            }\n            else if (typeof response.body === 'object') {\n                Object.assign(this.hubError, response.body);\n            }\n        }\n    }\n}\nexports.GaiaHubError = GaiaHubError;\nclass DoesNotExist extends GaiaHubError {\n    constructor(message, response) {\n        super({ message, code: exports.ERROR_CODES.DOES_NOT_EXIST }, response);\n        this.name = 'DoesNotExist';\n    }\n}\nexports.DoesNotExist = DoesNotExist;\nclass ConflictError extends GaiaHubError {\n    constructor(message, response) {\n        super({ message, code: exports.ERROR_CODES.CONFLICT_ERROR }, response);\n        this.name = 'ConflictError';\n    }\n}\nexports.ConflictError = ConflictError;\nclass NotEnoughProofError extends GaiaHubError {\n    constructor(message, response) {\n        super({ message, code: exports.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR }, response);\n        this.name = 'NotEnoughProofError';\n    }\n}\nexports.NotEnoughProofError = NotEnoughProofError;\nclass BadPathError extends GaiaHubError {\n    constructor(message, response) {\n        super({ message, code: exports.ERROR_CODES.BAD_PATH_ERROR }, response);\n        this.name = 'BadPathError';\n    }\n}\nexports.BadPathError = BadPathError;\nclass ValidationError extends GaiaHubError {\n    constructor(message, response) {\n        super({ message, code: exports.ERROR_CODES.VALIDATION_ERROR }, response);\n        this.name = 'ValidationError';\n    }\n}\nexports.ValidationError = ValidationError;\nclass PayloadTooLargeError extends GaiaHubError {\n    constructor(message, response, maxUploadByteSize) {\n        super({ message, code: exports.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR }, response);\n        this.name = 'PayloadTooLargeError';\n        this.maxUploadByteSize = maxUploadByteSize;\n    }\n}\nexports.PayloadTooLargeError = PayloadTooLargeError;\nclass PreconditionFailedError extends GaiaHubError {\n    constructor(message, response) {\n        super({ message, code: exports.ERROR_CODES.PRECONDITION_FAILED_ERROR }, response);\n        this.name = 'PreconditionFailedError';\n    }\n}\nexports.PreconditionFailedError = PreconditionFailedError;\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsK0JBQStCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCLEdBQUcsb0JBQW9CLEdBQUcsMkJBQTJCLEdBQUcscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcsb0JBQW9CLEdBQUcsMEJBQTBCLEdBQUcseUJBQXlCLEdBQUcsNkJBQTZCLEdBQUcsa0NBQWtDLEdBQUcsd0JBQXdCLEdBQUcsMEJBQTBCLEdBQUcsMkJBQTJCLEdBQUcsdUJBQXVCLEdBQUcsMEJBQTBCLEdBQUcsNkJBQTZCLEdBQUcsNkJBQTZCLEdBQUcsdUJBQXVCLEdBQUcsbUJBQW1CO0FBQzlrQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFdBQVc7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsTUFBTTtBQUNqRDtBQUNBO0FBQ0Esb0ZBQW9GLFdBQVc7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixZQUFZLFdBQVcsU0FBUyx3Q0FBd0M7QUFDeEU7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFpRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLGdCQUFnQixpRUFBaUU7QUFDakY7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxnQkFBZ0IseURBQXlEO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUFzRDtBQUN0RTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLG1FQUFtRSxXQUFXO0FBQzlFLGdCQUFnQiwyREFBMkQ7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0Esd0ZBQXdGLEtBQUs7QUFDN0Ysb0NBQW9DLGdCQUFnQjtBQUNwRCxnQkFBZ0IseURBQXlEO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsNENBQTRDLE9BQU87QUFDbkQsZ0JBQWdCLHVEQUF1RDtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQsZ0JBQWdCLGlFQUFpRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsZ0JBQWdCLDREQUE0RDtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFrRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFrRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQSxnQkFBZ0IsbURBQW1EO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsZ0JBQWdCLG1EQUFtRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGdCQUFnQiwyREFBMkQ7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxnQkFBZ0IsbURBQW1EO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFxRDtBQUNyRTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLGdCQUFnQiw0REFBNEQ7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBLGdCQUFnQiw4REFBOEQ7QUFDOUU7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvY29tbW9uL2Rpc3QvZXJyb3JzLmpzP2MzMjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlByZWNvbmRpdGlvbkZhaWxlZEVycm9yID0gZXhwb3J0cy5QYXlsb2FkVG9vTGFyZ2VFcnJvciA9IGV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gZXhwb3J0cy5CYWRQYXRoRXJyb3IgPSBleHBvcnRzLk5vdEVub3VnaFByb29mRXJyb3IgPSBleHBvcnRzLkNvbmZsaWN0RXJyb3IgPSBleHBvcnRzLkRvZXNOb3RFeGlzdCA9IGV4cG9ydHMuR2FpYUh1YkVycm9yID0gZXhwb3J0cy5Ob1Nlc3Npb25EYXRhRXJyb3IgPSBleHBvcnRzLkludmFsaWRTdGF0ZUVycm9yID0gZXhwb3J0cy5GYWlsZWREZWNyeXB0aW9uRXJyb3IgPSBleHBvcnRzLlNpZ25hdHVyZVZlcmlmaWNhdGlvbkVycm9yID0gZXhwb3J0cy5Mb2dpbkZhaWxlZEVycm9yID0gZXhwb3J0cy5JbnZhbGlkQW1vdW50RXJyb3IgPSBleHBvcnRzLk5vdEVub3VnaEZ1bmRzRXJyb3IgPSBleHBvcnRzLkludmFsaWRESURFcnJvciA9IGV4cG9ydHMuUmVtb3RlU2VydmljZUVycm9yID0gZXhwb3J0cy5NaXNzaW5nUGFyYW1ldGVyRXJyb3IgPSBleHBvcnRzLkludmFsaWRQYXJhbWV0ZXJFcnJvciA9IGV4cG9ydHMuQmxvY2tzdGFja0Vycm9yID0gZXhwb3J0cy5FUlJPUl9DT0RFUyA9IHZvaWQgMDtcbmV4cG9ydHMuRVJST1JfQ09ERVMgPSB7XG4gICAgTUlTU0lOR19QQVJBTUVURVI6ICdtaXNzaW5nX3BhcmFtZXRlcicsXG4gICAgUkVNT1RFX1NFUlZJQ0VfRVJST1I6ICdyZW1vdGVfc2VydmljZV9lcnJvcicsXG4gICAgSU5WQUxJRF9TVEFURTogJ2ludmFsaWRfc3RhdGUnLFxuICAgIE5PX1NFU1NJT05fREFUQTogJ25vX3Nlc3Npb25fZGF0YScsXG4gICAgRE9FU19OT1RfRVhJU1Q6ICdkb2VzX25vdF9leGlzdCcsXG4gICAgRkFJTEVEX0RFQ1JZUFRJT05fRVJST1I6ICdmYWlsZWRfZGVjcnlwdGlvbl9lcnJvcicsXG4gICAgSU5WQUxJRF9ESURfRVJST1I6ICdpbnZhbGlkX2RpZF9lcnJvcicsXG4gICAgTk9UX0VOT1VHSF9GVU5EU19FUlJPUjogJ25vdF9lbm91Z2hfZXJyb3InLFxuICAgIElOVkFMSURfQU1PVU5UX0VSUk9SOiAnaW52YWxpZF9hbW91bnRfZXJyb3InLFxuICAgIExPR0lOX0ZBSUxFRF9FUlJPUjogJ2xvZ2luX2ZhaWxlZCcsXG4gICAgU0lHTkFUVVJFX1ZFUklGSUNBVElPTl9FUlJPUjogJ3NpZ25hdHVyZV92ZXJpZmljYXRpb25fZmFpbHVyZScsXG4gICAgQ09ORkxJQ1RfRVJST1I6ICdjb25mbGljdF9lcnJvcicsXG4gICAgTk9UX0VOT1VHSF9QUk9PRl9FUlJPUjogJ25vdF9lbm91Z2hfcHJvb2ZfZXJyb3InLFxuICAgIEJBRF9QQVRIX0VSUk9SOiAnYmFkX3BhdGhfZXJyb3InLFxuICAgIFZBTElEQVRJT05fRVJST1I6ICd2YWxpZGF0aW9uX2Vycm9yJyxcbiAgICBQQVlMT0FEX1RPT19MQVJHRV9FUlJPUjogJ3BheWxvYWRfdG9vX2xhcmdlX2Vycm9yJyxcbiAgICBQUkVDT05ESVRJT05fRkFJTEVEX0VSUk9SOiAncHJlY29uZGl0aW9uX2ZhaWxlZF9lcnJvcicsXG4gICAgVU5LTk9XTjogJ3Vua25vd24nLFxufTtcbk9iamVjdC5mcmVlemUoZXhwb3J0cy5FUlJPUl9DT0RFUyk7XG5jbGFzcyBCbG9ja3N0YWNrRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoZXJyb3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBsZXQgYnVnRGV0YWlscyA9IGBFcnJvciBDb2RlOiAke2Vycm9yLmNvZGV9YDtcbiAgICAgICAgbGV0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgaWYgKCFzdGFjaykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBlLnN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVnRGV0YWlscyArPSBgU3RhY2sgVHJhY2U6XFxuJHtzdGFja31gO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UgKz0gYFxcbklmIHlvdSBiZWxpZXZlIHRoaXMgZXhjZXB0aW9uIGlzIGNhdXNlZCBieSBhIGJ1ZyBpbiBzdGFja3MuanMsXG4gICAgICBwbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9ibG9ja3N0YWNrL3N0YWNrcy5qcy9pc3N1ZXNcXG5cXG4ke2J1Z0RldGFpbHN9YDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5jb2RlID0gZXJyb3IuY29kZTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXIgPSBlcnJvci5wYXJhbWV0ZXIgPyBlcnJvci5wYXJhbWV0ZXIgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYCR7c3VwZXIudG9TdHJpbmcoKX1cbiAgICBjb2RlOiAke3RoaXMuY29kZX0gcGFyYW06ICR7dGhpcy5wYXJhbWV0ZXIgPyB0aGlzLnBhcmFtZXRlciA6ICduL2EnfWA7XG4gICAgfVxufVxuZXhwb3J0cy5CbG9ja3N0YWNrRXJyb3IgPSBCbG9ja3N0YWNrRXJyb3I7XG5jbGFzcyBJbnZhbGlkUGFyYW1ldGVyRXJyb3IgZXh0ZW5kcyBCbG9ja3N0YWNrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlciwgbWVzc2FnZSA9ICcnKSB7XG4gICAgICAgIHN1cGVyKHsgY29kZTogZXhwb3J0cy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BBUkFNRVRFUiwgbWVzc2FnZSwgcGFyYW1ldGVyIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWlzc2luZ1BhcmFtZXRlcnNFcnJvcic7XG4gICAgfVxufVxuZXhwb3J0cy5JbnZhbGlkUGFyYW1ldGVyRXJyb3IgPSBJbnZhbGlkUGFyYW1ldGVyRXJyb3I7XG5jbGFzcyBNaXNzaW5nUGFyYW1ldGVyRXJyb3IgZXh0ZW5kcyBCbG9ja3N0YWNrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlciwgbWVzc2FnZSA9ICcnKSB7XG4gICAgICAgIHN1cGVyKHsgY29kZTogZXhwb3J0cy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BBUkFNRVRFUiwgbWVzc2FnZSwgcGFyYW1ldGVyIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWlzc2luZ1BhcmFtZXRlcnNFcnJvcic7XG4gICAgfVxufVxuZXhwb3J0cy5NaXNzaW5nUGFyYW1ldGVyRXJyb3IgPSBNaXNzaW5nUGFyYW1ldGVyRXJyb3I7XG5jbGFzcyBSZW1vdGVTZXJ2aWNlRXJyb3IgZXh0ZW5kcyBCbG9ja3N0YWNrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlc3BvbnNlLCBtZXNzYWdlID0gJycpIHtcbiAgICAgICAgc3VwZXIoeyBjb2RlOiBleHBvcnRzLkVSUk9SX0NPREVTLlJFTU9URV9TRVJWSUNFX0VSUk9SLCBtZXNzYWdlIH0pO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgfVxufVxuZXhwb3J0cy5SZW1vdGVTZXJ2aWNlRXJyb3IgPSBSZW1vdGVTZXJ2aWNlRXJyb3I7XG5jbGFzcyBJbnZhbGlkRElERXJyb3IgZXh0ZW5kcyBCbG9ja3N0YWNrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnJykge1xuICAgICAgICBzdXBlcih7IGNvZGU6IGV4cG9ydHMuRVJST1JfQ09ERVMuSU5WQUxJRF9ESURfRVJST1IsIG1lc3NhZ2UgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkRElERXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydHMuSW52YWxpZERJREVycm9yID0gSW52YWxpZERJREVycm9yO1xuY2xhc3MgTm90RW5vdWdoRnVuZHNFcnJvciBleHRlbmRzIEJsb2Nrc3RhY2tFcnJvciB7XG4gICAgY29uc3RydWN0b3IobGVmdFRvRnVuZCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYE5vdCBlbm91Z2ggVVRYT3MgdG8gZnVuZC4gTGVmdCB0byBmdW5kOiAke2xlZnRUb0Z1bmR9YDtcbiAgICAgICAgc3VwZXIoeyBjb2RlOiBleHBvcnRzLkVSUk9SX0NPREVTLk5PVF9FTk9VR0hfRlVORFNfRVJST1IsIG1lc3NhZ2UgfSk7XG4gICAgICAgIHRoaXMubGVmdFRvRnVuZCA9IGxlZnRUb0Z1bmQ7XG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3RFbm91Z2hGdW5kc0Vycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnRzLk5vdEVub3VnaEZ1bmRzRXJyb3IgPSBOb3RFbm91Z2hGdW5kc0Vycm9yO1xuY2xhc3MgSW52YWxpZEFtb3VudEVycm9yIGV4dGVuZHMgQmxvY2tzdGFja0Vycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihmZWVzLCBzcGVjaWZpZWRBbW91bnQpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBOb3QgZW5vdWdoIGNvaW4gdG8gZnVuZCBmZWVzIHRyYW5zYWN0aW9uIGZlZXMuIEZlZXMgd291bGQgYmUgJHtmZWVzfSxgICtcbiAgICAgICAgICAgIGAgc3BlY2lmaWVkIHNwZW5kIGlzICAke3NwZWNpZmllZEFtb3VudH1gO1xuICAgICAgICBzdXBlcih7IGNvZGU6IGV4cG9ydHMuRVJST1JfQ09ERVMuSU5WQUxJRF9BTU9VTlRfRVJST1IsIG1lc3NhZ2UgfSk7XG4gICAgICAgIHRoaXMuc3BlY2lmaWVkQW1vdW50ID0gc3BlY2lmaWVkQW1vdW50O1xuICAgICAgICB0aGlzLmZlZXMgPSBmZWVzO1xuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZEFtb3VudEVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnRzLkludmFsaWRBbW91bnRFcnJvciA9IEludmFsaWRBbW91bnRFcnJvcjtcbmNsYXNzIExvZ2luRmFpbGVkRXJyb3IgZXh0ZW5kcyBCbG9ja3N0YWNrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlYXNvbikge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYEZhaWxlZCB0byBsb2dpbjogJHtyZWFzb259YDtcbiAgICAgICAgc3VwZXIoeyBjb2RlOiBleHBvcnRzLkVSUk9SX0NPREVTLkxPR0lOX0ZBSUxFRF9FUlJPUiwgbWVzc2FnZSB9KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0xvZ2luRmFpbGVkRXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydHMuTG9naW5GYWlsZWRFcnJvciA9IExvZ2luRmFpbGVkRXJyb3I7XG5jbGFzcyBTaWduYXR1cmVWZXJpZmljYXRpb25FcnJvciBleHRlbmRzIEJsb2Nrc3RhY2tFcnJvciB7XG4gICAgY29uc3RydWN0b3IocmVhc29uKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgRmFpbGVkIHRvIHZlcmlmeSBzaWduYXR1cmU6ICR7cmVhc29ufWA7XG4gICAgICAgIHN1cGVyKHsgY29kZTogZXhwb3J0cy5FUlJPUl9DT0RFUy5TSUdOQVRVUkVfVkVSSUZJQ0FUSU9OX0VSUk9SLCBtZXNzYWdlIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU2lnbmF0dXJlVmVyaWZpY2F0aW9uRXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydHMuU2lnbmF0dXJlVmVyaWZpY2F0aW9uRXJyb3IgPSBTaWduYXR1cmVWZXJpZmljYXRpb25FcnJvcjtcbmNsYXNzIEZhaWxlZERlY3J5cHRpb25FcnJvciBleHRlbmRzIEJsb2Nrc3RhY2tFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSA9ICdVbmFibGUgdG8gZGVjcnlwdCBjaXBoZXIgb2JqZWN0LicpIHtcbiAgICAgICAgc3VwZXIoeyBjb2RlOiBleHBvcnRzLkVSUk9SX0NPREVTLkZBSUxFRF9ERUNSWVBUSU9OX0VSUk9SLCBtZXNzYWdlIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRmFpbGVkRGVjcnlwdGlvbkVycm9yJztcbiAgICB9XG59XG5leHBvcnRzLkZhaWxlZERlY3J5cHRpb25FcnJvciA9IEZhaWxlZERlY3J5cHRpb25FcnJvcjtcbmNsYXNzIEludmFsaWRTdGF0ZUVycm9yIGV4dGVuZHMgQmxvY2tzdGFja0Vycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKHsgY29kZTogZXhwb3J0cy5FUlJPUl9DT0RFUy5JTlZBTElEX1NUQVRFLCBtZXNzYWdlIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLm5hbWUgPSAnSW52YWxpZFN0YXRlRXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydHMuSW52YWxpZFN0YXRlRXJyb3IgPSBJbnZhbGlkU3RhdGVFcnJvcjtcbmNsYXNzIE5vU2Vzc2lvbkRhdGFFcnJvciBleHRlbmRzIEJsb2Nrc3RhY2tFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcih7IGNvZGU6IGV4cG9ydHMuRVJST1JfQ09ERVMuSU5WQUxJRF9TVEFURSwgbWVzc2FnZSB9KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ05vU2Vzc2lvbkRhdGFFcnJvcic7XG4gICAgfVxufVxuZXhwb3J0cy5Ob1Nlc3Npb25EYXRhRXJyb3IgPSBOb1Nlc3Npb25EYXRhRXJyb3I7XG5jbGFzcyBHYWlhSHViRXJyb3IgZXh0ZW5kcyBCbG9ja3N0YWNrRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm9yLCByZXNwb25zZSkge1xuICAgICAgICBzdXBlcihlcnJvcik7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5odWJFcnJvciA9IHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5odWJFcnJvci5tZXNzYWdlID0gcmVzcG9uc2UuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZS5ib2R5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5odWJFcnJvciwgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkdhaWFIdWJFcnJvciA9IEdhaWFIdWJFcnJvcjtcbmNsYXNzIERvZXNOb3RFeGlzdCBleHRlbmRzIEdhaWFIdWJFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgc3VwZXIoeyBtZXNzYWdlLCBjb2RlOiBleHBvcnRzLkVSUk9SX0NPREVTLkRPRVNfTk9UX0VYSVNUIH0sIHJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0RvZXNOb3RFeGlzdCc7XG4gICAgfVxufVxuZXhwb3J0cy5Eb2VzTm90RXhpc3QgPSBEb2VzTm90RXhpc3Q7XG5jbGFzcyBDb25mbGljdEVycm9yIGV4dGVuZHMgR2FpYUh1YkVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXNwb25zZSkge1xuICAgICAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGU6IGV4cG9ydHMuRVJST1JfQ09ERVMuQ09ORkxJQ1RfRVJST1IgfSwgcmVzcG9uc2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQ29uZmxpY3RFcnJvcic7XG4gICAgfVxufVxuZXhwb3J0cy5Db25mbGljdEVycm9yID0gQ29uZmxpY3RFcnJvcjtcbmNsYXNzIE5vdEVub3VnaFByb29mRXJyb3IgZXh0ZW5kcyBHYWlhSHViRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3BvbnNlKSB7XG4gICAgICAgIHN1cGVyKHsgbWVzc2FnZSwgY29kZTogZXhwb3J0cy5FUlJPUl9DT0RFUy5OT1RfRU5PVUdIX1BST09GX0VSUk9SIH0sIHJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ05vdEVub3VnaFByb29mRXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydHMuTm90RW5vdWdoUHJvb2ZFcnJvciA9IE5vdEVub3VnaFByb29mRXJyb3I7XG5jbGFzcyBCYWRQYXRoRXJyb3IgZXh0ZW5kcyBHYWlhSHViRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3BvbnNlKSB7XG4gICAgICAgIHN1cGVyKHsgbWVzc2FnZSwgY29kZTogZXhwb3J0cy5FUlJPUl9DT0RFUy5CQURfUEFUSF9FUlJPUiB9LCByZXNwb25zZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdCYWRQYXRoRXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFkUGF0aEVycm9yID0gQmFkUGF0aEVycm9yO1xuY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgR2FpYUh1YkVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXNwb25zZSkge1xuICAgICAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGU6IGV4cG9ydHMuRVJST1JfQ09ERVMuVkFMSURBVElPTl9FUlJPUiB9LCByZXNwb25zZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gVmFsaWRhdGlvbkVycm9yO1xuY2xhc3MgUGF5bG9hZFRvb0xhcmdlRXJyb3IgZXh0ZW5kcyBHYWlhSHViRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3BvbnNlLCBtYXhVcGxvYWRCeXRlU2l6ZSkge1xuICAgICAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGU6IGV4cG9ydHMuRVJST1JfQ09ERVMuUEFZTE9BRF9UT09fTEFSR0VfRVJST1IgfSwgcmVzcG9uc2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUGF5bG9hZFRvb0xhcmdlRXJyb3InO1xuICAgICAgICB0aGlzLm1heFVwbG9hZEJ5dGVTaXplID0gbWF4VXBsb2FkQnl0ZVNpemU7XG4gICAgfVxufVxuZXhwb3J0cy5QYXlsb2FkVG9vTGFyZ2VFcnJvciA9IFBheWxvYWRUb29MYXJnZUVycm9yO1xuY2xhc3MgUHJlY29uZGl0aW9uRmFpbGVkRXJyb3IgZXh0ZW5kcyBHYWlhSHViRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3BvbnNlKSB7XG4gICAgICAgIHN1cGVyKHsgbWVzc2FnZSwgY29kZTogZXhwb3J0cy5FUlJPUl9DT0RFUy5QUkVDT05ESVRJT05fRkFJTEVEX0VSUk9SIH0sIHJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1ByZWNvbmRpdGlvbkZhaWxlZEVycm9yJztcbiAgICB9XG59XG5leHBvcnRzLlByZWNvbmRpdGlvbkZhaWxlZEVycm9yID0gUHJlY29uZGl0aW9uRmFpbGVkRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@stacks/common/dist/index.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./config */ \"(ssr)/./node_modules/@stacks/common/dist/config.js\"), exports);\n__exportStar(__webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/common/dist/errors.js\"), exports);\n__exportStar(__webpack_require__(/*! ./logger */ \"(ssr)/./node_modules/@stacks/common/dist/logger.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/common/dist/utils.js\"), exports);\n__exportStar(__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/common/dist/constants.js\"), exports);\n__exportStar(__webpack_require__(/*! ./signatures */ \"(ssr)/./node_modules/@stacks/common/dist/signatures.js\"), exports);\n__exportStar(__webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/common/dist/keys.js\"), exports);\n__exportStar(__webpack_require__(/*! ./buffer */ \"(ssr)/./node_modules/@stacks/common/dist/buffer.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsb0VBQVU7QUFDL0IsYUFBYSxtQkFBTyxDQUFDLG9FQUFVO0FBQy9CLGFBQWEsbUJBQU8sQ0FBQyxvRUFBVTtBQUMvQixhQUFhLG1CQUFPLENBQUMsa0VBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLDBFQUFhO0FBQ2xDLGFBQWEsbUJBQU8sQ0FBQyw0RUFBYztBQUNuQyxhQUFhLG1CQUFPLENBQUMsZ0VBQVE7QUFDN0IsYUFBYSxtQkFBTyxDQUFDLG9FQUFVO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvY29tbW9uL2Rpc3QvaW5kZXguanM/ZGRlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbmZpZ1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZXJyb3JzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9sb2dnZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V0aWxzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25zdGFudHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NpZ25hdHVyZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2tleXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2J1ZmZlclwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/keys.js":
/*!**************************************************!*\
  !*** ./node_modules/@stacks/common/dist/keys.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.privateKeyToBytes = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/common/dist/utils.js\");\nfunction privateKeyToBytes(privateKey) {\n    const privateKeyBuffer = typeof privateKey === 'string' ? (0, utils_1.hexToBytes)(privateKey) : privateKey;\n    if (privateKeyBuffer.length != 32 && privateKeyBuffer.length != 33) {\n        throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${privateKeyBuffer.length}`);\n    }\n    if (privateKeyBuffer.length == 33 && privateKeyBuffer[32] !== 1) {\n        throw new Error('Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01');\n    }\n    return privateKeyBuffer;\n}\nexports.privateKeyToBytes = privateKeyToBytes;\n//# sourceMappingURL=keys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9rZXlzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6QixnQkFBZ0IsbUJBQU8sQ0FBQyxrRUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQSwwSEFBMEgsd0JBQXdCO0FBQ2xKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2NvbW1vbi9kaXN0L2tleXMuanM/MDBkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHJpdmF0ZUtleVRvQnl0ZXMgPSB2b2lkIDA7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5mdW5jdGlvbiBwcml2YXRlS2V5VG9CeXRlcyhwcml2YXRlS2V5KSB7XG4gICAgY29uc3QgcHJpdmF0ZUtleUJ1ZmZlciA9IHR5cGVvZiBwcml2YXRlS2V5ID09PSAnc3RyaW5nJyA/ICgwLCB1dGlsc18xLmhleFRvQnl0ZXMpKHByaXZhdGVLZXkpIDogcHJpdmF0ZUtleTtcbiAgICBpZiAocHJpdmF0ZUtleUJ1ZmZlci5sZW5ndGggIT0gMzIgJiYgcHJpdmF0ZUtleUJ1ZmZlci5sZW5ndGggIT0gMzMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbXByb3Blcmx5IGZvcm1hdHRlZCBwcml2YXRlLWtleS4gUHJpdmF0ZS1rZXkgYnl0ZSBsZW5ndGggc2hvdWxkIGJlIDMyIG9yIDMzLiBMZW5ndGggcHJvdmlkZWQ6ICR7cHJpdmF0ZUtleUJ1ZmZlci5sZW5ndGh9YCk7XG4gICAgfVxuICAgIGlmIChwcml2YXRlS2V5QnVmZmVyLmxlbmd0aCA9PSAzMyAmJiBwcml2YXRlS2V5QnVmZmVyWzMyXSAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcHJvcGVybHkgZm9ybWF0dGVkIHByaXZhdGUta2V5LiAzMyBieXRlcyBpbmRpY2F0ZSBjb21wcmVzc2VkIGtleSwgYnV0IHRoZSBsYXN0IGJ5dGUgbXVzdCBiZSA9PSAwMScpO1xuICAgIH1cbiAgICByZXR1cm4gcHJpdmF0ZUtleUJ1ZmZlcjtcbn1cbmV4cG9ydHMucHJpdmF0ZUtleVRvQnl0ZXMgPSBwcml2YXRlS2V5VG9CeXRlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/keys.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/logger.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/common/dist/logger.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Logger = void 0;\nconst config_1 = __webpack_require__(/*! ./config */ \"(ssr)/./node_modules/@stacks/common/dist/config.js\");\nconst levels = ['debug', 'info', 'warn', 'error', 'none'];\nconst levelToInt = {};\nconst intToLevel = {};\nfor (let index = 0; index < levels.length; index++) {\n    const level = levels[index];\n    levelToInt[level] = index;\n    intToLevel[index] = level;\n}\nclass Logger {\n    static error(message) {\n        if (!this.shouldLog('error'))\n            return;\n        console.error(this.logMessage('error', message));\n    }\n    static warn(message) {\n        if (!this.shouldLog('warn'))\n            return;\n        console.warn(this.logMessage('warn', message));\n    }\n    static info(message) {\n        if (!this.shouldLog('info'))\n            return;\n        console.log(this.logMessage('info', message));\n    }\n    static debug(message) {\n        if (!this.shouldLog('debug'))\n            return;\n        console.log(this.logMessage('debug', message));\n    }\n    static logMessage(level, message) {\n        return `[${level.toUpperCase()}] ${message}`;\n    }\n    static shouldLog(level) {\n        const currentLevel = levelToInt[config_1.config.logLevel];\n        return currentLevel <= levelToInt[level];\n    }\n}\nexports.Logger = Logger;\n//# sourceMappingURL=logger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9sb2dnZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGlCQUFpQixtQkFBTyxDQUFDLG9FQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvQkFBb0IsSUFBSSxRQUFRO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2NvbW1vbi9kaXN0L2xvZ2dlci5qcz9lNWIwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2dnZXIgPSB2b2lkIDA7XG5jb25zdCBjb25maWdfMSA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbmNvbnN0IGxldmVscyA9IFsnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJywgJ25vbmUnXTtcbmNvbnN0IGxldmVsVG9JbnQgPSB7fTtcbmNvbnN0IGludFRvTGV2ZWwgPSB7fTtcbmZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZXZlbHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgbGV2ZWwgPSBsZXZlbHNbaW5kZXhdO1xuICAgIGxldmVsVG9JbnRbbGV2ZWxdID0gaW5kZXg7XG4gICAgaW50VG9MZXZlbFtpbmRleF0gPSBsZXZlbDtcbn1cbmNsYXNzIExvZ2dlciB7XG4gICAgc3RhdGljIGVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnZXJyb3InKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLmxvZ01lc3NhZ2UoJ2Vycm9yJywgbWVzc2FnZSkpO1xuICAgIH1cbiAgICBzdGF0aWMgd2FybihtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRMb2coJ3dhcm4nKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS53YXJuKHRoaXMubG9nTWVzc2FnZSgnd2FybicsIG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc3RhdGljIGluZm8obWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkTG9nKCdpbmZvJykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubG9nTWVzc2FnZSgnaW5mbycsIG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc3RhdGljIGRlYnVnKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnZGVidWcnKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5sb2dNZXNzYWdlKCdkZWJ1ZycsIG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc3RhdGljIGxvZ01lc3NhZ2UobGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGBbJHtsZXZlbC50b1VwcGVyQ2FzZSgpfV0gJHttZXNzYWdlfWA7XG4gICAgfVxuICAgIHN0YXRpYyBzaG91bGRMb2cobGV2ZWwpIHtcbiAgICAgICAgY29uc3QgY3VycmVudExldmVsID0gbGV2ZWxUb0ludFtjb25maWdfMS5jb25maWcubG9nTGV2ZWxdO1xuICAgICAgICByZXR1cm4gY3VycmVudExldmVsIDw9IGxldmVsVG9JbnRbbGV2ZWxdO1xuICAgIH1cbn1cbmV4cG9ydHMuTG9nZ2VyID0gTG9nZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/logger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/signatures.js":
/*!********************************************************!*\
  !*** ./node_modules/@stacks/common/dist/signatures.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.signatureRsvToVrs = exports.signatureVrsToRsv = exports.parseRecoverableSignatureVrs = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/common/dist/utils.js\");\nconst COORDINATE_BYTES = 32;\nfunction parseRecoverableSignatureVrs(signature) {\n    if (signature.length < COORDINATE_BYTES * 2 * 2 + 1) {\n        throw new Error('Invalid signature');\n    }\n    const recoveryIdHex = signature.slice(0, 2);\n    const r = signature.slice(2, 2 + COORDINATE_BYTES * 2);\n    const s = signature.slice(2 + COORDINATE_BYTES * 2);\n    return {\n        recoveryId: (0, utils_1.hexToInt)(recoveryIdHex),\n        r,\n        s,\n    };\n}\nexports.parseRecoverableSignatureVrs = parseRecoverableSignatureVrs;\nfunction signatureVrsToRsv(signature) {\n    return signature.slice(2) + signature.slice(0, 2);\n}\nexports.signatureVrsToRsv = signatureVrsToRsv;\nfunction signatureRsvToVrs(signature) {\n    return signature.slice(-2) + signature.slice(0, -2);\n}\nexports.signatureRsvToVrs = signatureRsvToVrs;\n//# sourceMappingURL=signatures.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9zaWduYXR1cmVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QixHQUFHLHlCQUF5QixHQUFHLG9DQUFvQztBQUM1RixnQkFBZ0IsbUJBQU8sQ0FBQyxrRUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC9zaWduYXR1cmVzLmpzPzJjYjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNpZ25hdHVyZVJzdlRvVnJzID0gZXhwb3J0cy5zaWduYXR1cmVWcnNUb1JzdiA9IGV4cG9ydHMucGFyc2VSZWNvdmVyYWJsZVNpZ25hdHVyZVZycyA9IHZvaWQgMDtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNvbnN0IENPT1JESU5BVEVfQllURVMgPSAzMjtcbmZ1bmN0aW9uIHBhcnNlUmVjb3ZlcmFibGVTaWduYXR1cmVWcnMoc2lnbmF0dXJlKSB7XG4gICAgaWYgKHNpZ25hdHVyZS5sZW5ndGggPCBDT09SRElOQVRFX0JZVEVTICogMiAqIDIgKyAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaWduYXR1cmUnKTtcbiAgICB9XG4gICAgY29uc3QgcmVjb3ZlcnlJZEhleCA9IHNpZ25hdHVyZS5zbGljZSgwLCAyKTtcbiAgICBjb25zdCByID0gc2lnbmF0dXJlLnNsaWNlKDIsIDIgKyBDT09SRElOQVRFX0JZVEVTICogMik7XG4gICAgY29uc3QgcyA9IHNpZ25hdHVyZS5zbGljZSgyICsgQ09PUkRJTkFURV9CWVRFUyAqIDIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlY292ZXJ5SWQ6ICgwLCB1dGlsc18xLmhleFRvSW50KShyZWNvdmVyeUlkSGV4KSxcbiAgICAgICAgcixcbiAgICAgICAgcyxcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZVJlY292ZXJhYmxlU2lnbmF0dXJlVnJzID0gcGFyc2VSZWNvdmVyYWJsZVNpZ25hdHVyZVZycztcbmZ1bmN0aW9uIHNpZ25hdHVyZVZyc1RvUnN2KHNpZ25hdHVyZSkge1xuICAgIHJldHVybiBzaWduYXR1cmUuc2xpY2UoMikgKyBzaWduYXR1cmUuc2xpY2UoMCwgMik7XG59XG5leHBvcnRzLnNpZ25hdHVyZVZyc1RvUnN2ID0gc2lnbmF0dXJlVnJzVG9Sc3Y7XG5mdW5jdGlvbiBzaWduYXR1cmVSc3ZUb1ZycyhzaWduYXR1cmUpIHtcbiAgICByZXR1cm4gc2lnbmF0dXJlLnNsaWNlKC0yKSArIHNpZ25hdHVyZS5zbGljZSgwLCAtMik7XG59XG5leHBvcnRzLnNpZ25hdHVyZVJzdlRvVnJzID0gc2lnbmF0dXJlUnN2VG9WcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaWduYXR1cmVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/signatures.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/common/dist/utils.js":
/*!***************************************************!*\
  !*** ./node_modules/@stacks/common/dist/utils.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isInstance = exports.concatArray = exports.concatBytes = exports.toBytes = exports.octetsToBytes = exports.bytesToAscii = exports.asciiToBytes = exports.bytesToUtf8 = exports.utf8ToBytes = exports.hexToBytes = exports.bytesToHex = exports.fromTwos = exports.toTwos = exports.bigIntToBytes = exports.hexToInt = exports.intToHex = exports.hexToBigInt = exports.with0x = exports.intToBigInt = exports.intToBytes = exports.getGlobalObjects = exports.getGlobalObject = exports.getGlobalScope = exports.isSameOriginAbsoluteUrl = exports.makeUUID4 = exports.isLaterVersion = exports.updateQueryStringParameter = exports.getBase64OutputLength = exports.getAesCbcOutputLength = exports.megabytesToBytes = exports.nextHour = exports.nextMonth = exports.nextYear = exports.BLOCKSTACK_HANDLER = void 0;\nconst logger_1 = __webpack_require__(/*! ./logger */ \"(ssr)/./node_modules/@stacks/common/dist/logger.js\");\nexports.BLOCKSTACK_HANDLER = 'blockstack';\nfunction nextYear() {\n    return new Date(new Date().setFullYear(new Date().getFullYear() + 1));\n}\nexports.nextYear = nextYear;\nfunction nextMonth() {\n    return new Date(new Date().setMonth(new Date().getMonth() + 1));\n}\nexports.nextMonth = nextMonth;\nfunction nextHour() {\n    return new Date(new Date().setHours(new Date().getHours() + 1));\n}\nexports.nextHour = nextHour;\nfunction megabytesToBytes(megabytes) {\n    if (!Number.isFinite(megabytes)) {\n        return 0;\n    }\n    return Math.floor(megabytes * 1024 * 1024);\n}\nexports.megabytesToBytes = megabytesToBytes;\nfunction getAesCbcOutputLength(inputByteLength) {\n    const cipherTextLength = (Math.floor(inputByteLength / 16) + 1) * 16;\n    return cipherTextLength;\n}\nexports.getAesCbcOutputLength = getAesCbcOutputLength;\nfunction getBase64OutputLength(inputByteLength) {\n    const encodedLength = Math.ceil(inputByteLength / 3) * 4;\n    return encodedLength;\n}\nexports.getBase64OutputLength = getBase64OutputLength;\nfunction updateQueryStringParameter(uri, key, value) {\n    const re = new RegExp(`([?&])${key}=.*?(&|$)`, 'i');\n    const separator = uri.indexOf('?') !== -1 ? '&' : '?';\n    if (uri.match(re)) {\n        return uri.replace(re, `$1${key}=${value}$2`);\n    }\n    else {\n        return `${uri}${separator}${key}=${value}`;\n    }\n}\nexports.updateQueryStringParameter = updateQueryStringParameter;\nfunction isLaterVersion(v1, v2) {\n    if (v1 === undefined || v1 === '') {\n        v1 = '0.0.0';\n    }\n    if (v2 === undefined || v1 === '') {\n        v2 = '0.0.0';\n    }\n    const v1tuple = v1.split('.').map(x => parseInt(x, 10));\n    const v2tuple = v2.split('.').map(x => parseInt(x, 10));\n    for (let index = 0; index < v2.length; index++) {\n        if (index >= v1.length) {\n            v2tuple.push(0);\n        }\n        if (v1tuple[index] < v2tuple[index]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.isLaterVersion = isLaterVersion;\nfunction makeUUID4() {\n    let d = new Date().getTime();\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n        d += performance.now();\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n        const r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n}\nexports.makeUUID4 = makeUUID4;\nfunction isSameOriginAbsoluteUrl(uri1, uri2) {\n    try {\n        const parsedUri1 = new URL(uri1);\n        const parsedUri2 = new URL(uri2);\n        const port1 = parseInt(parsedUri1.port || '0', 10) | 0 || (parsedUri1.protocol === 'https:' ? 443 : 80);\n        const port2 = parseInt(parsedUri2.port || '0', 10) | 0 || (parsedUri2.protocol === 'https:' ? 443 : 80);\n        const match = {\n            scheme: parsedUri1.protocol === parsedUri2.protocol,\n            hostname: parsedUri1.hostname === parsedUri2.hostname,\n            port: port1 === port2,\n            absolute: (uri1.includes('http://') || uri1.includes('https://')) &&\n                (uri2.includes('http://') || uri2.includes('https://')),\n        };\n        return match.scheme && match.hostname && match.port && match.absolute;\n    }\n    catch (error) {\n        console.log(error);\n        console.log('Parsing error in same URL origin check');\n        return false;\n    }\n}\nexports.isSameOriginAbsoluteUrl = isSameOriginAbsoluteUrl;\nfunction getGlobalScope() {\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    throw new Error('Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available');\n}\nexports.getGlobalScope = getGlobalScope;\nfunction getAPIUsageErrorMessage(scopeObject, apiName, usageDesc) {\n    if (usageDesc) {\n        return `Use of '${usageDesc}' requires \\`${apiName}\\` which is unavailable on the '${scopeObject}' object within the currently executing environment.`;\n    }\n    else {\n        return `\\`${apiName}\\` is unavailable on the '${scopeObject}' object within the currently executing environment.`;\n    }\n}\nfunction getGlobalObject(name, { throwIfUnavailable, usageDesc, returnEmptyObject } = {}) {\n    let globalScope = undefined;\n    try {\n        globalScope = getGlobalScope();\n        if (globalScope) {\n            const obj = globalScope[name];\n            if (obj) {\n                return obj;\n            }\n        }\n    }\n    catch (error) {\n        logger_1.Logger.error(`Error getting object '${name}' from global scope '${globalScope}': ${error}`);\n    }\n    if (throwIfUnavailable) {\n        const errMsg = getAPIUsageErrorMessage(globalScope, name.toString(), usageDesc);\n        logger_1.Logger.error(errMsg);\n        throw new Error(errMsg);\n    }\n    if (returnEmptyObject) {\n        return {};\n    }\n    return undefined;\n}\nexports.getGlobalObject = getGlobalObject;\nfunction getGlobalObjects(names, { throwIfUnavailable, usageDesc, returnEmptyObject } = {}) {\n    let globalScope;\n    try {\n        globalScope = getGlobalScope();\n    }\n    catch (error) {\n        logger_1.Logger.error(`Error getting global scope: ${error}`);\n        if (throwIfUnavailable) {\n            const errMsg = getAPIUsageErrorMessage(globalScope, names[0].toString(), usageDesc);\n            logger_1.Logger.error(errMsg);\n            throw errMsg;\n        }\n        else if (returnEmptyObject) {\n            globalScope = {};\n        }\n    }\n    const result = {};\n    for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        try {\n            if (globalScope) {\n                const obj = globalScope[name];\n                if (obj) {\n                    result[name] = obj;\n                }\n                else if (throwIfUnavailable) {\n                    const errMsg = getAPIUsageErrorMessage(globalScope, name.toString(), usageDesc);\n                    logger_1.Logger.error(errMsg);\n                    throw new Error(errMsg);\n                }\n                else if (returnEmptyObject) {\n                    result[name] = {};\n                }\n            }\n        }\n        catch (error) {\n            if (throwIfUnavailable) {\n                const errMsg = getAPIUsageErrorMessage(globalScope, name.toString(), usageDesc);\n                logger_1.Logger.error(errMsg);\n                throw new Error(errMsg);\n            }\n        }\n    }\n    return result;\n}\nexports.getGlobalObjects = getGlobalObjects;\nfunction intToBytes(value, signed, byteLength) {\n    return bigIntToBytes(intToBigInt(value, signed), byteLength);\n}\nexports.intToBytes = intToBytes;\nfunction intToBigInt(value, signed) {\n    let parsedValue = value;\n    if (typeof parsedValue === 'number') {\n        if (!Number.isInteger(parsedValue)) {\n            throw new RangeError(`Invalid value. Values of type 'number' must be an integer.`);\n        }\n        if (parsedValue > Number.MAX_SAFE_INTEGER) {\n            throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);\n        }\n        return BigInt(parsedValue);\n    }\n    if (typeof parsedValue === 'string') {\n        if (parsedValue.toLowerCase().startsWith('0x')) {\n            let hex = parsedValue.slice(2);\n            hex = hex.padStart(hex.length + (hex.length % 2), '0');\n            parsedValue = hexToBytes(hex);\n        }\n        else {\n            try {\n                return BigInt(parsedValue);\n            }\n            catch (error) {\n                if (error instanceof SyntaxError) {\n                    throw new RangeError(`Invalid value. String integer '${parsedValue}' is not finite.`);\n                }\n            }\n        }\n    }\n    if (typeof parsedValue === 'bigint') {\n        return parsedValue;\n    }\n    if (parsedValue instanceof Uint8Array) {\n        if (signed) {\n            const bn = fromTwos(BigInt(`0x${bytesToHex(parsedValue)}`), BigInt(parsedValue.byteLength * 8));\n            return BigInt(bn.toString());\n        }\n        else {\n            return BigInt(`0x${bytesToHex(parsedValue)}`);\n        }\n    }\n    if (parsedValue != null &&\n        typeof parsedValue === 'object' &&\n        parsedValue.constructor.name === 'BN') {\n        return BigInt(parsedValue.toString());\n    }\n    throw new TypeError(`Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.`);\n}\nexports.intToBigInt = intToBigInt;\nfunction with0x(value) {\n    return value.startsWith('0x') ? value : `0x${value}`;\n}\nexports.with0x = with0x;\nfunction hexToBigInt(hex) {\n    if (typeof hex !== 'string')\n        throw new TypeError(`hexToBigInt: expected string, got ${typeof hex}`);\n    return BigInt(`0x${hex}`);\n}\nexports.hexToBigInt = hexToBigInt;\nfunction intToHex(integer, lengthBytes = 8) {\n    const value = typeof integer === 'bigint' ? integer : intToBigInt(integer, false);\n    return value.toString(16).padStart(lengthBytes * 2, '0');\n}\nexports.intToHex = intToHex;\nfunction hexToInt(hex) {\n    return parseInt(hex, 16);\n}\nexports.hexToInt = hexToInt;\nfunction bigIntToBytes(value, length = 16) {\n    const hex = intToHex(value, length);\n    return hexToBytes(hex);\n}\nexports.bigIntToBytes = bigIntToBytes;\nfunction toTwos(value, width) {\n    if (value < -(BigInt(1) << (width - BigInt(1))) ||\n        (BigInt(1) << (width - BigInt(1))) - BigInt(1) < value) {\n        throw `Unable to represent integer in width: ${width}`;\n    }\n    if (value >= BigInt(0)) {\n        return BigInt(value);\n    }\n    return value + (BigInt(1) << width);\n}\nexports.toTwos = toTwos;\nfunction nthBit(value, n) {\n    return value & (BigInt(1) << n);\n}\nfunction fromTwos(value, width) {\n    if (nthBit(value, width - BigInt(1))) {\n        return value - (BigInt(1) << width);\n    }\n    return value;\n}\nexports.fromTwos = fromTwos;\nconst hexes = Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Uint8Array expected');\n    let hex = '';\n    for (const u of uint8a) {\n        hex += hexes[u];\n    }\n    return hex;\n}\nexports.bytesToHex = bytesToHex;\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError(`hexToBytes: expected string, got ${typeof hex}`);\n    }\n    const paddedHex = hex.length % 2 ? `0${hex}` : hex;\n    const array = new Uint8Array(paddedHex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = paddedHex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nexports.hexToBytes = hexToBytes;\nfunction utf8ToBytes(str) {\n    return new TextEncoder().encode(str);\n}\nexports.utf8ToBytes = utf8ToBytes;\nfunction bytesToUtf8(arr) {\n    return new TextDecoder().decode(arr);\n}\nexports.bytesToUtf8 = bytesToUtf8;\nfunction asciiToBytes(str) {\n    const byteArray = [];\n    for (let i = 0; i < str.length; i++) {\n        byteArray.push(str.charCodeAt(i) & 0xff);\n    }\n    return new Uint8Array(byteArray);\n}\nexports.asciiToBytes = asciiToBytes;\nfunction bytesToAscii(arr) {\n    return String.fromCharCode.apply(null, arr);\n}\nexports.bytesToAscii = bytesToAscii;\nfunction isNotOctet(octet) {\n    return !Number.isInteger(octet) || octet < 0 || octet > 255;\n}\nfunction octetsToBytes(numbers) {\n    if (numbers.some(isNotOctet))\n        throw new Error('Some values are invalid bytes.');\n    return new Uint8Array(numbers);\n}\nexports.octetsToBytes = octetsToBytes;\nfunction toBytes(data) {\n    if (typeof data === 'string')\n        return utf8ToBytes(data);\n    if (data instanceof Uint8Array)\n        return data;\n    throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof data})`);\n}\nexports.toBytes = toBytes;\nfunction concatBytes(...arrays) {\n    if (!arrays.every(a => a instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nexports.concatBytes = concatBytes;\nfunction concatArray(elements) {\n    return concatBytes(...elements.map(e => {\n        if (typeof e === 'number')\n            return octetsToBytes([e]);\n        if (e instanceof Array)\n            return octetsToBytes(e);\n        return e;\n    }));\n}\nexports.concatArray = concatArray;\nfunction isInstance(object, type) {\n    return object instanceof type || object?.constructor?.name?.toLowerCase() === type.name;\n}\nexports.isInstance = isInstance;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyxtQkFBbUIsR0FBRyxlQUFlLEdBQUcscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcsb0JBQW9CLEdBQUcsbUJBQW1CLEdBQUcsbUJBQW1CLEdBQUcsa0JBQWtCLEdBQUcsa0JBQWtCLEdBQUcsZ0JBQWdCLEdBQUcsY0FBYyxHQUFHLHFCQUFxQixHQUFHLGdCQUFnQixHQUFHLGdCQUFnQixHQUFHLG1CQUFtQixHQUFHLGNBQWMsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyx3QkFBd0IsR0FBRyx1QkFBdUIsR0FBRyxzQkFBc0IsR0FBRywrQkFBK0IsR0FBRyxpQkFBaUIsR0FBRyxzQkFBc0IsR0FBRyxrQ0FBa0MsR0FBRyw2QkFBNkIsR0FBRyw2QkFBNkIsR0FBRyx3QkFBd0IsR0FBRyxnQkFBZ0IsR0FBRyxpQkFBaUIsR0FBRyxnQkFBZ0IsR0FBRywwQkFBMEI7QUFDcHhCLGlCQUFpQixtQkFBTyxDQUFDLG9FQUFVO0FBQ25DLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxtQ0FBbUMsSUFBSTtBQUN2QztBQUNBO0FBQ0Esb0NBQW9DLElBQUksR0FBRyxNQUFNO0FBQ2pEO0FBQ0E7QUFDQSxrQkFBa0IsSUFBSSxFQUFFLFVBQVUsRUFBRSxJQUFJLEdBQUcsTUFBTTtBQUNqRDtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSwwQkFBMEIsVUFBVSxlQUFlLFFBQVEsa0NBQWtDLFlBQVk7QUFDekc7QUFDQTtBQUNBLG9CQUFvQixRQUFRLDRCQUE0QixZQUFZO0FBQ3BFO0FBQ0E7QUFDQSxpQ0FBaUMsbURBQW1ELElBQUk7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxLQUFLLHVCQUF1QixZQUFZLEtBQUssTUFBTTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLG1DQUFtQyxtREFBbUQsSUFBSTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELE1BQU07QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsd0JBQXdCO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxZQUFZO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyx3QkFBd0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHdCQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxpREFBaUQsTUFBTTtBQUN2RDtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsaUVBQWlFLFdBQVc7QUFDNUUsdUJBQXVCLElBQUk7QUFDM0I7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxNQUFNO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsMkJBQTJCLGFBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxnRUFBZ0UsV0FBVztBQUMzRTtBQUNBLDJDQUEyQyxJQUFJO0FBQy9DO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLFlBQVk7QUFDN0Y7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb21tb24vZGlzdC91dGlscy5qcz9iNjVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0luc3RhbmNlID0gZXhwb3J0cy5jb25jYXRBcnJheSA9IGV4cG9ydHMuY29uY2F0Qnl0ZXMgPSBleHBvcnRzLnRvQnl0ZXMgPSBleHBvcnRzLm9jdGV0c1RvQnl0ZXMgPSBleHBvcnRzLmJ5dGVzVG9Bc2NpaSA9IGV4cG9ydHMuYXNjaWlUb0J5dGVzID0gZXhwb3J0cy5ieXRlc1RvVXRmOCA9IGV4cG9ydHMudXRmOFRvQnl0ZXMgPSBleHBvcnRzLmhleFRvQnl0ZXMgPSBleHBvcnRzLmJ5dGVzVG9IZXggPSBleHBvcnRzLmZyb21Ud29zID0gZXhwb3J0cy50b1R3b3MgPSBleHBvcnRzLmJpZ0ludFRvQnl0ZXMgPSBleHBvcnRzLmhleFRvSW50ID0gZXhwb3J0cy5pbnRUb0hleCA9IGV4cG9ydHMuaGV4VG9CaWdJbnQgPSBleHBvcnRzLndpdGgweCA9IGV4cG9ydHMuaW50VG9CaWdJbnQgPSBleHBvcnRzLmludFRvQnl0ZXMgPSBleHBvcnRzLmdldEdsb2JhbE9iamVjdHMgPSBleHBvcnRzLmdldEdsb2JhbE9iamVjdCA9IGV4cG9ydHMuZ2V0R2xvYmFsU2NvcGUgPSBleHBvcnRzLmlzU2FtZU9yaWdpbkFic29sdXRlVXJsID0gZXhwb3J0cy5tYWtlVVVJRDQgPSBleHBvcnRzLmlzTGF0ZXJWZXJzaW9uID0gZXhwb3J0cy51cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlciA9IGV4cG9ydHMuZ2V0QmFzZTY0T3V0cHV0TGVuZ3RoID0gZXhwb3J0cy5nZXRBZXNDYmNPdXRwdXRMZW5ndGggPSBleHBvcnRzLm1lZ2FieXRlc1RvQnl0ZXMgPSBleHBvcnRzLm5leHRIb3VyID0gZXhwb3J0cy5uZXh0TW9udGggPSBleHBvcnRzLm5leHRZZWFyID0gZXhwb3J0cy5CTE9DS1NUQUNLX0hBTkRMRVIgPSB2b2lkIDA7XG5jb25zdCBsb2dnZXJfMSA9IHJlcXVpcmUoXCIuL2xvZ2dlclwiKTtcbmV4cG9ydHMuQkxPQ0tTVEFDS19IQU5ETEVSID0gJ2Jsb2Nrc3RhY2snO1xuZnVuY3Rpb24gbmV4dFllYXIoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICsgMSkpO1xufVxuZXhwb3J0cy5uZXh0WWVhciA9IG5leHRZZWFyO1xuZnVuY3Rpb24gbmV4dE1vbnRoKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldE1vbnRoKG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDEpKTtcbn1cbmV4cG9ydHMubmV4dE1vbnRoID0gbmV4dE1vbnRoO1xuZnVuY3Rpb24gbmV4dEhvdXIoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0SG91cnMobmV3IERhdGUoKS5nZXRIb3VycygpICsgMSkpO1xufVxuZXhwb3J0cy5uZXh0SG91ciA9IG5leHRIb3VyO1xuZnVuY3Rpb24gbWVnYWJ5dGVzVG9CeXRlcyhtZWdhYnl0ZXMpIHtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShtZWdhYnl0ZXMpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5mbG9vcihtZWdhYnl0ZXMgKiAxMDI0ICogMTAyNCk7XG59XG5leHBvcnRzLm1lZ2FieXRlc1RvQnl0ZXMgPSBtZWdhYnl0ZXNUb0J5dGVzO1xuZnVuY3Rpb24gZ2V0QWVzQ2JjT3V0cHV0TGVuZ3RoKGlucHV0Qnl0ZUxlbmd0aCkge1xuICAgIGNvbnN0IGNpcGhlclRleHRMZW5ndGggPSAoTWF0aC5mbG9vcihpbnB1dEJ5dGVMZW5ndGggLyAxNikgKyAxKSAqIDE2O1xuICAgIHJldHVybiBjaXBoZXJUZXh0TGVuZ3RoO1xufVxuZXhwb3J0cy5nZXRBZXNDYmNPdXRwdXRMZW5ndGggPSBnZXRBZXNDYmNPdXRwdXRMZW5ndGg7XG5mdW5jdGlvbiBnZXRCYXNlNjRPdXRwdXRMZW5ndGgoaW5wdXRCeXRlTGVuZ3RoKSB7XG4gICAgY29uc3QgZW5jb2RlZExlbmd0aCA9IE1hdGguY2VpbChpbnB1dEJ5dGVMZW5ndGggLyAzKSAqIDQ7XG4gICAgcmV0dXJuIGVuY29kZWRMZW5ndGg7XG59XG5leHBvcnRzLmdldEJhc2U2NE91dHB1dExlbmd0aCA9IGdldEJhc2U2NE91dHB1dExlbmd0aDtcbmZ1bmN0aW9uIHVwZGF0ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyKHVyaSwga2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChgKFs/Jl0pJHtrZXl9PS4qPygmfCQpYCwgJ2knKTtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB1cmkuaW5kZXhPZignPycpICE9PSAtMSA/ICcmJyA6ICc/JztcbiAgICBpZiAodXJpLm1hdGNoKHJlKSkge1xuICAgICAgICByZXR1cm4gdXJpLnJlcGxhY2UocmUsIGAkMSR7a2V5fT0ke3ZhbHVlfSQyYCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYCR7dXJpfSR7c2VwYXJhdG9yfSR7a2V5fT0ke3ZhbHVlfWA7XG4gICAgfVxufVxuZXhwb3J0cy51cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlciA9IHVwZGF0ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyO1xuZnVuY3Rpb24gaXNMYXRlclZlcnNpb24odjEsIHYyKSB7XG4gICAgaWYgKHYxID09PSB1bmRlZmluZWQgfHwgdjEgPT09ICcnKSB7XG4gICAgICAgIHYxID0gJzAuMC4wJztcbiAgICB9XG4gICAgaWYgKHYyID09PSB1bmRlZmluZWQgfHwgdjEgPT09ICcnKSB7XG4gICAgICAgIHYyID0gJzAuMC4wJztcbiAgICB9XG4gICAgY29uc3QgdjF0dXBsZSA9IHYxLnNwbGl0KCcuJykubWFwKHggPT4gcGFyc2VJbnQoeCwgMTApKTtcbiAgICBjb25zdCB2MnR1cGxlID0gdjIuc3BsaXQoJy4nKS5tYXAoeCA9PiBwYXJzZUludCh4LCAxMCkpO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB2Mi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKGluZGV4ID49IHYxLmxlbmd0aCkge1xuICAgICAgICAgICAgdjJ0dXBsZS5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2MXR1cGxlW2luZGV4XSA8IHYydHVwbGVbaW5kZXhdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnRzLmlzTGF0ZXJWZXJzaW9uID0gaXNMYXRlclZlcnNpb247XG5mdW5jdGlvbiBtYWtlVVVJRDQoKSB7XG4gICAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGQgKz0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xuICAgICAgICBjb25zdCByID0gKGQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwO1xuICAgICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpO1xuICAgICAgICByZXR1cm4gKGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDgpLnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubWFrZVVVSUQ0ID0gbWFrZVVVSUQ0O1xuZnVuY3Rpb24gaXNTYW1lT3JpZ2luQWJzb2x1dGVVcmwodXJpMSwgdXJpMikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFVyaTEgPSBuZXcgVVJMKHVyaTEpO1xuICAgICAgICBjb25zdCBwYXJzZWRVcmkyID0gbmV3IFVSTCh1cmkyKTtcbiAgICAgICAgY29uc3QgcG9ydDEgPSBwYXJzZUludChwYXJzZWRVcmkxLnBvcnQgfHwgJzAnLCAxMCkgfCAwIHx8IChwYXJzZWRVcmkxLnByb3RvY29sID09PSAnaHR0cHM6JyA/IDQ0MyA6IDgwKTtcbiAgICAgICAgY29uc3QgcG9ydDIgPSBwYXJzZUludChwYXJzZWRVcmkyLnBvcnQgfHwgJzAnLCAxMCkgfCAwIHx8IChwYXJzZWRVcmkyLnByb3RvY29sID09PSAnaHR0cHM6JyA/IDQ0MyA6IDgwKTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB7XG4gICAgICAgICAgICBzY2hlbWU6IHBhcnNlZFVyaTEucHJvdG9jb2wgPT09IHBhcnNlZFVyaTIucHJvdG9jb2wsXG4gICAgICAgICAgICBob3N0bmFtZTogcGFyc2VkVXJpMS5ob3N0bmFtZSA9PT0gcGFyc2VkVXJpMi5ob3N0bmFtZSxcbiAgICAgICAgICAgIHBvcnQ6IHBvcnQxID09PSBwb3J0MixcbiAgICAgICAgICAgIGFic29sdXRlOiAodXJpMS5pbmNsdWRlcygnaHR0cDovLycpIHx8IHVyaTEuaW5jbHVkZXMoJ2h0dHBzOi8vJykpICYmXG4gICAgICAgICAgICAgICAgKHVyaTIuaW5jbHVkZXMoJ2h0dHA6Ly8nKSB8fCB1cmkyLmluY2x1ZGVzKCdodHRwczovLycpKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1hdGNoLnNjaGVtZSAmJiBtYXRjaC5ob3N0bmFtZSAmJiBtYXRjaC5wb3J0ICYmIG1hdGNoLmFic29sdXRlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICBjb25zb2xlLmxvZygnUGFyc2luZyBlcnJvciBpbiBzYW1lIFVSTCBvcmlnaW4gY2hlY2snKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydHMuaXNTYW1lT3JpZ2luQWJzb2x1dGVVcmwgPSBpc1NhbWVPcmlnaW5BYnNvbHV0ZVVybDtcbmZ1bmN0aW9uIGdldEdsb2JhbFNjb3BlKCkge1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHJ1bnRpbWUgZW52aXJvbm1lbnQgLSBubyBzdXBwb3J0ZWQgZ2xvYmFsIHNjb3BlIChgd2luZG93YCwgYHNlbGZgLCBgZ2xvYmFsYCkgYXZhaWxhYmxlJyk7XG59XG5leHBvcnRzLmdldEdsb2JhbFNjb3BlID0gZ2V0R2xvYmFsU2NvcGU7XG5mdW5jdGlvbiBnZXRBUElVc2FnZUVycm9yTWVzc2FnZShzY29wZU9iamVjdCwgYXBpTmFtZSwgdXNhZ2VEZXNjKSB7XG4gICAgaWYgKHVzYWdlRGVzYykge1xuICAgICAgICByZXR1cm4gYFVzZSBvZiAnJHt1c2FnZURlc2N9JyByZXF1aXJlcyBcXGAke2FwaU5hbWV9XFxgIHdoaWNoIGlzIHVuYXZhaWxhYmxlIG9uIHRoZSAnJHtzY29wZU9iamVjdH0nIG9iamVjdCB3aXRoaW4gdGhlIGN1cnJlbnRseSBleGVjdXRpbmcgZW52aXJvbm1lbnQuYDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBgXFxgJHthcGlOYW1lfVxcYCBpcyB1bmF2YWlsYWJsZSBvbiB0aGUgJyR7c2NvcGVPYmplY3R9JyBvYmplY3Qgd2l0aGluIHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIGVudmlyb25tZW50LmA7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0R2xvYmFsT2JqZWN0KG5hbWUsIHsgdGhyb3dJZlVuYXZhaWxhYmxlLCB1c2FnZURlc2MsIHJldHVybkVtcHR5T2JqZWN0IH0gPSB7fSkge1xuICAgIGxldCBnbG9iYWxTY29wZSA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgICBnbG9iYWxTY29wZSA9IGdldEdsb2JhbFNjb3BlKCk7XG4gICAgICAgIGlmIChnbG9iYWxTY29wZSkge1xuICAgICAgICAgICAgY29uc3Qgb2JqID0gZ2xvYmFsU2NvcGVbbmFtZV07XG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGBFcnJvciBnZXR0aW5nIG9iamVjdCAnJHtuYW1lfScgZnJvbSBnbG9iYWwgc2NvcGUgJyR7Z2xvYmFsU2NvcGV9JzogJHtlcnJvcn1gKTtcbiAgICB9XG4gICAgaWYgKHRocm93SWZVbmF2YWlsYWJsZSkge1xuICAgICAgICBjb25zdCBlcnJNc2cgPSBnZXRBUElVc2FnZUVycm9yTWVzc2FnZShnbG9iYWxTY29wZSwgbmFtZS50b1N0cmluZygpLCB1c2FnZURlc2MpO1xuICAgICAgICBsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgfVxuICAgIGlmIChyZXR1cm5FbXB0eU9iamVjdCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnRzLmdldEdsb2JhbE9iamVjdCA9IGdldEdsb2JhbE9iamVjdDtcbmZ1bmN0aW9uIGdldEdsb2JhbE9iamVjdHMobmFtZXMsIHsgdGhyb3dJZlVuYXZhaWxhYmxlLCB1c2FnZURlc2MsIHJldHVybkVtcHR5T2JqZWN0IH0gPSB7fSkge1xuICAgIGxldCBnbG9iYWxTY29wZTtcbiAgICB0cnkge1xuICAgICAgICBnbG9iYWxTY29wZSA9IGdldEdsb2JhbFNjb3BlKCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoYEVycm9yIGdldHRpbmcgZ2xvYmFsIHNjb3BlOiAke2Vycm9yfWApO1xuICAgICAgICBpZiAodGhyb3dJZlVuYXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBnZXRBUElVc2FnZUVycm9yTWVzc2FnZShnbG9iYWxTY29wZSwgbmFtZXNbMF0udG9TdHJpbmcoKSwgdXNhZ2VEZXNjKTtcbiAgICAgICAgICAgIGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgdGhyb3cgZXJyTXNnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJldHVybkVtcHR5T2JqZWN0KSB7XG4gICAgICAgICAgICBnbG9iYWxTY29wZSA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGdsb2JhbFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gZ2xvYmFsU2NvcGVbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBvYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRocm93SWZVbmF2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBnZXRBUElVc2FnZUVycm9yTWVzc2FnZShnbG9iYWxTY29wZSwgbmFtZS50b1N0cmluZygpLCB1c2FnZURlc2MpO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJldHVybkVtcHR5T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0aHJvd0lmVW5hdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSBnZXRBUElVc2FnZUVycm9yTWVzc2FnZShnbG9iYWxTY29wZSwgbmFtZS50b1N0cmluZygpLCB1c2FnZURlc2MpO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmdldEdsb2JhbE9iamVjdHMgPSBnZXRHbG9iYWxPYmplY3RzO1xuZnVuY3Rpb24gaW50VG9CeXRlcyh2YWx1ZSwgc2lnbmVkLCBieXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJpZ0ludFRvQnl0ZXMoaW50VG9CaWdJbnQodmFsdWUsIHNpZ25lZCksIGJ5dGVMZW5ndGgpO1xufVxuZXhwb3J0cy5pbnRUb0J5dGVzID0gaW50VG9CeXRlcztcbmZ1bmN0aW9uIGludFRvQmlnSW50KHZhbHVlLCBzaWduZWQpIHtcbiAgICBsZXQgcGFyc2VkVmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAodHlwZW9mIHBhcnNlZFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIocGFyc2VkVmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCB2YWx1ZS4gVmFsdWVzIG9mIHR5cGUgJ251bWJlcicgbXVzdCBiZSBhbiBpbnRlZ2VyLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWRWYWx1ZSA+IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCB2YWx1ZS4gVmFsdWVzIG9mIHR5cGUgJ251bWJlcicgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gJHtOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0uIEZvciBsYXJnZXIgdmFsdWVzLCB0cnkgdXNpbmcgYSBCaWdJbnQgaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmlnSW50KHBhcnNlZFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJzZWRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHBhcnNlZFZhbHVlLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnMHgnKSkge1xuICAgICAgICAgICAgbGV0IGhleCA9IHBhcnNlZFZhbHVlLnNsaWNlKDIpO1xuICAgICAgICAgICAgaGV4ID0gaGV4LnBhZFN0YXJ0KGhleC5sZW5ndGggKyAoaGV4Lmxlbmd0aCAlIDIpLCAnMCcpO1xuICAgICAgICAgICAgcGFyc2VkVmFsdWUgPSBoZXhUb0J5dGVzKGhleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnQocGFyc2VkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgdmFsdWUuIFN0cmluZyBpbnRlZ2VyICcke3BhcnNlZFZhbHVlfScgaXMgbm90IGZpbml0ZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJzZWRWYWx1ZSA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZFZhbHVlO1xuICAgIH1cbiAgICBpZiAocGFyc2VkVmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIGlmIChzaWduZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGJuID0gZnJvbVR3b3MoQmlnSW50KGAweCR7Ynl0ZXNUb0hleChwYXJzZWRWYWx1ZSl9YCksIEJpZ0ludChwYXJzZWRWYWx1ZS5ieXRlTGVuZ3RoICogOCkpO1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludChibi50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnQoYDB4JHtieXRlc1RvSGV4KHBhcnNlZFZhbHVlKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyc2VkVmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgcGFyc2VkVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHBhcnNlZFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdCTicpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludChwYXJzZWRWYWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCB2YWx1ZSB0eXBlLiBNdXN0IGJlIGEgbnVtYmVyLCBiaWdpbnQsIGludGVnZXItc3RyaW5nLCBoZXgtc3RyaW5nLCBvciBVaW50OEFycmF5LmApO1xufVxuZXhwb3J0cy5pbnRUb0JpZ0ludCA9IGludFRvQmlnSW50O1xuZnVuY3Rpb24gd2l0aDB4KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgoJzB4JykgPyB2YWx1ZSA6IGAweCR7dmFsdWV9YDtcbn1cbmV4cG9ydHMud2l0aDB4ID0gd2l0aDB4O1xuZnVuY3Rpb24gaGV4VG9CaWdJbnQoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBoZXhUb0JpZ0ludDogZXhwZWN0ZWQgc3RyaW5nLCBnb3QgJHt0eXBlb2YgaGV4fWApO1xuICAgIHJldHVybiBCaWdJbnQoYDB4JHtoZXh9YCk7XG59XG5leHBvcnRzLmhleFRvQmlnSW50ID0gaGV4VG9CaWdJbnQ7XG5mdW5jdGlvbiBpbnRUb0hleChpbnRlZ2VyLCBsZW5ndGhCeXRlcyA9IDgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiBpbnRlZ2VyID09PSAnYmlnaW50JyA/IGludGVnZXIgOiBpbnRUb0JpZ0ludChpbnRlZ2VyLCBmYWxzZSk7XG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKDE2KS5wYWRTdGFydChsZW5ndGhCeXRlcyAqIDIsICcwJyk7XG59XG5leHBvcnRzLmludFRvSGV4ID0gaW50VG9IZXg7XG5mdW5jdGlvbiBoZXhUb0ludChoZXgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoaGV4LCAxNik7XG59XG5leHBvcnRzLmhleFRvSW50ID0gaGV4VG9JbnQ7XG5mdW5jdGlvbiBiaWdJbnRUb0J5dGVzKHZhbHVlLCBsZW5ndGggPSAxNikge1xuICAgIGNvbnN0IGhleCA9IGludFRvSGV4KHZhbHVlLCBsZW5ndGgpO1xuICAgIHJldHVybiBoZXhUb0J5dGVzKGhleCk7XG59XG5leHBvcnRzLmJpZ0ludFRvQnl0ZXMgPSBiaWdJbnRUb0J5dGVzO1xuZnVuY3Rpb24gdG9Ud29zKHZhbHVlLCB3aWR0aCkge1xuICAgIGlmICh2YWx1ZSA8IC0oQmlnSW50KDEpIDw8ICh3aWR0aCAtIEJpZ0ludCgxKSkpIHx8XG4gICAgICAgIChCaWdJbnQoMSkgPDwgKHdpZHRoIC0gQmlnSW50KDEpKSkgLSBCaWdJbnQoMSkgPCB2YWx1ZSkge1xuICAgICAgICB0aHJvdyBgVW5hYmxlIHRvIHJlcHJlc2VudCBpbnRlZ2VyIGluIHdpZHRoOiAke3dpZHRofWA7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA+PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSArIChCaWdJbnQoMSkgPDwgd2lkdGgpO1xufVxuZXhwb3J0cy50b1R3b3MgPSB0b1R3b3M7XG5mdW5jdGlvbiBudGhCaXQodmFsdWUsIG4pIHtcbiAgICByZXR1cm4gdmFsdWUgJiAoQmlnSW50KDEpIDw8IG4pO1xufVxuZnVuY3Rpb24gZnJvbVR3b3ModmFsdWUsIHdpZHRoKSB7XG4gICAgaWYgKG50aEJpdCh2YWx1ZSwgd2lkdGggLSBCaWdJbnQoMSkpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAtIChCaWdJbnQoMSkgPDwgd2lkdGgpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnRzLmZyb21Ud29zID0gZnJvbVR3b3M7XG5jb25zdCBoZXhlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAoXywgaSkgPT4gaS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSk7XG5mdW5jdGlvbiBieXRlc1RvSGV4KHVpbnQ4YSkge1xuICAgIGlmICghKHVpbnQ4YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VpbnQ4QXJyYXkgZXhwZWN0ZWQnKTtcbiAgICBsZXQgaGV4ID0gJyc7XG4gICAgZm9yIChjb25zdCB1IG9mIHVpbnQ4YSkge1xuICAgICAgICBoZXggKz0gaGV4ZXNbdV07XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG5leHBvcnRzLmJ5dGVzVG9IZXggPSBieXRlc1RvSGV4O1xuZnVuY3Rpb24gaGV4VG9CeXRlcyhoZXgpIHtcbiAgICBpZiAodHlwZW9mIGhleCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgaGV4VG9CeXRlczogZXhwZWN0ZWQgc3RyaW5nLCBnb3QgJHt0eXBlb2YgaGV4fWApO1xuICAgIH1cbiAgICBjb25zdCBwYWRkZWRIZXggPSBoZXgubGVuZ3RoICUgMiA/IGAwJHtoZXh9YCA6IGhleDtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KHBhZGRlZEhleC5sZW5ndGggLyAyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGogPSBpICogMjtcbiAgICAgICAgY29uc3QgaGV4Qnl0ZSA9IHBhZGRlZEhleC5zbGljZShqLCBqICsgMik7XG4gICAgICAgIGNvbnN0IGJ5dGUgPSBOdW1iZXIucGFyc2VJbnQoaGV4Qnl0ZSwgMTYpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGJ5dGUpIHx8IGJ5dGUgPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJ5dGUgc2VxdWVuY2UnKTtcbiAgICAgICAgYXJyYXlbaV0gPSBieXRlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5leHBvcnRzLmhleFRvQnl0ZXMgPSBoZXhUb0J5dGVzO1xuZnVuY3Rpb24gdXRmOFRvQnl0ZXMoc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpO1xufVxuZXhwb3J0cy51dGY4VG9CeXRlcyA9IHV0ZjhUb0J5dGVzO1xuZnVuY3Rpb24gYnl0ZXNUb1V0ZjgoYXJyKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShhcnIpO1xufVxuZXhwb3J0cy5ieXRlc1RvVXRmOCA9IGJ5dGVzVG9VdGY4O1xuZnVuY3Rpb24gYXNjaWlUb0J5dGVzKHN0cikge1xuICAgIGNvbnN0IGJ5dGVBcnJheSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShieXRlQXJyYXkpO1xufVxuZXhwb3J0cy5hc2NpaVRvQnl0ZXMgPSBhc2NpaVRvQnl0ZXM7XG5mdW5jdGlvbiBieXRlc1RvQXNjaWkoYXJyKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYXJyKTtcbn1cbmV4cG9ydHMuYnl0ZXNUb0FzY2lpID0gYnl0ZXNUb0FzY2lpO1xuZnVuY3Rpb24gaXNOb3RPY3RldChvY3RldCkge1xuICAgIHJldHVybiAhTnVtYmVyLmlzSW50ZWdlcihvY3RldCkgfHwgb2N0ZXQgPCAwIHx8IG9jdGV0ID4gMjU1O1xufVxuZnVuY3Rpb24gb2N0ZXRzVG9CeXRlcyhudW1iZXJzKSB7XG4gICAgaWYgKG51bWJlcnMuc29tZShpc05vdE9jdGV0KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21lIHZhbHVlcyBhcmUgaW52YWxpZCBieXRlcy4nKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobnVtYmVycyk7XG59XG5leHBvcnRzLm9jdGV0c1RvQnl0ZXMgPSBvY3RldHNUb0J5dGVzO1xuZnVuY3Rpb24gdG9CeXRlcyhkYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKGRhdGEpO1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgaW5wdXQgdHlwZSBpcyAoVWludDhBcnJheSB8IHN0cmluZykgYnV0IGdvdCAoJHt0eXBlb2YgZGF0YX0pYCk7XG59XG5leHBvcnRzLnRvQnl0ZXMgPSB0b0J5dGVzO1xuZnVuY3Rpb24gY29uY2F0Qnl0ZXMoLi4uYXJyYXlzKSB7XG4gICAgaWYgKCFhcnJheXMuZXZlcnkoYSA9PiBhIGluc3RhbmNlb2YgVWludDhBcnJheSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVWludDhBcnJheSBsaXN0IGV4cGVjdGVkJyk7XG4gICAgaWYgKGFycmF5cy5sZW5ndGggPT09IDEpXG4gICAgICAgIHJldHVybiBhcnJheXNbMF07XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXlzLnJlZHVjZSgoYSwgYXJyKSA9PiBhICsgYXJyLmxlbmd0aCwgMCk7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgcGFkID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhcnIgPSBhcnJheXNbaV07XG4gICAgICAgIHJlc3VsdC5zZXQoYXJyLCBwYWQpO1xuICAgICAgICBwYWQgKz0gYXJyLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuY29uY2F0Qnl0ZXMgPSBjb25jYXRCeXRlcztcbmZ1bmN0aW9uIGNvbmNhdEFycmF5KGVsZW1lbnRzKSB7XG4gICAgcmV0dXJuIGNvbmNhdEJ5dGVzKC4uLmVsZW1lbnRzLm1hcChlID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBlID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgIHJldHVybiBvY3RldHNUb0J5dGVzKFtlXSk7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICByZXR1cm4gb2N0ZXRzVG9CeXRlcyhlKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfSkpO1xufVxuZXhwb3J0cy5jb25jYXRBcnJheSA9IGNvbmNhdEFycmF5O1xuZnVuY3Rpb24gaXNJbnN0YW5jZShvYmplY3QsIHR5cGUpIHtcbiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgdHlwZSB8fCBvYmplY3Q/LmNvbnN0cnVjdG9yPy5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSB0eXBlLm5hbWU7XG59XG5leHBvcnRzLmlzSW5zdGFuY2UgPSBpc0luc3RhbmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/common/dist/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-react/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@stacks/connect-react/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nvar C = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nvar connect = __webpack_require__(/*! @stacks/connect */ \"(ssr)/./node_modules/@stacks/connect/dist/index.js\");\n\nfunction _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }\n\nvar C__default = /*#__PURE__*/_interopDefault(C);\n\nvar _=Object.defineProperty,I=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var S=(n,e,r)=>e in n?_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,a=(n,e)=>{for(var r in e||(e={}))H.call(e,r)&&S(n,r,e[r]);if(O)for(var r of O(e))N.call(e,r)&&S(n,r,e[r]);return n},s=(n,e)=>I(n,E(e));var D={isOpen:!1,isAuthenticating:!1,authData:void 0,userSession:void 0,authOptions:{redirectTo:\"\",manifestPath:\"\",onFinish:()=>null,authOrigin:void 0,sendToSignIn:!1,appDetails:{name:\"\",icon:\"\"}}},$=(n,{type:e,payload:r})=>{switch(e){case\"data/update-auth-options\":return s(a({},n),{authOptions:a(a({},n.authOptions),r)});default:throw new Error(`Unhandled action type: ${e}`)}},c=C.createContext(D),d=C.createContext(void 0),g=({authOptions:n,children:e})=>{let[r,t]=C.useReducer($,D);return C__default.default.createElement(c.Provider,{value:s(a({},r),{authOptions:n})},C__default.default.createElement(d.Provider,{value:t},e))};var z=({authOptions:n,children:e})=>C__default.default.createElement(g,{authOptions:n},e);var Z=()=>{let n=C.useContext(d);if(!n)throw new Error(\"This must be used within the ConnectProvider component.\");return n},tt=()=>{let{isOpen:n,isAuthenticating:e,authData:r,authOptions:t,userSession:T}=C.useContext(c),A=Z(),m=o=>A({type:\"data/update-auth-options\",payload:o}),v=(o,i,u)=>{if(o){let p=s(a(a({},t),i),{onFinish:w=>{var l;(l=t.onFinish)==null||l.call(t,w);},sendToSignIn:!0});connect.authenticate(p,u);return}else connect.showBlockstackConnect(s(a({},t),{sendToSignIn:!1}));t&&m(t);},y=(o={},i)=>{connect.authenticate(s(a(a({},t),o),{onFinish:u=>{var p;(p=t.onFinish)==null||p.call(t,u);}}),i);};function R(o,i){return connect.openContractCall(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}function x(o,i){return connect.openContractDeploy(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}function U(o,i){return connect.openSTXTransfer(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}function k(o,i){return connect.openProfileUpdateRequestPopup(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}function q(o,i){return connect.openSignTransaction(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}function F(o,i){return connect.openSignatureRequestPopup(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}function b(o,i){return connect.openStructuredDataSignatureRequestPopup(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}function X(o,i){return connect.openPsbtRequestPopup(s(a({},o),{authOrigin:t.authOrigin,appDetails:t.appDetails}),i)}return {isOpen:n,isAuthenticating:e,authData:r,authOptions:t,userSession:T,doOpenAuth:v,doAuth:y,authenticate:connect.authenticate,doContractCall:R,doContractDeploy:x,doSTXTransfer:U,doSignTransaction:q,doProfileUpdate:k,sign:F,signStructuredData:b,signPsbt:X}};\n\nexports.Connect = z;\nexports.useConnect = tt;\nObject.keys(connect).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return connect[k]; }\n\t});\n});\n//# sourceMappingURL=out.js.map\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXJlYWN0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsUUFBUSxtQkFBTyxDQUFDLHdHQUFPO0FBQ3ZCLGNBQWMsbUJBQU8sQ0FBQywyRUFBaUI7O0FBRXZDLCtCQUErQixpQ0FBaUM7O0FBRWhFOztBQUVBLHNEQUFzRCx1Q0FBdUMsbUNBQW1DLDhFQUE4RSw2QkFBNkIsa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLG9CQUFvQixPQUFPLDhFQUE4RSw4RkFBOEYsa0JBQWtCLE9BQU8saUJBQWlCLElBQUksVUFBVSw0Q0FBNEMsS0FBSyxrQkFBa0IsbUJBQW1CLEVBQUUsa0RBQWtELEVBQUUsSUFBSSxvREFBb0QseUJBQXlCLElBQUksMkJBQTJCLG9EQUFvRCxZQUFZLEtBQUssY0FBYyxFQUFFLDhDQUE4QyxRQUFRLE1BQU0sUUFBUSx5QkFBeUIsdUNBQXVDLGNBQWMsSUFBSSxXQUFXLHNCQUFzQixpRkFBaUYsU0FBUyxTQUFTLElBQUksbUVBQW1FLCtCQUErQiwwQ0FBMEMsY0FBYyxNQUFNLGNBQWMsUUFBUSxhQUFhLE1BQU0sbUNBQW1DLGlCQUFpQixFQUFFLDBCQUEwQixPQUFPLHlDQUF5QyxLQUFLLGdCQUFnQixHQUFHLFNBQVMsUUFBUSxNQUFNLDZCQUE2QixRQUFRLGFBQWEsTUFBTSxvQ0FBb0MsT0FBTyxnQkFBZ0Isc0NBQXNDLEtBQUssZ0RBQWdELEtBQUssZ0JBQWdCLHdDQUF3QyxLQUFLLGdEQUFnRCxLQUFLLGdCQUFnQixxQ0FBcUMsS0FBSyxnREFBZ0QsS0FBSyxnQkFBZ0IsbURBQW1ELEtBQUssZ0RBQWdELEtBQUssZ0JBQWdCLHlDQUF5QyxLQUFLLGdEQUFnRCxLQUFLLGdCQUFnQiwrQ0FBK0MsS0FBSyxnREFBZ0QsS0FBSyxnQkFBZ0IsNkRBQTZELEtBQUssZ0RBQWdELEtBQUssZ0JBQWdCLDBDQUEwQyxLQUFLLGdEQUFnRCxLQUFLLFFBQVE7O0FBRS9wRixlQUFlO0FBQ2Ysa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixFQUFFO0FBQ0YsQ0FBQztBQUNEO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXJlYWN0L2Rpc3QvaW5kZXguanM/MWRkZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBDID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBjb25uZWN0ID0gcmVxdWlyZSgnQHN0YWNrcy9jb25uZWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdCAoZSkgeyByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07IH1cblxudmFyIENfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0KEMpO1xuXG52YXIgXz1PYmplY3QuZGVmaW5lUHJvcGVydHksST1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIgRT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczt2YXIgTz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBIPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO3ZhciBTPShuLGUscik9PmUgaW4gbj9fKG4sZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOm5bZV09cixhPShuLGUpPT57Zm9yKHZhciByIGluIGV8fChlPXt9KSlILmNhbGwoZSxyKSYmUyhuLHIsZVtyXSk7aWYoTylmb3IodmFyIHIgb2YgTyhlKSlOLmNhbGwoZSxyKSYmUyhuLHIsZVtyXSk7cmV0dXJuIG59LHM9KG4sZSk9PkkobixFKGUpKTt2YXIgRD17aXNPcGVuOiExLGlzQXV0aGVudGljYXRpbmc6ITEsYXV0aERhdGE6dm9pZCAwLHVzZXJTZXNzaW9uOnZvaWQgMCxhdXRoT3B0aW9uczp7cmVkaXJlY3RUbzpcIlwiLG1hbmlmZXN0UGF0aDpcIlwiLG9uRmluaXNoOigpPT5udWxsLGF1dGhPcmlnaW46dm9pZCAwLHNlbmRUb1NpZ25JbjohMSxhcHBEZXRhaWxzOntuYW1lOlwiXCIsaWNvbjpcIlwifX19LCQ9KG4se3R5cGU6ZSxwYXlsb2FkOnJ9KT0+e3N3aXRjaChlKXtjYXNlXCJkYXRhL3VwZGF0ZS1hdXRoLW9wdGlvbnNcIjpyZXR1cm4gcyhhKHt9LG4pLHthdXRoT3B0aW9uczphKGEoe30sbi5hdXRoT3B0aW9ucykscil9KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIGFjdGlvbiB0eXBlOiAke2V9YCl9fSxjPUMuY3JlYXRlQ29udGV4dChEKSxkPUMuY3JlYXRlQ29udGV4dCh2b2lkIDApLGc9KHthdXRoT3B0aW9uczpuLGNoaWxkcmVuOmV9KT0+e2xldFtyLHRdPUMudXNlUmVkdWNlcigkLEQpO3JldHVybiBDX19kZWZhdWx0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChjLlByb3ZpZGVyLHt2YWx1ZTpzKGEoe30scikse2F1dGhPcHRpb25zOm59KX0sQ19fZGVmYXVsdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZC5Qcm92aWRlcix7dmFsdWU6dH0sZSkpfTt2YXIgej0oe2F1dGhPcHRpb25zOm4sY2hpbGRyZW46ZX0pPT5DX19kZWZhdWx0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChnLHthdXRoT3B0aW9uczpufSxlKTt2YXIgWj0oKT0+e2xldCBuPUMudXNlQ29udGV4dChkKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG11c3QgYmUgdXNlZCB3aXRoaW4gdGhlIENvbm5lY3RQcm92aWRlciBjb21wb25lbnQuXCIpO3JldHVybiBufSx0dD0oKT0+e2xldHtpc09wZW46bixpc0F1dGhlbnRpY2F0aW5nOmUsYXV0aERhdGE6cixhdXRoT3B0aW9uczp0LHVzZXJTZXNzaW9uOlR9PUMudXNlQ29udGV4dChjKSxBPVooKSxtPW89PkEoe3R5cGU6XCJkYXRhL3VwZGF0ZS1hdXRoLW9wdGlvbnNcIixwYXlsb2FkOm99KSx2PShvLGksdSk9PntpZihvKXtsZXQgcD1zKGEoYSh7fSx0KSxpKSx7b25GaW5pc2g6dz0+e3ZhciBsOyhsPXQub25GaW5pc2gpPT1udWxsfHxsLmNhbGwodCx3KTt9LHNlbmRUb1NpZ25JbjohMH0pO2Nvbm5lY3QuYXV0aGVudGljYXRlKHAsdSk7cmV0dXJufWVsc2UgY29ubmVjdC5zaG93QmxvY2tzdGFja0Nvbm5lY3QocyhhKHt9LHQpLHtzZW5kVG9TaWduSW46ITF9KSk7dCYmbSh0KTt9LHk9KG89e30saSk9Pntjb25uZWN0LmF1dGhlbnRpY2F0ZShzKGEoYSh7fSx0KSxvKSx7b25GaW5pc2g6dT0+e3ZhciBwOyhwPXQub25GaW5pc2gpPT1udWxsfHxwLmNhbGwodCx1KTt9fSksaSk7fTtmdW5jdGlvbiBSKG8saSl7cmV0dXJuIGNvbm5lY3Qub3BlbkNvbnRyYWN0Q2FsbChzKGEoe30sbykse2F1dGhPcmlnaW46dC5hdXRoT3JpZ2luLGFwcERldGFpbHM6dC5hcHBEZXRhaWxzfSksaSl9ZnVuY3Rpb24geChvLGkpe3JldHVybiBjb25uZWN0Lm9wZW5Db250cmFjdERlcGxveShzKGEoe30sbykse2F1dGhPcmlnaW46dC5hdXRoT3JpZ2luLGFwcERldGFpbHM6dC5hcHBEZXRhaWxzfSksaSl9ZnVuY3Rpb24gVShvLGkpe3JldHVybiBjb25uZWN0Lm9wZW5TVFhUcmFuc2ZlcihzKGEoe30sbykse2F1dGhPcmlnaW46dC5hdXRoT3JpZ2luLGFwcERldGFpbHM6dC5hcHBEZXRhaWxzfSksaSl9ZnVuY3Rpb24gayhvLGkpe3JldHVybiBjb25uZWN0Lm9wZW5Qcm9maWxlVXBkYXRlUmVxdWVzdFBvcHVwKHMoYSh7fSxvKSx7YXV0aE9yaWdpbjp0LmF1dGhPcmlnaW4sYXBwRGV0YWlsczp0LmFwcERldGFpbHN9KSxpKX1mdW5jdGlvbiBxKG8saSl7cmV0dXJuIGNvbm5lY3Qub3BlblNpZ25UcmFuc2FjdGlvbihzKGEoe30sbykse2F1dGhPcmlnaW46dC5hdXRoT3JpZ2luLGFwcERldGFpbHM6dC5hcHBEZXRhaWxzfSksaSl9ZnVuY3Rpb24gRihvLGkpe3JldHVybiBjb25uZWN0Lm9wZW5TaWduYXR1cmVSZXF1ZXN0UG9wdXAocyhhKHt9LG8pLHthdXRoT3JpZ2luOnQuYXV0aE9yaWdpbixhcHBEZXRhaWxzOnQuYXBwRGV0YWlsc30pLGkpfWZ1bmN0aW9uIGIobyxpKXtyZXR1cm4gY29ubmVjdC5vcGVuU3RydWN0dXJlZERhdGFTaWduYXR1cmVSZXF1ZXN0UG9wdXAocyhhKHt9LG8pLHthdXRoT3JpZ2luOnQuYXV0aE9yaWdpbixhcHBEZXRhaWxzOnQuYXBwRGV0YWlsc30pLGkpfWZ1bmN0aW9uIFgobyxpKXtyZXR1cm4gY29ubmVjdC5vcGVuUHNidFJlcXVlc3RQb3B1cChzKGEoe30sbykse2F1dGhPcmlnaW46dC5hdXRoT3JpZ2luLGFwcERldGFpbHM6dC5hcHBEZXRhaWxzfSksaSl9cmV0dXJuIHtpc09wZW46bixpc0F1dGhlbnRpY2F0aW5nOmUsYXV0aERhdGE6cixhdXRoT3B0aW9uczp0LHVzZXJTZXNzaW9uOlQsZG9PcGVuQXV0aDp2LGRvQXV0aDp5LGF1dGhlbnRpY2F0ZTpjb25uZWN0LmF1dGhlbnRpY2F0ZSxkb0NvbnRyYWN0Q2FsbDpSLGRvQ29udHJhY3REZXBsb3k6eCxkb1NUWFRyYW5zZmVyOlUsZG9TaWduVHJhbnNhY3Rpb246cSxkb1Byb2ZpbGVVcGRhdGU6ayxzaWduOkYsc2lnblN0cnVjdHVyZWREYXRhOmIsc2lnblBzYnQ6WH19O1xuXG5leHBvcnRzLkNvbm5lY3QgPSB6O1xuZXhwb3J0cy51c2VDb25uZWN0ID0gdHQ7XG5PYmplY3Qua2V5cyhjb25uZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG5cdGlmIChrICE9PSAnZGVmYXVsdCcgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBrKSkgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGssIHtcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdFtrXTsgfVxuXHR9KTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0LmpzLm1hcFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-react/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/connect-modal.cjs.entry.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stacks/connect-ui/dist/cjs/connect-modal.cjs.entry.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nconst index = __webpack_require__(/*! ./index-3e3437e9.js */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/index-3e3437e9.js\");\nconst session = __webpack_require__(/*! ./session-7c78eac2.js */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/session-7c78eac2.js\");\n\nconst closeIconSvg = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTcgNyAxMCAxME0xNyA3IDcgMTciIHN0cm9rZT0iIzI0MjYyOSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==';\n\nconst isChrome = () => {\n  const isChromium = !!window['chrome'];\n  const winNav = window.navigator;\n  const vendorName = winNav.vendor;\n  const isOpera = typeof window.opr !== 'undefined';\n  const isIEedge = winNav.userAgent.includes('Edge');\n  const isIOSChrome = /CriOS/.exec(winNav.userAgent);\n  const isMobile = winNav.userAgent.includes('Mobile');\n  if (isIOSChrome) {\n    return false;\n  }\n  else if (isChromium !== null &&\n    typeof isChromium !== 'undefined' &&\n    vendorName === 'Google Inc.' &&\n    isOpera === false &&\n    isIEedge === false &&\n    isMobile === false) {\n    return true;\n  }\n  else {\n    return false;\n  }\n};\nconst getBrowser = () => {\n  if (isChrome()) {\n    return 'Chrome';\n  }\n  else if (window.navigator.userAgent.includes('Firefox')) {\n    return 'Firefox';\n  }\n  return null;\n};\nconst getPlatform = () => {\n  if (!window.navigator.userAgent.includes('Mobile'))\n    return null;\n  if (window.navigator.userAgent.includes('iPhone')) {\n    return 'IOS';\n  }\n  else\n    return 'Android';\n};\n\nconst modalCss = \"/*! tailwindcss v3.3.5 | MIT License | https://tailwindcss.com*/*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:\\\"\\\"}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;}:host{all:initial}.modal-container{color:#74777d;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.modal-body{-ms-overflow-style:none;scrollbar-width:none}.modal-body::-webkit-scrollbar{display:none}.sr-only{clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.static{position:static}.fixed{position:fixed}.inset-0{inset:0}.z-\\\\[8999\\\\]{z-index:8999}.z-\\\\[9000\\\\]{z-index:9000}.mx-auto{margin-left:auto;margin-right:auto}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.box-border{box-sizing:border-box}.flex{display:flex}.aspect-square{aspect-ratio:1/1}.h-full{height:100%}.max-h-\\\\[calc\\\\(100\\\\%-24px\\\\)\\\\]{max-height:calc(100% - 24px)}.w-full{width:100%}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.basis-9{flex-basis:2.25rem}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-3{gap:.75rem}.space-x-\\\\[5px\\\\]>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(5px*(1 - var(--tw-space-x-reverse)));margin-right:calc(5px*var(--tw-space-x-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(.75rem*var(--tw-space-y-reverse));margin-top:calc(.75rem*(1 - var(--tw-space-y-reverse)))}.space-y-\\\\[10px\\\\]>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(10px*var(--tw-space-y-reverse));margin-top:calc(10px*(1 - var(--tw-space-y-reverse)))}.overflow-hidden{overflow:hidden}.overflow-y-scroll{overflow-y:scroll}.rounded-2xl{border-radius:1rem}.rounded-\\\\[10px\\\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:.75rem}.rounded-b-none{border-bottom-left-radius:0;border-bottom-right-radius:0}.border{border-width:1px}.border-\\\\[\\\\#333\\\\]{--tw-border-opacity:1;border-color:rgb(51 51 51/var(--tw-border-opacity))}.border-\\\\[\\\\#EFEFF2\\\\]{--tw-border-opacity:1;border-color:rgb(239 239 242/var(--tw-border-opacity))}.bg-\\\\[\\\\#00000040\\\\]{background-color:#00000040}.bg-\\\\[\\\\#323232\\\\]{--tw-bg-opacity:1;background-color:rgb(50 50 50/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.p-1{padding:.25rem}.p-6{padding:1.5rem}.p-\\\\[14px\\\\]{padding:14px}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-1\\\\.5{padding-bottom:.375rem;padding-top:.375rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.align-text-bottom{vertical-align:text-bottom}.text-\\\\[9px\\\\]{font-size:9px}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-medium{font-weight:500}.leading-snug{line-height:1.375}.text-\\\\[\\\\#242629\\\\]{--tw-text-opacity:1;color:rgb(36 38 41/var(--tw-text-opacity))}.text-\\\\[\\\\#EFEFEF\\\\]{--tw-text-opacity:1;color:rgb(239 239 239/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-\\\\[0_1px_2px_0_\\\\#0000000A\\\\]{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-\\\\[0_1px_2px_0_\\\\#0000000A\\\\]{--tw-shadow:0 1px 2px 0 #0000000a;--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.shadow-\\\\[0_4px_5px_0_\\\\#00000005\\\\2c 0_16px_40px_0_\\\\#00000014\\\\]{--tw-shadow:0 4px 5px 0 #00000005,0 16px 40px 0 #00000014;--tw-shadow-colored:0 4px 5px 0 var(--tw-shadow-color),0 16px 40px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline-\\\\[\\\\#FFBD7A\\\\]{outline-color:#ffbd7a}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0) scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1)) rotate(var(--tw-enter-rotate,0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity,1);transform:translate3d(var(--tw-exit-translate-x,0),var(--tw-exit-translate-y,0),0) scale3d(var(--tw-exit-scale,1),var(--tw-exit-scale,1),var(--tw-exit-scale,1)) rotate(var(--tw-exit-rotate,0))}}.animate-in{--tw-enter-opacity:initial;--tw-enter-scale:initial;--tw-enter-rotate:initial;--tw-enter-translate-x:initial;--tw-enter-translate-y:initial;animation-duration:.15s;animation-name:enter}.fade-in{--tw-enter-opacity:0}.slide-in-from-bottom{--tw-enter-translate-y:100%}.hover\\\\:bg-\\\\[\\\\#0C0C0D\\\\]:hover{--tw-bg-opacity:1;background-color:rgb(12 12 13/var(--tw-bg-opacity))}.hover\\\\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.hover\\\\:text-\\\\[\\\\#242629\\\\]:hover{--tw-text-opacity:1;color:rgb(36 38 41/var(--tw-text-opacity))}.hover\\\\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.hover\\\\:underline:hover{text-decoration-line:underline}.hover\\\\:shadow-\\\\[0_1px_2px_0_\\\\#00000010\\\\]:hover{--tw-shadow:0 1px 2px 0 #00000010;--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.hover\\\\:shadow-\\\\[0_1px_2px_0_\\\\#00000010\\\\]:hover,.hover\\\\:shadow-\\\\[0_8px_16px_0_\\\\#00000020\\\\]:hover{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\\\:shadow-\\\\[0_8px_16px_0_\\\\#00000020\\\\]:hover{--tw-shadow:0 8px 16px 0 #00000020;--tw-shadow-colored:0 8px 16px 0 var(--tw-shadow-color)}.focus\\\\:underline:focus{text-decoration-line:underline}.focus\\\\:outline:focus{outline-style:solid}.focus\\\\:outline-\\\\[3px\\\\]:focus{outline-width:3px}.active\\\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media (min-width:768px){.md\\\\:max-h-\\\\[calc\\\\(100\\\\%-48px\\\\)\\\\]{max-height:calc(100% - 48px)}.md\\\\:w-\\\\[400px\\\\]{width:400px}.md\\\\:items-center{align-items:center}.md\\\\:justify-center{justify-content:center}.md\\\\:rounded-b-2xl{border-bottom-left-radius:1rem;border-bottom-right-radius:1rem}.md\\\\:zoom-in-50{--tw-enter-scale:.5}.md\\\\:slide-in-from-bottom-0{--tw-enter-translate-y:0px}}\";\n\nconst Modal = class {\n  constructor(hostRef) {\n    index.registerInstance(this, hostRef);\n    this.defaultProviders = undefined;\n    this.installedProviders = undefined;\n    this.persistSelection = undefined;\n    this.callback = undefined;\n    this.cancelCallback = undefined;\n  }\n  handleSelectProvider(providerId) {\n    if (this.persistSelection)\n      session.setSelectedProviderId(providerId);\n    this.callback(session.getProviderFromId(providerId));\n  }\n  handleCloseModal() {\n    this.cancelCallback();\n  }\n  // todo: nice to have:\n  // getComment(provider: WebBTCProvider, browser: string, isMobile?: string) {\n  //   if (!provider) return null;\n  //   const hasExtension = this.getBrowserUrl(provider);\n  //   const hasMobile = this.getMobileUrl(provider);\n  //   if (isMobile && hasExtension && !hasMobile) return 'Extension Only';\n  //   if (!isMobile && !hasExtension && hasMobile) return 'Mobile Only';\n  //   if (!isMobile && !browser) return 'Current browser not supported';\n  //   return null;\n  // }\n  getBrowserUrl(provider) {\n    var _a;\n    return (_a = provider.chromeWebStoreUrl) !== null && _a !== void 0 ? _a : provider.mozillaAddOnsUrl;\n  }\n  getMobileUrl(provider) {\n    var _a;\n    return (_a = provider.iOSAppStoreUrl) !== null && _a !== void 0 ? _a : provider.googlePlayStoreUrl;\n  }\n  getInstallUrl(provider, browser, platform) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    if (platform === 'IOS') {\n      return (_b = (_a = provider.iOSAppStoreUrl) !== null && _a !== void 0 ? _a : this.getBrowserUrl(provider)) !== null && _b !== void 0 ? _b : provider.webUrl;\n    }\n    else if (browser === 'Chrome') {\n      return (_d = (_c = provider.chromeWebStoreUrl) !== null && _c !== void 0 ? _c : this.getMobileUrl(provider)) !== null && _d !== void 0 ? _d : provider.webUrl;\n    }\n    else if (browser === 'Firefox') {\n      return (_f = (_e = provider.mozillaAddOnsUrl) !== null && _e !== void 0 ? _e : this.getMobileUrl(provider)) !== null && _f !== void 0 ? _f : provider.webUrl;\n    }\n    else if (platform === 'Android') {\n      return (_h = (_g = provider.googlePlayStoreUrl) !== null && _g !== void 0 ? _g : this.getBrowserUrl(provider)) !== null && _h !== void 0 ? _h : provider.webUrl;\n    }\n    else {\n      return (_k = (_j = this.getBrowserUrl(provider)) !== null && _j !== void 0 ? _j : provider.webUrl) !== null && _k !== void 0 ? _k : this.getMobileUrl(provider);\n    }\n  }\n  render() {\n    const browser = getBrowser();\n    const mobile = getPlatform();\n    const notInstalledProviders = this.defaultProviders.filter(p => this.installedProviders.findIndex(i => i.id === p.id) === -1 // keep providers NOT already in installed list\n    );\n    const hasInstalled = this.installedProviders.length > 0;\n    const hasMore = notInstalledProviders.length > 0;\n    return (index.h(\"div\", { class: \"modal-container animate-in fade-in fixed inset-0 z-[8999] box-border flex h-full w-full items-end bg-[#00000040] md:items-center md:justify-center\" }, index.h(\"div\", { class: \"fixed inset-0 z-[8999]\", onClick: () => this.handleCloseModal() }), index.h(\"div\", { class: \"modal-body animate-in md:zoom-in-50 slide-in-from-bottom md:slide-in-from-bottom-0 z-[9000] box-border flex max-h-[calc(100%-24px)] w-full max-w-full cursor-default flex-col overflow-y-scroll rounded-2xl rounded-b-none bg-white p-6 text-sm leading-snug shadow-[0_4px_5px_0_#00000005,0_16px_40px_0_#00000014] md:max-h-[calc(100%-48px)] md:w-[400px] md:rounded-b-2xl\" }, index.h(\"div\", { class: \"flex flex-col space-y-[10px]\" }, index.h(\"div\", { class: \"flex items-center\" }, index.h(\"div\", { class: \"flex-1 text-xl font-medium text-[#242629]\" }, \"Connect a wallet\"), index.h(\"button\", { class: \"rounded-full bg-transparent p-1 transition-colors hover:bg-gray-100 active:scale-95\", onClick: () => this.handleCloseModal() }, index.h(\"span\", { class: \"sr-only\" }, \"Close popup\"), index.h(\"img\", { src: closeIconSvg }))), hasInstalled ? (index.h(\"p\", null, \"Select the wallet you want to connect to.\")) : (index.h(\"p\", null, \"You don't have any wallets in your browser that support this app. You need to install a wallet to proceed.\"))), !mobile && !browser && (index.h(\"div\", { class: \"mx-auto mt-4 rounded-xl bg-gray-200 px-3 py-1.5 text-sm font-medium text-gray-500\" }, \"Unfortunately, your browser isn't supported\")), hasInstalled && (index.h(\"div\", { class: \"mt-6\" }, index.h(\"p\", { class: \"mb-4 text-sm font-medium\" }, \"Installed wallets\"), index.h(\"ul\", { class: \"space-y-3\" }, this.installedProviders.map((provider) => (index.h(\"li\", { class: \"flex items-center gap-3 rounded-[10px] border border-[#EFEFF2] p-[14px]\" }, index.h(\"div\", { class: \"aspect-square basis-9 overflow-hidden\" }, index.h(\"img\", { src: provider.icon, class: \"h-full w-full rounded-[10px] bg-gray-700\" })), index.h(\"div\", { class: \"flex-1\" }, index.h(\"div\", { class: \"text-sm font-medium text-[#242629]\" }, provider.name), provider.webUrl && (index.h(\"a\", { href: provider.webUrl, class: \"text-sm\", rel: \"noopener noreferrer\" }, new URL(provider.webUrl).hostname))), index.h(\"button\", { class: \"rounded-[10px] border border-[#333] bg-[#323232] px-4 py-2 text-sm font-medium text-[#EFEFEF] shadow-[0_1px_2px_0_#0000000A] outline-[#FFBD7A] transition-all hover:bg-[#0C0C0D] hover:text-white hover:shadow-[0_8px_16px_0_#00000020] focus:outline focus:outline-[3px] active:scale-95\", onClick: () => this.handleSelectProvider(provider.id) }, \"Connect\"))))))), hasMore && (index.h(\"div\", { class: \"mt-6\" }, hasInstalled ? (index.h(\"p\", { class: \"mb-4 text-sm font-medium\" }, \"Other wallets\")) : (index.h(\"div\", { class: \"mb-5 flex justify-between\" }, index.h(\"p\", { class: \"text-sm font-medium\" }, \"Recommended wallets\"), index.h(\"a\", { class: \"flex cursor-pointer items-center space-x-[5px] text-xs transition-colors hover:text-[#242629] hover:underline focus:underline\", href: \"https://docs.hiro.so/what-is-a-wallet\", rel: \"noopener noreferrer\", target: \"_blank\" }, index.h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"14\", height: \"14\", viewBox: \"0 0 16 16\", fill: \"none\" }, index.h(\"path\", { stroke: \"#74777D\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\", \"stroke-width\": \"1.2\", d: \"M8.006 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14Z\" }), index.h(\"path\", { stroke: \"#74777D\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\", \"stroke-width\": \"1.2\", d: \"M5.97 5.9a2.1 2.1 0 0 1 4.08.7c0 1.4-2.1 2.1-2.1 2.1M8.006 11.5h.01\" })), index.h(\"p\", null, \"What is a wallet?\\u2009\", index.h(\"span\", { class: \"align-text-bottom text-[9px]\" }, \"\\u2197\"))))), index.h(\"ul\", { class: \"space-y-3\" }, notInstalledProviders.map((provider) => (index.h(\"li\", { class: \"flex items-center gap-3 rounded-[10px] border border-[#EFEFF2] p-[14px]\" }, index.h(\"div\", { class: \"aspect-square basis-9 overflow-hidden\" }, index.h(\"img\", { src: provider.icon, class: \"h-full w-full rounded-[10px] bg-gray-700\" })), index.h(\"div\", { class: \"flex-1\" }, index.h(\"div\", { class: \"text-sm font-medium text-[#242629]\" }, provider.name), provider.webUrl && (index.h(\"a\", { href: provider.webUrl, class: \"text-sm\", rel: \"noopener noreferrer\" }, new URL(provider.webUrl).hostname))), this.getInstallUrl(provider, browser, mobile) && (index.h(\"a\", { class: \"rounded-[10px] border border-[#EFEFF2] px-4 py-2 text-sm font-medium shadow-[0_1px_2px_0_#0000000A] outline-[#FFBD7A] transition-colors hover:text-[#242629] hover:shadow-[0_1px_2px_0_#00000010] focus:outline focus:outline-[3px] active:scale-95\", href: this.getInstallUrl(provider, browser, mobile), rel: \"noopener noreferrer\", target: \"_blank\" }, \"Install \\u2192\")))))))))));\n  }\n  static get assetsDirs() { return [\"assets\"]; }\n  get modalEl() { return index.getElement(this); }\n};\nModal.style = modalCss;\n\nexports.connect_modal = Modal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2Rpc3QvY2pzL2Nvbm5lY3QtbW9kYWwuY2pzLmVudHJ5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsY0FBYyxtQkFBTyxDQUFDLCtGQUFxQjtBQUMzQyxnQkFBZ0IsbUJBQU8sQ0FBQyxtR0FBdUI7O0FBRS9DLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtR0FBbUcsd0JBQXdCLHdCQUF3QixtQkFBbUIsbUJBQW1CLGNBQWMsY0FBYyxjQUFjLGVBQWUsZUFBZSxzQ0FBc0MsMkJBQTJCLDRCQUE0QixvQ0FBb0Msa0NBQWtDLDJCQUEyQixzQkFBc0IsOEJBQThCLHVCQUF1QixzQkFBc0IsZUFBZSxrQkFBa0IsS0FBSyw4QkFBOEIsNkJBQTZCLGlNQUFpTSwrQkFBK0IsZ0JBQWdCLGdCQUFnQixXQUFXLEtBQUssb0JBQW9CLFNBQVMsR0FBRyxxQkFBcUIsY0FBYyxTQUFTLG9CQUFvQixpQ0FBaUMsa0JBQWtCLGtCQUFrQixvQkFBb0IsRUFBRSxjQUFjLHdCQUF3QixTQUFTLG1CQUFtQixrQkFBa0Isb0dBQW9HLGNBQWMsTUFBTSxjQUFjLFFBQVEsY0FBYyxjQUFjLGtCQUFrQix3QkFBd0IsSUFBSSxjQUFjLElBQUksVUFBVSxNQUFNLHlCQUF5QixxQkFBcUIsY0FBYyxzQ0FBc0MsOEJBQThCLGNBQWMsb0JBQW9CLGVBQWUsZ0NBQWdDLG9CQUFvQixvQkFBb0IsU0FBUyxVQUFVLGNBQWMsb0JBQW9CLGdEQUFnRCwwQkFBMEIsNkJBQTZCLHNCQUFzQixnQkFBZ0IsYUFBYSxpQkFBaUIsZ0JBQWdCLFNBQVMsd0JBQXdCLHdEQUF3RCxZQUFZLGNBQWMsNkJBQTZCLG9CQUFvQiw0QkFBNEIsd0JBQXdCLDZCQUE2QiwwQkFBMEIsYUFBYSxRQUFRLGtCQUFrQiw0REFBNEQsU0FBUyxnQkFBZ0IsVUFBVSxXQUFXLGdCQUFnQixTQUFTLFVBQVUsT0FBTyxVQUFVLFNBQVMsZ0JBQWdCLHlDQUF5QyxjQUFjLFVBQVUscUJBQXFCLGVBQWUsVUFBVSxlQUFlLCtDQUErQyxjQUFjLHNCQUFzQixVQUFVLFlBQVksZUFBZSxTQUFTLGFBQWEsV0FBVyx3QkFBd0Isd0JBQXdCLG1CQUFtQixtQkFBbUIsY0FBYyxjQUFjLGNBQWMsZUFBZSxlQUFlLHNDQUFzQywyQkFBMkIsNEJBQTRCLG9DQUFvQyxrQ0FBa0MsMkJBQTJCLHNCQUFzQiwrQkFBK0IsTUFBTSxZQUFZLGlCQUFpQixjQUFjLHdJQUF3SSxZQUFZLHdCQUF3QixxQkFBcUIsK0JBQStCLGFBQWEsU0FBUyxtQkFBbUIsZUFBZSxXQUFXLFlBQVksZ0JBQWdCLFVBQVUsa0JBQWtCLG1CQUFtQixVQUFVLFFBQVEsZ0JBQWdCLE9BQU8sZUFBZSxTQUFTLFFBQVEsY0FBYyxhQUFhLGNBQWMsYUFBYSxTQUFTLGlCQUFpQixrQkFBa0IsTUFBTSxtQkFBbUIsTUFBTSxzQkFBc0IsTUFBTSxnQkFBZ0IsTUFBTSxrQkFBa0IsWUFBWSxzQkFBc0IsTUFBTSxhQUFhLGVBQWUsaUJBQWlCLFFBQVEsWUFBWSxtQ0FBbUMsNkJBQTZCLFFBQVEsV0FBVyxZQUFZLGVBQWUsUUFBUSxZQUFZLFNBQVMsbUJBQW1CLGdCQUFnQixlQUFlLGdCQUFnQixlQUFlLFVBQVUsc0JBQXNCLFdBQVcscUJBQXFCLGNBQWMsbUJBQW1CLGlCQUFpQiw4QkFBOEIsT0FBTyxXQUFXLGlEQUFpRCx1QkFBdUIsc0RBQXNELGlEQUFpRCx5Q0FBeUMsdUJBQXVCLHFEQUFxRCx3REFBd0Qsa0RBQWtELHVCQUF1QixtREFBbUQsc0RBQXNELGlCQUFpQixnQkFBZ0IsbUJBQW1CLGtCQUFrQixhQUFhLG1CQUFtQixvQkFBb0IsbUJBQW1CLGNBQWMscUJBQXFCLFlBQVkscUJBQXFCLGdCQUFnQiw0QkFBNEIsNkJBQTZCLFFBQVEsaUJBQWlCLHFCQUFxQixzQkFBc0Isb0RBQW9ELHdCQUF3QixzQkFBc0IsdURBQXVELHNCQUFzQiwyQkFBMkIsb0JBQW9CLGtCQUFrQixvREFBb0QsYUFBYSxrQkFBa0IsdURBQXVELGFBQWEsa0JBQWtCLG9EQUFvRCxnQkFBZ0IsNkJBQTZCLFVBQVUsa0JBQWtCLHVEQUF1RCxLQUFLLGVBQWUsS0FBSyxlQUFlLGNBQWMsYUFBYSxNQUFNLG9CQUFvQixxQkFBcUIsTUFBTSxrQkFBa0IsbUJBQW1CLE1BQU0sc0JBQXNCLG1CQUFtQixVQUFVLHVCQUF1QixvQkFBb0IsTUFBTSxxQkFBcUIsa0JBQWtCLG1CQUFtQiwyQkFBMkIsZ0JBQWdCLGNBQWMsU0FBUyxrQkFBa0Isb0JBQW9CLFNBQVMsa0JBQWtCLG9CQUFvQixTQUFTLGlCQUFpQixpQkFBaUIsYUFBYSxnQkFBZ0IsY0FBYyxrQkFBa0Isc0JBQXNCLG9CQUFvQiwyQ0FBMkMsc0JBQXNCLG9CQUFvQiw4Q0FBOEMsZUFBZSxvQkFBb0IsOENBQThDLFFBQVEscUVBQXFFLDZGQUE2Riw4Q0FBOEMsbUdBQW1HLHNDQUFzQyxrQ0FBa0MsdURBQXVELG9FQUFvRSwwREFBMEQsNEZBQTRGLG1HQUFtRyx5QkFBeUIsc0JBQXNCLFFBQVEsaUxBQWlMLGdCQUFnQix5QkFBeUIsd0JBQXdCLG1EQUFtRCxtQkFBbUIseUJBQXlCLDBGQUEwRixtREFBbUQsaUJBQWlCLEdBQUcsa0NBQWtDLHdNQUF3TSxnQkFBZ0IsR0FBRyxpQ0FBaUMsa01BQWtNLFlBQVksMkJBQTJCLHlCQUF5QiwwQkFBMEIsK0JBQStCLCtCQUErQix3QkFBd0IscUJBQXFCLFNBQVMscUJBQXFCLHNCQUFzQiw0QkFBNEIsa0NBQWtDLGtCQUFrQixvREFBb0QsMkJBQTJCLGtCQUFrQix1REFBdUQsb0NBQW9DLG9CQUFvQiwyQ0FBMkMsMEJBQTBCLG9CQUFvQiw4Q0FBOEMseUJBQXlCLCtCQUErQixvREFBb0Qsa0NBQWtDLHVEQUF1RCx5R0FBeUcsbUdBQW1HLHFEQUFxRCxtQ0FBbUMsd0RBQXdELHlCQUF5QiwrQkFBK0IsdUJBQXVCLG9CQUFvQixpQ0FBaUMsa0JBQWtCLDBCQUEwQixpQkFBaUIsaUJBQWlCLDhMQUE4TCx5QkFBeUIsd0NBQXdDLDZCQUE2QixvQkFBb0IsWUFBWSxtQkFBbUIsbUJBQW1CLHFCQUFxQix1QkFBdUIsb0JBQW9CLCtCQUErQixnQ0FBZ0MsaUJBQWlCLG9CQUFvQiw2QkFBNkIsNEJBQTRCOztBQUVyblU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDZKQUE2SixtQkFBbUIseUVBQXlFLG9CQUFvQix1WEFBdVgsbUJBQW1CLHVDQUF1QyxtQkFBbUIsNEJBQTRCLG1CQUFtQixvREFBb0QsMkNBQTJDLHNJQUFzSSxvQkFBb0Isa0JBQWtCLG1DQUFtQyxtQkFBbUIsc1FBQXNRLDRGQUE0RixxRkFBcUYsZUFBZSxpQkFBaUIsbUNBQW1DLHdDQUF3QyxvQkFBb0IsNkRBQTZELGtGQUFrRixtQkFBbUIsZ0RBQWdELG1CQUFtQix1RUFBdUUscUJBQXFCLGlCQUFpQixtQkFBbUIsNkNBQTZDLHFEQUFxRCxxRUFBcUUsNERBQTRELDJWQUEyVixpREFBaUQsZUFBZSxpQ0FBaUMsbUNBQW1DLHdDQUF3QyxvQ0FBb0MsaUJBQWlCLDhCQUE4Qix5Q0FBeUMscU9BQXFPLG1CQUFtQixvR0FBb0csb0JBQW9CLGdKQUFnSixxQkFBcUIsMktBQTJLLG9FQUFvRSx1Q0FBdUMsaUNBQWlDLG9CQUFvQiwyREFBMkQsa0ZBQWtGLG1CQUFtQixnREFBZ0QsbUJBQW1CLHVFQUF1RSxxQkFBcUIsaUJBQWlCLG1CQUFtQiw2Q0FBNkMscURBQXFELHFFQUFxRSx5R0FBeUcsaVdBQWlXO0FBQ25wSjtBQUNBLDRCQUE0QjtBQUM1QixrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQSxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2Rpc3QvY2pzL2Nvbm5lY3QtbW9kYWwuY2pzLmVudHJ5LmpzPzY0MDMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5jb25zdCBpbmRleCA9IHJlcXVpcmUoJy4vaW5kZXgtM2UzNDM3ZTkuanMnKTtcbmNvbnN0IHNlc3Npb24gPSByZXF1aXJlKCcuL3Nlc3Npb24tN2M3OGVhYzIuanMnKTtcblxuY29uc3QgY2xvc2VJY29uU3ZnID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1qUWlJR2hsYVdkb2REMGlNalFpSUdacGJHdzlJbTV2Ym1VaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BIQmhkR2dnWkQwaWJUY2dOeUF4TUNBeE1FMHhOeUEzSURjZ01UY2lJSE4wY205clpUMGlJekkwTWpZeU9TSWdjM1J5YjJ0bExYZHBaSFJvUFNJeExqVWlJSE4wY205clpTMXNhVzVsWTJGd1BTSnliM1Z1WkNJZ2MzUnliMnRsTFd4cGJtVnFiMmx1UFNKeWIzVnVaQ0l2UGp3dmMzWm5QZz09JztcblxuY29uc3QgaXNDaHJvbWUgPSAoKSA9PiB7XG4gIGNvbnN0IGlzQ2hyb21pdW0gPSAhIXdpbmRvd1snY2hyb21lJ107XG4gIGNvbnN0IHdpbk5hdiA9IHdpbmRvdy5uYXZpZ2F0b3I7XG4gIGNvbnN0IHZlbmRvck5hbWUgPSB3aW5OYXYudmVuZG9yO1xuICBjb25zdCBpc09wZXJhID0gdHlwZW9mIHdpbmRvdy5vcHIgIT09ICd1bmRlZmluZWQnO1xuICBjb25zdCBpc0lFZWRnZSA9IHdpbk5hdi51c2VyQWdlbnQuaW5jbHVkZXMoJ0VkZ2UnKTtcbiAgY29uc3QgaXNJT1NDaHJvbWUgPSAvQ3JpT1MvLmV4ZWMod2luTmF2LnVzZXJBZ2VudCk7XG4gIGNvbnN0IGlzTW9iaWxlID0gd2luTmF2LnVzZXJBZ2VudC5pbmNsdWRlcygnTW9iaWxlJyk7XG4gIGlmIChpc0lPU0Nocm9tZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBlbHNlIGlmIChpc0Nocm9taXVtICE9PSBudWxsICYmXG4gICAgdHlwZW9mIGlzQ2hyb21pdW0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgdmVuZG9yTmFtZSA9PT0gJ0dvb2dsZSBJbmMuJyAmJlxuICAgIGlzT3BlcmEgPT09IGZhbHNlICYmXG4gICAgaXNJRWVkZ2UgPT09IGZhbHNlICYmXG4gICAgaXNNb2JpbGUgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuY29uc3QgZ2V0QnJvd3NlciA9ICgpID0+IHtcbiAgaWYgKGlzQ2hyb21lKCkpIHtcbiAgICByZXR1cm4gJ0Nocm9tZSc7XG4gIH1cbiAgZWxzZSBpZiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ0ZpcmVmb3gnKSkge1xuICAgIHJldHVybiAnRmlyZWZveCc7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgZ2V0UGxhdGZvcm0gPSAoKSA9PiB7XG4gIGlmICghd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ01vYmlsZScpKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ2lQaG9uZScpKSB7XG4gICAgcmV0dXJuICdJT1MnO1xuICB9XG4gIGVsc2VcbiAgICByZXR1cm4gJ0FuZHJvaWQnO1xufTtcblxuY29uc3QgbW9kYWxDc3MgPSBcIi8qISB0YWlsd2luZGNzcyB2My4zLjUgfCBNSVQgTGljZW5zZSB8IGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tKi8qLDphZnRlciw6YmVmb3Jley0tdHctYm9yZGVyLXNwYWNpbmcteDowOy0tdHctYm9yZGVyLXNwYWNpbmcteTowOy0tdHctdHJhbnNsYXRlLXg6MDstLXR3LXRyYW5zbGF0ZS15OjA7LS10dy1yb3RhdGU6MDstLXR3LXNrZXcteDowOy0tdHctc2tldy15OjA7LS10dy1zY2FsZS14OjE7LS10dy1zY2FsZS15OjE7LS10dy1zY3JvbGwtc25hcC1zdHJpY3RuZXNzOnByb3hpbWl0eTstLXR3LXJpbmctb2Zmc2V0LXdpZHRoOjBweDstLXR3LXJpbmctb2Zmc2V0LWNvbG9yOiNmZmY7LS10dy1yaW5nLWNvbG9yOnJnYmEoNTksMTMwLDI0NiwuNSk7LS10dy1yaW5nLW9mZnNldC1zaGFkb3c6MCAwICMwMDAwOy0tdHctcmluZy1zaGFkb3c6MCAwICMwMDAwOy0tdHctc2hhZG93OjAgMCAjMDAwMDstLXR3LXNoYWRvdy1jb2xvcmVkOjAgMCAjMDAwMDtib3JkZXI6MCBzb2xpZCAjZTVlN2ViO2JveC1zaXppbmc6Ym9yZGVyLWJveH06YWZ0ZXIsOmJlZm9yZXstLXR3LWNvbnRlbnQ6XFxcIlxcXCJ9aHRtbHstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTtmb250LWZlYXR1cmUtc2V0dGluZ3M6bm9ybWFsO2ZvbnQtZmFtaWx5OnVpLXNhbnMtc2VyaWYsc3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxBcmlhbCxOb3RvIFNhbnMsc2Fucy1zZXJpZixBcHBsZSBDb2xvciBFbW9qaSxTZWdvZSBVSSBFbW9qaSxTZWdvZSBVSSBTeW1ib2wsTm90byBDb2xvciBFbW9qaTtmb250LXZhcmlhdGlvbi1zZXR0aW5nczpub3JtYWw7bGluZS1oZWlnaHQ6MS41Oy1tb3otdGFiLXNpemU6NDt0YWItc2l6ZTo0fWJvZHl7bGluZS1oZWlnaHQ6aW5oZXJpdDttYXJnaW46MH1ocntib3JkZXItdG9wLXdpZHRoOjFweDtjb2xvcjppbmhlcml0O2hlaWdodDowfWFiYnI6d2hlcmUoW3RpdGxlXSl7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9aDEsaDIsaDMsaDQsaDUsaDZ7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdH1he2NvbG9yOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXR9YixzdHJvbmd7Zm9udC13ZWlnaHQ6Ym9sZGVyfWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5OnVpLW1vbm9zcGFjZSxTRk1vbm8tUmVndWxhcixNZW5sbyxNb25hY28sQ29uc29sYXMsTGliZXJhdGlvbiBNb25vLENvdXJpZXIgTmV3LG1vbm9zcGFjZTtmb250LXNpemU6MWVtfXNtYWxse2ZvbnQtc2l6ZTo4MCV9c3ViLHN1cHtmb250LXNpemU6NzUlO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246cmVsYXRpdmU7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9c3Vie2JvdHRvbTotLjI1ZW19c3Vwe3RvcDotLjVlbX10YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLWNvbG9yOmluaGVyaXQ7dGV4dC1pbmRlbnQ6MH1idXR0b24saW5wdXQsb3B0Z3JvdXAsc2VsZWN0LHRleHRhcmVhe2ZvbnQtZmVhdHVyZS1zZXR0aW5nczppbmhlcml0O2NvbG9yOmluaGVyaXQ7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6MTAwJTtmb250LXZhcmlhdGlvbi1zZXR0aW5nczppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdDttYXJnaW46MDtwYWRkaW5nOjB9YnV0dG9uLHNlbGVjdHt0ZXh0LXRyYW5zZm9ybTpub25lfVt0eXBlPWJ1dHRvbl0sW3R5cGU9cmVzZXRdLFt0eXBlPXN1Ym1pdF0sYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWltYWdlOm5vbmV9Oi1tb3otZm9jdXNyaW5ne291dGxpbmU6YXV0b306LW1vei11aS1pbnZhbGlke2JveC1zaGFkb3c6bm9uZX1wcm9ncmVzc3t2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfVt0eXBlPXNlYXJjaF17LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRmaWVsZDtvdXRsaW5lLW9mZnNldDotMnB4fTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX06Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Zm9udDppbmhlcml0fXN1bW1hcnl7ZGlzcGxheTpsaXN0LWl0ZW19YmxvY2txdW90ZSxkZCxkbCxmaWVsZHNldCxmaWd1cmUsaDEsaDIsaDMsaDQsaDUsaDYsaHIscCxwcmV7bWFyZ2luOjB9ZmllbGRzZXQsbGVnZW5ke3BhZGRpbmc6MH1tZW51LG9sLHVse2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjB9ZGlhbG9ne3BhZGRpbmc6MH10ZXh0YXJlYXtyZXNpemU6dmVydGljYWx9aW5wdXQ6OnBsYWNlaG9sZGVyLHRleHRhcmVhOjpwbGFjZWhvbGRlcntjb2xvcjojOWNhM2FmO29wYWNpdHk6MX1bcm9sZT1idXR0b25dLGJ1dHRvbntjdXJzb3I6cG9pbnRlcn06ZGlzYWJsZWR7Y3Vyc29yOmRlZmF1bHR9YXVkaW8sY2FudmFzLGVtYmVkLGlmcmFtZSxpbWcsb2JqZWN0LHN2Zyx2aWRlb3tkaXNwbGF5OmJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX1pbWcsdmlkZW97aGVpZ2h0OmF1dG87bWF4LXdpZHRoOjEwMCV9W2hpZGRlbl17ZGlzcGxheTpub25lfTo6YmFja2Ryb3B7LS10dy1ib3JkZXItc3BhY2luZy14OjA7LS10dy1ib3JkZXItc3BhY2luZy15OjA7LS10dy10cmFuc2xhdGUteDowOy0tdHctdHJhbnNsYXRlLXk6MDstLXR3LXJvdGF0ZTowOy0tdHctc2tldy14OjA7LS10dy1za2V3LXk6MDstLXR3LXNjYWxlLXg6MTstLXR3LXNjYWxlLXk6MTstLXR3LXNjcm9sbC1zbmFwLXN0cmljdG5lc3M6cHJveGltaXR5Oy0tdHctcmluZy1vZmZzZXQtd2lkdGg6MHB4Oy0tdHctcmluZy1vZmZzZXQtY29sb3I6I2ZmZjstLXR3LXJpbmctY29sb3I6cmdiYSg1OSwxMzAsMjQ2LC41KTstLXR3LXJpbmctb2Zmc2V0LXNoYWRvdzowIDAgIzAwMDA7LS10dy1yaW5nLXNoYWRvdzowIDAgIzAwMDA7LS10dy1zaGFkb3c6MCAwICMwMDAwOy0tdHctc2hhZG93LWNvbG9yZWQ6MCAwICMwMDAwO306aG9zdHthbGw6aW5pdGlhbH0ubW9kYWwtY29udGFpbmVye2NvbG9yOiM3NDc3N2Q7Zm9udC1mYW1pbHk6SW50ZXIsLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWYsQXBwbGUgQ29sb3IgRW1vamksU2Vnb2UgVUkgRW1vamksU2Vnb2UgVUkgU3ltYm9sfS5tb2RhbC1ib2R5ey1tcy1vdmVyZmxvdy1zdHlsZTpub25lO3Njcm9sbGJhci13aWR0aDpub25lfS5tb2RhbC1ib2R5Ojotd2Via2l0LXNjcm9sbGJhcntkaXNwbGF5Om5vbmV9LnNyLW9ubHl7Y2xpcDpyZWN0KDAsMCwwLDApO2JvcmRlci13aWR0aDowO2hlaWdodDoxcHg7bWFyZ2luOi0xcHg7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MDtwb3NpdGlvbjphYnNvbHV0ZTt3aGl0ZS1zcGFjZTpub3dyYXA7d2lkdGg6MXB4fS5zdGF0aWN7cG9zaXRpb246c3RhdGljfS5maXhlZHtwb3NpdGlvbjpmaXhlZH0uaW5zZXQtMHtpbnNldDowfS56LVxcXFxbODk5OVxcXFxde3otaW5kZXg6ODk5OX0uei1cXFxcWzkwMDBcXFxcXXt6LWluZGV4OjkwMDB9Lm14LWF1dG97bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0b30ubWItNHttYXJnaW4tYm90dG9tOjFyZW19Lm1iLTV7bWFyZ2luLWJvdHRvbToxLjI1cmVtfS5tdC00e21hcmdpbi10b3A6MXJlbX0ubXQtNnttYXJnaW4tdG9wOjEuNXJlbX0uYm94LWJvcmRlcntib3gtc2l6aW5nOmJvcmRlci1ib3h9LmZsZXh7ZGlzcGxheTpmbGV4fS5hc3BlY3Qtc3F1YXJle2FzcGVjdC1yYXRpbzoxLzF9LmgtZnVsbHtoZWlnaHQ6MTAwJX0ubWF4LWgtXFxcXFtjYWxjXFxcXCgxMDBcXFxcJS0yNHB4XFxcXClcXFxcXXttYXgtaGVpZ2h0OmNhbGMoMTAwJSAtIDI0cHgpfS53LWZ1bGx7d2lkdGg6MTAwJX0ubWF4LXctZnVsbHttYXgtd2lkdGg6MTAwJX0uZmxleC0xe2ZsZXg6MSAxIDAlfS5iYXNpcy05e2ZsZXgtYmFzaXM6Mi4yNXJlbX0uY3Vyc29yLWRlZmF1bHR7Y3Vyc29yOmRlZmF1bHR9LmN1cnNvci1wb2ludGVye2N1cnNvcjpwb2ludGVyfS5mbGV4LWNvbHtmbGV4LWRpcmVjdGlvbjpjb2x1bW59Lml0ZW1zLWVuZHthbGlnbi1pdGVtczpmbGV4LWVuZH0uaXRlbXMtY2VudGVye2FsaWduLWl0ZW1zOmNlbnRlcn0uanVzdGlmeS1iZXR3ZWVue2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5nYXAtM3tnYXA6Ljc1cmVtfS5zcGFjZS14LVxcXFxbNXB4XFxcXF0+Om5vdChbaGlkZGVuXSl+Om5vdChbaGlkZGVuXSl7LS10dy1zcGFjZS14LXJldmVyc2U6MDttYXJnaW4tbGVmdDpjYWxjKDVweCooMSAtIHZhcigtLXR3LXNwYWNlLXgtcmV2ZXJzZSkpKTttYXJnaW4tcmlnaHQ6Y2FsYyg1cHgqdmFyKC0tdHctc3BhY2UteC1yZXZlcnNlKSl9LnNwYWNlLXktMz46bm90KFtoaWRkZW5dKX46bm90KFtoaWRkZW5dKXstLXR3LXNwYWNlLXktcmV2ZXJzZTowO21hcmdpbi1ib3R0b206Y2FsYyguNzVyZW0qdmFyKC0tdHctc3BhY2UteS1yZXZlcnNlKSk7bWFyZ2luLXRvcDpjYWxjKC43NXJlbSooMSAtIHZhcigtLXR3LXNwYWNlLXktcmV2ZXJzZSkpKX0uc3BhY2UteS1cXFxcWzEwcHhcXFxcXT46bm90KFtoaWRkZW5dKX46bm90KFtoaWRkZW5dKXstLXR3LXNwYWNlLXktcmV2ZXJzZTowO21hcmdpbi1ib3R0b206Y2FsYygxMHB4KnZhcigtLXR3LXNwYWNlLXktcmV2ZXJzZSkpO21hcmdpbi10b3A6Y2FsYygxMHB4KigxIC0gdmFyKC0tdHctc3BhY2UteS1yZXZlcnNlKSkpfS5vdmVyZmxvdy1oaWRkZW57b3ZlcmZsb3c6aGlkZGVufS5vdmVyZmxvdy15LXNjcm9sbHtvdmVyZmxvdy15OnNjcm9sbH0ucm91bmRlZC0yeGx7Ym9yZGVyLXJhZGl1czoxcmVtfS5yb3VuZGVkLVxcXFxbMTBweFxcXFxde2JvcmRlci1yYWRpdXM6MTBweH0ucm91bmRlZC1mdWxse2JvcmRlci1yYWRpdXM6OTk5OXB4fS5yb3VuZGVkLXhse2JvcmRlci1yYWRpdXM6Ljc1cmVtfS5yb3VuZGVkLWItbm9uZXtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uYm9yZGVye2JvcmRlci13aWR0aDoxcHh9LmJvcmRlci1cXFxcW1xcXFwjMzMzXFxcXF17LS10dy1ib3JkZXItb3BhY2l0eToxO2JvcmRlci1jb2xvcjpyZ2IoNTEgNTEgNTEvdmFyKC0tdHctYm9yZGVyLW9wYWNpdHkpKX0uYm9yZGVyLVxcXFxbXFxcXCNFRkVGRjJcXFxcXXstLXR3LWJvcmRlci1vcGFjaXR5OjE7Ym9yZGVyLWNvbG9yOnJnYigyMzkgMjM5IDI0Mi92YXIoLS10dy1ib3JkZXItb3BhY2l0eSkpfS5iZy1cXFxcW1xcXFwjMDAwMDAwNDBcXFxcXXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwMDA0MH0uYmctXFxcXFtcXFxcIzMyMzIzMlxcXFxdey0tdHctYmctb3BhY2l0eToxO2JhY2tncm91bmQtY29sb3I6cmdiKDUwIDUwIDUwL3ZhcigtLXR3LWJnLW9wYWNpdHkpKX0uYmctZ3JheS0yMDB7LS10dy1iZy1vcGFjaXR5OjE7YmFja2dyb3VuZC1jb2xvcjpyZ2IoMjI5IDIzMSAyMzUvdmFyKC0tdHctYmctb3BhY2l0eSkpfS5iZy1ncmF5LTcwMHstLXR3LWJnLW9wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOnJnYig1NSA2NSA4MS92YXIoLS10dy1iZy1vcGFjaXR5KSl9LmJnLXRyYW5zcGFyZW50e2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LmJnLXdoaXRley0tdHctYmctb3BhY2l0eToxO2JhY2tncm91bmQtY29sb3I6cmdiKDI1NSAyNTUgMjU1L3ZhcigtLXR3LWJnLW9wYWNpdHkpKX0ucC0xe3BhZGRpbmc6LjI1cmVtfS5wLTZ7cGFkZGluZzoxLjVyZW19LnAtXFxcXFsxNHB4XFxcXF17cGFkZGluZzoxNHB4fS5weC0ze3BhZGRpbmctbGVmdDouNzVyZW07cGFkZGluZy1yaWdodDouNzVyZW19LnB4LTR7cGFkZGluZy1sZWZ0OjFyZW07cGFkZGluZy1yaWdodDoxcmVtfS5weS0xe3BhZGRpbmctYm90dG9tOi4yNXJlbTtwYWRkaW5nLXRvcDouMjVyZW19LnB5LTFcXFxcLjV7cGFkZGluZy1ib3R0b206LjM3NXJlbTtwYWRkaW5nLXRvcDouMzc1cmVtfS5weS0ye3BhZGRpbmctYm90dG9tOi41cmVtO3BhZGRpbmctdG9wOi41cmVtfS5hbGlnbi10ZXh0LWJvdHRvbXt2ZXJ0aWNhbC1hbGlnbjp0ZXh0LWJvdHRvbX0udGV4dC1cXFxcWzlweFxcXFxde2ZvbnQtc2l6ZTo5cHh9LnRleHQtc217Zm9udC1zaXplOi44NzVyZW07bGluZS1oZWlnaHQ6MS4yNXJlbX0udGV4dC14bHtmb250LXNpemU6MS4yNXJlbTtsaW5lLWhlaWdodDoxLjc1cmVtfS50ZXh0LXhze2ZvbnQtc2l6ZTouNzVyZW07bGluZS1oZWlnaHQ6MXJlbX0uZm9udC1tZWRpdW17Zm9udC13ZWlnaHQ6NTAwfS5sZWFkaW5nLXNudWd7bGluZS1oZWlnaHQ6MS4zNzV9LnRleHQtXFxcXFtcXFxcIzI0MjYyOVxcXFxdey0tdHctdGV4dC1vcGFjaXR5OjE7Y29sb3I6cmdiKDM2IDM4IDQxL3ZhcigtLXR3LXRleHQtb3BhY2l0eSkpfS50ZXh0LVxcXFxbXFxcXCNFRkVGRUZcXFxcXXstLXR3LXRleHQtb3BhY2l0eToxO2NvbG9yOnJnYigyMzkgMjM5IDIzOS92YXIoLS10dy10ZXh0LW9wYWNpdHkpKX0udGV4dC1ncmF5LTUwMHstLXR3LXRleHQtb3BhY2l0eToxO2NvbG9yOnJnYigxMDcgMTE0IDEyOC92YXIoLS10dy10ZXh0LW9wYWNpdHkpKX0uc2hhZG93ey0tdHctc2hhZG93OjAgMXB4IDNweCAwIHJnYmEoMCwwLDAsLjEpLDAgMXB4IDJweCAtMXB4IHJnYmEoMCwwLDAsLjEpOy0tdHctc2hhZG93LWNvbG9yZWQ6MCAxcHggM3B4IDAgdmFyKC0tdHctc2hhZG93LWNvbG9yKSwwIDFweCAycHggLTFweCB2YXIoLS10dy1zaGFkb3ctY29sb3IpfS5zaGFkb3csLnNoYWRvdy1cXFxcWzBfMXB4XzJweF8wX1xcXFwjMDAwMDAwMEFcXFxcXXtib3gtc2hhZG93OnZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdywwIDAgIzAwMDApLHZhcigtLXR3LXJpbmctc2hhZG93LDAgMCAjMDAwMCksdmFyKC0tdHctc2hhZG93KX0uc2hhZG93LVxcXFxbMF8xcHhfMnB4XzBfXFxcXCMwMDAwMDAwQVxcXFxdey0tdHctc2hhZG93OjAgMXB4IDJweCAwICMwMDAwMDAwYTstLXR3LXNoYWRvdy1jb2xvcmVkOjAgMXB4IDJweCAwIHZhcigtLXR3LXNoYWRvdy1jb2xvcil9LnNoYWRvdy1cXFxcWzBfNHB4XzVweF8wX1xcXFwjMDAwMDAwMDVcXFxcMmMgMF8xNnB4XzQwcHhfMF9cXFxcIzAwMDAwMDE0XFxcXF17LS10dy1zaGFkb3c6MCA0cHggNXB4IDAgIzAwMDAwMDA1LDAgMTZweCA0MHB4IDAgIzAwMDAwMDE0Oy0tdHctc2hhZG93LWNvbG9yZWQ6MCA0cHggNXB4IDAgdmFyKC0tdHctc2hhZG93LWNvbG9yKSwwIDE2cHggNDBweCAwIHZhcigtLXR3LXNoYWRvdy1jb2xvcik7Ym94LXNoYWRvdzp2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3csMCAwICMwMDAwKSx2YXIoLS10dy1yaW5nLXNoYWRvdywwIDAgIzAwMDApLHZhcigtLXR3LXNoYWRvdyl9Lm91dGxpbmUtXFxcXFtcXFxcI0ZGQkQ3QVxcXFxde291dGxpbmUtY29sb3I6I2ZmYmQ3YX0uZmlsdGVye2ZpbHRlcjp2YXIoLS10dy1ibHVyKSB2YXIoLS10dy1icmlnaHRuZXNzKSB2YXIoLS10dy1jb250cmFzdCkgdmFyKC0tdHctZ3JheXNjYWxlKSB2YXIoLS10dy1odWUtcm90YXRlKSB2YXIoLS10dy1pbnZlcnQpIHZhcigtLXR3LXNhdHVyYXRlKSB2YXIoLS10dy1zZXBpYSkgdmFyKC0tdHctZHJvcC1zaGFkb3cpfS50cmFuc2l0aW9uLWFsbHt0cmFuc2l0aW9uLWR1cmF0aW9uOi4xNXM7dHJhbnNpdGlvbi1wcm9wZXJ0eTphbGw7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC40LDAsLjIsMSl9LnRyYW5zaXRpb24tY29sb3Jze3RyYW5zaXRpb24tZHVyYXRpb246LjE1czt0cmFuc2l0aW9uLXByb3BlcnR5OmNvbG9yLGJhY2tncm91bmQtY29sb3IsYm9yZGVyLWNvbG9yLHRleHQtZGVjb3JhdGlvbi1jb2xvcixmaWxsLHN0cm9rZTt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjQsMCwuMiwxKX1Aa2V5ZnJhbWVzIGVudGVyezAle29wYWNpdHk6dmFyKC0tdHctZW50ZXItb3BhY2l0eSwxKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QodmFyKC0tdHctZW50ZXItdHJhbnNsYXRlLXgsMCksdmFyKC0tdHctZW50ZXItdHJhbnNsYXRlLXksMCksMCkgc2NhbGUzZCh2YXIoLS10dy1lbnRlci1zY2FsZSwxKSx2YXIoLS10dy1lbnRlci1zY2FsZSwxKSx2YXIoLS10dy1lbnRlci1zY2FsZSwxKSkgcm90YXRlKHZhcigtLXR3LWVudGVyLXJvdGF0ZSwwKSl9fUBrZXlmcmFtZXMgZXhpdHt0b3tvcGFjaXR5OnZhcigtLXR3LWV4aXQtb3BhY2l0eSwxKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QodmFyKC0tdHctZXhpdC10cmFuc2xhdGUteCwwKSx2YXIoLS10dy1leGl0LXRyYW5zbGF0ZS15LDApLDApIHNjYWxlM2QodmFyKC0tdHctZXhpdC1zY2FsZSwxKSx2YXIoLS10dy1leGl0LXNjYWxlLDEpLHZhcigtLXR3LWV4aXQtc2NhbGUsMSkpIHJvdGF0ZSh2YXIoLS10dy1leGl0LXJvdGF0ZSwwKSl9fS5hbmltYXRlLWluey0tdHctZW50ZXItb3BhY2l0eTppbml0aWFsOy0tdHctZW50ZXItc2NhbGU6aW5pdGlhbDstLXR3LWVudGVyLXJvdGF0ZTppbml0aWFsOy0tdHctZW50ZXItdHJhbnNsYXRlLXg6aW5pdGlhbDstLXR3LWVudGVyLXRyYW5zbGF0ZS15OmluaXRpYWw7YW5pbWF0aW9uLWR1cmF0aW9uOi4xNXM7YW5pbWF0aW9uLW5hbWU6ZW50ZXJ9LmZhZGUtaW57LS10dy1lbnRlci1vcGFjaXR5OjB9LnNsaWRlLWluLWZyb20tYm90dG9tey0tdHctZW50ZXItdHJhbnNsYXRlLXk6MTAwJX0uaG92ZXJcXFxcOmJnLVxcXFxbXFxcXCMwQzBDMERcXFxcXTpob3ZlcnstLXR3LWJnLW9wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOnJnYigxMiAxMiAxMy92YXIoLS10dy1iZy1vcGFjaXR5KSl9LmhvdmVyXFxcXDpiZy1ncmF5LTEwMDpob3ZlcnstLXR3LWJnLW9wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOnJnYigyNDMgMjQ0IDI0Ni92YXIoLS10dy1iZy1vcGFjaXR5KSl9LmhvdmVyXFxcXDp0ZXh0LVxcXFxbXFxcXCMyNDI2MjlcXFxcXTpob3ZlcnstLXR3LXRleHQtb3BhY2l0eToxO2NvbG9yOnJnYigzNiAzOCA0MS92YXIoLS10dy10ZXh0LW9wYWNpdHkpKX0uaG92ZXJcXFxcOnRleHQtd2hpdGU6aG92ZXJ7LS10dy10ZXh0LW9wYWNpdHk6MTtjb2xvcjpyZ2IoMjU1IDI1NSAyNTUvdmFyKC0tdHctdGV4dC1vcGFjaXR5KSl9LmhvdmVyXFxcXDp1bmRlcmxpbmU6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uLWxpbmU6dW5kZXJsaW5lfS5ob3ZlclxcXFw6c2hhZG93LVxcXFxbMF8xcHhfMnB4XzBfXFxcXCMwMDAwMDAxMFxcXFxdOmhvdmVyey0tdHctc2hhZG93OjAgMXB4IDJweCAwICMwMDAwMDAxMDstLXR3LXNoYWRvdy1jb2xvcmVkOjAgMXB4IDJweCAwIHZhcigtLXR3LXNoYWRvdy1jb2xvcil9LmhvdmVyXFxcXDpzaGFkb3ctXFxcXFswXzFweF8ycHhfMF9cXFxcIzAwMDAwMDEwXFxcXF06aG92ZXIsLmhvdmVyXFxcXDpzaGFkb3ctXFxcXFswXzhweF8xNnB4XzBfXFxcXCMwMDAwMDAyMFxcXFxdOmhvdmVye2JveC1zaGFkb3c6dmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93LDAgMCAjMDAwMCksdmFyKC0tdHctcmluZy1zaGFkb3csMCAwICMwMDAwKSx2YXIoLS10dy1zaGFkb3cpfS5ob3ZlclxcXFw6c2hhZG93LVxcXFxbMF84cHhfMTZweF8wX1xcXFwjMDAwMDAwMjBcXFxcXTpob3ZlcnstLXR3LXNoYWRvdzowIDhweCAxNnB4IDAgIzAwMDAwMDIwOy0tdHctc2hhZG93LWNvbG9yZWQ6MCA4cHggMTZweCAwIHZhcigtLXR3LXNoYWRvdy1jb2xvcil9LmZvY3VzXFxcXDp1bmRlcmxpbmU6Zm9jdXN7dGV4dC1kZWNvcmF0aW9uLWxpbmU6dW5kZXJsaW5lfS5mb2N1c1xcXFw6b3V0bGluZTpmb2N1c3tvdXRsaW5lLXN0eWxlOnNvbGlkfS5mb2N1c1xcXFw6b3V0bGluZS1cXFxcWzNweFxcXFxdOmZvY3Vze291dGxpbmUtd2lkdGg6M3B4fS5hY3RpdmVcXFxcOnNjYWxlLTk1OmFjdGl2ZXstLXR3LXNjYWxlLXg6Ljk1Oy0tdHctc2NhbGUteTouOTU7dHJhbnNmb3JtOnRyYW5zbGF0ZSh2YXIoLS10dy10cmFuc2xhdGUteCksdmFyKC0tdHctdHJhbnNsYXRlLXkpKSByb3RhdGUodmFyKC0tdHctcm90YXRlKSkgc2tld1godmFyKC0tdHctc2tldy14KSkgc2tld1kodmFyKC0tdHctc2tldy15KSkgc2NhbGVYKHZhcigtLXR3LXNjYWxlLXgpKSBzY2FsZVkodmFyKC0tdHctc2NhbGUteSkpfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsubWRcXFxcOm1heC1oLVxcXFxbY2FsY1xcXFwoMTAwXFxcXCUtNDhweFxcXFwpXFxcXF17bWF4LWhlaWdodDpjYWxjKDEwMCUgLSA0OHB4KX0ubWRcXFxcOnctXFxcXFs0MDBweFxcXFxde3dpZHRoOjQwMHB4fS5tZFxcXFw6aXRlbXMtY2VudGVye2FsaWduLWl0ZW1zOmNlbnRlcn0ubWRcXFxcOmp1c3RpZnktY2VudGVye2p1c3RpZnktY29udGVudDpjZW50ZXJ9Lm1kXFxcXDpyb3VuZGVkLWItMnhse2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MXJlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxcmVtfS5tZFxcXFw6em9vbS1pbi01MHstLXR3LWVudGVyLXNjYWxlOi41fS5tZFxcXFw6c2xpZGUtaW4tZnJvbS1ib3R0b20tMHstLXR3LWVudGVyLXRyYW5zbGF0ZS15OjBweH19XCI7XG5cbmNvbnN0IE1vZGFsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgaW5kZXgucmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmRlZmF1bHRQcm92aWRlcnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pbnN0YWxsZWRQcm92aWRlcnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wZXJzaXN0U2VsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2FsbGJhY2sgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jYW5jZWxDYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgfVxuICBoYW5kbGVTZWxlY3RQcm92aWRlcihwcm92aWRlcklkKSB7XG4gICAgaWYgKHRoaXMucGVyc2lzdFNlbGVjdGlvbilcbiAgICAgIHNlc3Npb24uc2V0U2VsZWN0ZWRQcm92aWRlcklkKHByb3ZpZGVySWQpO1xuICAgIHRoaXMuY2FsbGJhY2soc2Vzc2lvbi5nZXRQcm92aWRlckZyb21JZChwcm92aWRlcklkKSk7XG4gIH1cbiAgaGFuZGxlQ2xvc2VNb2RhbCgpIHtcbiAgICB0aGlzLmNhbmNlbENhbGxiYWNrKCk7XG4gIH1cbiAgLy8gdG9kbzogbmljZSB0byBoYXZlOlxuICAvLyBnZXRDb21tZW50KHByb3ZpZGVyOiBXZWJCVENQcm92aWRlciwgYnJvd3Nlcjogc3RyaW5nLCBpc01vYmlsZT86IHN0cmluZykge1xuICAvLyAgIGlmICghcHJvdmlkZXIpIHJldHVybiBudWxsO1xuICAvLyAgIGNvbnN0IGhhc0V4dGVuc2lvbiA9IHRoaXMuZ2V0QnJvd3NlclVybChwcm92aWRlcik7XG4gIC8vICAgY29uc3QgaGFzTW9iaWxlID0gdGhpcy5nZXRNb2JpbGVVcmwocHJvdmlkZXIpO1xuICAvLyAgIGlmIChpc01vYmlsZSAmJiBoYXNFeHRlbnNpb24gJiYgIWhhc01vYmlsZSkgcmV0dXJuICdFeHRlbnNpb24gT25seSc7XG4gIC8vICAgaWYgKCFpc01vYmlsZSAmJiAhaGFzRXh0ZW5zaW9uICYmIGhhc01vYmlsZSkgcmV0dXJuICdNb2JpbGUgT25seSc7XG4gIC8vICAgaWYgKCFpc01vYmlsZSAmJiAhYnJvd3NlcikgcmV0dXJuICdDdXJyZW50IGJyb3dzZXIgbm90IHN1cHBvcnRlZCc7XG4gIC8vICAgcmV0dXJuIG51bGw7XG4gIC8vIH1cbiAgZ2V0QnJvd3NlclVybChwcm92aWRlcikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gcHJvdmlkZXIuY2hyb21lV2ViU3RvcmVVcmwpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHByb3ZpZGVyLm1vemlsbGFBZGRPbnNVcmw7XG4gIH1cbiAgZ2V0TW9iaWxlVXJsKHByb3ZpZGVyKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBwcm92aWRlci5pT1NBcHBTdG9yZVVybCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcHJvdmlkZXIuZ29vZ2xlUGxheVN0b3JlVXJsO1xuICB9XG4gIGdldEluc3RhbGxVcmwocHJvdmlkZXIsIGJyb3dzZXIsIHBsYXRmb3JtKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgIGlmIChwbGF0Zm9ybSA9PT0gJ0lPUycpIHtcbiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBwcm92aWRlci5pT1NBcHBTdG9yZVVybCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5nZXRCcm93c2VyVXJsKHByb3ZpZGVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogcHJvdmlkZXIud2ViVXJsO1xuICAgIH1cbiAgICBlbHNlIGlmIChicm93c2VyID09PSAnQ2hyb21lJykge1xuICAgICAgcmV0dXJuIChfZCA9IChfYyA9IHByb3ZpZGVyLmNocm9tZVdlYlN0b3JlVXJsKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0aGlzLmdldE1vYmlsZVVybChwcm92aWRlcikpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHByb3ZpZGVyLndlYlVybDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYnJvd3NlciA9PT0gJ0ZpcmVmb3gnKSB7XG4gICAgICByZXR1cm4gKF9mID0gKF9lID0gcHJvdmlkZXIubW96aWxsYUFkZE9uc1VybCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogdGhpcy5nZXRNb2JpbGVVcmwocHJvdmlkZXIpKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBwcm92aWRlci53ZWJVcmw7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBsYXRmb3JtID09PSAnQW5kcm9pZCcpIHtcbiAgICAgIHJldHVybiAoX2ggPSAoX2cgPSBwcm92aWRlci5nb29nbGVQbGF5U3RvcmVVcmwpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IHRoaXMuZ2V0QnJvd3NlclVybChwcm92aWRlcikpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IHByb3ZpZGVyLndlYlVybDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gKF9rID0gKF9qID0gdGhpcy5nZXRCcm93c2VyVXJsKHByb3ZpZGVyKSkgIT09IG51bGwgJiYgX2ogIT09IHZvaWQgMCA/IF9qIDogcHJvdmlkZXIud2ViVXJsKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiB0aGlzLmdldE1vYmlsZVVybChwcm92aWRlcik7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBicm93c2VyID0gZ2V0QnJvd3NlcigpO1xuICAgIGNvbnN0IG1vYmlsZSA9IGdldFBsYXRmb3JtKCk7XG4gICAgY29uc3Qgbm90SW5zdGFsbGVkUHJvdmlkZXJzID0gdGhpcy5kZWZhdWx0UHJvdmlkZXJzLmZpbHRlcihwID0+IHRoaXMuaW5zdGFsbGVkUHJvdmlkZXJzLmZpbmRJbmRleChpID0+IGkuaWQgPT09IHAuaWQpID09PSAtMSAvLyBrZWVwIHByb3ZpZGVycyBOT1QgYWxyZWFkeSBpbiBpbnN0YWxsZWQgbGlzdFxuICAgICk7XG4gICAgY29uc3QgaGFzSW5zdGFsbGVkID0gdGhpcy5pbnN0YWxsZWRQcm92aWRlcnMubGVuZ3RoID4gMDtcbiAgICBjb25zdCBoYXNNb3JlID0gbm90SW5zdGFsbGVkUHJvdmlkZXJzLmxlbmd0aCA+IDA7XG4gICAgcmV0dXJuIChpbmRleC5oKFwiZGl2XCIsIHsgY2xhc3M6IFwibW9kYWwtY29udGFpbmVyIGFuaW1hdGUtaW4gZmFkZS1pbiBmaXhlZCBpbnNldC0wIHotWzg5OTldIGJveC1ib3JkZXIgZmxleCBoLWZ1bGwgdy1mdWxsIGl0ZW1zLWVuZCBiZy1bIzAwMDAwMDQwXSBtZDppdGVtcy1jZW50ZXIgbWQ6anVzdGlmeS1jZW50ZXJcIiB9LCBpbmRleC5oKFwiZGl2XCIsIHsgY2xhc3M6IFwiZml4ZWQgaW5zZXQtMCB6LVs4OTk5XVwiLCBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZUNsb3NlTW9kYWwoKSB9KSwgaW5kZXguaChcImRpdlwiLCB7IGNsYXNzOiBcIm1vZGFsLWJvZHkgYW5pbWF0ZS1pbiBtZDp6b29tLWluLTUwIHNsaWRlLWluLWZyb20tYm90dG9tIG1kOnNsaWRlLWluLWZyb20tYm90dG9tLTAgei1bOTAwMF0gYm94LWJvcmRlciBmbGV4IG1heC1oLVtjYWxjKDEwMCUtMjRweCldIHctZnVsbCBtYXgtdy1mdWxsIGN1cnNvci1kZWZhdWx0IGZsZXgtY29sIG92ZXJmbG93LXktc2Nyb2xsIHJvdW5kZWQtMnhsIHJvdW5kZWQtYi1ub25lIGJnLXdoaXRlIHAtNiB0ZXh0LXNtIGxlYWRpbmctc251ZyBzaGFkb3ctWzBfNHB4XzVweF8wXyMwMDAwMDAwNSwwXzE2cHhfNDBweF8wXyMwMDAwMDAxNF0gbWQ6bWF4LWgtW2NhbGMoMTAwJS00OHB4KV0gbWQ6dy1bNDAwcHhdIG1kOnJvdW5kZWQtYi0yeGxcIiB9LCBpbmRleC5oKFwiZGl2XCIsIHsgY2xhc3M6IFwiZmxleCBmbGV4LWNvbCBzcGFjZS15LVsxMHB4XVwiIH0sIGluZGV4LmgoXCJkaXZcIiwgeyBjbGFzczogXCJmbGV4IGl0ZW1zLWNlbnRlclwiIH0sIGluZGV4LmgoXCJkaXZcIiwgeyBjbGFzczogXCJmbGV4LTEgdGV4dC14bCBmb250LW1lZGl1bSB0ZXh0LVsjMjQyNjI5XVwiIH0sIFwiQ29ubmVjdCBhIHdhbGxldFwiKSwgaW5kZXguaChcImJ1dHRvblwiLCB7IGNsYXNzOiBcInJvdW5kZWQtZnVsbCBiZy10cmFuc3BhcmVudCBwLTEgdHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6YmctZ3JheS0xMDAgYWN0aXZlOnNjYWxlLTk1XCIsIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlQ2xvc2VNb2RhbCgpIH0sIGluZGV4LmgoXCJzcGFuXCIsIHsgY2xhc3M6IFwic3Itb25seVwiIH0sIFwiQ2xvc2UgcG9wdXBcIiksIGluZGV4LmgoXCJpbWdcIiwgeyBzcmM6IGNsb3NlSWNvblN2ZyB9KSkpLCBoYXNJbnN0YWxsZWQgPyAoaW5kZXguaChcInBcIiwgbnVsbCwgXCJTZWxlY3QgdGhlIHdhbGxldCB5b3Ugd2FudCB0byBjb25uZWN0IHRvLlwiKSkgOiAoaW5kZXguaChcInBcIiwgbnVsbCwgXCJZb3UgZG9uJ3QgaGF2ZSBhbnkgd2FsbGV0cyBpbiB5b3VyIGJyb3dzZXIgdGhhdCBzdXBwb3J0IHRoaXMgYXBwLiBZb3UgbmVlZCB0byBpbnN0YWxsIGEgd2FsbGV0IHRvIHByb2NlZWQuXCIpKSksICFtb2JpbGUgJiYgIWJyb3dzZXIgJiYgKGluZGV4LmgoXCJkaXZcIiwgeyBjbGFzczogXCJteC1hdXRvIG10LTQgcm91bmRlZC14bCBiZy1ncmF5LTIwMCBweC0zIHB5LTEuNSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDBcIiB9LCBcIlVuZm9ydHVuYXRlbHksIHlvdXIgYnJvd3NlciBpc24ndCBzdXBwb3J0ZWRcIikpLCBoYXNJbnN0YWxsZWQgJiYgKGluZGV4LmgoXCJkaXZcIiwgeyBjbGFzczogXCJtdC02XCIgfSwgaW5kZXguaChcInBcIiwgeyBjbGFzczogXCJtYi00IHRleHQtc20gZm9udC1tZWRpdW1cIiB9LCBcIkluc3RhbGxlZCB3YWxsZXRzXCIpLCBpbmRleC5oKFwidWxcIiwgeyBjbGFzczogXCJzcGFjZS15LTNcIiB9LCB0aGlzLmluc3RhbGxlZFByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiAoaW5kZXguaChcImxpXCIsIHsgY2xhc3M6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC1bMTBweF0gYm9yZGVyIGJvcmRlci1bI0VGRUZGMl0gcC1bMTRweF1cIiB9LCBpbmRleC5oKFwiZGl2XCIsIHsgY2xhc3M6IFwiYXNwZWN0LXNxdWFyZSBiYXNpcy05IG92ZXJmbG93LWhpZGRlblwiIH0sIGluZGV4LmgoXCJpbWdcIiwgeyBzcmM6IHByb3ZpZGVyLmljb24sIGNsYXNzOiBcImgtZnVsbCB3LWZ1bGwgcm91bmRlZC1bMTBweF0gYmctZ3JheS03MDBcIiB9KSksIGluZGV4LmgoXCJkaXZcIiwgeyBjbGFzczogXCJmbGV4LTFcIiB9LCBpbmRleC5oKFwiZGl2XCIsIHsgY2xhc3M6IFwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVsjMjQyNjI5XVwiIH0sIHByb3ZpZGVyLm5hbWUpLCBwcm92aWRlci53ZWJVcmwgJiYgKGluZGV4LmgoXCJhXCIsIHsgaHJlZjogcHJvdmlkZXIud2ViVXJsLCBjbGFzczogXCJ0ZXh0LXNtXCIsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIgfSwgbmV3IFVSTChwcm92aWRlci53ZWJVcmwpLmhvc3RuYW1lKSkpLCBpbmRleC5oKFwiYnV0dG9uXCIsIHsgY2xhc3M6IFwicm91bmRlZC1bMTBweF0gYm9yZGVyIGJvcmRlci1bIzMzM10gYmctWyMzMjMyMzJdIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtWyNFRkVGRUZdIHNoYWRvdy1bMF8xcHhfMnB4XzBfIzAwMDAwMDBBXSBvdXRsaW5lLVsjRkZCRDdBXSB0cmFuc2l0aW9uLWFsbCBob3ZlcjpiZy1bIzBDMEMwRF0gaG92ZXI6dGV4dC13aGl0ZSBob3ZlcjpzaGFkb3ctWzBfOHB4XzE2cHhfMF8jMDAwMDAwMjBdIGZvY3VzOm91dGxpbmUgZm9jdXM6b3V0bGluZS1bM3B4XSBhY3RpdmU6c2NhbGUtOTVcIiwgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVTZWxlY3RQcm92aWRlcihwcm92aWRlci5pZCkgfSwgXCJDb25uZWN0XCIpKSkpKSkpLCBoYXNNb3JlICYmIChpbmRleC5oKFwiZGl2XCIsIHsgY2xhc3M6IFwibXQtNlwiIH0sIGhhc0luc3RhbGxlZCA/IChpbmRleC5oKFwicFwiLCB7IGNsYXNzOiBcIm1iLTQgdGV4dC1zbSBmb250LW1lZGl1bVwiIH0sIFwiT3RoZXIgd2FsbGV0c1wiKSkgOiAoaW5kZXguaChcImRpdlwiLCB7IGNsYXNzOiBcIm1iLTUgZmxleCBqdXN0aWZ5LWJldHdlZW5cIiB9LCBpbmRleC5oKFwicFwiLCB7IGNsYXNzOiBcInRleHQtc20gZm9udC1tZWRpdW1cIiB9LCBcIlJlY29tbWVuZGVkIHdhbGxldHNcIiksIGluZGV4LmgoXCJhXCIsIHsgY2xhc3M6IFwiZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIgc3BhY2UteC1bNXB4XSB0ZXh0LXhzIHRyYW5zaXRpb24tY29sb3JzIGhvdmVyOnRleHQtWyMyNDI2MjldIGhvdmVyOnVuZGVybGluZSBmb2N1czp1bmRlcmxpbmVcIiwgaHJlZjogXCJodHRwczovL2RvY3MuaGlyby5zby93aGF0LWlzLWEtd2FsbGV0XCIsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsIHRhcmdldDogXCJfYmxhbmtcIiB9LCBpbmRleC5oKFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IFwiMTRcIiwgaGVpZ2h0OiBcIjE0XCIsIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsIGZpbGw6IFwibm9uZVwiIH0sIGluZGV4LmgoXCJwYXRoXCIsIHsgc3Ryb2tlOiBcIiM3NDc3N0RcIiwgXCJzdHJva2UtbGluZWNhcFwiOiBcInJvdW5kXCIsIFwic3Ryb2tlLWxpbmVqb2luXCI6IFwicm91bmRcIiwgXCJzdHJva2Utd2lkdGhcIjogXCIxLjJcIiwgZDogXCJNOC4wMDYgMTVhNyA3IDAgMSAwIDAtMTQgNyA3IDAgMCAwIDAgMTRaXCIgfSksIGluZGV4LmgoXCJwYXRoXCIsIHsgc3Ryb2tlOiBcIiM3NDc3N0RcIiwgXCJzdHJva2UtbGluZWNhcFwiOiBcInJvdW5kXCIsIFwic3Ryb2tlLWxpbmVqb2luXCI6IFwicm91bmRcIiwgXCJzdHJva2Utd2lkdGhcIjogXCIxLjJcIiwgZDogXCJNNS45NyA1LjlhMi4xIDIuMSAwIDAgMSA0LjA4LjdjMCAxLjQtMi4xIDIuMS0yLjEgMi4xTTguMDA2IDExLjVoLjAxXCIgfSkpLCBpbmRleC5oKFwicFwiLCBudWxsLCBcIldoYXQgaXMgYSB3YWxsZXQ/XFx1MjAwOVwiLCBpbmRleC5oKFwic3BhblwiLCB7IGNsYXNzOiBcImFsaWduLXRleHQtYm90dG9tIHRleHQtWzlweF1cIiB9LCBcIlxcdTIxOTdcIikpKSkpLCBpbmRleC5oKFwidWxcIiwgeyBjbGFzczogXCJzcGFjZS15LTNcIiB9LCBub3RJbnN0YWxsZWRQcm92aWRlcnMubWFwKChwcm92aWRlcikgPT4gKGluZGV4LmgoXCJsaVwiLCB7IGNsYXNzOiBcImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHJvdW5kZWQtWzEwcHhdIGJvcmRlciBib3JkZXItWyNFRkVGRjJdIHAtWzE0cHhdXCIgfSwgaW5kZXguaChcImRpdlwiLCB7IGNsYXNzOiBcImFzcGVjdC1zcXVhcmUgYmFzaXMtOSBvdmVyZmxvdy1oaWRkZW5cIiB9LCBpbmRleC5oKFwiaW1nXCIsIHsgc3JjOiBwcm92aWRlci5pY29uLCBjbGFzczogXCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtWzEwcHhdIGJnLWdyYXktNzAwXCIgfSkpLCBpbmRleC5oKFwiZGl2XCIsIHsgY2xhc3M6IFwiZmxleC0xXCIgfSwgaW5kZXguaChcImRpdlwiLCB7IGNsYXNzOiBcInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1bIzI0MjYyOV1cIiB9LCBwcm92aWRlci5uYW1lKSwgcHJvdmlkZXIud2ViVXJsICYmIChpbmRleC5oKFwiYVwiLCB7IGhyZWY6IHByb3ZpZGVyLndlYlVybCwgY2xhc3M6IFwidGV4dC1zbVwiLCByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiIH0sIG5ldyBVUkwocHJvdmlkZXIud2ViVXJsKS5ob3N0bmFtZSkpKSwgdGhpcy5nZXRJbnN0YWxsVXJsKHByb3ZpZGVyLCBicm93c2VyLCBtb2JpbGUpICYmIChpbmRleC5oKFwiYVwiLCB7IGNsYXNzOiBcInJvdW5kZWQtWzEwcHhdIGJvcmRlciBib3JkZXItWyNFRkVGRjJdIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHNoYWRvdy1bMF8xcHhfMnB4XzBfIzAwMDAwMDBBXSBvdXRsaW5lLVsjRkZCRDdBXSB0cmFuc2l0aW9uLWNvbG9ycyBob3Zlcjp0ZXh0LVsjMjQyNjI5XSBob3ZlcjpzaGFkb3ctWzBfMXB4XzJweF8wXyMwMDAwMDAxMF0gZm9jdXM6b3V0bGluZSBmb2N1czpvdXRsaW5lLVszcHhdIGFjdGl2ZTpzY2FsZS05NVwiLCBocmVmOiB0aGlzLmdldEluc3RhbGxVcmwocHJvdmlkZXIsIGJyb3dzZXIsIG1vYmlsZSksIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsIHRhcmdldDogXCJfYmxhbmtcIiB9LCBcIkluc3RhbGwgXFx1MjE5MlwiKSkpKSkpKSkpKSk7XG4gIH1cbiAgc3RhdGljIGdldCBhc3NldHNEaXJzKCkgeyByZXR1cm4gW1wiYXNzZXRzXCJdOyB9XG4gIGdldCBtb2RhbEVsKCkgeyByZXR1cm4gaW5kZXguZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcbk1vZGFsLnN0eWxlID0gbW9kYWxDc3M7XG5cbmV4cG9ydHMuY29ubmVjdF9tb2RhbCA9IE1vZGFsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/connect-modal.cjs.entry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/index-3e3437e9.js":
/*!********************************************************************!*\
  !*** ./node_modules/@stacks/connect-ui/dist/cjs/index-3e3437e9.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n  n['default'] = e;\n  return Object.freeze(n);\n}\n\nconst NAMESPACE = 'connect-ui';\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/snabbdom/snabbdom/blob/master/LICENSE\n *\n * Modified for Stencil's renderer and slot projection\n */\nlet scopeId;\nlet hostTagName;\nlet isSvgMode = false;\nlet queuePending = false;\nconst createTime = (fnName, tagName = '') => {\n    {\n        return () => {\n            return;\n        };\n    }\n};\nconst uniqueTime = (key, measureText) => {\n    {\n        return () => {\n            return;\n        };\n    }\n};\nconst HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';\n/**\n * Default style mode id\n */\n/**\n * Reusable empty obj/array\n * Don't add values to these!!\n */\nconst EMPTY_OBJ = {};\n/**\n * Namespaces\n */\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nconst HTML_NS = 'http://www.w3.org/1999/xhtml';\nconst isDef = (v) => v != null;\nconst isComplexType = (o) => {\n    // https://jsperf.com/typeof-fn-object/5\n    o = typeof o;\n    return o === 'object' || o === 'function';\n};\n/**\n * Helper method for querying a `meta` tag that contains a nonce value\n * out of a DOM's head.\n *\n * @param doc The DOM containing the `head` to query against\n * @returns The content of the meta tag representing the nonce value, or `undefined` if no tag\n * exists or the tag has no content.\n */\nfunction queryNonceMetaTagContent(doc) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = doc.head) === null || _a === void 0 ? void 0 : _a.querySelector('meta[name=\"csp-nonce\"]')) === null || _b === void 0 ? void 0 : _b.getAttribute('content')) !== null && _c !== void 0 ? _c : undefined;\n}\n/**\n * Production h() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, child?: d.ChildType): d.VNode;\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, ...children: d.ChildType[]): d.VNode;\nconst h = (nodeName, vnodeData, ...children) => {\n    let child = null;\n    let simple = false;\n    let lastSimple = false;\n    const vNodeChildren = [];\n    const walk = (c) => {\n        for (let i = 0; i < c.length; i++) {\n            child = c[i];\n            if (Array.isArray(child)) {\n                walk(child);\n            }\n            else if (child != null && typeof child !== 'boolean') {\n                if ((simple = typeof nodeName !== 'function' && !isComplexType(child))) {\n                    child = String(child);\n                }\n                if (simple && lastSimple) {\n                    // If the previous child was simple (string), we merge both\n                    vNodeChildren[vNodeChildren.length - 1].$text$ += child;\n                }\n                else {\n                    // Append a new vNode, if it's text, we create a text vNode\n                    vNodeChildren.push(simple ? newVNode(null, child) : child);\n                }\n                lastSimple = simple;\n            }\n        }\n    };\n    walk(children);\n    if (vnodeData) {\n        {\n            const classData = vnodeData.className || vnodeData.class;\n            if (classData) {\n                vnodeData.class =\n                    typeof classData !== 'object'\n                        ? classData\n                        : Object.keys(classData)\n                            .filter((k) => classData[k])\n                            .join(' ');\n            }\n        }\n    }\n    const vnode = newVNode(nodeName, null);\n    vnode.$attrs$ = vnodeData;\n    if (vNodeChildren.length > 0) {\n        vnode.$children$ = vNodeChildren;\n    }\n    return vnode;\n};\n/**\n * A utility function for creating a virtual DOM node from a tag and some\n * possible text content.\n *\n * @param tag the tag for this element\n * @param text possible text content for the node\n * @returns a newly-minted virtual DOM node\n */\nconst newVNode = (tag, text) => {\n    const vnode = {\n        $flags$: 0,\n        $tag$: tag,\n        $text$: text,\n        $elm$: null,\n        $children$: null,\n    };\n    {\n        vnode.$attrs$ = null;\n    }\n    return vnode;\n};\nconst Host = {};\n/**\n * Check whether a given node is a Host node or not\n *\n * @param node the virtual DOM node to check\n * @returns whether it's a Host node or not\n */\nconst isHost = (node) => node && node.$tag$ === Host;\n/**\n * Parse a new property value for a given property type.\n *\n * While the prop value can reasonably be expected to be of `any` type as far as TypeScript's type checker is concerned,\n * it is not safe to assume that the string returned by evaluating `typeof propValue` matches:\n *   1. `any`, the type given to `propValue` in the function signature\n *   2. the type stored from `propType`.\n *\n * This function provides the capability to parse/coerce a property's value to potentially any other JavaScript type.\n *\n * Property values represented in TSX preserve their type information. In the example below, the number 0 is passed to\n * a component. This `propValue` will preserve its type information (`typeof propValue === 'number'`). Note that is\n * based on the type of the value being passed in, not the type declared of the class member decorated with `@Prop`.\n * ```tsx\n * <my-cmp prop-val={0}></my-cmp>\n * ```\n *\n * HTML prop values on the other hand, will always a string\n *\n * @param propValue the new value to coerce to some type\n * @param propType the type of the prop, expressed as a binary number\n * @returns the parsed/coerced value\n */\nconst parsePropertyValue = (propValue, propType) => {\n    // ensure this value is of the correct prop type\n    if (propValue != null && !isComplexType(propValue)) {\n        if (propType & 4 /* MEMBER_FLAGS.Boolean */) {\n            // per the HTML spec, any string value means it is a boolean true value\n            // but we'll cheat here and say that the string \"false\" is the boolean false\n            return propValue === 'false' ? false : propValue === '' || !!propValue;\n        }\n        // redundant return here for better minification\n        return propValue;\n    }\n    // not sure exactly what type we want\n    // so no need to change to a different type\n    return propValue;\n};\nconst getElement = (ref) => (getHostRef(ref).$hostElement$ );\n/**\n * Helper function to create & dispatch a custom Event on a provided target\n * @param elm the target of the Event\n * @param name the name to give the custom Event\n * @param opts options for configuring a custom Event\n * @returns the custom Event\n */\nconst emitEvent = (elm, name, opts) => {\n    const ev = plt.ce(name, opts);\n    elm.dispatchEvent(ev);\n    return ev;\n};\nconst rootAppliedStyles = /*@__PURE__*/ new WeakMap();\nconst registerStyle = (scopeId, cssText, allowCS) => {\n    let style = styles.get(scopeId);\n    if (supportsConstructableStylesheets && allowCS) {\n        style = (style || new CSSStyleSheet());\n        if (typeof style === 'string') {\n            style = cssText;\n        }\n        else {\n            style.replaceSync(cssText);\n        }\n    }\n    else {\n        style = cssText;\n    }\n    styles.set(scopeId, style);\n};\nconst addStyle = (styleContainerNode, cmpMeta, mode, hostElm) => {\n    var _a;\n    let scopeId = getScopeId(cmpMeta);\n    const style = styles.get(scopeId);\n    // if an element is NOT connected then getRootNode() will return the wrong root node\n    // so the fallback is to always use the document for the root node in those cases\n    styleContainerNode = styleContainerNode.nodeType === 11 /* NODE_TYPE.DocumentFragment */ ? styleContainerNode : doc;\n    if (style) {\n        if (typeof style === 'string') {\n            styleContainerNode = styleContainerNode.head || styleContainerNode;\n            let appliedStyles = rootAppliedStyles.get(styleContainerNode);\n            let styleElm;\n            if (!appliedStyles) {\n                rootAppliedStyles.set(styleContainerNode, (appliedStyles = new Set()));\n            }\n            if (!appliedStyles.has(scopeId)) {\n                {\n                    {\n                        styleElm = doc.createElement('style');\n                        styleElm.innerHTML = style;\n                    }\n                    // Apply CSP nonce to the style tag if it exists\n                    const nonce = (_a = plt.$nonce$) !== null && _a !== void 0 ? _a : queryNonceMetaTagContent(doc);\n                    if (nonce != null) {\n                        styleElm.setAttribute('nonce', nonce);\n                    }\n                    styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));\n                }\n                if (appliedStyles) {\n                    appliedStyles.add(scopeId);\n                }\n            }\n        }\n        else if (!styleContainerNode.adoptedStyleSheets.includes(style)) {\n            styleContainerNode.adoptedStyleSheets = [...styleContainerNode.adoptedStyleSheets, style];\n        }\n    }\n    return scopeId;\n};\nconst attachStyles = (hostRef) => {\n    const cmpMeta = hostRef.$cmpMeta$;\n    const elm = hostRef.$hostElement$;\n    const flags = cmpMeta.$flags$;\n    const endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);\n    const scopeId = addStyle(elm.shadowRoot ? elm.shadowRoot : elm.getRootNode(), cmpMeta);\n    if (flags & 10 /* CMP_FLAGS.needsScopedEncapsulation */) {\n        // only required when we're NOT using native shadow dom (slot)\n        // or this browser doesn't support native shadow dom\n        // and this host element was NOT created with SSR\n        // let's pick out the inner content for slot projection\n        // create a node to represent where the original\n        // content was first placed, which is useful later on\n        // DOM WRITE!!\n        elm['s-sc'] = scopeId;\n        elm.classList.add(scopeId + '-h');\n    }\n    endAttachStyles();\n};\nconst getScopeId = (cmp, mode) => 'sc-' + (cmp.$tagName$);\n/**\n * Production setAccessor() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\nconst setAccessor = (elm, memberName, oldValue, newValue, isSvg, flags) => {\n    if (oldValue !== newValue) {\n        let isProp = isMemberInElement(elm, memberName);\n        let ln = memberName.toLowerCase();\n        if (memberName === 'class') {\n            const classList = elm.classList;\n            const oldClasses = parseClassList(oldValue);\n            const newClasses = parseClassList(newValue);\n            classList.remove(...oldClasses.filter((c) => c && !newClasses.includes(c)));\n            classList.add(...newClasses.filter((c) => c && !oldClasses.includes(c)));\n        }\n        else if ((!isProp ) &&\n            memberName[0] === 'o' &&\n            memberName[1] === 'n') {\n            // Event Handlers\n            // so if the member name starts with \"on\" and the 3rd characters is\n            // a capital letter, and it's not already a member on the element,\n            // then we're assuming it's an event listener\n            if (memberName[2] === '-') {\n                // on- prefixed events\n                // allows to be explicit about the dom event to listen without any magic\n                // under the hood:\n                // <my-cmp on-click> // listens for \"click\"\n                // <my-cmp on-Click> // listens for \"Click\"\n                // <my-cmp on-ionChange> // listens for \"ionChange\"\n                // <my-cmp on-EVENTS> // listens for \"EVENTS\"\n                memberName = memberName.slice(3);\n            }\n            else if (isMemberInElement(win, ln)) {\n                // standard event\n                // the JSX attribute could have been \"onMouseOver\" and the\n                // member name \"onmouseover\" is on the window's prototype\n                // so let's add the listener \"mouseover\", which is all lowercased\n                memberName = ln.slice(2);\n            }\n            else {\n                // custom event\n                // the JSX attribute could have been \"onMyCustomEvent\"\n                // so let's trim off the \"on\" prefix and lowercase the first character\n                // and add the listener \"myCustomEvent\"\n                // except for the first character, we keep the event name case\n                memberName = ln[2] + memberName.slice(3);\n            }\n            if (oldValue) {\n                plt.rel(elm, memberName, oldValue, false);\n            }\n            if (newValue) {\n                plt.ael(elm, memberName, newValue, false);\n            }\n        }\n        else {\n            // Set property if it exists and it's not a SVG\n            const isComplex = isComplexType(newValue);\n            if ((isProp || (isComplex && newValue !== null)) && !isSvg) {\n                try {\n                    if (!elm.tagName.includes('-')) {\n                        const n = newValue == null ? '' : newValue;\n                        // Workaround for Safari, moving the <input> caret when re-assigning the same valued\n                        if (memberName === 'list') {\n                            isProp = false;\n                        }\n                        else if (oldValue == null || elm[memberName] != n) {\n                            elm[memberName] = n;\n                        }\n                    }\n                    else {\n                        elm[memberName] = newValue;\n                    }\n                }\n                catch (e) { }\n            }\n            if (newValue == null || newValue === false) {\n                if (newValue !== false || elm.getAttribute(memberName) === '') {\n                    {\n                        elm.removeAttribute(memberName);\n                    }\n                }\n            }\n            else if ((!isProp || flags & 4 /* VNODE_FLAGS.isHost */ || isSvg) && !isComplex) {\n                newValue = newValue === true ? '' : newValue;\n                {\n                    elm.setAttribute(memberName, newValue);\n                }\n            }\n        }\n    }\n};\nconst parseClassListRegex = /\\s/;\nconst parseClassList = (value) => (!value ? [] : value.split(parseClassListRegex));\nconst updateElement = (oldVnode, newVnode, isSvgMode, memberName) => {\n    // if the element passed in is a shadow root, which is a document fragment\n    // then we want to be adding attrs/props to the shadow root's \"host\" element\n    // if it's not a shadow root, then we add attrs/props to the same element\n    const elm = newVnode.$elm$.nodeType === 11 /* NODE_TYPE.DocumentFragment */ && newVnode.$elm$.host\n        ? newVnode.$elm$.host\n        : newVnode.$elm$;\n    const oldVnodeAttrs = (oldVnode && oldVnode.$attrs$) || EMPTY_OBJ;\n    const newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;\n    {\n        // remove attributes no longer present on the vnode by setting them to undefined\n        for (memberName in oldVnodeAttrs) {\n            if (!(memberName in newVnodeAttrs)) {\n                setAccessor(elm, memberName, oldVnodeAttrs[memberName], undefined, isSvgMode, newVnode.$flags$);\n            }\n        }\n    }\n    // add new & update changed attributes\n    for (memberName in newVnodeAttrs) {\n        setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode, newVnode.$flags$);\n    }\n};\n/**\n * Create a DOM Node corresponding to one of the children of a given VNode.\n *\n * @param oldParentVNode the parent VNode from the previous render\n * @param newParentVNode the parent VNode from the current render\n * @param childIndex the index of the VNode, in the _new_ parent node's\n * children, for which we will create a new DOM node\n * @param parentElm the parent DOM node which our new node will be a child of\n * @returns the newly created node\n */\nconst createElm = (oldParentVNode, newParentVNode, childIndex, parentElm) => {\n    // tslint:disable-next-line: prefer-const\n    const newVNode = newParentVNode.$children$[childIndex];\n    let i = 0;\n    let elm;\n    let childNode;\n    if (newVNode.$text$ !== null) {\n        // create text node\n        elm = newVNode.$elm$ = doc.createTextNode(newVNode.$text$);\n    }\n    else {\n        if (!isSvgMode) {\n            isSvgMode = newVNode.$tag$ === 'svg';\n        }\n        // create element\n        elm = newVNode.$elm$ = (doc.createElementNS(isSvgMode ? SVG_NS : HTML_NS, newVNode.$tag$)\n            );\n        if (isSvgMode && newVNode.$tag$ === 'foreignObject') {\n            isSvgMode = false;\n        }\n        // add css classes, attrs, props, listeners, etc.\n        {\n            updateElement(null, newVNode, isSvgMode);\n        }\n        if (isDef(scopeId) && elm['s-si'] !== scopeId) {\n            // if there is a scopeId and this is the initial render\n            // then let's add the scopeId as a css class\n            elm.classList.add((elm['s-si'] = scopeId));\n        }\n        if (newVNode.$children$) {\n            for (i = 0; i < newVNode.$children$.length; ++i) {\n                // create the node\n                childNode = createElm(oldParentVNode, newVNode, i);\n                // return node could have been null\n                if (childNode) {\n                    // append our new node\n                    elm.appendChild(childNode);\n                }\n            }\n        }\n        {\n            if (newVNode.$tag$ === 'svg') {\n                // Only reset the SVG context when we're exiting <svg> element\n                isSvgMode = false;\n            }\n            else if (elm.tagName === 'foreignObject') {\n                // Reenter SVG context when we're exiting <foreignObject> element\n                isSvgMode = true;\n            }\n        }\n    }\n    return elm;\n};\n/**\n * Create DOM nodes corresponding to a list of {@link d.Vnode} objects and\n * add them to the DOM in the appropriate place.\n *\n * @param parentElm the DOM node which should be used as a parent for the new\n * DOM nodes\n * @param before a child of the `parentElm` which the new children should be\n * inserted before (optional)\n * @param parentVNode the parent virtual DOM node\n * @param vnodes the new child virtual DOM nodes to produce DOM nodes for\n * @param startIdx the index in the child virtual DOM nodes at which to start\n * creating DOM nodes (inclusive)\n * @param endIdx the index in the child virtual DOM nodes at which to stop\n * creating DOM nodes (inclusive)\n */\nconst addVnodes = (parentElm, before, parentVNode, vnodes, startIdx, endIdx) => {\n    let containerElm = (parentElm);\n    let childNode;\n    if (containerElm.shadowRoot && containerElm.tagName === hostTagName) {\n        containerElm = containerElm.shadowRoot;\n    }\n    for (; startIdx <= endIdx; ++startIdx) {\n        if (vnodes[startIdx]) {\n            childNode = createElm(null, parentVNode, startIdx);\n            if (childNode) {\n                vnodes[startIdx].$elm$ = childNode;\n                containerElm.insertBefore(childNode, before);\n            }\n        }\n    }\n};\n/**\n * Remove the DOM elements corresponding to a list of {@link d.VNode} objects.\n * This can be used to, for instance, clean up after a list of children which\n * should no longer be shown.\n *\n * This function also handles some of Stencil's slot relocation logic.\n *\n * @param vnodes a list of virtual DOM nodes to remove\n * @param startIdx the index at which to start removing nodes (inclusive)\n * @param endIdx the index at which to stop removing nodes (inclusive)\n * @param vnode a VNode\n * @param elm an element\n */\nconst removeVnodes = (vnodes, startIdx, endIdx, vnode, elm) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        if ((vnode = vnodes[startIdx])) {\n            elm = vnode.$elm$;\n            // remove the vnode's element from the dom\n            elm.remove();\n        }\n    }\n};\n/**\n * Reconcile the children of a new VNode with the children of an old VNode by\n * traversing the two collections of children, identifying nodes that are\n * conserved or changed, calling out to `patch` to make any necessary\n * updates to the DOM, and rearranging DOM nodes as needed.\n *\n * The algorithm for reconciling children works by analyzing two 'windows' onto\n * the two arrays of children (`oldCh` and `newCh`). We keep track of the\n * 'windows' by storing start and end indices and references to the\n * corresponding array entries. Initially the two 'windows' are basically equal\n * to the entire array, but we progressively narrow the windows until there are\n * no children left to update by doing the following:\n *\n * 1. Skip any `null` entries at the beginning or end of the two arrays, so\n *    that if we have an initial array like the following we'll end up dealing\n *    only with a window bounded by the highlighted elements:\n *\n *    [null, null, VNode1 , ... , VNode2, null, null]\n *                 ^^^^^^         ^^^^^^\n *\n * 2. Check to see if the elements at the head and tail positions are equal\n *    across the windows. This will basically detect elements which haven't\n *    been added, removed, or changed position, i.e. if you had the following\n *    VNode elements (represented as HTML):\n *\n *    oldVNode: `<div><p><span>HEY</span></p></div>`\n *    newVNode: `<div><p><span>THERE</span></p></div>`\n *\n *    Then when comparing the children of the `<div>` tag we check the equality\n *    of the VNodes corresponding to the `<p>` tags and, since they are the\n *    same tag in the same position, we'd be able to avoid completely\n *    re-rendering the subtree under them with a new DOM element and would just\n *    call out to `patch` to handle reconciling their children and so on.\n *\n * 3. Check, for both windows, to see if the element at the beginning of the\n *    window corresponds to the element at the end of the other window. This is\n *    a heuristic which will let us identify _some_ situations in which\n *    elements have changed position, for instance it _should_ detect that the\n *    children nodes themselves have not changed but merely moved in the\n *    following example:\n *\n *    oldVNode: `<div><element-one /><element-two /></div>`\n *    newVNode: `<div><element-two /><element-one /></div>`\n *\n *    If we find cases like this then we also need to move the concrete DOM\n *    elements corresponding to the moved children to write the re-order to the\n *    DOM.\n *\n * 4. Finally, if VNodes have the `key` attribute set on them we check for any\n *    nodes in the old children which have the same key as the first element in\n *    our window on the new children. If we find such a node we handle calling\n *    out to `patch`, moving relevant DOM nodes, and so on, in accordance with\n *    what we find.\n *\n * Finally, once we've narrowed our 'windows' to the point that either of them\n * collapse (i.e. they have length 0) we then handle any remaining VNode\n * insertion or deletion that needs to happen to get a DOM state that correctly\n * reflects the new child VNodes. If, for instance, after our window on the old\n * children has collapsed we still have more nodes on the new children that\n * we haven't dealt with yet then we need to add them, or if the new children\n * collapse but we still have unhandled _old_ children then we need to make\n * sure the corresponding DOM nodes are removed.\n *\n * @param parentElm the node into which the parent VNode is rendered\n * @param oldCh the old children of the parent node\n * @param newVNode the new VNode which will replace the parent\n * @param newCh the new children of the parent node\n */\nconst updateChildren = (parentElm, oldCh, newVNode, newCh) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let node;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            // VNode might have been moved left\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newStartVnode)) {\n            // if the start nodes are the same then we should patch the new VNode\n            // onto the old one, and increment our `newStartIdx` and `oldStartIdx`\n            // indices to reflect that. We don't need to move any DOM Nodes around\n            // since things are matched up in order.\n            patch(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newEndVnode)) {\n            // likewise, if the end nodes are the same we patch new onto old and\n            // decrement our end indices, and also likewise in this case we don't\n            // need to move any DOM Nodes.\n            patch(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newEndVnode)) {\n            patch(oldStartVnode, newEndVnode);\n            // We need to move the element for `oldStartVnode` into a position which\n            // will be appropriate for `newEndVnode`. For this we can use\n            // `.insertBefore` and `oldEndVnode.$elm$.nextSibling`. If there is a\n            // sibling for `oldEndVnode.$elm$` then we want to move the DOM node for\n            // `oldStartVnode` between `oldEndVnode` and it's sibling, like so:\n            //\n            // <old-start-node />\n            // <some-intervening-node />\n            // <old-end-node />\n            // <!-- ->              <-- `oldStartVnode.$elm$` should be inserted here\n            // <next-sibling />\n            //\n            // If instead `oldEndVnode.$elm$` has no sibling then we just want to put\n            // the node for `oldStartVnode` at the end of the children of\n            // `parentElm`. Luckily, `Node.nextSibling` will return `null` if there\n            // aren't any siblings, and passing `null` to `Node.insertBefore` will\n            // append it to the children of the parent element.\n            parentElm.insertBefore(oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newStartVnode)) {\n            patch(oldEndVnode, newStartVnode);\n            // We've already checked above if `oldStartVnode` and `newStartVnode` are\n            // the same node, so since we're here we know that they are not. Thus we\n            // can move the element for `oldEndVnode` _before_ the element for\n            // `oldStartVnode`, leaving `oldStartVnode` to be reconciled in the\n            // future.\n            parentElm.insertBefore(oldEndVnode.$elm$, oldStartVnode.$elm$);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            {\n                // We either didn't find an element in the old children that matches\n                // the key of the first new child OR the build is not using `key`\n                // attributes at all. In either case we need to create a new element\n                // for the new node.\n                node = createElm(oldCh && oldCh[newStartIdx], newVNode, newStartIdx);\n                newStartVnode = newCh[++newStartIdx];\n            }\n            if (node) {\n                // if we created a new node then handle inserting it to the DOM\n                {\n                    oldStartVnode.$elm$.parentNode.insertBefore(node, oldStartVnode.$elm$);\n                }\n            }\n        }\n    }\n    if (oldStartIdx > oldEndIdx) {\n        // we have some more new nodes to add which don't match up with old nodes\n        addVnodes(parentElm, newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$, newVNode, newCh, newStartIdx, newEndIdx);\n    }\n    else if (newStartIdx > newEndIdx) {\n        // there are nodes in the `oldCh` array which no longer correspond to nodes\n        // in the new array, so lets remove them (which entails cleaning up the\n        // relevant DOM nodes)\n        removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n};\n/**\n * Compare two VNodes to determine if they are the same\n *\n * **NB**: This function is an equality _heuristic_ based on the available\n * information set on the two VNodes and can be misleading under certain\n * circumstances. In particular, if the two nodes do not have `key` attrs\n * (available under `$key$` on VNodes) then the function falls back on merely\n * checking that they have the same tag.\n *\n * So, in other words, if `key` attrs are not set on VNodes which may be\n * changing order within a `children` array or something along those lines then\n * we could obtain a false negative and then have to do needless re-rendering\n * (i.e. we'd say two VNodes aren't equal when in fact they should be).\n *\n * @param leftVNode the first VNode to check\n * @param rightVNode the second VNode to check\n * @returns whether they're equal or not\n */\nconst isSameVnode = (leftVNode, rightVNode) => {\n    // compare if two vnode to see if they're \"technically\" the same\n    // need to have the same element tag, and same key to be the same\n    if (leftVNode.$tag$ === rightVNode.$tag$) {\n        return true;\n    }\n    return false;\n};\n/**\n * Handle reconciling an outdated VNode with a new one which corresponds to\n * it. This function handles flushing updates to the DOM and reconciling the\n * children of the two nodes (if any).\n *\n * @param oldVNode an old VNode whose DOM element and children we want to update\n * @param newVNode a new VNode representing an updated version of the old one\n */\nconst patch = (oldVNode, newVNode) => {\n    const elm = (newVNode.$elm$ = oldVNode.$elm$);\n    const oldChildren = oldVNode.$children$;\n    const newChildren = newVNode.$children$;\n    const tag = newVNode.$tag$;\n    const text = newVNode.$text$;\n    if (text === null) {\n        {\n            // test if we're rendering an svg element, or still rendering nodes inside of one\n            // only add this to the when the compiler sees we're using an svg somewhere\n            isSvgMode = tag === 'svg' ? true : tag === 'foreignObject' ? false : isSvgMode;\n        }\n        {\n            {\n                // either this is the first render of an element OR it's an update\n                // AND we already know it's possible it could have changed\n                // this updates the element's css classes, attrs, props, listeners, etc.\n                updateElement(oldVNode, newVNode, isSvgMode);\n            }\n        }\n        if (oldChildren !== null && newChildren !== null) {\n            // looks like there's child vnodes for both the old and new vnodes\n            // so we need to call `updateChildren` to reconcile them\n            updateChildren(elm, oldChildren, newVNode, newChildren);\n        }\n        else if (newChildren !== null) {\n            // no old child vnodes, but there are new child vnodes to add\n            if (oldVNode.$text$ !== null) {\n                // the old vnode was text, so be sure to clear it out\n                elm.textContent = '';\n            }\n            // add the new vnode children\n            addVnodes(elm, null, newVNode, newChildren, 0, newChildren.length - 1);\n        }\n        else if (oldChildren !== null) {\n            // no new child vnodes, but there are old child vnodes to remove\n            removeVnodes(oldChildren, 0, oldChildren.length - 1);\n        }\n        if (isSvgMode && tag === 'svg') {\n            isSvgMode = false;\n        }\n    }\n    else if (oldVNode.$text$ !== text) {\n        // update the text content for the text only vnode\n        // and also only if the text is different than before\n        elm.data = text;\n    }\n};\n/**\n * The main entry point for Stencil's virtual DOM-based rendering engine\n *\n * Given a {@link d.HostRef} container and some virtual DOM nodes, this\n * function will handle creating a virtual DOM tree with a single root, patching\n * the current virtual DOM tree onto an old one (if any), dealing with slot\n * relocation, and reflecting attributes.\n *\n * @param hostRef data needed to root and render the virtual DOM tree, such as\n * the DOM node into which it should be rendered.\n * @param renderFnResults the virtual DOM nodes to be rendered\n */\nconst renderVdom = (hostRef, renderFnResults) => {\n    const hostElm = hostRef.$hostElement$;\n    const oldVNode = hostRef.$vnode$ || newVNode(null, null);\n    const rootVnode = isHost(renderFnResults) ? renderFnResults : h(null, null, renderFnResults);\n    hostTagName = hostElm.tagName;\n    rootVnode.$tag$ = null;\n    rootVnode.$flags$ |= 4 /* VNODE_FLAGS.isHost */;\n    hostRef.$vnode$ = rootVnode;\n    rootVnode.$elm$ = oldVNode.$elm$ = (hostElm.shadowRoot || hostElm );\n    {\n        scopeId = hostElm['s-sc'];\n    }\n    // synchronous patch\n    patch(oldVNode, rootVnode);\n};\nconst attachToAncestor = (hostRef, ancestorComponent) => {\n    if (ancestorComponent && !hostRef.$onRenderResolve$ && ancestorComponent['s-p']) {\n        ancestorComponent['s-p'].push(new Promise((r) => (hostRef.$onRenderResolve$ = r)));\n    }\n};\nconst scheduleUpdate = (hostRef, isInitialLoad) => {\n    {\n        hostRef.$flags$ |= 16 /* HOST_FLAGS.isQueuedForUpdate */;\n    }\n    if (hostRef.$flags$ & 4 /* HOST_FLAGS.isWaitingForChildren */) {\n        hostRef.$flags$ |= 512 /* HOST_FLAGS.needsRerender */;\n        return;\n    }\n    attachToAncestor(hostRef, hostRef.$ancestorComponent$);\n    // there is no ancestor component or the ancestor component\n    // has already fired off its lifecycle update then\n    // fire off the initial update\n    const dispatch = () => dispatchHooks(hostRef, isInitialLoad);\n    return writeTask(dispatch) ;\n};\nconst dispatchHooks = (hostRef, isInitialLoad) => {\n    const endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);\n    const instance = hostRef.$lazyInstance$ ;\n    let promise;\n    endSchedule();\n    return then(promise, () => updateComponent(hostRef, instance, isInitialLoad));\n};\nconst updateComponent = async (hostRef, instance, isInitialLoad) => {\n    // updateComponent\n    const elm = hostRef.$hostElement$;\n    const endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);\n    const rc = elm['s-rc'];\n    if (isInitialLoad) {\n        // DOM WRITE!\n        attachStyles(hostRef);\n    }\n    const endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);\n    {\n        callRender(hostRef, instance);\n    }\n    if (rc) {\n        // ok, so turns out there are some child host elements\n        // waiting on this parent element to load\n        // let's fire off all update callbacks waiting\n        rc.map((cb) => cb());\n        elm['s-rc'] = undefined;\n    }\n    endRender();\n    endUpdate();\n    {\n        const childrenPromises = elm['s-p'];\n        const postUpdate = () => postUpdateComponent(hostRef);\n        if (childrenPromises.length === 0) {\n            postUpdate();\n        }\n        else {\n            Promise.all(childrenPromises).then(postUpdate);\n            hostRef.$flags$ |= 4 /* HOST_FLAGS.isWaitingForChildren */;\n            childrenPromises.length = 0;\n        }\n    }\n};\nconst callRender = (hostRef, instance, elm) => {\n    try {\n        instance = instance.render() ;\n        {\n            hostRef.$flags$ &= ~16 /* HOST_FLAGS.isQueuedForUpdate */;\n        }\n        {\n            hostRef.$flags$ |= 2 /* HOST_FLAGS.hasRendered */;\n        }\n        {\n            {\n                // looks like we've got child nodes to render into this host element\n                // or we need to update the css class/attrs on the host element\n                // DOM WRITE!\n                {\n                    renderVdom(hostRef, instance);\n                }\n            }\n        }\n    }\n    catch (e) {\n        consoleError(e, hostRef.$hostElement$);\n    }\n    return null;\n};\nconst postUpdateComponent = (hostRef) => {\n    const tagName = hostRef.$cmpMeta$.$tagName$;\n    const elm = hostRef.$hostElement$;\n    const endPostUpdate = createTime('postUpdate', tagName);\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    if (!(hostRef.$flags$ & 64 /* HOST_FLAGS.hasLoadedComponent */)) {\n        hostRef.$flags$ |= 64 /* HOST_FLAGS.hasLoadedComponent */;\n        {\n            // DOM WRITE!\n            addHydratedFlag(elm);\n        }\n        endPostUpdate();\n        {\n            hostRef.$onReadyResolve$(elm);\n            if (!ancestorComponent) {\n                appDidLoad();\n            }\n        }\n    }\n    else {\n        endPostUpdate();\n    }\n    // load events fire from bottom to top\n    // the deepest elements load first then bubbles up\n    {\n        if (hostRef.$onRenderResolve$) {\n            hostRef.$onRenderResolve$();\n            hostRef.$onRenderResolve$ = undefined;\n        }\n        if (hostRef.$flags$ & 512 /* HOST_FLAGS.needsRerender */) {\n            nextTick(() => scheduleUpdate(hostRef, false));\n        }\n        hostRef.$flags$ &= ~(4 /* HOST_FLAGS.isWaitingForChildren */ | 512 /* HOST_FLAGS.needsRerender */);\n    }\n    // ( _)\n    // ( _)>-\n    // (_)\n};\nconst appDidLoad = (who) => {\n    // on appload\n    // we have finish the first big initial render\n    {\n        addHydratedFlag(doc.documentElement);\n    }\n    nextTick(() => emitEvent(win, 'appload', { detail: { namespace: NAMESPACE } }));\n};\nconst then = (promise, thenFn) => {\n    return promise && promise.then ? promise.then(thenFn) : thenFn();\n};\nconst addHydratedFlag = (elm) => elm.classList.add('hydrated')\n    ;\nconst getValue = (ref, propName) => getHostRef(ref).$instanceValues$.get(propName);\nconst setValue = (ref, propName, newVal, cmpMeta) => {\n    // check our new property value against our internal value\n    const hostRef = getHostRef(ref);\n    const oldVal = hostRef.$instanceValues$.get(propName);\n    const flags = hostRef.$flags$;\n    const instance = hostRef.$lazyInstance$ ;\n    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n    // explicitly check for NaN on both sides, as `NaN === NaN` is always false\n    const areBothNaN = Number.isNaN(oldVal) && Number.isNaN(newVal);\n    const didValueChange = newVal !== oldVal && !areBothNaN;\n    if ((!(flags & 8 /* HOST_FLAGS.isConstructingInstance */) || oldVal === undefined) && didValueChange) {\n        // gadzooks! the property's value has changed!!\n        // set our new value!\n        hostRef.$instanceValues$.set(propName, newVal);\n        if (instance) {\n            if ((flags & (2 /* HOST_FLAGS.hasRendered */ | 16 /* HOST_FLAGS.isQueuedForUpdate */)) === 2 /* HOST_FLAGS.hasRendered */) {\n                // looks like this value actually changed, so we've got work to do!\n                // but only if we've already rendered, otherwise just chill out\n                // queue that we need to do an update, but don't worry about queuing\n                // up millions cuz this function ensures it only runs once\n                scheduleUpdate(hostRef, false);\n            }\n        }\n    }\n};\n/**\n * Attach a series of runtime constructs to a compiled Stencil component\n * constructor, including getters and setters for the `@Prop` and `@State`\n * decorators, callbacks for when attributes change, and so on.\n *\n * @param Cstr the constructor for a component that we need to process\n * @param cmpMeta metadata collected previously about the component\n * @param flags a number used to store a series of bit flags\n * @returns a reference to the same constructor passed in (but now mutated)\n */\nconst proxyComponent = (Cstr, cmpMeta, flags) => {\n    if (cmpMeta.$members$) {\n        // It's better to have a const than two Object.entries()\n        const members = Object.entries(cmpMeta.$members$);\n        const prototype = Cstr.prototype;\n        members.map(([memberName, [memberFlags]]) => {\n            if ((memberFlags & 31 /* MEMBER_FLAGS.Prop */ ||\n                    ((flags & 2 /* PROXY_FLAGS.proxyState */) && memberFlags & 32 /* MEMBER_FLAGS.State */))) {\n                // proxyComponent - prop\n                Object.defineProperty(prototype, memberName, {\n                    get() {\n                        // proxyComponent, get value\n                        return getValue(this, memberName);\n                    },\n                    set(newValue) {\n                        // proxyComponent, set value\n                        setValue(this, memberName, newValue, cmpMeta);\n                    },\n                    configurable: true,\n                    enumerable: true,\n                });\n            }\n        });\n        if ((flags & 1 /* PROXY_FLAGS.isElementConstructor */)) {\n            const attrNameToPropName = new Map();\n            prototype.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n                plt.jmp(() => {\n                    const propName = attrNameToPropName.get(attrName);\n                    //  In a web component lifecycle the attributeChangedCallback runs prior to connectedCallback\n                    //  in the case where an attribute was set inline.\n                    //  ```html\n                    //    <my-component some-attribute=\"some-value\"></my-component>\n                    //  ```\n                    //\n                    //  There is an edge case where a developer sets the attribute inline on a custom element and then\n                    //  programmatically changes it before it has been upgraded as shown below:\n                    //\n                    //  ```html\n                    //    <!-- this component has _not_ been upgraded yet -->\n                    //    <my-component id=\"test\" some-attribute=\"some-value\"></my-component>\n                    //    <script>\n                    //      // grab non-upgraded component\n                    //      el = document.querySelector(\"#test\");\n                    //      el.someAttribute = \"another-value\";\n                    //      // upgrade component\n                    //      customElements.define('my-component', MyComponent);\n                    //    </script>\n                    //  ```\n                    //  In this case if we do not unshadow here and use the value of the shadowing property, attributeChangedCallback\n                    //  will be called with `newValue = \"some-value\"` and will set the shadowed property (this.someAttribute = \"another-value\")\n                    //  to the value that was set inline i.e. \"some-value\" from above example. When\n                    //  the connectedCallback attempts to unshadow it will use \"some-value\" as the initial value rather than \"another-value\"\n                    //\n                    //  The case where the attribute was NOT set inline but was not set programmatically shall be handled/unshadowed\n                    //  by connectedCallback as this attributeChangedCallback will not fire.\n                    //\n                    //  https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n                    //\n                    //  TODO(STENCIL-16) we should think about whether or not we actually want to be reflecting the attributes to\n                    //  properties here given that this goes against best practices outlined here\n                    //  https://developers.google.com/web/fundamentals/web-components/best-practices#avoid-reentrancy\n                    if (this.hasOwnProperty(propName)) {\n                        newValue = this[propName];\n                        delete this[propName];\n                    }\n                    else if (prototype.hasOwnProperty(propName) &&\n                        typeof this[propName] === 'number' &&\n                        this[propName] == newValue) {\n                        // if the propName exists on the prototype of `Cstr`, this update may be a result of Stencil using native\n                        // APIs to reflect props as attributes. Calls to `setAttribute(someElement, propName)` will result in\n                        // `propName` to be converted to a `DOMString`, which may not be what we want for other primitive props.\n                        return;\n                    }\n                    this[propName] = newValue === null && typeof this[propName] === 'boolean' ? false : newValue;\n                });\n            };\n            // create an array of attributes to observe\n            // and also create a map of html attribute name to js property name\n            Cstr.observedAttributes = members\n                .filter(([_, m]) => m[0] & 15 /* MEMBER_FLAGS.HasAttribute */) // filter to only keep props that should match attributes\n                .map(([propName, m]) => {\n                const attrName = m[1] || propName;\n                attrNameToPropName.set(attrName, propName);\n                return attrName;\n            });\n        }\n    }\n    return Cstr;\n};\nconst initializeComponent = async (elm, hostRef, cmpMeta, hmrVersionId, Cstr) => {\n    // initializeComponent\n    if ((hostRef.$flags$ & 32 /* HOST_FLAGS.hasInitializedComponent */) === 0) {\n        {\n            // we haven't initialized this element yet\n            hostRef.$flags$ |= 32 /* HOST_FLAGS.hasInitializedComponent */;\n            // lazy loaded components\n            // request the component's implementation to be\n            // wired up with the host element\n            Cstr = loadModule(cmpMeta);\n            if (Cstr.then) {\n                // Await creates a micro-task avoid if possible\n                const endLoad = uniqueTime();\n                Cstr = await Cstr;\n                endLoad();\n            }\n            if (!Cstr.isProxied) {\n                proxyComponent(Cstr, cmpMeta, 2 /* PROXY_FLAGS.proxyState */);\n                Cstr.isProxied = true;\n            }\n            const endNewInstance = createTime('createInstance', cmpMeta.$tagName$);\n            // ok, time to construct the instance\n            // but let's keep track of when we start and stop\n            // so that the getters/setters don't incorrectly step on data\n            {\n                hostRef.$flags$ |= 8 /* HOST_FLAGS.isConstructingInstance */;\n            }\n            // construct the lazy-loaded component implementation\n            // passing the hostRef is very important during\n            // construction in order to directly wire together the\n            // host element and the lazy-loaded instance\n            try {\n                new Cstr(hostRef);\n            }\n            catch (e) {\n                consoleError(e);\n            }\n            {\n                hostRef.$flags$ &= ~8 /* HOST_FLAGS.isConstructingInstance */;\n            }\n            endNewInstance();\n        }\n        if (Cstr.style) {\n            // this component has styles but we haven't registered them yet\n            let style = Cstr.style;\n            const scopeId = getScopeId(cmpMeta);\n            if (!styles.has(scopeId)) {\n                const endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);\n                registerStyle(scopeId, style, !!(cmpMeta.$flags$ & 1 /* CMP_FLAGS.shadowDomEncapsulation */));\n                endRegisterStyles();\n            }\n        }\n    }\n    // we've successfully created a lazy instance\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    const schedule = () => scheduleUpdate(hostRef, true);\n    if (ancestorComponent && ancestorComponent['s-rc']) {\n        // this is the initial load and this component it has an ancestor component\n        // but the ancestor component has NOT fired its will update lifecycle yet\n        // so let's just cool our jets and wait for the ancestor to continue first\n        // this will get fired off when the ancestor component\n        // finally gets around to rendering its lazy self\n        // fire off the initial update\n        ancestorComponent['s-rc'].push(schedule);\n    }\n    else {\n        schedule();\n    }\n};\nconst connectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* PLATFORM_FLAGS.isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        const cmpMeta = hostRef.$cmpMeta$;\n        const endConnected = createTime('connectedCallback', cmpMeta.$tagName$);\n        if (!(hostRef.$flags$ & 1 /* HOST_FLAGS.hasConnected */)) {\n            // first time this component has connected\n            hostRef.$flags$ |= 1 /* HOST_FLAGS.hasConnected */;\n            {\n                // find the first ancestor component (if there is one) and register\n                // this component as one of the actively loading child components for its ancestor\n                let ancestorComponent = elm;\n                while ((ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host)) {\n                    // climb up the ancestors looking for the first\n                    // component that hasn't finished its lifecycle update yet\n                    if (ancestorComponent['s-p']) {\n                        // we found this components first ancestor component\n                        // keep a reference to this component's ancestor component\n                        attachToAncestor(hostRef, (hostRef.$ancestorComponent$ = ancestorComponent));\n                        break;\n                    }\n                }\n            }\n            // Lazy properties\n            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n            if (cmpMeta.$members$) {\n                Object.entries(cmpMeta.$members$).map(([memberName, [memberFlags]]) => {\n                    if (memberFlags & 31 /* MEMBER_FLAGS.Prop */ && elm.hasOwnProperty(memberName)) {\n                        const value = elm[memberName];\n                        delete elm[memberName];\n                        elm[memberName] = value;\n                    }\n                });\n            }\n            {\n                initializeComponent(elm, hostRef, cmpMeta);\n            }\n        }\n        endConnected();\n    }\n};\nconst disconnectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* PLATFORM_FLAGS.isTmpDisconnected */) === 0) {\n        getHostRef(elm);\n    }\n};\nconst bootstrapLazy = (lazyBundles, options = {}) => {\n    var _a;\n    const endBootstrap = createTime();\n    const cmpTags = [];\n    const exclude = options.exclude || [];\n    const customElements = win.customElements;\n    const head = doc.head;\n    const metaCharset = /*@__PURE__*/ head.querySelector('meta[charset]');\n    const visibilityStyle = /*@__PURE__*/ doc.createElement('style');\n    const deferredConnectedCallbacks = [];\n    let appLoadFallback;\n    let isBootstrapping = true;\n    Object.assign(plt, options);\n    plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;\n    lazyBundles.map((lazyBundle) => {\n        lazyBundle[1].map((compactMeta) => {\n            const cmpMeta = {\n                $flags$: compactMeta[0],\n                $tagName$: compactMeta[1],\n                $members$: compactMeta[2],\n                $listeners$: compactMeta[3],\n            };\n            {\n                cmpMeta.$members$ = compactMeta[2];\n            }\n            const tagName = cmpMeta.$tagName$;\n            const HostElement = class extends HTMLElement {\n                // StencilLazyHost\n                constructor(self) {\n                    // @ts-ignore\n                    super(self);\n                    self = this;\n                    registerHost(self, cmpMeta);\n                    if (cmpMeta.$flags$ & 1 /* CMP_FLAGS.shadowDomEncapsulation */) {\n                        // this component is using shadow dom\n                        // and this browser supports shadow dom\n                        // add the read-only property \"shadowRoot\" to the host element\n                        // adding the shadow root build conditionals to minimize runtime\n                        {\n                            {\n                                self.attachShadow({ mode: 'open' });\n                            }\n                        }\n                    }\n                }\n                connectedCallback() {\n                    if (appLoadFallback) {\n                        clearTimeout(appLoadFallback);\n                        appLoadFallback = null;\n                    }\n                    if (isBootstrapping) {\n                        // connectedCallback will be processed once all components have been registered\n                        deferredConnectedCallbacks.push(this);\n                    }\n                    else {\n                        plt.jmp(() => connectedCallback(this));\n                    }\n                }\n                disconnectedCallback() {\n                    plt.jmp(() => disconnectedCallback(this));\n                }\n                componentOnReady() {\n                    return getHostRef(this).$onReadyPromise$;\n                }\n            };\n            cmpMeta.$lazyBundleId$ = lazyBundle[0];\n            if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n                cmpTags.push(tagName);\n                customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* PROXY_FLAGS.isElementConstructor */));\n            }\n        });\n    });\n    {\n        visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;\n        visibilityStyle.setAttribute('data-styles', '');\n        // Apply CSP nonce to the style tag if it exists\n        const nonce = (_a = plt.$nonce$) !== null && _a !== void 0 ? _a : queryNonceMetaTagContent(doc);\n        if (nonce != null) {\n            visibilityStyle.setAttribute('nonce', nonce);\n        }\n        head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);\n    }\n    // Process deferred connectedCallbacks now all components have been registered\n    isBootstrapping = false;\n    if (deferredConnectedCallbacks.length) {\n        deferredConnectedCallbacks.map((host) => host.connectedCallback());\n    }\n    else {\n        {\n            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30)));\n        }\n    }\n    // Fallback appLoad event\n    endBootstrap();\n};\n/**\n * Assigns the given value to the nonce property on the runtime platform object.\n * During runtime, this value is used to set the nonce attribute on all dynamically created script and style tags.\n * @param nonce The value to be assigned to the platform nonce property.\n * @returns void\n */\nconst setNonce = (nonce) => (plt.$nonce$ = nonce);\nconst hostRefs = /*@__PURE__*/ new WeakMap();\nconst getHostRef = (ref) => hostRefs.get(ref);\nconst registerInstance = (lazyInstance, hostRef) => hostRefs.set((hostRef.$lazyInstance$ = lazyInstance), hostRef);\nconst registerHost = (elm, cmpMeta) => {\n    const hostRef = {\n        $flags$: 0,\n        $hostElement$: elm,\n        $cmpMeta$: cmpMeta,\n        $instanceValues$: new Map(),\n    };\n    {\n        hostRef.$onReadyPromise$ = new Promise((r) => (hostRef.$onReadyResolve$ = r));\n        elm['s-p'] = [];\n        elm['s-rc'] = [];\n    }\n    return hostRefs.set(elm, hostRef);\n};\nconst isMemberInElement = (elm, memberName) => memberName in elm;\nconst consoleError = (e, el) => (0, console.error)(e, el);\nconst cmpModules = /*@__PURE__*/ new Map();\nconst loadModule = (cmpMeta, hostRef, hmrVersionId) => {\n    // loadModuleImport\n    const exportName = cmpMeta.$tagName$.replace(/-/g, '_');\n    const bundleId = cmpMeta.$lazyBundleId$;\n    const module = cmpModules.get(bundleId) ;\n    if (module) {\n        return module[exportName];\n    }\n    \n    if (!hmrVersionId || !BUILD.hotModuleReplacement) {\n      const processMod = importedModule => {\n        cmpModules.set(bundleId, importedModule);\n        return importedModule[exportName];\n      }\n      switch(bundleId) {\n        \n        case 'connect-modal.cjs':\n          return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(__webpack_require__(\n            /* webpackMode: \"lazy\" */\n            /*! ./connect-modal.cjs.entry.js */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/connect-modal.cjs.entry.js\")); }).then(processMod, consoleError);\n      }\n    }\n    return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(__webpack_require__(\"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs sync recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$\")(`./${bundleId}.entry.js`)); }).then((importedModule) => {\n        {\n            cmpModules.set(bundleId, importedModule);\n        }\n        return importedModule[exportName];\n    }, consoleError);\n};\nconst styles = /*@__PURE__*/ new Map();\nconst win = typeof window !== 'undefined' ? window : {};\nconst doc = win.document || { head: {} };\nconst plt = {\n    $flags$: 0,\n    $resourcesUrl$: '',\n    jmp: (h) => h(),\n    raf: (h) => requestAnimationFrame(h),\n    ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),\n    rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),\n    ce: (eventName, opts) => new CustomEvent(eventName, opts),\n};\nconst promiseResolve = (v) => Promise.resolve(v);\nconst supportsConstructableStylesheets = /*@__PURE__*/ (() => {\n        try {\n            new CSSStyleSheet();\n            return typeof new CSSStyleSheet().replaceSync === 'function';\n        }\n        catch (e) { }\n        return false;\n    })()\n    ;\nconst queueDomReads = [];\nconst queueDomWrites = [];\nconst queueTask = (queue, write) => (cb) => {\n    queue.push(cb);\n    if (!queuePending) {\n        queuePending = true;\n        if (write && plt.$flags$ & 4 /* PLATFORM_FLAGS.queueSync */) {\n            nextTick(flush);\n        }\n        else {\n            plt.raf(flush);\n        }\n    }\n};\nconst consume = (queue) => {\n    for (let i = 0; i < queue.length; i++) {\n        try {\n            queue[i](performance.now());\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    queue.length = 0;\n};\nconst flush = () => {\n    // always force a bunch of medium callbacks to run, but still have\n    // a throttle on how many can run in a certain time\n    // DOM READS!!!\n    consume(queueDomReads);\n    // DOM WRITES!!!\n    {\n        consume(queueDomWrites);\n        if ((queuePending = queueDomReads.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n    }\n};\nconst nextTick = /*@__PURE__*/ (cb) => promiseResolve().then(cb);\nconst writeTask = /*@__PURE__*/ queueTask(queueDomWrites, true);\n\nexports.bootstrapLazy = bootstrapLazy;\nexports.getElement = getElement;\nexports.h = h;\nexports.promiseResolve = promiseResolve;\nexports.registerInstance = registerInstance;\nexports.setNonce = setNonce;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2Rpc3QvY2pzL2luZGV4LTNlMzQzN2U5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQixVQUFVLG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLEVBQUU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0NBQWdDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZUFBZTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGVBQWU7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFVBQVUsd0JBQXdCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxjQUFjO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHNDQUFzQyxtQkFBTztBQUNuRztBQUNBLFlBQVksaUhBQThCLEtBQUs7QUFDL0M7QUFDQTtBQUNBLGdEQUFnRCxzQ0FBc0MsK0dBS2xGLEdBQUcsRUFBRSxTQUFTLFVBQWUsQ0FBQyxJQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQjtBQUNyQixrQkFBa0I7QUFDbEIsU0FBUztBQUNULHNCQUFzQjtBQUN0Qix3QkFBd0I7QUFDeEIsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvY29ubmVjdC11aS9kaXN0L2Nqcy9pbmRleC0zZTM0MzdlOS5qcz9iZjQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChlKSB7XG4gICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBlW2tdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgblsnZGVmYXVsdCddID0gZTtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbmNvbnN0IE5BTUVTUEFDRSA9ICdjb25uZWN0LXVpJztcblxuLyoqXG4gKiBWaXJ0dWFsIERPTSBwYXRjaGluZyBhbGdvcml0aG0gYmFzZWQgb24gU25hYmJkb20gYnlcbiAqIFNpbW9uIEZyaWlzIFZpbmR1bSAoQHBhbGRlcGluZClcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICogaHR0cHM6Ly9naXRodWIuY29tL3NuYWJiZG9tL3NuYWJiZG9tL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKiBNb2RpZmllZCBmb3IgU3RlbmNpbCdzIHJlbmRlcmVyIGFuZCBzbG90IHByb2plY3Rpb25cbiAqL1xubGV0IHNjb3BlSWQ7XG5sZXQgaG9zdFRhZ05hbWU7XG5sZXQgaXNTdmdNb2RlID0gZmFsc2U7XG5sZXQgcXVldWVQZW5kaW5nID0gZmFsc2U7XG5jb25zdCBjcmVhdGVUaW1lID0gKGZuTmFtZSwgdGFnTmFtZSA9ICcnKSA9PiB7XG4gICAge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgIH1cbn07XG5jb25zdCB1bmlxdWVUaW1lID0gKGtleSwgbWVhc3VyZVRleHQpID0+IHtcbiAgICB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgfVxufTtcbmNvbnN0IEhZRFJBVEVEX0NTUyA9ICd7dmlzaWJpbGl0eTpoaWRkZW59Lmh5ZHJhdGVke3Zpc2liaWxpdHk6aW5oZXJpdH0nO1xuLyoqXG4gKiBEZWZhdWx0IHN0eWxlIG1vZGUgaWRcbiAqL1xuLyoqXG4gKiBSZXVzYWJsZSBlbXB0eSBvYmovYXJyYXlcbiAqIERvbid0IGFkZCB2YWx1ZXMgdG8gdGhlc2UhIVxuICovXG5jb25zdCBFTVBUWV9PQkogPSB7fTtcbi8qKlxuICogTmFtZXNwYWNlc1xuICovXG5jb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgSFRNTF9OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcbmNvbnN0IGlzRGVmID0gKHYpID0+IHYgIT0gbnVsbDtcbmNvbnN0IGlzQ29tcGxleFR5cGUgPSAobykgPT4ge1xuICAgIC8vIGh0dHBzOi8vanNwZXJmLmNvbS90eXBlb2YtZm4tb2JqZWN0LzVcbiAgICBvID0gdHlwZW9mIG87XG4gICAgcmV0dXJuIG8gPT09ICdvYmplY3QnIHx8IG8gPT09ICdmdW5jdGlvbic7XG59O1xuLyoqXG4gKiBIZWxwZXIgbWV0aG9kIGZvciBxdWVyeWluZyBhIGBtZXRhYCB0YWcgdGhhdCBjb250YWlucyBhIG5vbmNlIHZhbHVlXG4gKiBvdXQgb2YgYSBET00ncyBoZWFkLlxuICpcbiAqIEBwYXJhbSBkb2MgVGhlIERPTSBjb250YWluaW5nIHRoZSBgaGVhZGAgdG8gcXVlcnkgYWdhaW5zdFxuICogQHJldHVybnMgVGhlIGNvbnRlbnQgb2YgdGhlIG1ldGEgdGFnIHJlcHJlc2VudGluZyB0aGUgbm9uY2UgdmFsdWUsIG9yIGB1bmRlZmluZWRgIGlmIG5vIHRhZ1xuICogZXhpc3RzIG9yIHRoZSB0YWcgaGFzIG5vIGNvbnRlbnQuXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5Tm9uY2VNZXRhVGFnQ29udGVudChkb2MpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICByZXR1cm4gKF9jID0gKF9iID0gKF9hID0gZG9jLmhlYWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJjc3Atbm9uY2VcIl0nKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdldEF0dHJpYnV0ZSgnY29udGVudCcpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFByb2R1Y3Rpb24gaCgpIGZ1bmN0aW9uIGJhc2VkIG9uIFByZWFjdCBieVxuICogSmFzb24gTWlsbGVyIChAZGV2ZWxvcGl0KVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3ByZWFjdC9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKlxuICogTW9kaWZpZWQgZm9yIFN0ZW5jaWwncyBjb21waWxlciBhbmQgdmRvbVxuICovXG4vLyBleHBvcnQgZnVuY3Rpb24gaChub2RlTmFtZTogc3RyaW5nIHwgZC5GdW5jdGlvbmFsQ29tcG9uZW50LCB2bm9kZURhdGE6IGQuUHJvcHNUeXBlLCBjaGlsZD86IGQuQ2hpbGRUeXBlKTogZC5WTm9kZTtcbi8vIGV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lOiBzdHJpbmcgfCBkLkZ1bmN0aW9uYWxDb21wb25lbnQsIHZub2RlRGF0YTogZC5Qcm9wc1R5cGUsIC4uLmNoaWxkcmVuOiBkLkNoaWxkVHlwZVtdKTogZC5WTm9kZTtcbmNvbnN0IGggPSAobm9kZU5hbWUsIHZub2RlRGF0YSwgLi4uY2hpbGRyZW4pID0+IHtcbiAgICBsZXQgY2hpbGQgPSBudWxsO1xuICAgIGxldCBzaW1wbGUgPSBmYWxzZTtcbiAgICBsZXQgbGFzdFNpbXBsZSA9IGZhbHNlO1xuICAgIGNvbnN0IHZOb2RlQ2hpbGRyZW4gPSBbXTtcbiAgICBjb25zdCB3YWxrID0gKGMpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGNbaV07XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICB3YWxrKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkICE9IG51bGwgJiYgdHlwZW9mIGNoaWxkICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHNpbXBsZSA9IHR5cGVvZiBub2RlTmFtZSAhPT0gJ2Z1bmN0aW9uJyAmJiAhaXNDb21wbGV4VHlwZShjaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNpbXBsZSAmJiBsYXN0U2ltcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBjaGlsZCB3YXMgc2ltcGxlIChzdHJpbmcpLCB3ZSBtZXJnZSBib3RoXG4gICAgICAgICAgICAgICAgICAgIHZOb2RlQ2hpbGRyZW5bdk5vZGVDaGlsZHJlbi5sZW5ndGggLSAxXS4kdGV4dCQgKz0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgYSBuZXcgdk5vZGUsIGlmIGl0J3MgdGV4dCwgd2UgY3JlYXRlIGEgdGV4dCB2Tm9kZVxuICAgICAgICAgICAgICAgICAgICB2Tm9kZUNoaWxkcmVuLnB1c2goc2ltcGxlID8gbmV3Vk5vZGUobnVsbCwgY2hpbGQpIDogY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0U2ltcGxlID0gc2ltcGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB3YWxrKGNoaWxkcmVuKTtcbiAgICBpZiAodm5vZGVEYXRhKSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzRGF0YSA9IHZub2RlRGF0YS5jbGFzc05hbWUgfHwgdm5vZGVEYXRhLmNsYXNzO1xuICAgICAgICAgICAgaWYgKGNsYXNzRGF0YSkge1xuICAgICAgICAgICAgICAgIHZub2RlRGF0YS5jbGFzcyA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjbGFzc0RhdGEgIT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNsYXNzRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBPYmplY3Qua2V5cyhjbGFzc0RhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoaykgPT4gY2xhc3NEYXRhW2tdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBuZXdWTm9kZShub2RlTmFtZSwgbnVsbCk7XG4gICAgdm5vZGUuJGF0dHJzJCA9IHZub2RlRGF0YTtcbiAgICBpZiAodk5vZGVDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZub2RlLiRjaGlsZHJlbiQgPSB2Tm9kZUNoaWxkcmVuO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59O1xuLyoqXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgdmlydHVhbCBET00gbm9kZSBmcm9tIGEgdGFnIGFuZCBzb21lXG4gKiBwb3NzaWJsZSB0ZXh0IGNvbnRlbnQuXG4gKlxuICogQHBhcmFtIHRhZyB0aGUgdGFnIGZvciB0aGlzIGVsZW1lbnRcbiAqIEBwYXJhbSB0ZXh0IHBvc3NpYmxlIHRleHQgY29udGVudCBmb3IgdGhlIG5vZGVcbiAqIEByZXR1cm5zIGEgbmV3bHktbWludGVkIHZpcnR1YWwgRE9NIG5vZGVcbiAqL1xuY29uc3QgbmV3Vk5vZGUgPSAodGFnLCB0ZXh0KSA9PiB7XG4gICAgY29uc3Qgdm5vZGUgPSB7XG4gICAgICAgICRmbGFncyQ6IDAsXG4gICAgICAgICR0YWckOiB0YWcsXG4gICAgICAgICR0ZXh0JDogdGV4dCxcbiAgICAgICAgJGVsbSQ6IG51bGwsXG4gICAgICAgICRjaGlsZHJlbiQ6IG51bGwsXG4gICAgfTtcbiAgICB7XG4gICAgICAgIHZub2RlLiRhdHRycyQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59O1xuY29uc3QgSG9zdCA9IHt9O1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gbm9kZSBpcyBhIEhvc3Qgbm9kZSBvciBub3RcbiAqXG4gKiBAcGFyYW0gbm9kZSB0aGUgdmlydHVhbCBET00gbm9kZSB0byBjaGVja1xuICogQHJldHVybnMgd2hldGhlciBpdCdzIGEgSG9zdCBub2RlIG9yIG5vdFxuICovXG5jb25zdCBpc0hvc3QgPSAobm9kZSkgPT4gbm9kZSAmJiBub2RlLiR0YWckID09PSBIb3N0O1xuLyoqXG4gKiBQYXJzZSBhIG5ldyBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBwcm9wZXJ0eSB0eXBlLlxuICpcbiAqIFdoaWxlIHRoZSBwcm9wIHZhbHVlIGNhbiByZWFzb25hYmx5IGJlIGV4cGVjdGVkIHRvIGJlIG9mIGBhbnlgIHR5cGUgYXMgZmFyIGFzIFR5cGVTY3JpcHQncyB0eXBlIGNoZWNrZXIgaXMgY29uY2VybmVkLFxuICogaXQgaXMgbm90IHNhZmUgdG8gYXNzdW1lIHRoYXQgdGhlIHN0cmluZyByZXR1cm5lZCBieSBldmFsdWF0aW5nIGB0eXBlb2YgcHJvcFZhbHVlYCBtYXRjaGVzOlxuICogICAxLiBgYW55YCwgdGhlIHR5cGUgZ2l2ZW4gdG8gYHByb3BWYWx1ZWAgaW4gdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZVxuICogICAyLiB0aGUgdHlwZSBzdG9yZWQgZnJvbSBgcHJvcFR5cGVgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgdGhlIGNhcGFiaWxpdHkgdG8gcGFyc2UvY29lcmNlIGEgcHJvcGVydHkncyB2YWx1ZSB0byBwb3RlbnRpYWxseSBhbnkgb3RoZXIgSmF2YVNjcmlwdCB0eXBlLlxuICpcbiAqIFByb3BlcnR5IHZhbHVlcyByZXByZXNlbnRlZCBpbiBUU1ggcHJlc2VydmUgdGhlaXIgdHlwZSBpbmZvcm1hdGlvbi4gSW4gdGhlIGV4YW1wbGUgYmVsb3csIHRoZSBudW1iZXIgMCBpcyBwYXNzZWQgdG9cbiAqIGEgY29tcG9uZW50LiBUaGlzIGBwcm9wVmFsdWVgIHdpbGwgcHJlc2VydmUgaXRzIHR5cGUgaW5mb3JtYXRpb24gKGB0eXBlb2YgcHJvcFZhbHVlID09PSAnbnVtYmVyJ2ApLiBOb3RlIHRoYXQgaXNcbiAqIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZSBiZWluZyBwYXNzZWQgaW4sIG5vdCB0aGUgdHlwZSBkZWNsYXJlZCBvZiB0aGUgY2xhc3MgbWVtYmVyIGRlY29yYXRlZCB3aXRoIGBAUHJvcGAuXG4gKiBgYGB0c3hcbiAqIDxteS1jbXAgcHJvcC12YWw9ezB9PjwvbXktY21wPlxuICogYGBgXG4gKlxuICogSFRNTCBwcm9wIHZhbHVlcyBvbiB0aGUgb3RoZXIgaGFuZCwgd2lsbCBhbHdheXMgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gcHJvcFZhbHVlIHRoZSBuZXcgdmFsdWUgdG8gY29lcmNlIHRvIHNvbWUgdHlwZVxuICogQHBhcmFtIHByb3BUeXBlIHRoZSB0eXBlIG9mIHRoZSBwcm9wLCBleHByZXNzZWQgYXMgYSBiaW5hcnkgbnVtYmVyXG4gKiBAcmV0dXJucyB0aGUgcGFyc2VkL2NvZXJjZWQgdmFsdWVcbiAqL1xuY29uc3QgcGFyc2VQcm9wZXJ0eVZhbHVlID0gKHByb3BWYWx1ZSwgcHJvcFR5cGUpID0+IHtcbiAgICAvLyBlbnN1cmUgdGhpcyB2YWx1ZSBpcyBvZiB0aGUgY29ycmVjdCBwcm9wIHR5cGVcbiAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgIWlzQ29tcGxleFR5cGUocHJvcFZhbHVlKSkge1xuICAgICAgICBpZiAocHJvcFR5cGUgJiA0IC8qIE1FTUJFUl9GTEFHUy5Cb29sZWFuICovKSB7XG4gICAgICAgICAgICAvLyBwZXIgdGhlIEhUTUwgc3BlYywgYW55IHN0cmluZyB2YWx1ZSBtZWFucyBpdCBpcyBhIGJvb2xlYW4gdHJ1ZSB2YWx1ZVxuICAgICAgICAgICAgLy8gYnV0IHdlJ2xsIGNoZWF0IGhlcmUgYW5kIHNheSB0aGF0IHRoZSBzdHJpbmcgXCJmYWxzZVwiIGlzIHRoZSBib29sZWFuIGZhbHNlXG4gICAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlID09PSAnZmFsc2UnID8gZmFsc2UgOiBwcm9wVmFsdWUgPT09ICcnIHx8ICEhcHJvcFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZHVuZGFudCByZXR1cm4gaGVyZSBmb3IgYmV0dGVyIG1pbmlmaWNhdGlvblxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlO1xuICAgIH1cbiAgICAvLyBub3Qgc3VyZSBleGFjdGx5IHdoYXQgdHlwZSB3ZSB3YW50XG4gICAgLy8gc28gbm8gbmVlZCB0byBjaGFuZ2UgdG8gYSBkaWZmZXJlbnQgdHlwZVxuICAgIHJldHVybiBwcm9wVmFsdWU7XG59O1xuY29uc3QgZ2V0RWxlbWVudCA9IChyZWYpID0+IChnZXRIb3N0UmVmKHJlZikuJGhvc3RFbGVtZW50JCApO1xuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlICYgZGlzcGF0Y2ggYSBjdXN0b20gRXZlbnQgb24gYSBwcm92aWRlZCB0YXJnZXRcbiAqIEBwYXJhbSBlbG0gdGhlIHRhcmdldCBvZiB0aGUgRXZlbnRcbiAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIHRvIGdpdmUgdGhlIGN1c3RvbSBFdmVudFxuICogQHBhcmFtIG9wdHMgb3B0aW9ucyBmb3IgY29uZmlndXJpbmcgYSBjdXN0b20gRXZlbnRcbiAqIEByZXR1cm5zIHRoZSBjdXN0b20gRXZlbnRcbiAqL1xuY29uc3QgZW1pdEV2ZW50ID0gKGVsbSwgbmFtZSwgb3B0cykgPT4ge1xuICAgIGNvbnN0IGV2ID0gcGx0LmNlKG5hbWUsIG9wdHMpO1xuICAgIGVsbS5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICByZXR1cm4gZXY7XG59O1xuY29uc3Qgcm9vdEFwcGxpZWRTdHlsZXMgPSAvKkBfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWdpc3RlclN0eWxlID0gKHNjb3BlSWQsIGNzc1RleHQsIGFsbG93Q1MpID0+IHtcbiAgICBsZXQgc3R5bGUgPSBzdHlsZXMuZ2V0KHNjb3BlSWQpO1xuICAgIGlmIChzdXBwb3J0c0NvbnN0cnVjdGFibGVTdHlsZXNoZWV0cyAmJiBhbGxvd0NTKSB7XG4gICAgICAgIHN0eWxlID0gKHN0eWxlIHx8IG5ldyBDU1NTdHlsZVNoZWV0KCkpO1xuICAgICAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc3R5bGUgPSBjc3NUZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3R5bGUucmVwbGFjZVN5bmMoY3NzVGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0eWxlID0gY3NzVGV4dDtcbiAgICB9XG4gICAgc3R5bGVzLnNldChzY29wZUlkLCBzdHlsZSk7XG59O1xuY29uc3QgYWRkU3R5bGUgPSAoc3R5bGVDb250YWluZXJOb2RlLCBjbXBNZXRhLCBtb2RlLCBob3N0RWxtKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBzY29wZUlkID0gZ2V0U2NvcGVJZChjbXBNZXRhKTtcbiAgICBjb25zdCBzdHlsZSA9IHN0eWxlcy5nZXQoc2NvcGVJZCk7XG4gICAgLy8gaWYgYW4gZWxlbWVudCBpcyBOT1QgY29ubmVjdGVkIHRoZW4gZ2V0Um9vdE5vZGUoKSB3aWxsIHJldHVybiB0aGUgd3Jvbmcgcm9vdCBub2RlXG4gICAgLy8gc28gdGhlIGZhbGxiYWNrIGlzIHRvIGFsd2F5cyB1c2UgdGhlIGRvY3VtZW50IGZvciB0aGUgcm9vdCBub2RlIGluIHRob3NlIGNhc2VzXG4gICAgc3R5bGVDb250YWluZXJOb2RlID0gc3R5bGVDb250YWluZXJOb2RlLm5vZGVUeXBlID09PSAxMSAvKiBOT0RFX1RZUEUuRG9jdW1lbnRGcmFnbWVudCAqLyA/IHN0eWxlQ29udGFpbmVyTm9kZSA6IGRvYztcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHN0eWxlQ29udGFpbmVyTm9kZSA9IHN0eWxlQ29udGFpbmVyTm9kZS5oZWFkIHx8IHN0eWxlQ29udGFpbmVyTm9kZTtcbiAgICAgICAgICAgIGxldCBhcHBsaWVkU3R5bGVzID0gcm9vdEFwcGxpZWRTdHlsZXMuZ2V0KHN0eWxlQ29udGFpbmVyTm9kZSk7XG4gICAgICAgICAgICBsZXQgc3R5bGVFbG07XG4gICAgICAgICAgICBpZiAoIWFwcGxpZWRTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICByb290QXBwbGllZFN0eWxlcy5zZXQoc3R5bGVDb250YWluZXJOb2RlLCAoYXBwbGllZFN0eWxlcyA9IG5ldyBTZXQoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhcHBsaWVkU3R5bGVzLmhhcyhzY29wZUlkKSkge1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVFbG0gPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlRWxtLmlubmVySFRNTCA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IENTUCBub25jZSB0byB0aGUgc3R5bGUgdGFnIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub25jZSA9IChfYSA9IHBsdC4kbm9uY2UkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBxdWVyeU5vbmNlTWV0YVRhZ0NvbnRlbnQoZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlRWxtLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVDb250YWluZXJOb2RlLmluc2VydEJlZm9yZShzdHlsZUVsbSwgc3R5bGVDb250YWluZXJOb2RlLnF1ZXJ5U2VsZWN0b3IoJ2xpbmsnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVkU3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxpZWRTdHlsZXMuYWRkKHNjb3BlSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cy5pbmNsdWRlcyhzdHlsZSkpIHtcbiAgICAgICAgICAgIHN0eWxlQ29udGFpbmVyTm9kZS5hZG9wdGVkU3R5bGVTaGVldHMgPSBbLi4uc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cywgc3R5bGVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY29wZUlkO1xufTtcbmNvbnN0IGF0dGFjaFN0eWxlcyA9IChob3N0UmVmKSA9PiB7XG4gICAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICAgIGNvbnN0IGVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgICBjb25zdCBmbGFncyA9IGNtcE1ldGEuJGZsYWdzJDtcbiAgICBjb25zdCBlbmRBdHRhY2hTdHlsZXMgPSBjcmVhdGVUaW1lKCdhdHRhY2hTdHlsZXMnLCBjbXBNZXRhLiR0YWdOYW1lJCk7XG4gICAgY29uc3Qgc2NvcGVJZCA9IGFkZFN0eWxlKGVsbS5zaGFkb3dSb290ID8gZWxtLnNoYWRvd1Jvb3QgOiBlbG0uZ2V0Um9vdE5vZGUoKSwgY21wTWV0YSk7XG4gICAgaWYgKGZsYWdzICYgMTAgLyogQ01QX0ZMQUdTLm5lZWRzU2NvcGVkRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgICAvLyBvbmx5IHJlcXVpcmVkIHdoZW4gd2UncmUgTk9UIHVzaW5nIG5hdGl2ZSBzaGFkb3cgZG9tIChzbG90KVxuICAgICAgICAvLyBvciB0aGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IG5hdGl2ZSBzaGFkb3cgZG9tXG4gICAgICAgIC8vIGFuZCB0aGlzIGhvc3QgZWxlbWVudCB3YXMgTk9UIGNyZWF0ZWQgd2l0aCBTU1JcbiAgICAgICAgLy8gbGV0J3MgcGljayBvdXQgdGhlIGlubmVyIGNvbnRlbnQgZm9yIHNsb3QgcHJvamVjdGlvblxuICAgICAgICAvLyBjcmVhdGUgYSBub2RlIHRvIHJlcHJlc2VudCB3aGVyZSB0aGUgb3JpZ2luYWxcbiAgICAgICAgLy8gY29udGVudCB3YXMgZmlyc3QgcGxhY2VkLCB3aGljaCBpcyB1c2VmdWwgbGF0ZXIgb25cbiAgICAgICAgLy8gRE9NIFdSSVRFISFcbiAgICAgICAgZWxtWydzLXNjJ10gPSBzY29wZUlkO1xuICAgICAgICBlbG0uY2xhc3NMaXN0LmFkZChzY29wZUlkICsgJy1oJyk7XG4gICAgfVxuICAgIGVuZEF0dGFjaFN0eWxlcygpO1xufTtcbmNvbnN0IGdldFNjb3BlSWQgPSAoY21wLCBtb2RlKSA9PiAnc2MtJyArIChjbXAuJHRhZ05hbWUkKTtcbi8qKlxuICogUHJvZHVjdGlvbiBzZXRBY2Nlc3NvcigpIGZ1bmN0aW9uIGJhc2VkIG9uIFByZWFjdCBieVxuICogSmFzb24gTWlsbGVyIChAZGV2ZWxvcGl0KVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3ByZWFjdC9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKlxuICogTW9kaWZpZWQgZm9yIFN0ZW5jaWwncyBjb21waWxlciBhbmQgdmRvbVxuICovXG5jb25zdCBzZXRBY2Nlc3NvciA9IChlbG0sIG1lbWJlck5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSwgaXNTdmcsIGZsYWdzKSA9PiB7XG4gICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBsZXQgaXNQcm9wID0gaXNNZW1iZXJJbkVsZW1lbnQoZWxtLCBtZW1iZXJOYW1lKTtcbiAgICAgICAgbGV0IGxuID0gbWVtYmVyTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobWVtYmVyTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NMaXN0ID0gZWxtLmNsYXNzTGlzdDtcbiAgICAgICAgICAgIGNvbnN0IG9sZENsYXNzZXMgPSBwYXJzZUNsYXNzTGlzdChvbGRWYWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBuZXdDbGFzc2VzID0gcGFyc2VDbGFzc0xpc3QobmV3VmFsdWUpO1xuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSguLi5vbGRDbGFzc2VzLmZpbHRlcigoYykgPT4gYyAmJiAhbmV3Q2xhc3Nlcy5pbmNsdWRlcyhjKSkpO1xuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCguLi5uZXdDbGFzc2VzLmZpbHRlcigoYykgPT4gYyAmJiAhb2xkQ2xhc3Nlcy5pbmNsdWRlcyhjKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCghaXNQcm9wICkgJiZcbiAgICAgICAgICAgIG1lbWJlck5hbWVbMF0gPT09ICdvJyAmJlxuICAgICAgICAgICAgbWVtYmVyTmFtZVsxXSA9PT0gJ24nKSB7XG4gICAgICAgICAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgICAgICAgICAgLy8gc28gaWYgdGhlIG1lbWJlciBuYW1lIHN0YXJ0cyB3aXRoIFwib25cIiBhbmQgdGhlIDNyZCBjaGFyYWN0ZXJzIGlzXG4gICAgICAgICAgICAvLyBhIGNhcGl0YWwgbGV0dGVyLCBhbmQgaXQncyBub3QgYWxyZWFkeSBhIG1lbWJlciBvbiB0aGUgZWxlbWVudCxcbiAgICAgICAgICAgIC8vIHRoZW4gd2UncmUgYXNzdW1pbmcgaXQncyBhbiBldmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgaWYgKG1lbWJlck5hbWVbMl0gPT09ICctJykge1xuICAgICAgICAgICAgICAgIC8vIG9uLSBwcmVmaXhlZCBldmVudHNcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgdG8gYmUgZXhwbGljaXQgYWJvdXQgdGhlIGRvbSBldmVudCB0byBsaXN0ZW4gd2l0aG91dCBhbnkgbWFnaWNcbiAgICAgICAgICAgICAgICAvLyB1bmRlciB0aGUgaG9vZDpcbiAgICAgICAgICAgICAgICAvLyA8bXktY21wIG9uLWNsaWNrPiAvLyBsaXN0ZW5zIGZvciBcImNsaWNrXCJcbiAgICAgICAgICAgICAgICAvLyA8bXktY21wIG9uLUNsaWNrPiAvLyBsaXN0ZW5zIGZvciBcIkNsaWNrXCJcbiAgICAgICAgICAgICAgICAvLyA8bXktY21wIG9uLWlvbkNoYW5nZT4gLy8gbGlzdGVucyBmb3IgXCJpb25DaGFuZ2VcIlxuICAgICAgICAgICAgICAgIC8vIDxteS1jbXAgb24tRVZFTlRTPiAvLyBsaXN0ZW5zIGZvciBcIkVWRU5UU1wiXG4gICAgICAgICAgICAgICAgbWVtYmVyTmFtZSA9IG1lbWJlck5hbWUuc2xpY2UoMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc01lbWJlckluRWxlbWVudCh3aW4sIGxuKSkge1xuICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gdGhlIEpTWCBhdHRyaWJ1dGUgY291bGQgaGF2ZSBiZWVuIFwib25Nb3VzZU92ZXJcIiBhbmQgdGhlXG4gICAgICAgICAgICAgICAgLy8gbWVtYmVyIG5hbWUgXCJvbm1vdXNlb3ZlclwiIGlzIG9uIHRoZSB3aW5kb3cncyBwcm90b3R5cGVcbiAgICAgICAgICAgICAgICAvLyBzbyBsZXQncyBhZGQgdGhlIGxpc3RlbmVyIFwibW91c2VvdmVyXCIsIHdoaWNoIGlzIGFsbCBsb3dlcmNhc2VkXG4gICAgICAgICAgICAgICAgbWVtYmVyTmFtZSA9IGxuLnNsaWNlKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY3VzdG9tIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gdGhlIEpTWCBhdHRyaWJ1dGUgY291bGQgaGF2ZSBiZWVuIFwib25NeUN1c3RvbUV2ZW50XCJcbiAgICAgICAgICAgICAgICAvLyBzbyBsZXQncyB0cmltIG9mZiB0aGUgXCJvblwiIHByZWZpeCBhbmQgbG93ZXJjYXNlIHRoZSBmaXJzdCBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAvLyBhbmQgYWRkIHRoZSBsaXN0ZW5lciBcIm15Q3VzdG9tRXZlbnRcIlxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdCBmb3IgdGhlIGZpcnN0IGNoYXJhY3Rlciwgd2Uga2VlcCB0aGUgZXZlbnQgbmFtZSBjYXNlXG4gICAgICAgICAgICAgICAgbWVtYmVyTmFtZSA9IGxuWzJdICsgbWVtYmVyTmFtZS5zbGljZSgzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBsdC5yZWwoZWxtLCBtZW1iZXJOYW1lLCBvbGRWYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGx0LmFlbChlbG0sIG1lbWJlck5hbWUsIG5ld1ZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgcHJvcGVydHkgaWYgaXQgZXhpc3RzIGFuZCBpdCdzIG5vdCBhIFNWR1xuICAgICAgICAgICAgY29uc3QgaXNDb21wbGV4ID0gaXNDb21wbGV4VHlwZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoKGlzUHJvcCB8fCAoaXNDb21wbGV4ICYmIG5ld1ZhbHVlICE9PSBudWxsKSkgJiYgIWlzU3ZnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbG0udGFnTmFtZS5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gbmV3VmFsdWUgPT0gbnVsbCA/ICcnIDogbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBTYWZhcmksIG1vdmluZyB0aGUgPGlucHV0PiBjYXJldCB3aGVuIHJlLWFzc2lnbmluZyB0aGUgc2FtZSB2YWx1ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXJOYW1lID09PSAnbGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Byb3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZFZhbHVlID09IG51bGwgfHwgZWxtW21lbWJlck5hbWVdICE9IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbG1bbWVtYmVyTmFtZV0gPSBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtW21lbWJlck5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlID09IG51bGwgfHwgbmV3VmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBmYWxzZSB8fCBlbG0uZ2V0QXR0cmlidXRlKG1lbWJlck5hbWUpID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKG1lbWJlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKCFpc1Byb3AgfHwgZmxhZ3MgJiA0IC8qIFZOT0RFX0ZMQUdTLmlzSG9zdCAqLyB8fCBpc1N2ZykgJiYgIWlzQ29tcGxleCkge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gbmV3VmFsdWUgPT09IHRydWUgPyAnJyA6IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShtZW1iZXJOYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHBhcnNlQ2xhc3NMaXN0UmVnZXggPSAvXFxzLztcbmNvbnN0IHBhcnNlQ2xhc3NMaXN0ID0gKHZhbHVlKSA9PiAoIXZhbHVlID8gW10gOiB2YWx1ZS5zcGxpdChwYXJzZUNsYXNzTGlzdFJlZ2V4KSk7XG5jb25zdCB1cGRhdGVFbGVtZW50ID0gKG9sZFZub2RlLCBuZXdWbm9kZSwgaXNTdmdNb2RlLCBtZW1iZXJOYW1lKSA9PiB7XG4gICAgLy8gaWYgdGhlIGVsZW1lbnQgcGFzc2VkIGluIGlzIGEgc2hhZG93IHJvb3QsIHdoaWNoIGlzIGEgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAvLyB0aGVuIHdlIHdhbnQgdG8gYmUgYWRkaW5nIGF0dHJzL3Byb3BzIHRvIHRoZSBzaGFkb3cgcm9vdCdzIFwiaG9zdFwiIGVsZW1lbnRcbiAgICAvLyBpZiBpdCdzIG5vdCBhIHNoYWRvdyByb290LCB0aGVuIHdlIGFkZCBhdHRycy9wcm9wcyB0byB0aGUgc2FtZSBlbGVtZW50XG4gICAgY29uc3QgZWxtID0gbmV3Vm5vZGUuJGVsbSQubm9kZVR5cGUgPT09IDExIC8qIE5PREVfVFlQRS5Eb2N1bWVudEZyYWdtZW50ICovICYmIG5ld1Zub2RlLiRlbG0kLmhvc3RcbiAgICAgICAgPyBuZXdWbm9kZS4kZWxtJC5ob3N0XG4gICAgICAgIDogbmV3Vm5vZGUuJGVsbSQ7XG4gICAgY29uc3Qgb2xkVm5vZGVBdHRycyA9IChvbGRWbm9kZSAmJiBvbGRWbm9kZS4kYXR0cnMkKSB8fCBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3Vm5vZGVBdHRycyA9IG5ld1Zub2RlLiRhdHRycyQgfHwgRU1QVFlfT0JKO1xuICAgIHtcbiAgICAgICAgLy8gcmVtb3ZlIGF0dHJpYnV0ZXMgbm8gbG9uZ2VyIHByZXNlbnQgb24gdGhlIHZub2RlIGJ5IHNldHRpbmcgdGhlbSB0byB1bmRlZmluZWRcbiAgICAgICAgZm9yIChtZW1iZXJOYW1lIGluIG9sZFZub2RlQXR0cnMpIHtcbiAgICAgICAgICAgIGlmICghKG1lbWJlck5hbWUgaW4gbmV3Vm5vZGVBdHRycykpIHtcbiAgICAgICAgICAgICAgICBzZXRBY2Nlc3NvcihlbG0sIG1lbWJlck5hbWUsIG9sZFZub2RlQXR0cnNbbWVtYmVyTmFtZV0sIHVuZGVmaW5lZCwgaXNTdmdNb2RlLCBuZXdWbm9kZS4kZmxhZ3MkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGQgbmV3ICYgdXBkYXRlIGNoYW5nZWQgYXR0cmlidXRlc1xuICAgIGZvciAobWVtYmVyTmFtZSBpbiBuZXdWbm9kZUF0dHJzKSB7XG4gICAgICAgIHNldEFjY2Vzc29yKGVsbSwgbWVtYmVyTmFtZSwgb2xkVm5vZGVBdHRyc1ttZW1iZXJOYW1lXSwgbmV3Vm5vZGVBdHRyc1ttZW1iZXJOYW1lXSwgaXNTdmdNb2RlLCBuZXdWbm9kZS4kZmxhZ3MkKTtcbiAgICB9XG59O1xuLyoqXG4gKiBDcmVhdGUgYSBET00gTm9kZSBjb3JyZXNwb25kaW5nIHRvIG9uZSBvZiB0aGUgY2hpbGRyZW4gb2YgYSBnaXZlbiBWTm9kZS5cbiAqXG4gKiBAcGFyYW0gb2xkUGFyZW50Vk5vZGUgdGhlIHBhcmVudCBWTm9kZSBmcm9tIHRoZSBwcmV2aW91cyByZW5kZXJcbiAqIEBwYXJhbSBuZXdQYXJlbnRWTm9kZSB0aGUgcGFyZW50IFZOb2RlIGZyb20gdGhlIGN1cnJlbnQgcmVuZGVyXG4gKiBAcGFyYW0gY2hpbGRJbmRleCB0aGUgaW5kZXggb2YgdGhlIFZOb2RlLCBpbiB0aGUgX25ld18gcGFyZW50IG5vZGUnc1xuICogY2hpbGRyZW4sIGZvciB3aGljaCB3ZSB3aWxsIGNyZWF0ZSBhIG5ldyBET00gbm9kZVxuICogQHBhcmFtIHBhcmVudEVsbSB0aGUgcGFyZW50IERPTSBub2RlIHdoaWNoIG91ciBuZXcgbm9kZSB3aWxsIGJlIGEgY2hpbGQgb2ZcbiAqIEByZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIG5vZGVcbiAqL1xuY29uc3QgY3JlYXRlRWxtID0gKG9sZFBhcmVudFZOb2RlLCBuZXdQYXJlbnRWTm9kZSwgY2hpbGRJbmRleCwgcGFyZW50RWxtKSA9PiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBwcmVmZXItY29uc3RcbiAgICBjb25zdCBuZXdWTm9kZSA9IG5ld1BhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRJbmRleF07XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBlbG07XG4gICAgbGV0IGNoaWxkTm9kZTtcbiAgICBpZiAobmV3Vk5vZGUuJHRleHQkICE9PSBudWxsKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0ZXh0IG5vZGVcbiAgICAgICAgZWxtID0gbmV3Vk5vZGUuJGVsbSQgPSBkb2MuY3JlYXRlVGV4dE5vZGUobmV3Vk5vZGUuJHRleHQkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghaXNTdmdNb2RlKSB7XG4gICAgICAgICAgICBpc1N2Z01vZGUgPSBuZXdWTm9kZS4kdGFnJCA9PT0gJ3N2Zyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIGVsZW1lbnRcbiAgICAgICAgZWxtID0gbmV3Vk5vZGUuJGVsbSQgPSAoZG9jLmNyZWF0ZUVsZW1lbnROUyhpc1N2Z01vZGUgPyBTVkdfTlMgOiBIVE1MX05TLCBuZXdWTm9kZS4kdGFnJClcbiAgICAgICAgICAgICk7XG4gICAgICAgIGlmIChpc1N2Z01vZGUgJiYgbmV3Vk5vZGUuJHRhZyQgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgICAgICAgICAgaXNTdmdNb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGNzcyBjbGFzc2VzLCBhdHRycywgcHJvcHMsIGxpc3RlbmVycywgZXRjLlxuICAgICAgICB7XG4gICAgICAgICAgICB1cGRhdGVFbGVtZW50KG51bGwsIG5ld1ZOb2RlLCBpc1N2Z01vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZihzY29wZUlkKSAmJiBlbG1bJ3Mtc2knXSAhPT0gc2NvcGVJZCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBzY29wZUlkIGFuZCB0aGlzIGlzIHRoZSBpbml0aWFsIHJlbmRlclxuICAgICAgICAgICAgLy8gdGhlbiBsZXQncyBhZGQgdGhlIHNjb3BlSWQgYXMgYSBjc3MgY2xhc3NcbiAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QuYWRkKChlbG1bJ3Mtc2knXSA9IHNjb3BlSWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5ld1ZOb2RlLiRjaGlsZHJlbiQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIG5vZGVcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUgPSBjcmVhdGVFbG0ob2xkUGFyZW50Vk5vZGUsIG5ld1ZOb2RlLCBpKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gbm9kZSBjb3VsZCBoYXZlIGJlZW4gbnVsbFxuICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIG91ciBuZXcgbm9kZVxuICAgICAgICAgICAgICAgICAgICBlbG0uYXBwZW5kQ2hpbGQoY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1ZOb2RlLiR0YWckID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVzZXQgdGhlIFNWRyBjb250ZXh0IHdoZW4gd2UncmUgZXhpdGluZyA8c3ZnPiBlbGVtZW50XG4gICAgICAgICAgICAgICAgaXNTdmdNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbG0udGFnTmFtZSA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVlbnRlciBTVkcgY29udGV4dCB3aGVuIHdlJ3JlIGV4aXRpbmcgPGZvcmVpZ25PYmplY3Q+IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpc1N2Z01vZGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbG07XG59O1xuLyoqXG4gKiBDcmVhdGUgRE9NIG5vZGVzIGNvcnJlc3BvbmRpbmcgdG8gYSBsaXN0IG9mIHtAbGluayBkLlZub2RlfSBvYmplY3RzIGFuZFxuICogYWRkIHRoZW0gdG8gdGhlIERPTSBpbiB0aGUgYXBwcm9wcmlhdGUgcGxhY2UuXG4gKlxuICogQHBhcmFtIHBhcmVudEVsbSB0aGUgRE9NIG5vZGUgd2hpY2ggc2hvdWxkIGJlIHVzZWQgYXMgYSBwYXJlbnQgZm9yIHRoZSBuZXdcbiAqIERPTSBub2Rlc1xuICogQHBhcmFtIGJlZm9yZSBhIGNoaWxkIG9mIHRoZSBgcGFyZW50RWxtYCB3aGljaCB0aGUgbmV3IGNoaWxkcmVuIHNob3VsZCBiZVxuICogaW5zZXJ0ZWQgYmVmb3JlIChvcHRpb25hbClcbiAqIEBwYXJhbSBwYXJlbnRWTm9kZSB0aGUgcGFyZW50IHZpcnR1YWwgRE9NIG5vZGVcbiAqIEBwYXJhbSB2bm9kZXMgdGhlIG5ldyBjaGlsZCB2aXJ0dWFsIERPTSBub2RlcyB0byBwcm9kdWNlIERPTSBub2RlcyBmb3JcbiAqIEBwYXJhbSBzdGFydElkeCB0aGUgaW5kZXggaW4gdGhlIGNoaWxkIHZpcnR1YWwgRE9NIG5vZGVzIGF0IHdoaWNoIHRvIHN0YXJ0XG4gKiBjcmVhdGluZyBET00gbm9kZXMgKGluY2x1c2l2ZSlcbiAqIEBwYXJhbSBlbmRJZHggdGhlIGluZGV4IGluIHRoZSBjaGlsZCB2aXJ0dWFsIERPTSBub2RlcyBhdCB3aGljaCB0byBzdG9wXG4gKiBjcmVhdGluZyBET00gbm9kZXMgKGluY2x1c2l2ZSlcbiAqL1xuY29uc3QgYWRkVm5vZGVzID0gKHBhcmVudEVsbSwgYmVmb3JlLCBwYXJlbnRWTm9kZSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4KSA9PiB7XG4gICAgbGV0IGNvbnRhaW5lckVsbSA9IChwYXJlbnRFbG0pO1xuICAgIGxldCBjaGlsZE5vZGU7XG4gICAgaWYgKGNvbnRhaW5lckVsbS5zaGFkb3dSb290ICYmIGNvbnRhaW5lckVsbS50YWdOYW1lID09PSBob3N0VGFnTmFtZSkge1xuICAgICAgICBjb250YWluZXJFbG0gPSBjb250YWluZXJFbG0uc2hhZG93Um9vdDtcbiAgICB9XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgICBpZiAodm5vZGVzW3N0YXJ0SWR4XSkge1xuICAgICAgICAgICAgY2hpbGROb2RlID0gY3JlYXRlRWxtKG51bGwsIHBhcmVudFZOb2RlLCBzdGFydElkeCk7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgICAgICAgdm5vZGVzW3N0YXJ0SWR4XS4kZWxtJCA9IGNoaWxkTm9kZTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJFbG0uaW5zZXJ0QmVmb3JlKGNoaWxkTm9kZSwgYmVmb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4vKipcbiAqIFJlbW92ZSB0aGUgRE9NIGVsZW1lbnRzIGNvcnJlc3BvbmRpbmcgdG8gYSBsaXN0IG9mIHtAbGluayBkLlZOb2RlfSBvYmplY3RzLlxuICogVGhpcyBjYW4gYmUgdXNlZCB0bywgZm9yIGluc3RhbmNlLCBjbGVhbiB1cCBhZnRlciBhIGxpc3Qgb2YgY2hpbGRyZW4gd2hpY2hcbiAqIHNob3VsZCBubyBsb25nZXIgYmUgc2hvd24uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhbHNvIGhhbmRsZXMgc29tZSBvZiBTdGVuY2lsJ3Mgc2xvdCByZWxvY2F0aW9uIGxvZ2ljLlxuICpcbiAqIEBwYXJhbSB2bm9kZXMgYSBsaXN0IG9mIHZpcnR1YWwgRE9NIG5vZGVzIHRvIHJlbW92ZVxuICogQHBhcmFtIHN0YXJ0SWR4IHRoZSBpbmRleCBhdCB3aGljaCB0byBzdGFydCByZW1vdmluZyBub2RlcyAoaW5jbHVzaXZlKVxuICogQHBhcmFtIGVuZElkeCB0aGUgaW5kZXggYXQgd2hpY2ggdG8gc3RvcCByZW1vdmluZyBub2RlcyAoaW5jbHVzaXZlKVxuICogQHBhcmFtIHZub2RlIGEgVk5vZGVcbiAqIEBwYXJhbSBlbG0gYW4gZWxlbWVudFxuICovXG5jb25zdCByZW1vdmVWbm9kZXMgPSAodm5vZGVzLCBzdGFydElkeCwgZW5kSWR4LCB2bm9kZSwgZWxtKSA9PiB7XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgICBpZiAoKHZub2RlID0gdm5vZGVzW3N0YXJ0SWR4XSkpIHtcbiAgICAgICAgICAgIGVsbSA9IHZub2RlLiRlbG0kO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSB2bm9kZSdzIGVsZW1lbnQgZnJvbSB0aGUgZG9tXG4gICAgICAgICAgICBlbG0ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLyoqXG4gKiBSZWNvbmNpbGUgdGhlIGNoaWxkcmVuIG9mIGEgbmV3IFZOb2RlIHdpdGggdGhlIGNoaWxkcmVuIG9mIGFuIG9sZCBWTm9kZSBieVxuICogdHJhdmVyc2luZyB0aGUgdHdvIGNvbGxlY3Rpb25zIG9mIGNoaWxkcmVuLCBpZGVudGlmeWluZyBub2RlcyB0aGF0IGFyZVxuICogY29uc2VydmVkIG9yIGNoYW5nZWQsIGNhbGxpbmcgb3V0IHRvIGBwYXRjaGAgdG8gbWFrZSBhbnkgbmVjZXNzYXJ5XG4gKiB1cGRhdGVzIHRvIHRoZSBET00sIGFuZCByZWFycmFuZ2luZyBET00gbm9kZXMgYXMgbmVlZGVkLlxuICpcbiAqIFRoZSBhbGdvcml0aG0gZm9yIHJlY29uY2lsaW5nIGNoaWxkcmVuIHdvcmtzIGJ5IGFuYWx5emluZyB0d28gJ3dpbmRvd3MnIG9udG9cbiAqIHRoZSB0d28gYXJyYXlzIG9mIGNoaWxkcmVuIChgb2xkQ2hgIGFuZCBgbmV3Q2hgKS4gV2Uga2VlcCB0cmFjayBvZiB0aGVcbiAqICd3aW5kb3dzJyBieSBzdG9yaW5nIHN0YXJ0IGFuZCBlbmQgaW5kaWNlcyBhbmQgcmVmZXJlbmNlcyB0byB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgYXJyYXkgZW50cmllcy4gSW5pdGlhbGx5IHRoZSB0d28gJ3dpbmRvd3MnIGFyZSBiYXNpY2FsbHkgZXF1YWxcbiAqIHRvIHRoZSBlbnRpcmUgYXJyYXksIGJ1dCB3ZSBwcm9ncmVzc2l2ZWx5IG5hcnJvdyB0aGUgd2luZG93cyB1bnRpbCB0aGVyZSBhcmVcbiAqIG5vIGNoaWxkcmVuIGxlZnQgdG8gdXBkYXRlIGJ5IGRvaW5nIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogMS4gU2tpcCBhbnkgYG51bGxgIGVudHJpZXMgYXQgdGhlIGJlZ2lubmluZyBvciBlbmQgb2YgdGhlIHR3byBhcnJheXMsIHNvXG4gKiAgICB0aGF0IGlmIHdlIGhhdmUgYW4gaW5pdGlhbCBhcnJheSBsaWtlIHRoZSBmb2xsb3dpbmcgd2UnbGwgZW5kIHVwIGRlYWxpbmdcbiAqICAgIG9ubHkgd2l0aCBhIHdpbmRvdyBib3VuZGVkIGJ5IHRoZSBoaWdobGlnaHRlZCBlbGVtZW50czpcbiAqXG4gKiAgICBbbnVsbCwgbnVsbCwgVk5vZGUxICwgLi4uICwgVk5vZGUyLCBudWxsLCBudWxsXVxuICogICAgICAgICAgICAgICAgIF5eXl5eXiAgICAgICAgIF5eXl5eXlxuICpcbiAqIDIuIENoZWNrIHRvIHNlZSBpZiB0aGUgZWxlbWVudHMgYXQgdGhlIGhlYWQgYW5kIHRhaWwgcG9zaXRpb25zIGFyZSBlcXVhbFxuICogICAgYWNyb3NzIHRoZSB3aW5kb3dzLiBUaGlzIHdpbGwgYmFzaWNhbGx5IGRldGVjdCBlbGVtZW50cyB3aGljaCBoYXZlbid0XG4gKiAgICBiZWVuIGFkZGVkLCByZW1vdmVkLCBvciBjaGFuZ2VkIHBvc2l0aW9uLCBpLmUuIGlmIHlvdSBoYWQgdGhlIGZvbGxvd2luZ1xuICogICAgVk5vZGUgZWxlbWVudHMgKHJlcHJlc2VudGVkIGFzIEhUTUwpOlxuICpcbiAqICAgIG9sZFZOb2RlOiBgPGRpdj48cD48c3Bhbj5IRVk8L3NwYW4+PC9wPjwvZGl2PmBcbiAqICAgIG5ld1ZOb2RlOiBgPGRpdj48cD48c3Bhbj5USEVSRTwvc3Bhbj48L3A+PC9kaXY+YFxuICpcbiAqICAgIFRoZW4gd2hlbiBjb21wYXJpbmcgdGhlIGNoaWxkcmVuIG9mIHRoZSBgPGRpdj5gIHRhZyB3ZSBjaGVjayB0aGUgZXF1YWxpdHlcbiAqICAgIG9mIHRoZSBWTm9kZXMgY29ycmVzcG9uZGluZyB0byB0aGUgYDxwPmAgdGFncyBhbmQsIHNpbmNlIHRoZXkgYXJlIHRoZVxuICogICAgc2FtZSB0YWcgaW4gdGhlIHNhbWUgcG9zaXRpb24sIHdlJ2QgYmUgYWJsZSB0byBhdm9pZCBjb21wbGV0ZWx5XG4gKiAgICByZS1yZW5kZXJpbmcgdGhlIHN1YnRyZWUgdW5kZXIgdGhlbSB3aXRoIGEgbmV3IERPTSBlbGVtZW50IGFuZCB3b3VsZCBqdXN0XG4gKiAgICBjYWxsIG91dCB0byBgcGF0Y2hgIHRvIGhhbmRsZSByZWNvbmNpbGluZyB0aGVpciBjaGlsZHJlbiBhbmQgc28gb24uXG4gKlxuICogMy4gQ2hlY2ssIGZvciBib3RoIHdpbmRvd3MsIHRvIHNlZSBpZiB0aGUgZWxlbWVudCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZVxuICogICAgd2luZG93IGNvcnJlc3BvbmRzIHRvIHRoZSBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIG90aGVyIHdpbmRvdy4gVGhpcyBpc1xuICogICAgYSBoZXVyaXN0aWMgd2hpY2ggd2lsbCBsZXQgdXMgaWRlbnRpZnkgX3NvbWVfIHNpdHVhdGlvbnMgaW4gd2hpY2hcbiAqICAgIGVsZW1lbnRzIGhhdmUgY2hhbmdlZCBwb3NpdGlvbiwgZm9yIGluc3RhbmNlIGl0IF9zaG91bGRfIGRldGVjdCB0aGF0IHRoZVxuICogICAgY2hpbGRyZW4gbm9kZXMgdGhlbXNlbHZlcyBoYXZlIG5vdCBjaGFuZ2VkIGJ1dCBtZXJlbHkgbW92ZWQgaW4gdGhlXG4gKiAgICBmb2xsb3dpbmcgZXhhbXBsZTpcbiAqXG4gKiAgICBvbGRWTm9kZTogYDxkaXY+PGVsZW1lbnQtb25lIC8+PGVsZW1lbnQtdHdvIC8+PC9kaXY+YFxuICogICAgbmV3Vk5vZGU6IGA8ZGl2PjxlbGVtZW50LXR3byAvPjxlbGVtZW50LW9uZSAvPjwvZGl2PmBcbiAqXG4gKiAgICBJZiB3ZSBmaW5kIGNhc2VzIGxpa2UgdGhpcyB0aGVuIHdlIGFsc28gbmVlZCB0byBtb3ZlIHRoZSBjb25jcmV0ZSBET01cbiAqICAgIGVsZW1lbnRzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIG1vdmVkIGNoaWxkcmVuIHRvIHdyaXRlIHRoZSByZS1vcmRlciB0byB0aGVcbiAqICAgIERPTS5cbiAqXG4gKiA0LiBGaW5hbGx5LCBpZiBWTm9kZXMgaGF2ZSB0aGUgYGtleWAgYXR0cmlidXRlIHNldCBvbiB0aGVtIHdlIGNoZWNrIGZvciBhbnlcbiAqICAgIG5vZGVzIGluIHRoZSBvbGQgY2hpbGRyZW4gd2hpY2ggaGF2ZSB0aGUgc2FtZSBrZXkgYXMgdGhlIGZpcnN0IGVsZW1lbnQgaW5cbiAqICAgIG91ciB3aW5kb3cgb24gdGhlIG5ldyBjaGlsZHJlbi4gSWYgd2UgZmluZCBzdWNoIGEgbm9kZSB3ZSBoYW5kbGUgY2FsbGluZ1xuICogICAgb3V0IHRvIGBwYXRjaGAsIG1vdmluZyByZWxldmFudCBET00gbm9kZXMsIGFuZCBzbyBvbiwgaW4gYWNjb3JkYW5jZSB3aXRoXG4gKiAgICB3aGF0IHdlIGZpbmQuXG4gKlxuICogRmluYWxseSwgb25jZSB3ZSd2ZSBuYXJyb3dlZCBvdXIgJ3dpbmRvd3MnIHRvIHRoZSBwb2ludCB0aGF0IGVpdGhlciBvZiB0aGVtXG4gKiBjb2xsYXBzZSAoaS5lLiB0aGV5IGhhdmUgbGVuZ3RoIDApIHdlIHRoZW4gaGFuZGxlIGFueSByZW1haW5pbmcgVk5vZGVcbiAqIGluc2VydGlvbiBvciBkZWxldGlvbiB0aGF0IG5lZWRzIHRvIGhhcHBlbiB0byBnZXQgYSBET00gc3RhdGUgdGhhdCBjb3JyZWN0bHlcbiAqIHJlZmxlY3RzIHRoZSBuZXcgY2hpbGQgVk5vZGVzLiBJZiwgZm9yIGluc3RhbmNlLCBhZnRlciBvdXIgd2luZG93IG9uIHRoZSBvbGRcbiAqIGNoaWxkcmVuIGhhcyBjb2xsYXBzZWQgd2Ugc3RpbGwgaGF2ZSBtb3JlIG5vZGVzIG9uIHRoZSBuZXcgY2hpbGRyZW4gdGhhdFxuICogd2UgaGF2ZW4ndCBkZWFsdCB3aXRoIHlldCB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZW0sIG9yIGlmIHRoZSBuZXcgY2hpbGRyZW5cbiAqIGNvbGxhcHNlIGJ1dCB3ZSBzdGlsbCBoYXZlIHVuaGFuZGxlZCBfb2xkXyBjaGlsZHJlbiB0aGVuIHdlIG5lZWQgdG8gbWFrZVxuICogc3VyZSB0aGUgY29ycmVzcG9uZGluZyBET00gbm9kZXMgYXJlIHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHBhcmVudEVsbSB0aGUgbm9kZSBpbnRvIHdoaWNoIHRoZSBwYXJlbnQgVk5vZGUgaXMgcmVuZGVyZWRcbiAqIEBwYXJhbSBvbGRDaCB0aGUgb2xkIGNoaWxkcmVuIG9mIHRoZSBwYXJlbnQgbm9kZVxuICogQHBhcmFtIG5ld1ZOb2RlIHRoZSBuZXcgVk5vZGUgd2hpY2ggd2lsbCByZXBsYWNlIHRoZSBwYXJlbnRcbiAqIEBwYXJhbSBuZXdDaCB0aGUgbmV3IGNoaWxkcmVuIG9mIHRoZSBwYXJlbnQgbm9kZVxuICovXG5jb25zdCB1cGRhdGVDaGlsZHJlbiA9IChwYXJlbnRFbG0sIG9sZENoLCBuZXdWTm9kZSwgbmV3Q2gpID0+IHtcbiAgICBsZXQgb2xkU3RhcnRJZHggPSAwO1xuICAgIGxldCBuZXdTdGFydElkeCA9IDA7XG4gICAgbGV0IG9sZEVuZElkeCA9IG9sZENoLmxlbmd0aCAtIDE7XG4gICAgbGV0IG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFswXTtcbiAgICBsZXQgb2xkRW5kVm5vZGUgPSBvbGRDaFtvbGRFbmRJZHhdO1xuICAgIGxldCBuZXdFbmRJZHggPSBuZXdDaC5sZW5ndGggLSAxO1xuICAgIGxldCBuZXdTdGFydFZub2RlID0gbmV3Q2hbMF07XG4gICAgbGV0IG5ld0VuZFZub2RlID0gbmV3Q2hbbmV3RW5kSWR4XTtcbiAgICBsZXQgbm9kZTtcbiAgICB3aGlsZSAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4ICYmIG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgICAgICBpZiAob2xkU3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBWTm9kZSBtaWdodCBoYXZlIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9sZEVuZFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld1N0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld0VuZFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3RhcnQgbm9kZXMgYXJlIHRoZSBzYW1lIHRoZW4gd2Ugc2hvdWxkIHBhdGNoIHRoZSBuZXcgVk5vZGVcbiAgICAgICAgICAgIC8vIG9udG8gdGhlIG9sZCBvbmUsIGFuZCBpbmNyZW1lbnQgb3VyIGBuZXdTdGFydElkeGAgYW5kIGBvbGRTdGFydElkeGBcbiAgICAgICAgICAgIC8vIGluZGljZXMgdG8gcmVmbGVjdCB0aGF0LiBXZSBkb24ndCBuZWVkIHRvIG1vdmUgYW55IERPTSBOb2RlcyBhcm91bmRcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoaW5ncyBhcmUgbWF0Y2hlZCB1cCBpbiBvcmRlci5cbiAgICAgICAgICAgIHBhdGNoKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpO1xuICAgICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgICAgICAgIC8vIGxpa2V3aXNlLCBpZiB0aGUgZW5kIG5vZGVzIGFyZSB0aGUgc2FtZSB3ZSBwYXRjaCBuZXcgb250byBvbGQgYW5kXG4gICAgICAgICAgICAvLyBkZWNyZW1lbnQgb3VyIGVuZCBpbmRpY2VzLCBhbmQgYWxzbyBsaWtld2lzZSBpbiB0aGlzIGNhc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gbW92ZSBhbnkgRE9NIE5vZGVzLlxuICAgICAgICAgICAgcGF0Y2gob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKTtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgICAgICBwYXRjaChvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSk7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIG1vdmUgdGhlIGVsZW1lbnQgZm9yIGBvbGRTdGFydFZub2RlYCBpbnRvIGEgcG9zaXRpb24gd2hpY2hcbiAgICAgICAgICAgIC8vIHdpbGwgYmUgYXBwcm9wcmlhdGUgZm9yIGBuZXdFbmRWbm9kZWAuIEZvciB0aGlzIHdlIGNhbiB1c2VcbiAgICAgICAgICAgIC8vIGAuaW5zZXJ0QmVmb3JlYCBhbmQgYG9sZEVuZFZub2RlLiRlbG0kLm5leHRTaWJsaW5nYC4gSWYgdGhlcmUgaXMgYVxuICAgICAgICAgICAgLy8gc2libGluZyBmb3IgYG9sZEVuZFZub2RlLiRlbG0kYCB0aGVuIHdlIHdhbnQgdG8gbW92ZSB0aGUgRE9NIG5vZGUgZm9yXG4gICAgICAgICAgICAvLyBgb2xkU3RhcnRWbm9kZWAgYmV0d2VlbiBgb2xkRW5kVm5vZGVgIGFuZCBpdCdzIHNpYmxpbmcsIGxpa2Ugc286XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gPG9sZC1zdGFydC1ub2RlIC8+XG4gICAgICAgICAgICAvLyA8c29tZS1pbnRlcnZlbmluZy1ub2RlIC8+XG4gICAgICAgICAgICAvLyA8b2xkLWVuZC1ub2RlIC8+XG4gICAgICAgICAgICAvLyA8IS0tIC0+ICAgICAgICAgICAgICA8LS0gYG9sZFN0YXJ0Vm5vZGUuJGVsbSRgIHNob3VsZCBiZSBpbnNlcnRlZCBoZXJlXG4gICAgICAgICAgICAvLyA8bmV4dC1zaWJsaW5nIC8+XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSWYgaW5zdGVhZCBgb2xkRW5kVm5vZGUuJGVsbSRgIGhhcyBubyBzaWJsaW5nIHRoZW4gd2UganVzdCB3YW50IHRvIHB1dFxuICAgICAgICAgICAgLy8gdGhlIG5vZGUgZm9yIGBvbGRTdGFydFZub2RlYCBhdCB0aGUgZW5kIG9mIHRoZSBjaGlsZHJlbiBvZlxuICAgICAgICAgICAgLy8gYHBhcmVudEVsbWAuIEx1Y2tpbHksIGBOb2RlLm5leHRTaWJsaW5nYCB3aWxsIHJldHVybiBgbnVsbGAgaWYgdGhlcmVcbiAgICAgICAgICAgIC8vIGFyZW4ndCBhbnkgc2libGluZ3MsIGFuZCBwYXNzaW5nIGBudWxsYCB0byBgTm9kZS5pbnNlcnRCZWZvcmVgIHdpbGxcbiAgICAgICAgICAgIC8vIGFwcGVuZCBpdCB0byB0aGUgY2hpbGRyZW4gb2YgdGhlIHBhcmVudCBlbGVtZW50LlxuICAgICAgICAgICAgcGFyZW50RWxtLmluc2VydEJlZm9yZShvbGRTdGFydFZub2RlLiRlbG0kLCBvbGRFbmRWbm9kZS4kZWxtJC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgICAgICAgIHBhdGNoKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKTtcbiAgICAgICAgICAgIC8vIFdlJ3ZlIGFscmVhZHkgY2hlY2tlZCBhYm92ZSBpZiBgb2xkU3RhcnRWbm9kZWAgYW5kIGBuZXdTdGFydFZub2RlYCBhcmVcbiAgICAgICAgICAgIC8vIHRoZSBzYW1lIG5vZGUsIHNvIHNpbmNlIHdlJ3JlIGhlcmUgd2Uga25vdyB0aGF0IHRoZXkgYXJlIG5vdC4gVGh1cyB3ZVxuICAgICAgICAgICAgLy8gY2FuIG1vdmUgdGhlIGVsZW1lbnQgZm9yIGBvbGRFbmRWbm9kZWAgX2JlZm9yZV8gdGhlIGVsZW1lbnQgZm9yXG4gICAgICAgICAgICAvLyBgb2xkU3RhcnRWbm9kZWAsIGxlYXZpbmcgYG9sZFN0YXJ0Vm5vZGVgIHRvIGJlIHJlY29uY2lsZWQgaW4gdGhlXG4gICAgICAgICAgICAvLyBmdXR1cmUuXG4gICAgICAgICAgICBwYXJlbnRFbG0uaW5zZXJ0QmVmb3JlKG9sZEVuZFZub2RlLiRlbG0kLCBvbGRTdGFydFZub2RlLiRlbG0kKTtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFdlIGVpdGhlciBkaWRuJ3QgZmluZCBhbiBlbGVtZW50IGluIHRoZSBvbGQgY2hpbGRyZW4gdGhhdCBtYXRjaGVzXG4gICAgICAgICAgICAgICAgLy8gdGhlIGtleSBvZiB0aGUgZmlyc3QgbmV3IGNoaWxkIE9SIHRoZSBidWlsZCBpcyBub3QgdXNpbmcgYGtleWBcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGF0IGFsbC4gSW4gZWl0aGVyIGNhc2Ugd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIGZvciB0aGUgbmV3IG5vZGUuXG4gICAgICAgICAgICAgICAgbm9kZSA9IGNyZWF0ZUVsbShvbGRDaCAmJiBvbGRDaFtuZXdTdGFydElkeF0sIG5ld1ZOb2RlLCBuZXdTdGFydElkeCk7XG4gICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBjcmVhdGVkIGEgbmV3IG5vZGUgdGhlbiBoYW5kbGUgaW5zZXJ0aW5nIGl0IHRvIHRoZSBET01cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUuJGVsbSQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgb2xkU3RhcnRWbm9kZS4kZWxtJCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvbGRTdGFydElkeCA+IG9sZEVuZElkeCkge1xuICAgICAgICAvLyB3ZSBoYXZlIHNvbWUgbW9yZSBuZXcgbm9kZXMgdG8gYWRkIHdoaWNoIGRvbid0IG1hdGNoIHVwIHdpdGggb2xkIG5vZGVzXG4gICAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIG5ld0NoW25ld0VuZElkeCArIDFdID09IG51bGwgPyBudWxsIDogbmV3Q2hbbmV3RW5kSWR4ICsgMV0uJGVsbSQsIG5ld1ZOb2RlLCBuZXdDaCwgbmV3U3RhcnRJZHgsIG5ld0VuZElkeCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7XG4gICAgICAgIC8vIHRoZXJlIGFyZSBub2RlcyBpbiB0aGUgYG9sZENoYCBhcnJheSB3aGljaCBubyBsb25nZXIgY29ycmVzcG9uZCB0byBub2Rlc1xuICAgICAgICAvLyBpbiB0aGUgbmV3IGFycmF5LCBzbyBsZXRzIHJlbW92ZSB0aGVtICh3aGljaCBlbnRhaWxzIGNsZWFuaW5nIHVwIHRoZVxuICAgICAgICAvLyByZWxldmFudCBET00gbm9kZXMpXG4gICAgICAgIHJlbW92ZVZub2RlcyhvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgfVxufTtcbi8qKlxuICogQ29tcGFyZSB0d28gVk5vZGVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSB0aGUgc2FtZVxuICpcbiAqICoqTkIqKjogVGhpcyBmdW5jdGlvbiBpcyBhbiBlcXVhbGl0eSBfaGV1cmlzdGljXyBiYXNlZCBvbiB0aGUgYXZhaWxhYmxlXG4gKiBpbmZvcm1hdGlvbiBzZXQgb24gdGhlIHR3byBWTm9kZXMgYW5kIGNhbiBiZSBtaXNsZWFkaW5nIHVuZGVyIGNlcnRhaW5cbiAqIGNpcmN1bXN0YW5jZXMuIEluIHBhcnRpY3VsYXIsIGlmIHRoZSB0d28gbm9kZXMgZG8gbm90IGhhdmUgYGtleWAgYXR0cnNcbiAqIChhdmFpbGFibGUgdW5kZXIgYCRrZXkkYCBvbiBWTm9kZXMpIHRoZW4gdGhlIGZ1bmN0aW9uIGZhbGxzIGJhY2sgb24gbWVyZWx5XG4gKiBjaGVja2luZyB0aGF0IHRoZXkgaGF2ZSB0aGUgc2FtZSB0YWcuXG4gKlxuICogU28sIGluIG90aGVyIHdvcmRzLCBpZiBga2V5YCBhdHRycyBhcmUgbm90IHNldCBvbiBWTm9kZXMgd2hpY2ggbWF5IGJlXG4gKiBjaGFuZ2luZyBvcmRlciB3aXRoaW4gYSBgY2hpbGRyZW5gIGFycmF5IG9yIHNvbWV0aGluZyBhbG9uZyB0aG9zZSBsaW5lcyB0aGVuXG4gKiB3ZSBjb3VsZCBvYnRhaW4gYSBmYWxzZSBuZWdhdGl2ZSBhbmQgdGhlbiBoYXZlIHRvIGRvIG5lZWRsZXNzIHJlLXJlbmRlcmluZ1xuICogKGkuZS4gd2UnZCBzYXkgdHdvIFZOb2RlcyBhcmVuJ3QgZXF1YWwgd2hlbiBpbiBmYWN0IHRoZXkgc2hvdWxkIGJlKS5cbiAqXG4gKiBAcGFyYW0gbGVmdFZOb2RlIHRoZSBmaXJzdCBWTm9kZSB0byBjaGVja1xuICogQHBhcmFtIHJpZ2h0Vk5vZGUgdGhlIHNlY29uZCBWTm9kZSB0byBjaGVja1xuICogQHJldHVybnMgd2hldGhlciB0aGV5J3JlIGVxdWFsIG9yIG5vdFxuICovXG5jb25zdCBpc1NhbWVWbm9kZSA9IChsZWZ0Vk5vZGUsIHJpZ2h0Vk5vZGUpID0+IHtcbiAgICAvLyBjb21wYXJlIGlmIHR3byB2bm9kZSB0byBzZWUgaWYgdGhleSdyZSBcInRlY2huaWNhbGx5XCIgdGhlIHNhbWVcbiAgICAvLyBuZWVkIHRvIGhhdmUgdGhlIHNhbWUgZWxlbWVudCB0YWcsIGFuZCBzYW1lIGtleSB0byBiZSB0aGUgc2FtZVxuICAgIGlmIChsZWZ0Vk5vZGUuJHRhZyQgPT09IHJpZ2h0Vk5vZGUuJHRhZyQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4vKipcbiAqIEhhbmRsZSByZWNvbmNpbGluZyBhbiBvdXRkYXRlZCBWTm9kZSB3aXRoIGEgbmV3IG9uZSB3aGljaCBjb3JyZXNwb25kcyB0b1xuICogaXQuIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyBmbHVzaGluZyB1cGRhdGVzIHRvIHRoZSBET00gYW5kIHJlY29uY2lsaW5nIHRoZVxuICogY2hpbGRyZW4gb2YgdGhlIHR3byBub2RlcyAoaWYgYW55KS5cbiAqXG4gKiBAcGFyYW0gb2xkVk5vZGUgYW4gb2xkIFZOb2RlIHdob3NlIERPTSBlbGVtZW50IGFuZCBjaGlsZHJlbiB3ZSB3YW50IHRvIHVwZGF0ZVxuICogQHBhcmFtIG5ld1ZOb2RlIGEgbmV3IFZOb2RlIHJlcHJlc2VudGluZyBhbiB1cGRhdGVkIHZlcnNpb24gb2YgdGhlIG9sZCBvbmVcbiAqL1xuY29uc3QgcGF0Y2ggPSAob2xkVk5vZGUsIG5ld1ZOb2RlKSA9PiB7XG4gICAgY29uc3QgZWxtID0gKG5ld1ZOb2RlLiRlbG0kID0gb2xkVk5vZGUuJGVsbSQpO1xuICAgIGNvbnN0IG9sZENoaWxkcmVuID0gb2xkVk5vZGUuJGNoaWxkcmVuJDtcbiAgICBjb25zdCBuZXdDaGlsZHJlbiA9IG5ld1ZOb2RlLiRjaGlsZHJlbiQ7XG4gICAgY29uc3QgdGFnID0gbmV3Vk5vZGUuJHRhZyQ7XG4gICAgY29uc3QgdGV4dCA9IG5ld1ZOb2RlLiR0ZXh0JDtcbiAgICBpZiAodGV4dCA9PT0gbnVsbCkge1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0ZXN0IGlmIHdlJ3JlIHJlbmRlcmluZyBhbiBzdmcgZWxlbWVudCwgb3Igc3RpbGwgcmVuZGVyaW5nIG5vZGVzIGluc2lkZSBvZiBvbmVcbiAgICAgICAgICAgIC8vIG9ubHkgYWRkIHRoaXMgdG8gdGhlIHdoZW4gdGhlIGNvbXBpbGVyIHNlZXMgd2UncmUgdXNpbmcgYW4gc3ZnIHNvbWV3aGVyZVxuICAgICAgICAgICAgaXNTdmdNb2RlID0gdGFnID09PSAnc3ZnJyA/IHRydWUgOiB0YWcgPT09ICdmb3JlaWduT2JqZWN0JyA/IGZhbHNlIDogaXNTdmdNb2RlO1xuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBlaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgcmVuZGVyIG9mIGFuIGVsZW1lbnQgT1IgaXQncyBhbiB1cGRhdGVcbiAgICAgICAgICAgICAgICAvLyBBTkQgd2UgYWxyZWFkeSBrbm93IGl0J3MgcG9zc2libGUgaXQgY291bGQgaGF2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB1cGRhdGVzIHRoZSBlbGVtZW50J3MgY3NzIGNsYXNzZXMsIGF0dHJzLCBwcm9wcywgbGlzdGVuZXJzLCBldGMuXG4gICAgICAgICAgICAgICAgdXBkYXRlRWxlbWVudChvbGRWTm9kZSwgbmV3Vk5vZGUsIGlzU3ZnTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZENoaWxkcmVuICE9PSBudWxsICYmIG5ld0NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZXJlJ3MgY2hpbGQgdm5vZGVzIGZvciBib3RoIHRoZSBvbGQgYW5kIG5ldyB2bm9kZXNcbiAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gY2FsbCBgdXBkYXRlQ2hpbGRyZW5gIHRvIHJlY29uY2lsZSB0aGVtXG4gICAgICAgICAgICB1cGRhdGVDaGlsZHJlbihlbG0sIG9sZENoaWxkcmVuLCBuZXdWTm9kZSwgbmV3Q2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld0NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBubyBvbGQgY2hpbGQgdm5vZGVzLCBidXQgdGhlcmUgYXJlIG5ldyBjaGlsZCB2bm9kZXMgdG8gYWRkXG4gICAgICAgICAgICBpZiAob2xkVk5vZGUuJHRleHQkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIG9sZCB2bm9kZSB3YXMgdGV4dCwgc28gYmUgc3VyZSB0byBjbGVhciBpdCBvdXRcbiAgICAgICAgICAgICAgICBlbG0udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgbmV3IHZub2RlIGNoaWxkcmVuXG4gICAgICAgICAgICBhZGRWbm9kZXMoZWxtLCBudWxsLCBuZXdWTm9kZSwgbmV3Q2hpbGRyZW4sIDAsIG5ld0NoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9sZENoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBubyBuZXcgY2hpbGQgdm5vZGVzLCBidXQgdGhlcmUgYXJlIG9sZCBjaGlsZCB2bm9kZXMgdG8gcmVtb3ZlXG4gICAgICAgICAgICByZW1vdmVWbm9kZXMob2xkQ2hpbGRyZW4sIDAsIG9sZENoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N2Z01vZGUgJiYgdGFnID09PSAnc3ZnJykge1xuICAgICAgICAgICAgaXNTdmdNb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAob2xkVk5vZGUuJHRleHQkICE9PSB0ZXh0KSB7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IGZvciB0aGUgdGV4dCBvbmx5IHZub2RlXG4gICAgICAgIC8vIGFuZCBhbHNvIG9ubHkgaWYgdGhlIHRleHQgaXMgZGlmZmVyZW50IHRoYW4gYmVmb3JlXG4gICAgICAgIGVsbS5kYXRhID0gdGV4dDtcbiAgICB9XG59O1xuLyoqXG4gKiBUaGUgbWFpbiBlbnRyeSBwb2ludCBmb3IgU3RlbmNpbCdzIHZpcnR1YWwgRE9NLWJhc2VkIHJlbmRlcmluZyBlbmdpbmVcbiAqXG4gKiBHaXZlbiBhIHtAbGluayBkLkhvc3RSZWZ9IGNvbnRhaW5lciBhbmQgc29tZSB2aXJ0dWFsIERPTSBub2RlcywgdGhpc1xuICogZnVuY3Rpb24gd2lsbCBoYW5kbGUgY3JlYXRpbmcgYSB2aXJ0dWFsIERPTSB0cmVlIHdpdGggYSBzaW5nbGUgcm9vdCwgcGF0Y2hpbmdcbiAqIHRoZSBjdXJyZW50IHZpcnR1YWwgRE9NIHRyZWUgb250byBhbiBvbGQgb25lIChpZiBhbnkpLCBkZWFsaW5nIHdpdGggc2xvdFxuICogcmVsb2NhdGlvbiwgYW5kIHJlZmxlY3RpbmcgYXR0cmlidXRlcy5cbiAqXG4gKiBAcGFyYW0gaG9zdFJlZiBkYXRhIG5lZWRlZCB0byByb290IGFuZCByZW5kZXIgdGhlIHZpcnR1YWwgRE9NIHRyZWUsIHN1Y2ggYXNcbiAqIHRoZSBET00gbm9kZSBpbnRvIHdoaWNoIGl0IHNob3VsZCBiZSByZW5kZXJlZC5cbiAqIEBwYXJhbSByZW5kZXJGblJlc3VsdHMgdGhlIHZpcnR1YWwgRE9NIG5vZGVzIHRvIGJlIHJlbmRlcmVkXG4gKi9cbmNvbnN0IHJlbmRlclZkb20gPSAoaG9zdFJlZiwgcmVuZGVyRm5SZXN1bHRzKSA9PiB7XG4gICAgY29uc3QgaG9zdEVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgICBjb25zdCBvbGRWTm9kZSA9IGhvc3RSZWYuJHZub2RlJCB8fCBuZXdWTm9kZShudWxsLCBudWxsKTtcbiAgICBjb25zdCByb290Vm5vZGUgPSBpc0hvc3QocmVuZGVyRm5SZXN1bHRzKSA/IHJlbmRlckZuUmVzdWx0cyA6IGgobnVsbCwgbnVsbCwgcmVuZGVyRm5SZXN1bHRzKTtcbiAgICBob3N0VGFnTmFtZSA9IGhvc3RFbG0udGFnTmFtZTtcbiAgICByb290Vm5vZGUuJHRhZyQgPSBudWxsO1xuICAgIHJvb3RWbm9kZS4kZmxhZ3MkIHw9IDQgLyogVk5PREVfRkxBR1MuaXNIb3N0ICovO1xuICAgIGhvc3RSZWYuJHZub2RlJCA9IHJvb3RWbm9kZTtcbiAgICByb290Vm5vZGUuJGVsbSQgPSBvbGRWTm9kZS4kZWxtJCA9IChob3N0RWxtLnNoYWRvd1Jvb3QgfHwgaG9zdEVsbSApO1xuICAgIHtcbiAgICAgICAgc2NvcGVJZCA9IGhvc3RFbG1bJ3Mtc2MnXTtcbiAgICB9XG4gICAgLy8gc3luY2hyb25vdXMgcGF0Y2hcbiAgICBwYXRjaChvbGRWTm9kZSwgcm9vdFZub2RlKTtcbn07XG5jb25zdCBhdHRhY2hUb0FuY2VzdG9yID0gKGhvc3RSZWYsIGFuY2VzdG9yQ29tcG9uZW50KSA9PiB7XG4gICAgaWYgKGFuY2VzdG9yQ29tcG9uZW50ICYmICFob3N0UmVmLiRvblJlbmRlclJlc29sdmUkICYmIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXSkge1xuICAgICAgICBhbmNlc3RvckNvbXBvbmVudFsncy1wJ10ucHVzaChuZXcgUHJvbWlzZSgocikgPT4gKGhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQgPSByKSkpO1xuICAgIH1cbn07XG5jb25zdCBzY2hlZHVsZVVwZGF0ZSA9IChob3N0UmVmLCBpc0luaXRpYWxMb2FkKSA9PiB7XG4gICAge1xuICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMTYgLyogSE9TVF9GTEFHUy5pc1F1ZXVlZEZvclVwZGF0ZSAqLztcbiAgICB9XG4gICAgaWYgKGhvc3RSZWYuJGZsYWdzJCAmIDQgLyogSE9TVF9GTEFHUy5pc1dhaXRpbmdGb3JDaGlsZHJlbiAqLykge1xuICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gNTEyIC8qIEhPU1RfRkxBR1MubmVlZHNSZXJlbmRlciAqLztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhdHRhY2hUb0FuY2VzdG9yKGhvc3RSZWYsIGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JCk7XG4gICAgLy8gdGhlcmUgaXMgbm8gYW5jZXN0b3IgY29tcG9uZW50IG9yIHRoZSBhbmNlc3RvciBjb21wb25lbnRcbiAgICAvLyBoYXMgYWxyZWFkeSBmaXJlZCBvZmYgaXRzIGxpZmVjeWNsZSB1cGRhdGUgdGhlblxuICAgIC8vIGZpcmUgb2ZmIHRoZSBpbml0aWFsIHVwZGF0ZVxuICAgIGNvbnN0IGRpc3BhdGNoID0gKCkgPT4gZGlzcGF0Y2hIb29rcyhob3N0UmVmLCBpc0luaXRpYWxMb2FkKTtcbiAgICByZXR1cm4gd3JpdGVUYXNrKGRpc3BhdGNoKSA7XG59O1xuY29uc3QgZGlzcGF0Y2hIb29rcyA9IChob3N0UmVmLCBpc0luaXRpYWxMb2FkKSA9PiB7XG4gICAgY29uc3QgZW5kU2NoZWR1bGUgPSBjcmVhdGVUaW1lKCdzY2hlZHVsZVVwZGF0ZScsIGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJCk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBob3N0UmVmLiRsYXp5SW5zdGFuY2UkIDtcbiAgICBsZXQgcHJvbWlzZTtcbiAgICBlbmRTY2hlZHVsZSgpO1xuICAgIHJldHVybiB0aGVuKHByb21pc2UsICgpID0+IHVwZGF0ZUNvbXBvbmVudChob3N0UmVmLCBpbnN0YW5jZSwgaXNJbml0aWFsTG9hZCkpO1xufTtcbmNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IGFzeW5jIChob3N0UmVmLCBpbnN0YW5jZSwgaXNJbml0aWFsTG9hZCkgPT4ge1xuICAgIC8vIHVwZGF0ZUNvbXBvbmVudFxuICAgIGNvbnN0IGVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgICBjb25zdCBlbmRVcGRhdGUgPSBjcmVhdGVUaW1lKCd1cGRhdGUnLCBob3N0UmVmLiRjbXBNZXRhJC4kdGFnTmFtZSQpO1xuICAgIGNvbnN0IHJjID0gZWxtWydzLXJjJ107XG4gICAgaWYgKGlzSW5pdGlhbExvYWQpIHtcbiAgICAgICAgLy8gRE9NIFdSSVRFIVxuICAgICAgICBhdHRhY2hTdHlsZXMoaG9zdFJlZik7XG4gICAgfVxuICAgIGNvbnN0IGVuZFJlbmRlciA9IGNyZWF0ZVRpbWUoJ3JlbmRlcicsIGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJCk7XG4gICAge1xuICAgICAgICBjYWxsUmVuZGVyKGhvc3RSZWYsIGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKHJjKSB7XG4gICAgICAgIC8vIG9rLCBzbyB0dXJucyBvdXQgdGhlcmUgYXJlIHNvbWUgY2hpbGQgaG9zdCBlbGVtZW50c1xuICAgICAgICAvLyB3YWl0aW5nIG9uIHRoaXMgcGFyZW50IGVsZW1lbnQgdG8gbG9hZFxuICAgICAgICAvLyBsZXQncyBmaXJlIG9mZiBhbGwgdXBkYXRlIGNhbGxiYWNrcyB3YWl0aW5nXG4gICAgICAgIHJjLm1hcCgoY2IpID0+IGNiKCkpO1xuICAgICAgICBlbG1bJ3MtcmMnXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZW5kUmVuZGVyKCk7XG4gICAgZW5kVXBkYXRlKCk7XG4gICAge1xuICAgICAgICBjb25zdCBjaGlsZHJlblByb21pc2VzID0gZWxtWydzLXAnXTtcbiAgICAgICAgY29uc3QgcG9zdFVwZGF0ZSA9ICgpID0+IHBvc3RVcGRhdGVDb21wb25lbnQoaG9zdFJlZik7XG4gICAgICAgIGlmIChjaGlsZHJlblByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcG9zdFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwoY2hpbGRyZW5Qcm9taXNlcykudGhlbihwb3N0VXBkYXRlKTtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSA0IC8qIEhPU1RfRkxBR1MuaXNXYWl0aW5nRm9yQ2hpbGRyZW4gKi87XG4gICAgICAgICAgICBjaGlsZHJlblByb21pc2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgY2FsbFJlbmRlciA9IChob3N0UmVmLCBpbnN0YW5jZSwgZWxtKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5yZW5kZXIoKSA7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCAmPSB+MTYgLyogSE9TVF9GTEFHUy5pc1F1ZXVlZEZvclVwZGF0ZSAqLztcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMiAvKiBIT1NUX0ZMQUdTLmhhc1JlbmRlcmVkICovO1xuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBsb29rcyBsaWtlIHdlJ3ZlIGdvdCBjaGlsZCBub2RlcyB0byByZW5kZXIgaW50byB0aGlzIGhvc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIG9yIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBjc3MgY2xhc3MvYXR0cnMgb24gdGhlIGhvc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIERPTSBXUklURSFcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclZkb20oaG9zdFJlZiwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlRXJyb3IoZSwgaG9zdFJlZi4kaG9zdEVsZW1lbnQkKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgcG9zdFVwZGF0ZUNvbXBvbmVudCA9IChob3N0UmVmKSA9PiB7XG4gICAgY29uc3QgdGFnTmFtZSA9IGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJDtcbiAgICBjb25zdCBlbG0gPSBob3N0UmVmLiRob3N0RWxlbWVudCQ7XG4gICAgY29uc3QgZW5kUG9zdFVwZGF0ZSA9IGNyZWF0ZVRpbWUoJ3Bvc3RVcGRhdGUnLCB0YWdOYW1lKTtcbiAgICBjb25zdCBhbmNlc3RvckNvbXBvbmVudCA9IGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JDtcbiAgICBpZiAoIShob3N0UmVmLiRmbGFncyQgJiA2NCAvKiBIT1NUX0ZMQUdTLmhhc0xvYWRlZENvbXBvbmVudCAqLykpIHtcbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDY0IC8qIEhPU1RfRkxBR1MuaGFzTG9hZGVkQ29tcG9uZW50ICovO1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBET00gV1JJVEUhXG4gICAgICAgICAgICBhZGRIeWRyYXRlZEZsYWcoZWxtKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRQb3N0VXBkYXRlKCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJG9uUmVhZHlSZXNvbHZlJChlbG0pO1xuICAgICAgICAgICAgaWYgKCFhbmNlc3RvckNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGFwcERpZExvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW5kUG9zdFVwZGF0ZSgpO1xuICAgIH1cbiAgICAvLyBsb2FkIGV2ZW50cyBmaXJlIGZyb20gYm90dG9tIHRvIHRvcFxuICAgIC8vIHRoZSBkZWVwZXN0IGVsZW1lbnRzIGxvYWQgZmlyc3QgdGhlbiBidWJibGVzIHVwXG4gICAge1xuICAgICAgICBpZiAoaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCkge1xuICAgICAgICAgICAgaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCgpO1xuICAgICAgICAgICAgaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9zdFJlZi4kZmxhZ3MkICYgNTEyIC8qIEhPU1RfRkxBR1MubmVlZHNSZXJlbmRlciAqLykge1xuICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4gc2NoZWR1bGVVcGRhdGUoaG9zdFJlZiwgZmFsc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfig0IC8qIEhPU1RfRkxBR1MuaXNXYWl0aW5nRm9yQ2hpbGRyZW4gKi8gfCA1MTIgLyogSE9TVF9GTEFHUy5uZWVkc1JlcmVuZGVyICovKTtcbiAgICB9XG4gICAgLy8gKCDigKJf4oCiKVxuICAgIC8vICgg4oCiX+KAoik+4oyQ4pagLeKWoFxuICAgIC8vICjijJDilqBf4pagKVxufTtcbmNvbnN0IGFwcERpZExvYWQgPSAod2hvKSA9PiB7XG4gICAgLy8gb24gYXBwbG9hZFxuICAgIC8vIHdlIGhhdmUgZmluaXNoIHRoZSBmaXJzdCBiaWcgaW5pdGlhbCByZW5kZXJcbiAgICB7XG4gICAgICAgIGFkZEh5ZHJhdGVkRmxhZyhkb2MuZG9jdW1lbnRFbGVtZW50KTtcbiAgICB9XG4gICAgbmV4dFRpY2soKCkgPT4gZW1pdEV2ZW50KHdpbiwgJ2FwcGxvYWQnLCB7IGRldGFpbDogeyBuYW1lc3BhY2U6IE5BTUVTUEFDRSB9IH0pKTtcbn07XG5jb25zdCB0aGVuID0gKHByb21pc2UsIHRoZW5GbikgPT4ge1xuICAgIHJldHVybiBwcm9taXNlICYmIHByb21pc2UudGhlbiA/IHByb21pc2UudGhlbih0aGVuRm4pIDogdGhlbkZuKCk7XG59O1xuY29uc3QgYWRkSHlkcmF0ZWRGbGFnID0gKGVsbSkgPT4gZWxtLmNsYXNzTGlzdC5hZGQoJ2h5ZHJhdGVkJylcbiAgICA7XG5jb25zdCBnZXRWYWx1ZSA9IChyZWYsIHByb3BOYW1lKSA9PiBnZXRIb3N0UmVmKHJlZikuJGluc3RhbmNlVmFsdWVzJC5nZXQocHJvcE5hbWUpO1xuY29uc3Qgc2V0VmFsdWUgPSAocmVmLCBwcm9wTmFtZSwgbmV3VmFsLCBjbXBNZXRhKSA9PiB7XG4gICAgLy8gY2hlY2sgb3VyIG5ldyBwcm9wZXJ0eSB2YWx1ZSBhZ2FpbnN0IG91ciBpbnRlcm5hbCB2YWx1ZVxuICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKHJlZik7XG4gICAgY29uc3Qgb2xkVmFsID0gaG9zdFJlZi4kaW5zdGFuY2VWYWx1ZXMkLmdldChwcm9wTmFtZSk7XG4gICAgY29uc3QgZmxhZ3MgPSBob3N0UmVmLiRmbGFncyQ7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBob3N0UmVmLiRsYXp5SW5zdGFuY2UkIDtcbiAgICBuZXdWYWwgPSBwYXJzZVByb3BlcnR5VmFsdWUobmV3VmFsLCBjbXBNZXRhLiRtZW1iZXJzJFtwcm9wTmFtZV1bMF0pO1xuICAgIC8vIGV4cGxpY2l0bHkgY2hlY2sgZm9yIE5hTiBvbiBib3RoIHNpZGVzLCBhcyBgTmFOID09PSBOYU5gIGlzIGFsd2F5cyBmYWxzZVxuICAgIGNvbnN0IGFyZUJvdGhOYU4gPSBOdW1iZXIuaXNOYU4ob2xkVmFsKSAmJiBOdW1iZXIuaXNOYU4obmV3VmFsKTtcbiAgICBjb25zdCBkaWRWYWx1ZUNoYW5nZSA9IG5ld1ZhbCAhPT0gb2xkVmFsICYmICFhcmVCb3RoTmFOO1xuICAgIGlmICgoIShmbGFncyAmIDggLyogSE9TVF9GTEFHUy5pc0NvbnN0cnVjdGluZ0luc3RhbmNlICovKSB8fCBvbGRWYWwgPT09IHVuZGVmaW5lZCkgJiYgZGlkVmFsdWVDaGFuZ2UpIHtcbiAgICAgICAgLy8gZ2Fkem9va3MhIHRoZSBwcm9wZXJ0eSdzIHZhbHVlIGhhcyBjaGFuZ2VkISFcbiAgICAgICAgLy8gc2V0IG91ciBuZXcgdmFsdWUhXG4gICAgICAgIGhvc3RSZWYuJGluc3RhbmNlVmFsdWVzJC5zZXQocHJvcE5hbWUsIG5ld1ZhbCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKChmbGFncyAmICgyIC8qIEhPU1RfRkxBR1MuaGFzUmVuZGVyZWQgKi8gfCAxNiAvKiBIT1NUX0ZMQUdTLmlzUXVldWVkRm9yVXBkYXRlICovKSkgPT09IDIgLyogSE9TVF9GTEFHUy5oYXNSZW5kZXJlZCAqLykge1xuICAgICAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhpcyB2YWx1ZSBhY3R1YWxseSBjaGFuZ2VkLCBzbyB3ZSd2ZSBnb3Qgd29yayB0byBkbyFcbiAgICAgICAgICAgICAgICAvLyBidXQgb25seSBpZiB3ZSd2ZSBhbHJlYWR5IHJlbmRlcmVkLCBvdGhlcndpc2UganVzdCBjaGlsbCBvdXRcbiAgICAgICAgICAgICAgICAvLyBxdWV1ZSB0aGF0IHdlIG5lZWQgdG8gZG8gYW4gdXBkYXRlLCBidXQgZG9uJ3Qgd29ycnkgYWJvdXQgcXVldWluZ1xuICAgICAgICAgICAgICAgIC8vIHVwIG1pbGxpb25zIGN1eiB0aGlzIGZ1bmN0aW9uIGVuc3VyZXMgaXQgb25seSBydW5zIG9uY2VcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuLyoqXG4gKiBBdHRhY2ggYSBzZXJpZXMgb2YgcnVudGltZSBjb25zdHJ1Y3RzIHRvIGEgY29tcGlsZWQgU3RlbmNpbCBjb21wb25lbnRcbiAqIGNvbnN0cnVjdG9yLCBpbmNsdWRpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyBmb3IgdGhlIGBAUHJvcGAgYW5kIGBAU3RhdGVgXG4gKiBkZWNvcmF0b3JzLCBjYWxsYmFja3MgZm9yIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UsIGFuZCBzbyBvbi5cbiAqXG4gKiBAcGFyYW0gQ3N0ciB0aGUgY29uc3RydWN0b3IgZm9yIGEgY29tcG9uZW50IHRoYXQgd2UgbmVlZCB0byBwcm9jZXNzXG4gKiBAcGFyYW0gY21wTWV0YSBtZXRhZGF0YSBjb2xsZWN0ZWQgcHJldmlvdXNseSBhYm91dCB0aGUgY29tcG9uZW50XG4gKiBAcGFyYW0gZmxhZ3MgYSBudW1iZXIgdXNlZCB0byBzdG9yZSBhIHNlcmllcyBvZiBiaXQgZmxhZ3NcbiAqIEByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBzYW1lIGNvbnN0cnVjdG9yIHBhc3NlZCBpbiAoYnV0IG5vdyBtdXRhdGVkKVxuICovXG5jb25zdCBwcm94eUNvbXBvbmVudCA9IChDc3RyLCBjbXBNZXRhLCBmbGFncykgPT4ge1xuICAgIGlmIChjbXBNZXRhLiRtZW1iZXJzJCkge1xuICAgICAgICAvLyBJdCdzIGJldHRlciB0byBoYXZlIGEgY29uc3QgdGhhbiB0d28gT2JqZWN0LmVudHJpZXMoKVxuICAgICAgICBjb25zdCBtZW1iZXJzID0gT2JqZWN0LmVudHJpZXMoY21wTWV0YS4kbWVtYmVycyQpO1xuICAgICAgICBjb25zdCBwcm90b3R5cGUgPSBDc3RyLnByb3RvdHlwZTtcbiAgICAgICAgbWVtYmVycy5tYXAoKFttZW1iZXJOYW1lLCBbbWVtYmVyRmxhZ3NdXSkgPT4ge1xuICAgICAgICAgICAgaWYgKChtZW1iZXJGbGFncyAmIDMxIC8qIE1FTUJFUl9GTEFHUy5Qcm9wICovIHx8XG4gICAgICAgICAgICAgICAgICAgICgoZmxhZ3MgJiAyIC8qIFBST1hZX0ZMQUdTLnByb3h5U3RhdGUgKi8pICYmIG1lbWJlckZsYWdzICYgMzIgLyogTUVNQkVSX0ZMQUdTLlN0YXRlICovKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBwcm94eUNvbXBvbmVudCAtIHByb3BcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBtZW1iZXJOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3h5Q29tcG9uZW50LCBnZXQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZSh0aGlzLCBtZW1iZXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0KG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm94eUNvbXBvbmVudCwgc2V0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZSh0aGlzLCBtZW1iZXJOYW1lLCBuZXdWYWx1ZSwgY21wTWV0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAxIC8qIFBST1hZX0ZMQUdTLmlzRWxlbWVudENvbnN0cnVjdG9yICovKSkge1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWVUb1Byb3BOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChhdHRyTmFtZSwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wTmFtZSA9IGF0dHJOYW1lVG9Qcm9wTmFtZS5nZXQoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgSW4gYSB3ZWIgY29tcG9uZW50IGxpZmVjeWNsZSB0aGUgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIHJ1bnMgcHJpb3IgdG8gY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gIGluIHRoZSBjYXNlIHdoZXJlIGFuIGF0dHJpYnV0ZSB3YXMgc2V0IGlubGluZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gIGBgYGh0bWxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgPG15LWNvbXBvbmVudCBzb21lLWF0dHJpYnV0ZT1cInNvbWUtdmFsdWVcIj48L215LWNvbXBvbmVudD5cbiAgICAgICAgICAgICAgICAgICAgLy8gIGBgYFxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyAgVGhlcmUgaXMgYW4gZWRnZSBjYXNlIHdoZXJlIGEgZGV2ZWxvcGVyIHNldHMgdGhlIGF0dHJpYnV0ZSBpbmxpbmUgb24gYSBjdXN0b20gZWxlbWVudCBhbmQgdGhlblxuICAgICAgICAgICAgICAgICAgICAvLyAgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2VzIGl0IGJlZm9yZSBpdCBoYXMgYmVlbiB1cGdyYWRlZCBhcyBzaG93biBiZWxvdzpcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gIGBgYGh0bWxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgPCEtLSB0aGlzIGNvbXBvbmVudCBoYXMgX25vdF8gYmVlbiB1cGdyYWRlZCB5ZXQgLS0+XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDxteS1jb21wb25lbnQgaWQ9XCJ0ZXN0XCIgc29tZS1hdHRyaWJ1dGU9XCJzb21lLXZhbHVlXCI+PC9teS1jb21wb25lbnQ+XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDxzY3JpcHQ+XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgLy8gZ3JhYiBub24tdXBncmFkZWQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rlc3RcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgZWwuc29tZUF0dHJpYnV0ZSA9IFwiYW5vdGhlci12YWx1ZVwiO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIC8vIHVwZ3JhZGUgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1jb21wb25lbnQnLCBNeUNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDwvc2NyaXB0PlxuICAgICAgICAgICAgICAgICAgICAvLyAgYGBgXG4gICAgICAgICAgICAgICAgICAgIC8vICBJbiB0aGlzIGNhc2UgaWYgd2UgZG8gbm90IHVuc2hhZG93IGhlcmUgYW5kIHVzZSB0aGUgdmFsdWUgb2YgdGhlIHNoYWRvd2luZyBwcm9wZXJ0eSwgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIC8vICB3aWxsIGJlIGNhbGxlZCB3aXRoIGBuZXdWYWx1ZSA9IFwic29tZS12YWx1ZVwiYCBhbmQgd2lsbCBzZXQgdGhlIHNoYWRvd2VkIHByb3BlcnR5ICh0aGlzLnNvbWVBdHRyaWJ1dGUgPSBcImFub3RoZXItdmFsdWVcIilcbiAgICAgICAgICAgICAgICAgICAgLy8gIHRvIHRoZSB2YWx1ZSB0aGF0IHdhcyBzZXQgaW5saW5lIGkuZS4gXCJzb21lLXZhbHVlXCIgZnJvbSBhYm92ZSBleGFtcGxlLiBXaGVuXG4gICAgICAgICAgICAgICAgICAgIC8vICB0aGUgY29ubmVjdGVkQ2FsbGJhY2sgYXR0ZW1wdHMgdG8gdW5zaGFkb3cgaXQgd2lsbCB1c2UgXCJzb21lLXZhbHVlXCIgYXMgdGhlIGluaXRpYWwgdmFsdWUgcmF0aGVyIHRoYW4gXCJhbm90aGVyLXZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gIFRoZSBjYXNlIHdoZXJlIHRoZSBhdHRyaWJ1dGUgd2FzIE5PVCBzZXQgaW5saW5lIGJ1dCB3YXMgbm90IHNldCBwcm9ncmFtbWF0aWNhbGx5IHNoYWxsIGJlIGhhbmRsZWQvdW5zaGFkb3dlZFxuICAgICAgICAgICAgICAgICAgICAvLyAgYnkgY29ubmVjdGVkQ2FsbGJhY2sgYXMgdGhpcyBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sgd2lsbCBub3QgZmlyZS5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi9mdW5kYW1lbnRhbHMvd2ViLWNvbXBvbmVudHMvYmVzdC1wcmFjdGljZXMjbGF6eS1wcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICBUT0RPKFNURU5DSUwtMTYpIHdlIHNob3VsZCB0aGluayBhYm91dCB3aGV0aGVyIG9yIG5vdCB3ZSBhY3R1YWxseSB3YW50IHRvIGJlIHJlZmxlY3RpbmcgdGhlIGF0dHJpYnV0ZXMgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gIHByb3BlcnRpZXMgaGVyZSBnaXZlbiB0aGF0IHRoaXMgZ29lcyBhZ2FpbnN0IGJlc3QgcHJhY3RpY2VzIG91dGxpbmVkIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi9mdW5kYW1lbnRhbHMvd2ViLWNvbXBvbmVudHMvYmVzdC1wcmFjdGljZXMjYXZvaWQtcmVlbnRyYW5jeVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvdG90eXBlLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcE5hbWVdID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwcm9wTmFtZSBleGlzdHMgb24gdGhlIHByb3RvdHlwZSBvZiBgQ3N0cmAsIHRoaXMgdXBkYXRlIG1heSBiZSBhIHJlc3VsdCBvZiBTdGVuY2lsIHVzaW5nIG5hdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQVBJcyB0byByZWZsZWN0IHByb3BzIGFzIGF0dHJpYnV0ZXMuIENhbGxzIHRvIGBzZXRBdHRyaWJ1dGUoc29tZUVsZW1lbnQsIHByb3BOYW1lKWAgd2lsbCByZXN1bHQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGBwcm9wTmFtZWAgdG8gYmUgY29udmVydGVkIHRvIGEgYERPTVN0cmluZ2AsIHdoaWNoIG1heSBub3QgYmUgd2hhdCB3ZSB3YW50IGZvciBvdGhlciBwcmltaXRpdmUgcHJvcHMuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBuZXdWYWx1ZSA9PT0gbnVsbCAmJiB0eXBlb2YgdGhpc1twcm9wTmFtZV0gPT09ICdib29sZWFuJyA/IGZhbHNlIDogbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gb2JzZXJ2ZVxuICAgICAgICAgICAgLy8gYW5kIGFsc28gY3JlYXRlIGEgbWFwIG9mIGh0bWwgYXR0cmlidXRlIG5hbWUgdG8ganMgcHJvcGVydHkgbmFtZVxuICAgICAgICAgICAgQ3N0ci5vYnNlcnZlZEF0dHJpYnV0ZXMgPSBtZW1iZXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoW18sIG1dKSA9PiBtWzBdICYgMTUgLyogTUVNQkVSX0ZMQUdTLkhhc0F0dHJpYnV0ZSAqLykgLy8gZmlsdGVyIHRvIG9ubHkga2VlcCBwcm9wcyB0aGF0IHNob3VsZCBtYXRjaCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgLm1hcCgoW3Byb3BOYW1lLCBtXSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gbVsxXSB8fCBwcm9wTmFtZTtcbiAgICAgICAgICAgICAgICBhdHRyTmFtZVRvUHJvcE5hbWUuc2V0KGF0dHJOYW1lLCBwcm9wTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJOYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIENzdHI7XG59O1xuY29uc3QgaW5pdGlhbGl6ZUNvbXBvbmVudCA9IGFzeW5jIChlbG0sIGhvc3RSZWYsIGNtcE1ldGEsIGhtclZlcnNpb25JZCwgQ3N0cikgPT4ge1xuICAgIC8vIGluaXRpYWxpemVDb21wb25lbnRcbiAgICBpZiAoKGhvc3RSZWYuJGZsYWdzJCAmIDMyIC8qIEhPU1RfRkxBR1MuaGFzSW5pdGlhbGl6ZWRDb21wb25lbnQgKi8pID09PSAwKSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGhhdmVuJ3QgaW5pdGlhbGl6ZWQgdGhpcyBlbGVtZW50IHlldFxuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDMyIC8qIEhPU1RfRkxBR1MuaGFzSW5pdGlhbGl6ZWRDb21wb25lbnQgKi87XG4gICAgICAgICAgICAvLyBsYXp5IGxvYWRlZCBjb21wb25lbnRzXG4gICAgICAgICAgICAvLyByZXF1ZXN0IHRoZSBjb21wb25lbnQncyBpbXBsZW1lbnRhdGlvbiB0byBiZVxuICAgICAgICAgICAgLy8gd2lyZWQgdXAgd2l0aCB0aGUgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICBDc3RyID0gbG9hZE1vZHVsZShjbXBNZXRhKTtcbiAgICAgICAgICAgIGlmIChDc3RyLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBBd2FpdCBjcmVhdGVzIGEgbWljcm8tdGFzayBhdm9pZCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZExvYWQgPSB1bmlxdWVUaW1lKCk7XG4gICAgICAgICAgICAgICAgQ3N0ciA9IGF3YWl0IENzdHI7XG4gICAgICAgICAgICAgICAgZW5kTG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFDc3RyLmlzUHJveGllZCkge1xuICAgICAgICAgICAgICAgIHByb3h5Q29tcG9uZW50KENzdHIsIGNtcE1ldGEsIDIgLyogUFJPWFlfRkxBR1MucHJveHlTdGF0ZSAqLyk7XG4gICAgICAgICAgICAgICAgQ3N0ci5pc1Byb3hpZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW5kTmV3SW5zdGFuY2UgPSBjcmVhdGVUaW1lKCdjcmVhdGVJbnN0YW5jZScsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICAgICAgICAgIC8vIG9rLCB0aW1lIHRvIGNvbnN0cnVjdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGJ1dCBsZXQncyBrZWVwIHRyYWNrIG9mIHdoZW4gd2Ugc3RhcnQgYW5kIHN0b3BcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhlIGdldHRlcnMvc2V0dGVycyBkb24ndCBpbmNvcnJlY3RseSBzdGVwIG9uIGRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gOCAvKiBIT1NUX0ZMQUdTLmlzQ29uc3RydWN0aW5nSW5zdGFuY2UgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zdHJ1Y3QgdGhlIGxhenktbG9hZGVkIGNvbXBvbmVudCBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgICAgLy8gcGFzc2luZyB0aGUgaG9zdFJlZiBpcyB2ZXJ5IGltcG9ydGFudCBkdXJpbmdcbiAgICAgICAgICAgIC8vIGNvbnN0cnVjdGlvbiBpbiBvcmRlciB0byBkaXJlY3RseSB3aXJlIHRvZ2V0aGVyIHRoZVxuICAgICAgICAgICAgLy8gaG9zdCBlbGVtZW50IGFuZCB0aGUgbGF6eS1sb2FkZWQgaW5zdGFuY2VcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmV3IENzdHIoaG9zdFJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfjggLyogSE9TVF9GTEFHUy5pc0NvbnN0cnVjdGluZ0luc3RhbmNlICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kTmV3SW5zdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ3N0ci5zdHlsZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBjb21wb25lbnQgaGFzIHN0eWxlcyBidXQgd2UgaGF2ZW4ndCByZWdpc3RlcmVkIHRoZW0geWV0XG4gICAgICAgICAgICBsZXQgc3R5bGUgPSBDc3RyLnN0eWxlO1xuICAgICAgICAgICAgY29uc3Qgc2NvcGVJZCA9IGdldFNjb3BlSWQoY21wTWV0YSk7XG4gICAgICAgICAgICBpZiAoIXN0eWxlcy5oYXMoc2NvcGVJZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRSZWdpc3RlclN0eWxlcyA9IGNyZWF0ZVRpbWUoJ3JlZ2lzdGVyU3R5bGVzJywgY21wTWV0YS4kdGFnTmFtZSQpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyU3R5bGUoc2NvcGVJZCwgc3R5bGUsICEhKGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogQ01QX0ZMQUdTLnNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pKTtcbiAgICAgICAgICAgICAgICBlbmRSZWdpc3RlclN0eWxlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHdlJ3ZlIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIGEgbGF6eSBpbnN0YW5jZVxuICAgIGNvbnN0IGFuY2VzdG9yQ29tcG9uZW50ID0gaG9zdFJlZi4kYW5jZXN0b3JDb21wb25lbnQkO1xuICAgIGNvbnN0IHNjaGVkdWxlID0gKCkgPT4gc2NoZWR1bGVVcGRhdGUoaG9zdFJlZiwgdHJ1ZSk7XG4gICAgaWYgKGFuY2VzdG9yQ29tcG9uZW50ICYmIGFuY2VzdG9yQ29tcG9uZW50WydzLXJjJ10pIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgaW5pdGlhbCBsb2FkIGFuZCB0aGlzIGNvbXBvbmVudCBpdCBoYXMgYW4gYW5jZXN0b3IgY29tcG9uZW50XG4gICAgICAgIC8vIGJ1dCB0aGUgYW5jZXN0b3IgY29tcG9uZW50IGhhcyBOT1QgZmlyZWQgaXRzIHdpbGwgdXBkYXRlIGxpZmVjeWNsZSB5ZXRcbiAgICAgICAgLy8gc28gbGV0J3MganVzdCBjb29sIG91ciBqZXRzIGFuZCB3YWl0IGZvciB0aGUgYW5jZXN0b3IgdG8gY29udGludWUgZmlyc3RcbiAgICAgICAgLy8gdGhpcyB3aWxsIGdldCBmaXJlZCBvZmYgd2hlbiB0aGUgYW5jZXN0b3IgY29tcG9uZW50XG4gICAgICAgIC8vIGZpbmFsbHkgZ2V0cyBhcm91bmQgdG8gcmVuZGVyaW5nIGl0cyBsYXp5IHNlbGZcbiAgICAgICAgLy8gZmlyZSBvZmYgdGhlIGluaXRpYWwgdXBkYXRlXG4gICAgICAgIGFuY2VzdG9yQ29tcG9uZW50WydzLXJjJ10ucHVzaChzY2hlZHVsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzY2hlZHVsZSgpO1xuICAgIH1cbn07XG5jb25zdCBjb25uZWN0ZWRDYWxsYmFjayA9IChlbG0pID0+IHtcbiAgICBpZiAoKHBsdC4kZmxhZ3MkICYgMSAvKiBQTEFURk9STV9GTEFHUy5pc1RtcERpc2Nvbm5lY3RlZCAqLykgPT09IDApIHtcbiAgICAgICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYoZWxtKTtcbiAgICAgICAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICAgICAgICBjb25zdCBlbmRDb25uZWN0ZWQgPSBjcmVhdGVUaW1lKCdjb25uZWN0ZWRDYWxsYmFjaycsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICAgICAgaWYgKCEoaG9zdFJlZi4kZmxhZ3MkICYgMSAvKiBIT1NUX0ZMQUdTLmhhc0Nvbm5lY3RlZCAqLykpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgdGhpcyBjb21wb25lbnQgaGFzIGNvbm5lY3RlZFxuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEgLyogSE9TVF9GTEFHUy5oYXNDb25uZWN0ZWQgKi87XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgZmlyc3QgYW5jZXN0b3IgY29tcG9uZW50IChpZiB0aGVyZSBpcyBvbmUpIGFuZCByZWdpc3RlclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY29tcG9uZW50IGFzIG9uZSBvZiB0aGUgYWN0aXZlbHkgbG9hZGluZyBjaGlsZCBjb21wb25lbnRzIGZvciBpdHMgYW5jZXN0b3JcbiAgICAgICAgICAgICAgICBsZXQgYW5jZXN0b3JDb21wb25lbnQgPSBlbG07XG4gICAgICAgICAgICAgICAgd2hpbGUgKChhbmNlc3RvckNvbXBvbmVudCA9IGFuY2VzdG9yQ29tcG9uZW50LnBhcmVudE5vZGUgfHwgYW5jZXN0b3JDb21wb25lbnQuaG9zdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xpbWIgdXAgdGhlIGFuY2VzdG9ycyBsb29raW5nIGZvciB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IHRoYXQgaGFzbid0IGZpbmlzaGVkIGl0cyBsaWZlY3ljbGUgdXBkYXRlIHlldFxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5jZXN0b3JDb21wb25lbnRbJ3MtcCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBmb3VuZCB0aGlzIGNvbXBvbmVudHMgZmlyc3QgYW5jZXN0b3IgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoaXMgY29tcG9uZW50J3MgYW5jZXN0b3IgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hUb0FuY2VzdG9yKGhvc3RSZWYsIChob3N0UmVmLiRhbmNlc3RvckNvbXBvbmVudCQgPSBhbmNlc3RvckNvbXBvbmVudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMYXp5IHByb3BlcnRpZXNcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi9mdW5kYW1lbnRhbHMvd2ViLWNvbXBvbmVudHMvYmVzdC1wcmFjdGljZXMjbGF6eS1wcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAoY21wTWV0YS4kbWVtYmVycyQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhjbXBNZXRhLiRtZW1iZXJzJCkubWFwKChbbWVtYmVyTmFtZSwgW21lbWJlckZsYWdzXV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlckZsYWdzICYgMzEgLyogTUVNQkVSX0ZMQUdTLlByb3AgKi8gJiYgZWxtLmhhc093blByb3BlcnR5KG1lbWJlck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVsbVttZW1iZXJOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbG1bbWVtYmVyTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG1bbWVtYmVyTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVDb21wb25lbnQoZWxtLCBob3N0UmVmLCBjbXBNZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbmRDb25uZWN0ZWQoKTtcbiAgICB9XG59O1xuY29uc3QgZGlzY29ubmVjdGVkQ2FsbGJhY2sgPSAoZWxtKSA9PiB7XG4gICAgaWYgKChwbHQuJGZsYWdzJCAmIDEgLyogUExBVEZPUk1fRkxBR1MuaXNUbXBEaXNjb25uZWN0ZWQgKi8pID09PSAwKSB7XG4gICAgICAgIGdldEhvc3RSZWYoZWxtKTtcbiAgICB9XG59O1xuY29uc3QgYm9vdHN0cmFwTGF6eSA9IChsYXp5QnVuZGxlcywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGVuZEJvb3RzdHJhcCA9IGNyZWF0ZVRpbWUoKTtcbiAgICBjb25zdCBjbXBUYWdzID0gW107XG4gICAgY29uc3QgZXhjbHVkZSA9IG9wdGlvbnMuZXhjbHVkZSB8fCBbXTtcbiAgICBjb25zdCBjdXN0b21FbGVtZW50cyA9IHdpbi5jdXN0b21FbGVtZW50cztcbiAgICBjb25zdCBoZWFkID0gZG9jLmhlYWQ7XG4gICAgY29uc3QgbWV0YUNoYXJzZXQgPSAvKkBfX1BVUkVfXyovIGhlYWQucXVlcnlTZWxlY3RvcignbWV0YVtjaGFyc2V0XScpO1xuICAgIGNvbnN0IHZpc2liaWxpdHlTdHlsZSA9IC8qQF9fUFVSRV9fKi8gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgY29uc3QgZGVmZXJyZWRDb25uZWN0ZWRDYWxsYmFja3MgPSBbXTtcbiAgICBsZXQgYXBwTG9hZEZhbGxiYWNrO1xuICAgIGxldCBpc0Jvb3RzdHJhcHBpbmcgPSB0cnVlO1xuICAgIE9iamVjdC5hc3NpZ24ocGx0LCBvcHRpb25zKTtcbiAgICBwbHQuJHJlc291cmNlc1VybCQgPSBuZXcgVVJMKG9wdGlvbnMucmVzb3VyY2VzVXJsIHx8ICcuLycsIGRvYy5iYXNlVVJJKS5ocmVmO1xuICAgIGxhenlCdW5kbGVzLm1hcCgobGF6eUJ1bmRsZSkgPT4ge1xuICAgICAgICBsYXp5QnVuZGxlWzFdLm1hcCgoY29tcGFjdE1ldGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNtcE1ldGEgPSB7XG4gICAgICAgICAgICAgICAgJGZsYWdzJDogY29tcGFjdE1ldGFbMF0sXG4gICAgICAgICAgICAgICAgJHRhZ05hbWUkOiBjb21wYWN0TWV0YVsxXSxcbiAgICAgICAgICAgICAgICAkbWVtYmVycyQ6IGNvbXBhY3RNZXRhWzJdLFxuICAgICAgICAgICAgICAgICRsaXN0ZW5lcnMkOiBjb21wYWN0TWV0YVszXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY21wTWV0YS4kbWVtYmVycyQgPSBjb21wYWN0TWV0YVsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhZ05hbWUgPSBjbXBNZXRhLiR0YWdOYW1lJDtcbiAgICAgICAgICAgIGNvbnN0IEhvc3RFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgICAgICAgICAgLy8gU3RlbmNpbExhenlIb3N0XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3Ioc2VsZikge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHN1cGVyKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJIb3N0KHNlbGYsIGNtcE1ldGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBDTVBfRkxBR1Muc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb21wb25lbnQgaXMgdXNpbmcgc2hhZG93IGRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRoaXMgYnJvd3NlciBzdXBwb3J0cyBzaGFkb3cgZG9tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHJlYWQtb25seSBwcm9wZXJ0eSBcInNoYWRvd1Jvb3RcIiB0byB0aGUgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGRpbmcgdGhlIHNoYWRvdyByb290IGJ1aWxkIGNvbmRpdGlvbmFscyB0byBtaW5pbWl6ZSBydW50aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBMb2FkRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChhcHBMb2FkRmFsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTG9hZEZhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNCb290c3RyYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25uZWN0ZWRDYWxsYmFjayB3aWxsIGJlIHByb2Nlc3NlZCBvbmNlIGFsbCBjb21wb25lbnRzIGhhdmUgYmVlbiByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZENvbm5lY3RlZENhbGxiYWNrcy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGx0LmptcCgoKSA9PiBjb25uZWN0ZWRDYWxsYmFjayh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4gZGlzY29ubmVjdGVkQ2FsbGJhY2sodGhpcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21wb25lbnRPblJlYWR5KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SG9zdFJlZih0aGlzKS4kb25SZWFkeVByb21pc2UkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjbXBNZXRhLiRsYXp5QnVuZGxlSWQkID0gbGF6eUJ1bmRsZVswXTtcbiAgICAgICAgICAgIGlmICghZXhjbHVkZS5pbmNsdWRlcyh0YWdOYW1lKSAmJiAhY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgY21wVGFncy5wdXNoKHRhZ05hbWUpO1xuICAgICAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBwcm94eUNvbXBvbmVudChIb3N0RWxlbWVudCwgY21wTWV0YSwgMSAvKiBQUk9YWV9GTEFHUy5pc0VsZW1lbnRDb25zdHJ1Y3RvciAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB7XG4gICAgICAgIHZpc2liaWxpdHlTdHlsZS5pbm5lckhUTUwgPSBjbXBUYWdzICsgSFlEUkFURURfQ1NTO1xuICAgICAgICB2aXNpYmlsaXR5U3R5bGUuc2V0QXR0cmlidXRlKCdkYXRhLXN0eWxlcycsICcnKTtcbiAgICAgICAgLy8gQXBwbHkgQ1NQIG5vbmNlIHRvIHRoZSBzdHlsZSB0YWcgaWYgaXQgZXhpc3RzXG4gICAgICAgIGNvbnN0IG5vbmNlID0gKF9hID0gcGx0LiRub25jZSQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHF1ZXJ5Tm9uY2VNZXRhVGFnQ29udGVudChkb2MpO1xuICAgICAgICBpZiAobm9uY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmlzaWJpbGl0eVN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUodmlzaWJpbGl0eVN0eWxlLCBtZXRhQ2hhcnNldCA/IG1ldGFDaGFyc2V0Lm5leHRTaWJsaW5nIDogaGVhZC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgLy8gUHJvY2VzcyBkZWZlcnJlZCBjb25uZWN0ZWRDYWxsYmFja3Mgbm93IGFsbCBjb21wb25lbnRzIGhhdmUgYmVlbiByZWdpc3RlcmVkXG4gICAgaXNCb290c3RyYXBwaW5nID0gZmFsc2U7XG4gICAgaWYgKGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBkZWZlcnJlZENvbm5lY3RlZENhbGxiYWNrcy5tYXAoKGhvc3QpID0+IGhvc3QuY29ubmVjdGVkQ2FsbGJhY2soKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgICBwbHQuam1wKCgpID0+IChhcHBMb2FkRmFsbGJhY2sgPSBzZXRUaW1lb3V0KGFwcERpZExvYWQsIDMwKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIGFwcExvYWQgZXZlbnRcbiAgICBlbmRCb290c3RyYXAoKTtcbn07XG4vKipcbiAqIEFzc2lnbnMgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBub25jZSBwcm9wZXJ0eSBvbiB0aGUgcnVudGltZSBwbGF0Zm9ybSBvYmplY3QuXG4gKiBEdXJpbmcgcnVudGltZSwgdGhpcyB2YWx1ZSBpcyB1c2VkIHRvIHNldCB0aGUgbm9uY2UgYXR0cmlidXRlIG9uIGFsbCBkeW5hbWljYWxseSBjcmVhdGVkIHNjcmlwdCBhbmQgc3R5bGUgdGFncy5cbiAqIEBwYXJhbSBub25jZSBUaGUgdmFsdWUgdG8gYmUgYXNzaWduZWQgdG8gdGhlIHBsYXRmb3JtIG5vbmNlIHByb3BlcnR5LlxuICogQHJldHVybnMgdm9pZFxuICovXG5jb25zdCBzZXROb25jZSA9IChub25jZSkgPT4gKHBsdC4kbm9uY2UkID0gbm9uY2UpO1xuY29uc3QgaG9zdFJlZnMgPSAvKkBfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBnZXRIb3N0UmVmID0gKHJlZikgPT4gaG9zdFJlZnMuZ2V0KHJlZik7XG5jb25zdCByZWdpc3Rlckluc3RhbmNlID0gKGxhenlJbnN0YW5jZSwgaG9zdFJlZikgPT4gaG9zdFJlZnMuc2V0KChob3N0UmVmLiRsYXp5SW5zdGFuY2UkID0gbGF6eUluc3RhbmNlKSwgaG9zdFJlZik7XG5jb25zdCByZWdpc3Rlckhvc3QgPSAoZWxtLCBjbXBNZXRhKSA9PiB7XG4gICAgY29uc3QgaG9zdFJlZiA9IHtcbiAgICAgICAgJGZsYWdzJDogMCxcbiAgICAgICAgJGhvc3RFbGVtZW50JDogZWxtLFxuICAgICAgICAkY21wTWV0YSQ6IGNtcE1ldGEsXG4gICAgICAgICRpbnN0YW5jZVZhbHVlcyQ6IG5ldyBNYXAoKSxcbiAgICB9O1xuICAgIHtcbiAgICAgICAgaG9zdFJlZi4kb25SZWFkeVByb21pc2UkID0gbmV3IFByb21pc2UoKHIpID0+IChob3N0UmVmLiRvblJlYWR5UmVzb2x2ZSQgPSByKSk7XG4gICAgICAgIGVsbVsncy1wJ10gPSBbXTtcbiAgICAgICAgZWxtWydzLXJjJ10gPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGhvc3RSZWZzLnNldChlbG0sIGhvc3RSZWYpO1xufTtcbmNvbnN0IGlzTWVtYmVySW5FbGVtZW50ID0gKGVsbSwgbWVtYmVyTmFtZSkgPT4gbWVtYmVyTmFtZSBpbiBlbG07XG5jb25zdCBjb25zb2xlRXJyb3IgPSAoZSwgZWwpID0+ICgwLCBjb25zb2xlLmVycm9yKShlLCBlbCk7XG5jb25zdCBjbXBNb2R1bGVzID0gLypAX19QVVJFX18qLyBuZXcgTWFwKCk7XG5jb25zdCBsb2FkTW9kdWxlID0gKGNtcE1ldGEsIGhvc3RSZWYsIGhtclZlcnNpb25JZCkgPT4ge1xuICAgIC8vIGxvYWRNb2R1bGVJbXBvcnRcbiAgICBjb25zdCBleHBvcnROYW1lID0gY21wTWV0YS4kdGFnTmFtZSQucmVwbGFjZSgvLS9nLCAnXycpO1xuICAgIGNvbnN0IGJ1bmRsZUlkID0gY21wTWV0YS4kbGF6eUJ1bmRsZUlkJDtcbiAgICBjb25zdCBtb2R1bGUgPSBjbXBNb2R1bGVzLmdldChidW5kbGVJZCkgO1xuICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZVtleHBvcnROYW1lXTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFobXJWZXJzaW9uSWQgfHwgIUJVSUxELmhvdE1vZHVsZVJlcGxhY2VtZW50KSB7XG4gICAgICBjb25zdCBwcm9jZXNzTW9kID0gaW1wb3J0ZWRNb2R1bGUgPT4ge1xuICAgICAgICBjbXBNb2R1bGVzLnNldChidW5kbGVJZCwgaW1wb3J0ZWRNb2R1bGUpO1xuICAgICAgICByZXR1cm4gaW1wb3J0ZWRNb2R1bGVbZXhwb3J0TmFtZV07XG4gICAgICB9XG4gICAgICBzd2l0Y2goYnVuZGxlSWQpIHtcbiAgICAgICAgXG4gICAgICAgIGNhc2UgJ2Nvbm5lY3QtbW9kYWwuY2pzJzpcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UocmVxdWlyZShcbiAgICAgICAgICAgIC8qIHdlYnBhY2tNb2RlOiBcImxhenlcIiAqL1xuICAgICAgICAgICAgJy4vY29ubmVjdC1tb2RhbC5janMuZW50cnkuanMnKSk7IH0pLnRoZW4ocHJvY2Vzc01vZCwgY29uc29sZUVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKHJlcXVpcmUoXG4gICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgLyogd2VicGFja0luY2x1ZGU6IC9cXC5lbnRyeVxcLmpzJC8gKi9cbiAgICAvKiB3ZWJwYWNrRXhjbHVkZTogL1xcLnN5c3RlbVxcLmVudHJ5XFwuanMkLyAqL1xuICAgIC8qIHdlYnBhY2tNb2RlOiBcImxhenlcIiAqL1xuICAgIGAuLyR7YnVuZGxlSWR9LmVudHJ5LmpzJHsnJ31gKSk7IH0pLnRoZW4oKGltcG9ydGVkTW9kdWxlKSA9PiB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNtcE1vZHVsZXMuc2V0KGJ1bmRsZUlkLCBpbXBvcnRlZE1vZHVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltcG9ydGVkTW9kdWxlW2V4cG9ydE5hbWVdO1xuICAgIH0sIGNvbnNvbGVFcnJvcik7XG59O1xuY29uc3Qgc3R5bGVzID0gLypAX19QVVJFX18qLyBuZXcgTWFwKCk7XG5jb25zdCB3aW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuY29uc3QgZG9jID0gd2luLmRvY3VtZW50IHx8IHsgaGVhZDoge30gfTtcbmNvbnN0IHBsdCA9IHtcbiAgICAkZmxhZ3MkOiAwLFxuICAgICRyZXNvdXJjZXNVcmwkOiAnJyxcbiAgICBqbXA6IChoKSA9PiBoKCksXG4gICAgcmFmOiAoaCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGgpLFxuICAgIGFlbDogKGVsLCBldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSA9PiBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdHMpLFxuICAgIHJlbDogKGVsLCBldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSA9PiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdHMpLFxuICAgIGNlOiAoZXZlbnROYW1lLCBvcHRzKSA9PiBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCBvcHRzKSxcbn07XG5jb25zdCBwcm9taXNlUmVzb2x2ZSA9ICh2KSA9PiBQcm9taXNlLnJlc29sdmUodik7XG5jb25zdCBzdXBwb3J0c0NvbnN0cnVjdGFibGVTdHlsZXNoZWV0cyA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG5ldyBDU1NTdHlsZVNoZWV0KCkucmVwbGFjZVN5bmMgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkoKVxuICAgIDtcbmNvbnN0IHF1ZXVlRG9tUmVhZHMgPSBbXTtcbmNvbnN0IHF1ZXVlRG9tV3JpdGVzID0gW107XG5jb25zdCBxdWV1ZVRhc2sgPSAocXVldWUsIHdyaXRlKSA9PiAoY2IpID0+IHtcbiAgICBxdWV1ZS5wdXNoKGNiKTtcbiAgICBpZiAoIXF1ZXVlUGVuZGluZykge1xuICAgICAgICBxdWV1ZVBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAod3JpdGUgJiYgcGx0LiRmbGFncyQgJiA0IC8qIFBMQVRGT1JNX0ZMQUdTLnF1ZXVlU3luYyAqLykge1xuICAgICAgICAgICAgbmV4dFRpY2soZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGx0LnJhZihmbHVzaCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgY29uc3VtZSA9IChxdWV1ZSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHF1ZXVlW2ldKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG59O1xuY29uc3QgZmx1c2ggPSAoKSA9PiB7XG4gICAgLy8gYWx3YXlzIGZvcmNlIGEgYnVuY2ggb2YgbWVkaXVtIGNhbGxiYWNrcyB0byBydW4sIGJ1dCBzdGlsbCBoYXZlXG4gICAgLy8gYSB0aHJvdHRsZSBvbiBob3cgbWFueSBjYW4gcnVuIGluIGEgY2VydGFpbiB0aW1lXG4gICAgLy8gRE9NIFJFQURTISEhXG4gICAgY29uc3VtZShxdWV1ZURvbVJlYWRzKTtcbiAgICAvLyBET00gV1JJVEVTISEhXG4gICAge1xuICAgICAgICBjb25zdW1lKHF1ZXVlRG9tV3JpdGVzKTtcbiAgICAgICAgaWYgKChxdWV1ZVBlbmRpbmcgPSBxdWV1ZURvbVJlYWRzLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAvLyBzdGlsbCBtb3JlIHRvIGRvIHlldCwgYnV0IHdlJ3ZlIHJ1biBvdXQgb2YgdGltZVxuICAgICAgICAgICAgLy8gbGV0J3MgbGV0IHRoaXMgdGhpbmcgY29vbCBvZmYgYW5kIHRyeSBhZ2FpbiBpbiB0aGUgbmV4dCB0aWNrXG4gICAgICAgICAgICBwbHQucmFmKGZsdXNoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBuZXh0VGljayA9IC8qQF9fUFVSRV9fKi8gKGNiKSA9PiBwcm9taXNlUmVzb2x2ZSgpLnRoZW4oY2IpO1xuY29uc3Qgd3JpdGVUYXNrID0gLypAX19QVVJFX18qLyBxdWV1ZVRhc2socXVldWVEb21Xcml0ZXMsIHRydWUpO1xuXG5leHBvcnRzLmJvb3RzdHJhcExhenkgPSBib290c3RyYXBMYXp5O1xuZXhwb3J0cy5nZXRFbGVtZW50ID0gZ2V0RWxlbWVudDtcbmV4cG9ydHMuaCA9IGg7XG5leHBvcnRzLnByb21pc2VSZXNvbHZlID0gcHJvbWlzZVJlc29sdmU7XG5leHBvcnRzLnJlZ2lzdGVySW5zdGFuY2UgPSByZWdpc3Rlckluc3RhbmNlO1xuZXhwb3J0cy5zZXROb25jZSA9IHNldE5vbmNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/index-3e3437e9.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/index.cjs.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stacks/connect-ui/dist/cjs/index.cjs.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nconst session = __webpack_require__(/*! ./session-7c78eac2.js */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/session-7c78eac2.js\");\n\n\n\nexports.clearSelectedProviderId = session.clearSelectedProviderId;\nexports.getInstalledProviders = session.getInstalledProviders;\nexports.getProviderFromId = session.getProviderFromId;\nexports.getRegisteredProviders = session.getRegisteredProviders;\nexports.getSelectedProviderId = session.getSelectedProviderId;\nexports.setSelectedProviderId = session.setSelectedProviderId;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2Rpc3QvY2pzL2luZGV4LmNqcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELGdCQUFnQixtQkFBTyxDQUFDLG1HQUF1Qjs7OztBQUkvQywrQkFBK0I7QUFDL0IsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6Qiw4QkFBOEI7QUFDOUIsNkJBQTZCO0FBQzdCLDZCQUE2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2Nvbm5lY3QtdWkvZGlzdC9janMvaW5kZXguY2pzLmpzPzRkMjYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5jb25zdCBzZXNzaW9uID0gcmVxdWlyZSgnLi9zZXNzaW9uLTdjNzhlYWMyLmpzJyk7XG5cblxuXG5leHBvcnRzLmNsZWFyU2VsZWN0ZWRQcm92aWRlcklkID0gc2Vzc2lvbi5jbGVhclNlbGVjdGVkUHJvdmlkZXJJZDtcbmV4cG9ydHMuZ2V0SW5zdGFsbGVkUHJvdmlkZXJzID0gc2Vzc2lvbi5nZXRJbnN0YWxsZWRQcm92aWRlcnM7XG5leHBvcnRzLmdldFByb3ZpZGVyRnJvbUlkID0gc2Vzc2lvbi5nZXRQcm92aWRlckZyb21JZDtcbmV4cG9ydHMuZ2V0UmVnaXN0ZXJlZFByb3ZpZGVycyA9IHNlc3Npb24uZ2V0UmVnaXN0ZXJlZFByb3ZpZGVycztcbmV4cG9ydHMuZ2V0U2VsZWN0ZWRQcm92aWRlcklkID0gc2Vzc2lvbi5nZXRTZWxlY3RlZFByb3ZpZGVySWQ7XG5leHBvcnRzLnNldFNlbGVjdGVkUHJvdmlkZXJJZCA9IHNlc3Npb24uc2V0U2VsZWN0ZWRQcm92aWRlcklkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/index.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/loader.cjs.js":
/*!****************************************************************!*\
  !*** ./node_modules/@stacks/connect-ui/dist/cjs/loader.cjs.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nconst index = __webpack_require__(/*! ./index-3e3437e9.js */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/index-3e3437e9.js\");\n\n/*\n Stencil Client Patch Esm v2.22.3 | MIT Licensed | https://stenciljs.com\n */\nconst patchEsm = () => {\n    return index.promiseResolve();\n};\n\nconst defineCustomElements = (win, options) => {\n  if (typeof window === 'undefined') return Promise.resolve();\n  return patchEsm().then(() => {\n  return index.bootstrapLazy([[\"connect-modal.cjs\",[[1,\"connect-modal\",{\"defaultProviders\":[16],\"installedProviders\":[16],\"persistSelection\":[4,\"persist-selection\"],\"callback\":[16],\"cancelCallback\":[16]}]]]], options);\n  });\n};\n\nexports.setNonce = index.setNonce;\nexports.defineCustomElements = defineCustomElements;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2Rpc3QvY2pzL2xvYWRlci5janMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxjQUFjLG1CQUFPLENBQUMsK0ZBQXFCOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLG1JQUFtSTtBQUMzTSxHQUFHO0FBQ0g7O0FBRUEsZ0JBQWdCO0FBQ2hCLDRCQUE0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2Nvbm5lY3QtdWkvZGlzdC9janMvbG9hZGVyLmNqcy5qcz9lNGJmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuY29uc3QgaW5kZXggPSByZXF1aXJlKCcuL2luZGV4LTNlMzQzN2U5LmpzJyk7XG5cbi8qXG4gU3RlbmNpbCBDbGllbnQgUGF0Y2ggRXNtIHYyLjIyLjMgfCBNSVQgTGljZW5zZWQgfCBodHRwczovL3N0ZW5jaWxqcy5jb21cbiAqL1xuY29uc3QgcGF0Y2hFc20gPSAoKSA9PiB7XG4gICAgcmV0dXJuIGluZGV4LnByb21pc2VSZXNvbHZlKCk7XG59O1xuXG5jb25zdCBkZWZpbmVDdXN0b21FbGVtZW50cyA9ICh3aW4sIG9wdGlvbnMpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHJldHVybiBwYXRjaEVzbSgpLnRoZW4oKCkgPT4ge1xuICByZXR1cm4gaW5kZXguYm9vdHN0cmFwTGF6eShbW1wiY29ubmVjdC1tb2RhbC5janNcIixbWzEsXCJjb25uZWN0LW1vZGFsXCIse1wiZGVmYXVsdFByb3ZpZGVyc1wiOlsxNl0sXCJpbnN0YWxsZWRQcm92aWRlcnNcIjpbMTZdLFwicGVyc2lzdFNlbGVjdGlvblwiOls0LFwicGVyc2lzdC1zZWxlY3Rpb25cIl0sXCJjYWxsYmFja1wiOlsxNl0sXCJjYW5jZWxDYWxsYmFja1wiOlsxNl19XV1dXSwgb3B0aW9ucyk7XG4gIH0pO1xufTtcblxuZXhwb3J0cy5zZXROb25jZSA9IGluZGV4LnNldE5vbmNlO1xuZXhwb3J0cy5kZWZpbmVDdXN0b21FbGVtZW50cyA9IGRlZmluZUN1c3RvbUVsZW1lbnRzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/loader.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/session-7c78eac2.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@stacks/connect-ui/dist/cjs/session-7c78eac2.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\n// AUTO REGISTERED PROVIDERS\nconst getRegisteredProviders = () => {\n  if (typeof window === 'undefined')\n    return [];\n  if (!window.webbtc_stx_providers)\n    return [];\n  return window.webbtc_stx_providers;\n};\nconst getInstalledProviders = (defaultProviders = []) => {\n  if (typeof window === 'undefined')\n    return [];\n  const registeredProviders = getRegisteredProviders();\n  const additionalInstalledProviders = defaultProviders.filter(defaultProvider => {\n    // already registered, don't add again\n    if (registeredProviders.find(rp => rp.id === defaultProvider.id))\n      return false;\n    // check if default provider is installed (even if not registered)\n    const provider = getProviderFromId(defaultProvider.id);\n    return !!provider;\n  });\n  return registeredProviders.concat(additionalInstalledProviders);\n};\nconst getProviderFromId = (id) => {\n  return id === null || id === void 0 ? void 0 : id.split('.').reduce((acc, part) => acc === null || acc === void 0 ? void 0 : acc[part], window);\n};\n\nconst LOCAL_STORAGE_KEY = 'STX_PROVIDER';\nconst getSelectedProviderId = () => {\n  if (typeof window === 'undefined')\n    return null;\n  return window.localStorage.getItem(LOCAL_STORAGE_KEY);\n};\nconst setSelectedProviderId = (provider) => {\n  if (typeof window !== 'undefined') {\n    window.localStorage.setItem(LOCAL_STORAGE_KEY, provider);\n  }\n};\nconst clearSelectedProviderId = () => {\n  if (typeof window !== 'undefined') {\n    window.localStorage.removeItem(LOCAL_STORAGE_KEY);\n  }\n};\n\nexports.clearSelectedProviderId = clearSelectedProviderId;\nexports.getInstalledProviders = getInstalledProviders;\nexports.getProviderFromId = getProviderFromId;\nexports.getRegisteredProviders = getRegisteredProviders;\nexports.getSelectedProviderId = getSelectedProviderId;\nexports.setSelectedProviderId = setSelectedProviderId;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2Rpc3QvY2pzL3Nlc3Npb24tN2M3OGVhYzIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0IsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6Qiw4QkFBOEI7QUFDOUIsNkJBQTZCO0FBQzdCLDZCQUE2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2Nvbm5lY3QtdWkvZGlzdC9janMvc2Vzc2lvbi03Yzc4ZWFjMi5qcz85ZTRiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gQVVUTyBSRUdJU1RFUkVEIFBST1ZJREVSU1xuY29uc3QgZ2V0UmVnaXN0ZXJlZFByb3ZpZGVycyA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKVxuICAgIHJldHVybiBbXTtcbiAgaWYgKCF3aW5kb3cud2ViYnRjX3N0eF9wcm92aWRlcnMpXG4gICAgcmV0dXJuIFtdO1xuICByZXR1cm4gd2luZG93LndlYmJ0Y19zdHhfcHJvdmlkZXJzO1xufTtcbmNvbnN0IGdldEluc3RhbGxlZFByb3ZpZGVycyA9IChkZWZhdWx0UHJvdmlkZXJzID0gW10pID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKVxuICAgIHJldHVybiBbXTtcbiAgY29uc3QgcmVnaXN0ZXJlZFByb3ZpZGVycyA9IGdldFJlZ2lzdGVyZWRQcm92aWRlcnMoKTtcbiAgY29uc3QgYWRkaXRpb25hbEluc3RhbGxlZFByb3ZpZGVycyA9IGRlZmF1bHRQcm92aWRlcnMuZmlsdGVyKGRlZmF1bHRQcm92aWRlciA9PiB7XG4gICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkLCBkb24ndCBhZGQgYWdhaW5cbiAgICBpZiAocmVnaXN0ZXJlZFByb3ZpZGVycy5maW5kKHJwID0+IHJwLmlkID09PSBkZWZhdWx0UHJvdmlkZXIuaWQpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGNoZWNrIGlmIGRlZmF1bHQgcHJvdmlkZXIgaXMgaW5zdGFsbGVkIChldmVuIGlmIG5vdCByZWdpc3RlcmVkKVxuICAgIGNvbnN0IHByb3ZpZGVyID0gZ2V0UHJvdmlkZXJGcm9tSWQoZGVmYXVsdFByb3ZpZGVyLmlkKTtcbiAgICByZXR1cm4gISFwcm92aWRlcjtcbiAgfSk7XG4gIHJldHVybiByZWdpc3RlcmVkUHJvdmlkZXJzLmNvbmNhdChhZGRpdGlvbmFsSW5zdGFsbGVkUHJvdmlkZXJzKTtcbn07XG5jb25zdCBnZXRQcm92aWRlckZyb21JZCA9IChpZCkgPT4ge1xuICByZXR1cm4gaWQgPT09IG51bGwgfHwgaWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlkLnNwbGl0KCcuJykucmVkdWNlKChhY2MsIHBhcnQpID0+IGFjYyA9PT0gbnVsbCB8fCBhY2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFjY1twYXJ0XSwgd2luZG93KTtcbn07XG5cbmNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gJ1NUWF9QUk9WSURFUic7XG5jb25zdCBnZXRTZWxlY3RlZFByb3ZpZGVySWQgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJylcbiAgICByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XG59O1xuY29uc3Qgc2V0U2VsZWN0ZWRQcm92aWRlcklkID0gKHByb3ZpZGVyKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSwgcHJvdmlkZXIpO1xuICB9XG59O1xuY29uc3QgY2xlYXJTZWxlY3RlZFByb3ZpZGVySWQgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XG4gIH1cbn07XG5cbmV4cG9ydHMuY2xlYXJTZWxlY3RlZFByb3ZpZGVySWQgPSBjbGVhclNlbGVjdGVkUHJvdmlkZXJJZDtcbmV4cG9ydHMuZ2V0SW5zdGFsbGVkUHJvdmlkZXJzID0gZ2V0SW5zdGFsbGVkUHJvdmlkZXJzO1xuZXhwb3J0cy5nZXRQcm92aWRlckZyb21JZCA9IGdldFByb3ZpZGVyRnJvbUlkO1xuZXhwb3J0cy5nZXRSZWdpc3RlcmVkUHJvdmlkZXJzID0gZ2V0UmVnaXN0ZXJlZFByb3ZpZGVycztcbmV4cG9ydHMuZ2V0U2VsZWN0ZWRQcm92aWRlcklkID0gZ2V0U2VsZWN0ZWRQcm92aWRlcklkO1xuZXhwb3J0cy5zZXRTZWxlY3RlZFByb3ZpZGVySWQgPSBzZXRTZWxlY3RlZFByb3ZpZGVySWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/session-7c78eac2.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-ui/dist/index.cjs.js":
/*!***********************************************************!*\
  !*** ./node_modules/@stacks/connect-ui/dist/index.cjs.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! ./cjs/index.cjs.js */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/index.cjs.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2Rpc3QvaW5kZXguY2pzLmpzIiwibWFwcGluZ3MiOiJBQUFBLCtIQUE4QyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2Nvbm5lY3QtdWkvZGlzdC9pbmRleC5janMuanM/NzNiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL2luZGV4LmNqcy5qcycpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-ui/dist/index.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect-ui/loader/index.cjs.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stacks/connect-ui/loader/index.cjs.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nmodule.exports = __webpack_require__(/*! ../dist/cjs/loader.cjs.js */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/cjs/loader.cjs.js\");\nmodule.exports.applyPolyfills = function() { return Promise.resolve() };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0LXVpL2xvYWRlci9pbmRleC5janMuanMiLCJtYXBwaW5ncyI6IjtBQUNBLHVJQUFxRDtBQUNyRCw2QkFBNkIsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvY29ubmVjdC11aS9sb2FkZXIvaW5kZXguY2pzLmpzP2ViMWMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL2Rpc3QvY2pzL2xvYWRlci5janMuanMnKTtcbm1vZHVsZS5leHBvcnRzLmFwcGx5UG9seWZpbGxzID0gZnVuY3Rpb24oKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoKSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect-ui/loader/index.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/connect/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/connect/dist/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nvar auth = __webpack_require__(/*! @stacks/auth */ \"(ssr)/./node_modules/@stacks/auth/dist/index.js\");\nvar jsontokens = __webpack_require__(/*! jsontokens */ \"(ssr)/./node_modules/jsontokens/lib/index.js\");\nvar connectUi = __webpack_require__(/*! @stacks/connect-ui */ \"(ssr)/./node_modules/@stacks/connect-ui/dist/index.cjs.js\");\nvar network = __webpack_require__(/*! @stacks/network */ \"(ssr)/./node_modules/@stacks/network/dist/index.js\");\nvar transactions = __webpack_require__(/*! @stacks/transactions */ \"(ssr)/./node_modules/@stacks/transactions/dist/index.js\");\nvar loader = __webpack_require__(/*! @stacks/connect-ui/loader */ \"(ssr)/./node_modules/@stacks/connect-ui/loader/index.cjs.js\");\n\nvar _=Object.defineProperty,$=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var P=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&P(e,n,t[n]);if(j)for(var n of j(t))O.call(t,n)&&P(e,n,t[n]);return e},u=(e,t)=>$(e,J(t));var d=(e,t)=>{var n={};for(var r in e)h.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&j)for(var r of j(e))t.indexOf(r)<0&&O.call(e,r)&&(n[r]=e[r]);return n};function g(){return connectUi.getProviderFromId(connectUi.getSelectedProviderId())||window.StacksProvider||window.BlockstackProvider}function ce(){return !!g()}var de=\"https://app.blockstack.org\";typeof window!=\"undefined\"&&(window.__CONNECT_VERSION__=\"__VERSION__\");var ot=()=>{let e=navigator.userAgent;return /android/i.test(e)||/iPad|iPhone|iPod/.test(e)?!0:/windows phone/i.test(e)},Me=()=>!ot(),E=e=>{if(!e){let t=new auth.AppConfig([\"store_write\"],document.location.href);e=new auth.UserSession({appConfig:t});}return e},k=async(e,t=g())=>{if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");let{redirectTo:n=\"/\",manifestPath:r,onFinish:i,onCancel:o,sendToSignIn:a=!1,userSession:p,appDetails:l}=e,c=E(p);c.isUserSignedIn()&&c.signUserOut();let x=c.generateAndStoreTransitKey(),A=c.makeAuthRequest(x,`${document.location.origin}${n}`,`${document.location.origin}${r}`,c.appConfig.scopes,void 0,void 0,{sendToSignIn:a,appDetails:l,connectVersion:\"__VERSION__\"});try{let I=await t.authenticationRequest(A);await c.handlePendingSignIn(I);let T=jsontokens.decodeToken(I),V=T==null?void 0:T.payload;i==null||i({authResponse:I,authResponsePayload:V,userSession:c});}catch(I){console.error(\"[Connect] Error during auth request\",I),o==null||o();}},Se=async e=>(e=E(e),e.isUserSignedIn()?e.loadUserData():e.isSignInPending()?e.handlePendingSignIn():null);var it=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,\"0\"));function w(e){if(!(e instanceof Uint8Array))throw new Error(\"Uint8Array expected\");let t=\"\";for(let n of e)t+=it[n];return t}function b(e){if(typeof e!=\"string\")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){let i=r*2,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error(\"Invalid byte sequence\");n[r]=a;}return n}var st=(r=>(r.ContractCall=\"contract_call\",r.ContractDeploy=\"smart_contract\",r.STXTransfer=\"token_transfer\",r))(st||{}),at=(o=>(o.BUFFER=\"buffer\",o.UINT=\"uint\",o.INT=\"int\",o.PRINCIPAL=\"principal\",o.BOOL=\"bool\",o))(at||{});var y=e=>{let t=e;if(!t){let n=new auth.AppConfig([\"store_write\"],document.location.href);t=new auth.UserSession({appConfig:n});}return t};function M(e){try{return y(e).loadUserData().appPrivateKey}catch(t){return !1}}var S=e=>{let n=y(e).loadUserData().appPrivateKey,r=jsontokens.SECP256K1Client.derivePublicKey(n);return {privateKey:n,publicKey:r}};function ft(e){var p;let{stxAddress:t,userSession:n,network:r}=e;if(t)return t;if(!n||!r)return;let i=(p=n==null?void 0:n.loadUserData().profile)==null?void 0:p.stxAddress,o={[transactions.ChainID.Mainnet]:\"mainnet\",[transactions.ChainID.Testnet]:\"testnet\"};return i==null?void 0:i[o[r.chainId]]}function xt(e){let t=e.network||new network.StacksTestnet,n=y(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({stxAddress:ft(r)},r)}function z(e){return e.map(t=>w(transactions.serializePostCondition(t)))}async function L(e,t){let{postConditions:n}=e;return n&&typeof n[0]!=\"string\"&&(n=z(n)),new jsontokens.TokenSigner(\"ES256k\",t).signAsync(u(s({},e),{postConditions:n}))}function C(e){let{postConditions:t}=e;return t&&typeof t[0]!=\"string\"&&(t=z(t)),jsontokens.createUnsecuredToken(u(s({},e),{postConditions:t}))}var It=async({token:e,options:t},n)=>{var r,i,o;try{let a=await n.transactionRequest(e),{txRaw:p}=a,l=b(p.replace(/^0x/,\"\")),c=transactions.deserializeTransaction(l);if(\"sponsored\"in t&&t.sponsored){(r=t.onFinish)==null||r.call(t,u(s({},a),{stacksTransaction:c}));return}(i=t.onFinish)==null||i.call(t,u(s({},a),{stacksTransaction:c}));}catch(a){console.error(\"[Connect] Error during transaction request\",a),(o=t.onCancel)==null||o.call(t);}},Dt=async e=>{let p=e,{functionArgs:t,appDetails:n,userSession:r}=p,i=d(p,[\"functionArgs\",\"appDetails\",\"userSession\"]),o=t.map(l=>typeof l==\"string\"?l:w(transactions.serializeCV(l)));if(M(r)){let{privateKey:l,publicKey:c}=S(r),x=u(s({},i),{functionArgs:o,txType:\"contract_call\",publicKey:c});return n&&(x.appDetails=n),L(x,l)}let a=u(s({},i),{functionArgs:o,txType:\"contract_call\"});return n&&(a.appDetails=n),C(a)},Tt=async e=>{let o=e,{appDetails:t,userSession:n}=o,r=d(o,[\"appDetails\",\"userSession\"]);if(M(n)){let{privateKey:a,publicKey:p}=S(n),l=u(s({},r),{publicKey:p,txType:\"smart_contract\"});return t&&(l.appDetails=t),L(l,a)}let i=u(s({},r),{txType:\"smart_contract\"});return t&&(i.appDetails=t),C(i)},wt=async e=>{let a=e,{amount:t,appDetails:n,userSession:r}=a,i=d(a,[\"amount\",\"appDetails\",\"userSession\"]);if(M(r)){let{privateKey:p,publicKey:l}=S(r),c=u(s({},i),{amount:t.toString(10),publicKey:l,txType:\"token_transfer\"});return n&&(c.appDetails=n),L(c,p)}let o=u(s({},i),{amount:t.toString(10),txType:\"token_transfer\"});return n&&(o.appDetails=n),C(o)},At=async e=>{let a=e,{txHex:t,appDetails:n,userSession:r}=a,i=d(a,[\"txHex\",\"appDetails\",\"userSession\"]);if(M(r)){let{privateKey:p,publicKey:l}=S(r),c=u(s({},i),{txHex:t,publicKey:l});return n&&(c.appDetails=n),L(c,p)}let o=u(s({},i),{txHex:t});return n&&(o.appDetails=n),C(o)};async function N(e,t,n){let r=await t(s(s({},xt(e)),e));return It({token:r,options:e},n)}function v(e,t=g()){if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");return N(e,Dt,t)}function R(e,t=g()){if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");return N(e,Tt,t)}function B(e,t=g()){if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");return N(e,wt,t)}function Y(e,t=g()){if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");return N(e,At,t)}async function Nt(e,t){return new jsontokens.TokenSigner(\"ES256k\",t).signAsync(s({},e))}function mt(e){let t=e.network||new network.StacksTestnet,n=y(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({},r)}async function Pt({token:e,options:t},n){var r,i;if(!n)throw new Error(\"[Connect] No installed Stacks wallet found\");try{let o=await n.psbtRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error(\"[Connect] Error during psbt request\",o),(i=t.onCancel)==null||i.call(t);}}var ht=async e=>{let p=e,{allowedSighash:t,hex:n,signAtIndex:r,userSession:i}=p,o=d(p,[\"allowedSighash\",\"hex\",\"signAtIndex\",\"userSession\"]);if(M(i)){let{privateKey:l,publicKey:c}=S(i),x=u(s({},o),{allowedSighash:t,hex:n,signAtIndex:r,publicKey:c});return Nt(x,l)}let a=s({},o);return jsontokens.createUnsecuredToken(a)};async function Ot(e,t,n){let r=await t(s(s({},mt(e)),e));return Pt({token:r,options:e},n)}function Q(e,t=g()){return Ot(e,ht,t)}function Ut(e){var a;let{userSession:t,network:n}=e;if(!t||!n)return;let r=(a=t==null?void 0:t.loadUserData().profile)==null?void 0:a.stxAddress,i={[transactions.ChainID.Mainnet]:\"mainnet\",[transactions.ChainID.Testnet]:\"testnet\"};return r==null?void 0:r[i[n.chainId]]}async function zt(e,t){return new jsontokens.TokenSigner(\"ES256k\",t).signAsync(s({},e))}function m(e){let t=e.network||new network.StacksTestnet,n=y(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({stxAddress:Ut(r)},r)}async function vt({token:e,options:t},n){var r,i;try{let o=await n.signatureRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error(\"[Connect] Error during signature request\",o),(i=t.onCancel)==null||i.call(t);}}var Rt=async e=>{let i=e,{userSession:t}=i,n=d(i,[\"userSession\"]);if(M(t)){let{privateKey:o,publicKey:a}=S(t),p=u(s({},n),{publicKey:a});return zt(p,o)}let r=s({},n);return jsontokens.createUnsecuredToken(r)};async function Bt(e,t,n){let r=await t(s(s({},m(e)),e));return vt({token:r,options:e},n)}function q(e,t=g()){if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");return Bt(e,Rt,t)}async function Gt(e,t,n){let r=await t(s(s({},m(e)),e));return Zt({token:r,options:e},n)}function Z(e){return u(s({},e),{message:w(transactions.serializeCV(e.message)),domain:w(transactions.serializeCV(e.domain))})}async function qt(e,t){return new jsontokens.TokenSigner(\"ES256k\",t).signAsync(Z(e))}async function Ft(e){let r=e,{userSession:t}=r,n=d(r,[\"userSession\"]);if(M(t)){let{privateKey:i,publicKey:o}=S(t),a=u(s({},n),{publicKey:o});return qt(a,i)}return jsontokens.createUnsecuredToken(Z(e))}async function Zt({token:e,options:t},n){var r,i;try{let o=await n.structuredDataSignatureRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error(\"[Connect] Error during signature request\",o),(i=t.onCancel)==null||i.call(t);}}function W(e,t=g()){if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");return Gt(e,Ft,t)}async function Vt(e,t){return new jsontokens.TokenSigner(\"ES256k\",t).signAsync(s({},e))}function _t(e){let t=e.network||new network.StacksTestnet,n=y(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({},r)}async function $t({token:e,options:t},n){var r,i;try{let o=await n.profileUpdateRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error(\"[Connect] Error during signature request\",o),(i=t.onCancel)==null||i.call(t);}}var Jt=async e=>{let o=e,{userSession:t,profile:n}=o,r=d(o,[\"userSession\",\"profile\"]);if(M(t)){let{privateKey:a,publicKey:p}=S(t),l=u(s({},r),{profile:n,publicKey:p});return Vt(l,a)}let i=s({},r);return jsontokens.createUnsecuredToken(i)};async function Ht(e,t,n){let r=await t(s(s({},_t(e)),e));return $t({token:r,options:e},n)}function X(e,t=g()){if(!t)throw new Error(\"[Connect] No installed Stacks wallet found\");return Ht(e,Jt,t)}var te=(o=>(o[o.DEFAULT=0]=\"DEFAULT\",o[o.ALL=1]=\"ALL\",o[o.NONE=2]=\"NONE\",o[o.SINGLE=3]=\"SINGLE\",o[o.ANYONECANPAY=128]=\"ANYONECANPAY\",o))(te||{});var K=[{id:\"LeatherProvider\",name:\"Leather\",icon:\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=\",webUrl:\"https://leather.io\",chromeWebStoreUrl:\"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj\",mozillaAddOnsUrl:\"https://leather.io/install-extension\"},{id:\"XverseProviders.StacksProvider\",name:\"Xverse Wallet\",icon:\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==\",webUrl:\"https://xverse.app\",chromeWebStoreUrl:\"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg\",googlePlayStoreUrl:\"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse\",iOSAppStoreUrl:\"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513\",mozillaAddOnsUrl:\"https://www.xverse.app/download\"},{id:\"AsignaProvider\",name:\"Asigna\",icon:\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==\",webUrl:\"https://asigna.io\",chromeWebStoreUrl:\"https://chromewebstore.google.com/detail/asigna-multisig/gopddoinbenlokghakiafackadkbnlid\"}];function f(e,t=!0){return function(r,i){var T;if(i)return e(r,i);let o=connectUi.getSelectedProviderId(),a=g();if(o&&a)return e(r,a);if(typeof window==\"undefined\")return;loader.defineCustomElements(window);let p=(T=r==null?void 0:r.defaultProviders)!=null?T:K,l=connectUi.getInstalledProviders(p),c=document.createElement(\"connect-modal\");c.defaultProviders=p,c.installedProviders=l,c.persistSelection=t;let x=document.body.style.overflow;document.body.style.overflow=\"hidden\";let A=()=>{c.remove(),document.body.style.overflow=x;};c.callback=D=>{A(),e(r,D);},c.cancelCallback=()=>{var D;A(),(D=r.onCancel)==null||D.call(r);},document.body.appendChild(c);let I=D=>{D.key===\"Escape\"&&(document.removeEventListener(\"keydown\",I),c.remove());};document.addEventListener(\"keydown\",I);}}var ie=f(k,!1),xn=f(B),In=f(v),Dn=f(R),Tn=f(Y),wn=f(Q),An=f(X),jn=f(q),Ln=f(W),Cn=connectUi.clearSelectedProviderId,Nn=ie;\n\nObject.defineProperty(exports, \"clearSelectedProviderId\", ({\n\tenumerable: true,\n\tget: function () { return connectUi.clearSelectedProviderId; }\n}));\nObject.defineProperty(exports, \"getSelectedProviderId\", ({\n\tenumerable: true,\n\tget: function () { return connectUi.getSelectedProviderId; }\n}));\nObject.defineProperty(exports, \"setSelectedProviderId\", ({\n\tenumerable: true,\n\tget: function () { return connectUi.setSelectedProviderId; }\n}));\nexports.ContractCallArgumentType = at;\nexports.DEFAULT_PROVIDERS = K;\nexports.SignatureHash = te;\nexports.TransactionTypes = st;\nexports.authenticate = k;\nexports.defaultAuthURL = de;\nexports.disconnect = Cn;\nexports.getDefaultProfileUpdateRequestOptions = _t;\nexports.getDefaultPsbtRequestOptions = mt;\nexports.getDefaultSignatureRequestOptions = m;\nexports.getKeys = S;\nexports.getOrCreateUserSession = E;\nexports.getStacksProvider = g;\nexports.getStxAddress = ft;\nexports.getUserData = Se;\nexports.getUserSession = y;\nexports.hasAppPrivateKey = M;\nexports.isMobile = ot;\nexports.isStacksWalletInstalled = ce;\nexports.makeContractCallToken = Dt;\nexports.makeContractDeployToken = Tt;\nexports.makeProfileUpdateToken = Jt;\nexports.makePsbtToken = ht;\nexports.makeSTXTransferToken = wt;\nexports.makeSignTransaction = At;\nexports.openContractCall = v;\nexports.openContractDeploy = R;\nexports.openProfileUpdateRequestPopup = X;\nexports.openPsbtRequestPopup = Q;\nexports.openSTXTransfer = B;\nexports.openSignTransaction = Y;\nexports.openSignatureRequestPopup = q;\nexports.openStructuredDataSignatureRequestPopup = W;\nexports.shouldUsePopup = Me;\nexports.showBlockstackConnect = Nn;\nexports.showConnect = ie;\nexports.showContractCall = In;\nexports.showContractDeploy = Dn;\nexports.showProfileUpdate = An;\nexports.showPsbt = wn;\nexports.showSTXTransfer = xn;\nexports.showSignMessage = jn;\nexports.showSignStructuredMessage = Ln;\nexports.showSignTransaction = Tn;\nexports.signMessage = Rt;\nexports.signStructuredMessage = Ft;\nObject.keys(auth).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return auth[k]; }\n\t});\n});\n//# sourceMappingURL=out.js.map\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9jb25uZWN0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsV0FBVyxtQkFBTyxDQUFDLHFFQUFjO0FBQ2pDLGlCQUFpQixtQkFBTyxDQUFDLGdFQUFZO0FBQ3JDLGdCQUFnQixtQkFBTyxDQUFDLHFGQUFvQjtBQUM1QyxjQUFjLG1CQUFPLENBQUMsMkVBQWlCO0FBQ3ZDLG1CQUFtQixtQkFBTyxDQUFDLHFGQUFzQjtBQUNqRCxhQUFhLG1CQUFPLENBQUMsOEZBQTJCOztBQUVoRCxzREFBc0QsdUNBQXVDLG1DQUFtQyw4RUFBOEUsNkJBQTZCLGtEQUFrRCxtQkFBbUIscUJBQXFCLDJCQUEyQixnREFBZ0QsU0FBUyxvQkFBb0IsY0FBYyxTQUFTLHdEQUF3RCx5RUFBeUUsVUFBVSxhQUFhLHdIQUF3SCxjQUFjLGFBQWEsb0NBQW9DLHVFQUF1RSxZQUFZLDBCQUEwQixrRkFBa0Ysb0JBQW9CLE9BQU8saUVBQWlFLHdCQUF3QixZQUFZLEdBQUcsU0FBUyxvQkFBb0Isb0VBQW9FLElBQUksbUdBQW1HLFVBQVUsb0NBQW9DLDhEQUE4RCx5QkFBeUIsRUFBRSxFQUFFLEtBQUsseUJBQXlCLEVBQUUsRUFBRSxvQ0FBb0MseURBQXlELEVBQUUsSUFBSSx1Q0FBdUMsK0JBQStCLDJEQUEyRCxZQUFZLG1EQUFtRCxHQUFHLFNBQVMsc0VBQXNFLDJHQUEyRyxtQkFBbUIsV0FBVyx3Q0FBd0MsY0FBYyxxRUFBcUUsU0FBUyx3QkFBd0IsU0FBUyxjQUFjLDhFQUE4RSxTQUFTLEdBQUcscUJBQXFCLEVBQUUsaUNBQWlDLFlBQVksV0FBVyxLQUFLLG1EQUFtRCxpRUFBaUUsUUFBUSxTQUFTLHNIQUFzSCxzR0FBc0csRUFBRSxVQUFVLFFBQVEsT0FBTyxpRUFBaUUsd0JBQXdCLFlBQVksR0FBRyxVQUFVLGNBQWMsSUFBSSx5Q0FBeUMsU0FBUyxXQUFXLFVBQVUsd0ZBQXdGLFFBQVEsMkJBQTJCLGVBQWUsTUFBTSxJQUFJLHFDQUFxQyxHQUFHLGNBQWMsaUJBQWlCLCtFQUErRSxtRkFBbUYsc0NBQXNDLGVBQWUsc0VBQXNFLEtBQUssd0JBQXdCLEVBQUUsVUFBVSxpQkFBaUIsSUFBSSxjQUFjLDJEQUEyRCxzQkFBc0IsSUFBSSxpQkFBaUIsR0FBRyxpR0FBaUcsS0FBSyxpQkFBaUIsR0FBRyxjQUFjLElBQUksaUJBQWlCLEdBQUcsZ0ZBQWdGLEtBQUssaUJBQWlCLEdBQUcsY0FBYyxrQkFBa0IsTUFBTSxVQUFVLElBQUkscUNBQXFDLFFBQVEscUVBQXFFLGlDQUFpQyxxQ0FBcUMsS0FBSyxvQkFBb0IsR0FBRyxPQUFPLHFDQUFxQyxLQUFLLG9CQUFvQixJQUFJLFNBQVMsZ0dBQWdHLGNBQWMsU0FBUywwQ0FBMEMsc0hBQXNILFNBQVMsSUFBSSx5QkFBeUIsY0FBYyxLQUFLLGtEQUFrRCxFQUFFLGtDQUFrQyxZQUFZLEtBQUssc0NBQXNDLEVBQUUsZ0NBQWdDLGNBQWMsU0FBUywyQkFBMkIsdUNBQXVDLFNBQVMsSUFBSSx5QkFBeUIsY0FBYyxLQUFLLG9DQUFvQyxFQUFFLGtDQUFrQyxZQUFZLEtBQUssd0JBQXdCLEVBQUUsZ0NBQWdDLGNBQWMsU0FBUyxvQ0FBb0MsZ0RBQWdELFNBQVMsSUFBSSx5QkFBeUIsY0FBYyxLQUFLLDBEQUEwRCxFQUFFLGtDQUFrQyxZQUFZLEtBQUssOENBQThDLEVBQUUsZ0NBQWdDLGNBQWMsU0FBUyxtQ0FBbUMsK0NBQStDLFNBQVMsSUFBSSx5QkFBeUIsY0FBYyxLQUFLLG9CQUFvQixFQUFFLGtDQUFrQyxZQUFZLEtBQUssUUFBUSxFQUFFLGlDQUFpQyx3QkFBd0Isb0JBQW9CLFlBQVksV0FBVyxrQkFBa0IsSUFBSSxvQkFBb0Isb0VBQW9FLGlCQUFpQixvQkFBb0Isb0VBQW9FLGlCQUFpQixvQkFBb0Isb0VBQW9FLGlCQUFpQixvQkFBb0Isb0VBQW9FLGlCQUFpQix1QkFBdUIsNERBQTRELEtBQUssZUFBZSxzRUFBc0UsS0FBSyx3QkFBd0IsRUFBRSxXQUFXLElBQUksbUJBQW1CLGtCQUFrQixJQUFJLFFBQVEsb0VBQW9FLElBQUksNkJBQTZCLG1DQUFtQyxTQUFTLHlGQUF5RixpQkFBaUIsU0FBUyxtREFBbUQsK0RBQStELFNBQVMsSUFBSSx5QkFBeUIsY0FBYyxLQUFLLGlEQUFpRCxFQUFFLGVBQWUsVUFBVSxJQUFJLDJDQUEyQyx5QkFBeUIsb0JBQW9CLFlBQVksV0FBVyxrQkFBa0IsSUFBSSxvQkFBb0Isa0JBQWtCLGVBQWUsTUFBTSxJQUFJLHdCQUF3QixHQUFHLGlCQUFpQiwrRUFBK0UsbUZBQW1GLHNDQUFzQyx1QkFBdUIsNERBQTRELEtBQUssY0FBYyxzRUFBc0UsS0FBSyx3QkFBd0IsRUFBRSxVQUFVLGlCQUFpQixJQUFJLG1CQUFtQixrQkFBa0IsSUFBSSxRQUFRLElBQUksa0NBQWtDLG1DQUFtQyxTQUFTLDhGQUE4RixpQkFBaUIsU0FBUyxjQUFjLDBCQUEwQixTQUFTLElBQUkseUJBQXlCLGNBQWMsS0FBSyxZQUFZLEVBQUUsZUFBZSxVQUFVLElBQUksMkNBQTJDLHlCQUF5QixvQkFBb0IsV0FBVyxXQUFXLGtCQUFrQixJQUFJLG9CQUFvQixvRUFBb0Usa0JBQWtCLHlCQUF5QixvQkFBb0IsV0FBVyxXQUFXLGtCQUFrQixJQUFJLGNBQWMsYUFBYSxLQUFLLDRGQUE0RixFQUFFLHVCQUF1Qiw4REFBOEQscUJBQXFCLFNBQVMsY0FBYywwQkFBMEIsU0FBUyxJQUFJLHlCQUF5QixjQUFjLEtBQUssWUFBWSxFQUFFLGVBQWUsNkNBQTZDLG1CQUFtQixrQkFBa0IsSUFBSSxRQUFRLElBQUksZ0RBQWdELG1DQUFtQyxTQUFTLDhGQUE4RixvQkFBb0Isb0VBQW9FLGtCQUFrQix1QkFBdUIsNERBQTRELEtBQUssZUFBZSxzRUFBc0UsS0FBSyx3QkFBd0IsRUFBRSxXQUFXLElBQUksbUJBQW1CLGtCQUFrQixJQUFJLFFBQVEsSUFBSSxzQ0FBc0MsbUNBQW1DLFNBQVMsOEZBQThGLGlCQUFpQixTQUFTLHdCQUF3QixvQ0FBb0MsU0FBUyxJQUFJLHlCQUF5QixjQUFjLEtBQUssc0JBQXNCLEVBQUUsZUFBZSxVQUFVLElBQUksMkNBQTJDLHlCQUF5QixvQkFBb0IsWUFBWSxXQUFXLGtCQUFrQixJQUFJLG9CQUFvQixvRUFBb0Usa0JBQWtCLCtJQUErSSxFQUFFLFFBQVEsNkRBQTZELGdvREFBZ29ELEVBQUUsa0ZBQWtGLHEyQ0FBcTJDLEVBQUUsMkRBQTJELGtnSUFBa2dJLEVBQUUsbUJBQW1CLHFCQUFxQixNQUFNLG1CQUFtQiw4Q0FBOEMsc0JBQXNCLHFDQUFxQyxvQ0FBb0MscUlBQXFJLGlFQUFpRSxtQ0FBbUMsc0NBQXNDLFdBQVcsNENBQTRDLGVBQWUsWUFBWSx1QkFBdUIsTUFBTSxxQ0FBcUMsOEJBQThCLFVBQVUsMkVBQTJFLHlDQUF5Qzs7QUFFeDFqQiwyREFBMEQ7QUFDMUQ7QUFDQSxvQkFBb0I7QUFDcEIsQ0FBQyxFQUFDO0FBQ0YseURBQXdEO0FBQ3hEO0FBQ0Esb0JBQW9CO0FBQ3BCLENBQUMsRUFBQztBQUNGLHlEQUF3RDtBQUN4RDtBQUNBLG9CQUFvQjtBQUNwQixDQUFDLEVBQUM7QUFDRixnQ0FBZ0M7QUFDaEMseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQix3QkFBd0I7QUFDeEIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixrQkFBa0I7QUFDbEIsNkNBQTZDO0FBQzdDLG9DQUFvQztBQUNwQyx5Q0FBeUM7QUFDekMsZUFBZTtBQUNmLDhCQUE4QjtBQUM5Qix5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEIsd0JBQXdCO0FBQ3hCLGdCQUFnQjtBQUNoQiwrQkFBK0I7QUFDL0IsNkJBQTZCO0FBQzdCLCtCQUErQjtBQUMvQiw4QkFBOEI7QUFDOUIscUJBQXFCO0FBQ3JCLDRCQUE0QjtBQUM1QiwyQkFBMkI7QUFDM0Isd0JBQXdCO0FBQ3hCLDBCQUEwQjtBQUMxQixxQ0FBcUM7QUFDckMsNEJBQTRCO0FBQzVCLHVCQUF1QjtBQUN2QiwyQkFBMkI7QUFDM0IsaUNBQWlDO0FBQ2pDLCtDQUErQztBQUMvQyxzQkFBc0I7QUFDdEIsNkJBQTZCO0FBQzdCLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIsMEJBQTBCO0FBQzFCLHlCQUF5QjtBQUN6QixnQkFBZ0I7QUFDaEIsdUJBQXVCO0FBQ3ZCLHVCQUF1QjtBQUN2QixpQ0FBaUM7QUFDakMsMkJBQTJCO0FBQzNCLG1CQUFtQjtBQUNuQiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLEVBQUU7QUFDRixDQUFDO0FBQ0Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2Nvbm5lY3QvZGlzdC9pbmRleC5qcz8yYzM3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGF1dGggPSByZXF1aXJlKCdAc3RhY2tzL2F1dGgnKTtcbnZhciBqc29udG9rZW5zID0gcmVxdWlyZSgnanNvbnRva2VucycpO1xudmFyIGNvbm5lY3RVaSA9IHJlcXVpcmUoJ0BzdGFja3MvY29ubmVjdC11aScpO1xudmFyIG5ldHdvcmsgPSByZXF1aXJlKCdAc3RhY2tzL25ldHdvcmsnKTtcbnZhciB0cmFuc2FjdGlvbnMgPSByZXF1aXJlKCdAc3RhY2tzL3RyYW5zYWN0aW9ucycpO1xudmFyIGxvYWRlciA9IHJlcXVpcmUoJ0BzdGFja3MvY29ubmVjdC11aS9sb2FkZXInKTtcblxudmFyIF89T2JqZWN0LmRlZmluZVByb3BlcnR5LCQ9T2JqZWN0LmRlZmluZVByb3BlcnRpZXM7dmFyIEo9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIGo9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt2YXIgaD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgUD0oZSx0LG4pPT50IGluIGU/XyhlLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTplW3RdPW4scz0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0fHwodD17fSkpaC5jYWxsKHQsbikmJlAoZSxuLHRbbl0pO2lmKGopZm9yKHZhciBuIG9mIGoodCkpTy5jYWxsKHQsbikmJlAoZSxuLHRbbl0pO3JldHVybiBlfSx1PShlLHQpPT4kKGUsSih0KSk7dmFyIGQ9KGUsdCk9Pnt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSloLmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKGUhPW51bGwmJmopZm9yKHZhciByIG9mIGooZSkpdC5pbmRleE9mKHIpPDAmJk8uY2FsbChlLHIpJiYobltyXT1lW3JdKTtyZXR1cm4gbn07ZnVuY3Rpb24gZygpe3JldHVybiBjb25uZWN0VWkuZ2V0UHJvdmlkZXJGcm9tSWQoY29ubmVjdFVpLmdldFNlbGVjdGVkUHJvdmlkZXJJZCgpKXx8d2luZG93LlN0YWNrc1Byb3ZpZGVyfHx3aW5kb3cuQmxvY2tzdGFja1Byb3ZpZGVyfWZ1bmN0aW9uIGNlKCl7cmV0dXJuICEhZygpfXZhciBkZT1cImh0dHBzOi8vYXBwLmJsb2Nrc3RhY2sub3JnXCI7dHlwZW9mIHdpbmRvdyE9XCJ1bmRlZmluZWRcIiYmKHdpbmRvdy5fX0NPTk5FQ1RfVkVSU0lPTl9fPVwiX19WRVJTSU9OX19cIik7dmFyIG90PSgpPT57bGV0IGU9bmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gL2FuZHJvaWQvaS50ZXN0KGUpfHwvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChlKT8hMDovd2luZG93cyBwaG9uZS9pLnRlc3QoZSl9LE1lPSgpPT4hb3QoKSxFPWU9PntpZighZSl7bGV0IHQ9bmV3IGF1dGguQXBwQ29uZmlnKFtcInN0b3JlX3dyaXRlXCJdLGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpO2U9bmV3IGF1dGguVXNlclNlc3Npb24oe2FwcENvbmZpZzp0fSk7fXJldHVybiBlfSxrPWFzeW5jKGUsdD1nKCkpPT57aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiW0Nvbm5lY3RdIE5vIGluc3RhbGxlZCBTdGFja3Mgd2FsbGV0IGZvdW5kXCIpO2xldHtyZWRpcmVjdFRvOm49XCIvXCIsbWFuaWZlc3RQYXRoOnIsb25GaW5pc2g6aSxvbkNhbmNlbDpvLHNlbmRUb1NpZ25JbjphPSExLHVzZXJTZXNzaW9uOnAsYXBwRGV0YWlsczpsfT1lLGM9RShwKTtjLmlzVXNlclNpZ25lZEluKCkmJmMuc2lnblVzZXJPdXQoKTtsZXQgeD1jLmdlbmVyYXRlQW5kU3RvcmVUcmFuc2l0S2V5KCksQT1jLm1ha2VBdXRoUmVxdWVzdCh4LGAke2RvY3VtZW50LmxvY2F0aW9uLm9yaWdpbn0ke259YCxgJHtkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW59JHtyfWAsYy5hcHBDb25maWcuc2NvcGVzLHZvaWQgMCx2b2lkIDAse3NlbmRUb1NpZ25JbjphLGFwcERldGFpbHM6bCxjb25uZWN0VmVyc2lvbjpcIl9fVkVSU0lPTl9fXCJ9KTt0cnl7bGV0IEk9YXdhaXQgdC5hdXRoZW50aWNhdGlvblJlcXVlc3QoQSk7YXdhaXQgYy5oYW5kbGVQZW5kaW5nU2lnbkluKEkpO2xldCBUPWpzb250b2tlbnMuZGVjb2RlVG9rZW4oSSksVj1UPT1udWxsP3ZvaWQgMDpULnBheWxvYWQ7aT09bnVsbHx8aSh7YXV0aFJlc3BvbnNlOkksYXV0aFJlc3BvbnNlUGF5bG9hZDpWLHVzZXJTZXNzaW9uOmN9KTt9Y2F0Y2goSSl7Y29uc29sZS5lcnJvcihcIltDb25uZWN0XSBFcnJvciBkdXJpbmcgYXV0aCByZXF1ZXN0XCIsSSksbz09bnVsbHx8bygpO319LFNlPWFzeW5jIGU9PihlPUUoZSksZS5pc1VzZXJTaWduZWRJbigpP2UubG9hZFVzZXJEYXRhKCk6ZS5pc1NpZ25JblBlbmRpbmcoKT9lLmhhbmRsZVBlbmRpbmdTaWduSW4oKTpudWxsKTt2YXIgaXQ9QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKGUsdCk9PnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKTtmdW5jdGlvbiB3KGUpe2lmKCEoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIik7bGV0IHQ9XCJcIjtmb3IobGV0IG4gb2YgZSl0Kz1pdFtuXTtyZXR1cm4gdH1mdW5jdGlvbiBiKGUpe2lmKHR5cGVvZiBlIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoYGhleFRvQnl0ZXM6IGV4cGVjdGVkIHN0cmluZywgZ290ICR7dHlwZW9mIGV9YCk7bGV0IHQ9ZS5sZW5ndGglMj9gMCR7ZX1gOmUsbj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aC8yKTtmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7bGV0IGk9cioyLG89dC5zbGljZShpLGkrMiksYT1OdW1iZXIucGFyc2VJbnQobywxNik7aWYoTnVtYmVyLmlzTmFOKGEpfHxhPDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBieXRlIHNlcXVlbmNlXCIpO25bcl09YTt9cmV0dXJuIG59dmFyIHN0PShyPT4oci5Db250cmFjdENhbGw9XCJjb250cmFjdF9jYWxsXCIsci5Db250cmFjdERlcGxveT1cInNtYXJ0X2NvbnRyYWN0XCIsci5TVFhUcmFuc2Zlcj1cInRva2VuX3RyYW5zZmVyXCIscikpKHN0fHx7fSksYXQ9KG89PihvLkJVRkZFUj1cImJ1ZmZlclwiLG8uVUlOVD1cInVpbnRcIixvLklOVD1cImludFwiLG8uUFJJTkNJUEFMPVwicHJpbmNpcGFsXCIsby5CT09MPVwiYm9vbFwiLG8pKShhdHx8e30pO3ZhciB5PWU9PntsZXQgdD1lO2lmKCF0KXtsZXQgbj1uZXcgYXV0aC5BcHBDb25maWcoW1wic3RvcmVfd3JpdGVcIl0sZG9jdW1lbnQubG9jYXRpb24uaHJlZik7dD1uZXcgYXV0aC5Vc2VyU2Vzc2lvbih7YXBwQ29uZmlnOm59KTt9cmV0dXJuIHR9O2Z1bmN0aW9uIE0oZSl7dHJ5e3JldHVybiB5KGUpLmxvYWRVc2VyRGF0YSgpLmFwcFByaXZhdGVLZXl9Y2F0Y2godCl7cmV0dXJuICExfX12YXIgUz1lPT57bGV0IG49eShlKS5sb2FkVXNlckRhdGEoKS5hcHBQcml2YXRlS2V5LHI9anNvbnRva2Vucy5TRUNQMjU2SzFDbGllbnQuZGVyaXZlUHVibGljS2V5KG4pO3JldHVybiB7cHJpdmF0ZUtleTpuLHB1YmxpY0tleTpyfX07ZnVuY3Rpb24gZnQoZSl7dmFyIHA7bGV0e3N0eEFkZHJlc3M6dCx1c2VyU2Vzc2lvbjpuLG5ldHdvcms6cn09ZTtpZih0KXJldHVybiB0O2lmKCFufHwhcilyZXR1cm47bGV0IGk9KHA9bj09bnVsbD92b2lkIDA6bi5sb2FkVXNlckRhdGEoKS5wcm9maWxlKT09bnVsbD92b2lkIDA6cC5zdHhBZGRyZXNzLG89e1t0cmFuc2FjdGlvbnMuQ2hhaW5JRC5NYWlubmV0XTpcIm1haW5uZXRcIixbdHJhbnNhY3Rpb25zLkNoYWluSUQuVGVzdG5ldF06XCJ0ZXN0bmV0XCJ9O3JldHVybiBpPT1udWxsP3ZvaWQgMDppW29bci5jaGFpbklkXV19ZnVuY3Rpb24geHQoZSl7bGV0IHQ9ZS5uZXR3b3JrfHxuZXcgbmV0d29yay5TdGFja3NUZXN0bmV0LG49eShlLnVzZXJTZXNzaW9uKSxyPXUocyh7fSxlKSx7bmV0d29yazp0LHVzZXJTZXNzaW9uOm59KTtyZXR1cm4gcyh7c3R4QWRkcmVzczpmdChyKX0scil9ZnVuY3Rpb24geihlKXtyZXR1cm4gZS5tYXAodD0+dyh0cmFuc2FjdGlvbnMuc2VyaWFsaXplUG9zdENvbmRpdGlvbih0KSkpfWFzeW5jIGZ1bmN0aW9uIEwoZSx0KXtsZXR7cG9zdENvbmRpdGlvbnM6bn09ZTtyZXR1cm4gbiYmdHlwZW9mIG5bMF0hPVwic3RyaW5nXCImJihuPXoobikpLG5ldyBqc29udG9rZW5zLlRva2VuU2lnbmVyKFwiRVMyNTZrXCIsdCkuc2lnbkFzeW5jKHUocyh7fSxlKSx7cG9zdENvbmRpdGlvbnM6bn0pKX1mdW5jdGlvbiBDKGUpe2xldHtwb3N0Q29uZGl0aW9uczp0fT1lO3JldHVybiB0JiZ0eXBlb2YgdFswXSE9XCJzdHJpbmdcIiYmKHQ9eih0KSksanNvbnRva2Vucy5jcmVhdGVVbnNlY3VyZWRUb2tlbih1KHMoe30sZSkse3Bvc3RDb25kaXRpb25zOnR9KSl9dmFyIEl0PWFzeW5jKHt0b2tlbjplLG9wdGlvbnM6dH0sbik9Pnt2YXIgcixpLG87dHJ5e2xldCBhPWF3YWl0IG4udHJhbnNhY3Rpb25SZXF1ZXN0KGUpLHt0eFJhdzpwfT1hLGw9YihwLnJlcGxhY2UoL14weC8sXCJcIikpLGM9dHJhbnNhY3Rpb25zLmRlc2VyaWFsaXplVHJhbnNhY3Rpb24obCk7aWYoXCJzcG9uc29yZWRcImluIHQmJnQuc3BvbnNvcmVkKXsocj10Lm9uRmluaXNoKT09bnVsbHx8ci5jYWxsKHQsdShzKHt9LGEpLHtzdGFja3NUcmFuc2FjdGlvbjpjfSkpO3JldHVybn0oaT10Lm9uRmluaXNoKT09bnVsbHx8aS5jYWxsKHQsdShzKHt9LGEpLHtzdGFja3NUcmFuc2FjdGlvbjpjfSkpO31jYXRjaChhKXtjb25zb2xlLmVycm9yKFwiW0Nvbm5lY3RdIEVycm9yIGR1cmluZyB0cmFuc2FjdGlvbiByZXF1ZXN0XCIsYSksKG89dC5vbkNhbmNlbCk9PW51bGx8fG8uY2FsbCh0KTt9fSxEdD1hc3luYyBlPT57bGV0IHA9ZSx7ZnVuY3Rpb25BcmdzOnQsYXBwRGV0YWlsczpuLHVzZXJTZXNzaW9uOnJ9PXAsaT1kKHAsW1wiZnVuY3Rpb25BcmdzXCIsXCJhcHBEZXRhaWxzXCIsXCJ1c2VyU2Vzc2lvblwiXSksbz10Lm1hcChsPT50eXBlb2YgbD09XCJzdHJpbmdcIj9sOncodHJhbnNhY3Rpb25zLnNlcmlhbGl6ZUNWKGwpKSk7aWYoTShyKSl7bGV0e3ByaXZhdGVLZXk6bCxwdWJsaWNLZXk6Y309UyhyKSx4PXUocyh7fSxpKSx7ZnVuY3Rpb25BcmdzOm8sdHhUeXBlOlwiY29udHJhY3RfY2FsbFwiLHB1YmxpY0tleTpjfSk7cmV0dXJuIG4mJih4LmFwcERldGFpbHM9biksTCh4LGwpfWxldCBhPXUocyh7fSxpKSx7ZnVuY3Rpb25BcmdzOm8sdHhUeXBlOlwiY29udHJhY3RfY2FsbFwifSk7cmV0dXJuIG4mJihhLmFwcERldGFpbHM9biksQyhhKX0sVHQ9YXN5bmMgZT0+e2xldCBvPWUse2FwcERldGFpbHM6dCx1c2VyU2Vzc2lvbjpufT1vLHI9ZChvLFtcImFwcERldGFpbHNcIixcInVzZXJTZXNzaW9uXCJdKTtpZihNKG4pKXtsZXR7cHJpdmF0ZUtleTphLHB1YmxpY0tleTpwfT1TKG4pLGw9dShzKHt9LHIpLHtwdWJsaWNLZXk6cCx0eFR5cGU6XCJzbWFydF9jb250cmFjdFwifSk7cmV0dXJuIHQmJihsLmFwcERldGFpbHM9dCksTChsLGEpfWxldCBpPXUocyh7fSxyKSx7dHhUeXBlOlwic21hcnRfY29udHJhY3RcIn0pO3JldHVybiB0JiYoaS5hcHBEZXRhaWxzPXQpLEMoaSl9LHd0PWFzeW5jIGU9PntsZXQgYT1lLHthbW91bnQ6dCxhcHBEZXRhaWxzOm4sdXNlclNlc3Npb246cn09YSxpPWQoYSxbXCJhbW91bnRcIixcImFwcERldGFpbHNcIixcInVzZXJTZXNzaW9uXCJdKTtpZihNKHIpKXtsZXR7cHJpdmF0ZUtleTpwLHB1YmxpY0tleTpsfT1TKHIpLGM9dShzKHt9LGkpLHthbW91bnQ6dC50b1N0cmluZygxMCkscHVibGljS2V5OmwsdHhUeXBlOlwidG9rZW5fdHJhbnNmZXJcIn0pO3JldHVybiBuJiYoYy5hcHBEZXRhaWxzPW4pLEwoYyxwKX1sZXQgbz11KHMoe30saSkse2Ftb3VudDp0LnRvU3RyaW5nKDEwKSx0eFR5cGU6XCJ0b2tlbl90cmFuc2ZlclwifSk7cmV0dXJuIG4mJihvLmFwcERldGFpbHM9biksQyhvKX0sQXQ9YXN5bmMgZT0+e2xldCBhPWUse3R4SGV4OnQsYXBwRGV0YWlsczpuLHVzZXJTZXNzaW9uOnJ9PWEsaT1kKGEsW1widHhIZXhcIixcImFwcERldGFpbHNcIixcInVzZXJTZXNzaW9uXCJdKTtpZihNKHIpKXtsZXR7cHJpdmF0ZUtleTpwLHB1YmxpY0tleTpsfT1TKHIpLGM9dShzKHt9LGkpLHt0eEhleDp0LHB1YmxpY0tleTpsfSk7cmV0dXJuIG4mJihjLmFwcERldGFpbHM9biksTChjLHApfWxldCBvPXUocyh7fSxpKSx7dHhIZXg6dH0pO3JldHVybiBuJiYoby5hcHBEZXRhaWxzPW4pLEMobyl9O2FzeW5jIGZ1bmN0aW9uIE4oZSx0LG4pe2xldCByPWF3YWl0IHQocyhzKHt9LHh0KGUpKSxlKSk7cmV0dXJuIEl0KHt0b2tlbjpyLG9wdGlvbnM6ZX0sbil9ZnVuY3Rpb24gdihlLHQ9ZygpKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJbQ29ubmVjdF0gTm8gaW5zdGFsbGVkIFN0YWNrcyB3YWxsZXQgZm91bmRcIik7cmV0dXJuIE4oZSxEdCx0KX1mdW5jdGlvbiBSKGUsdD1nKCkpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIltDb25uZWN0XSBObyBpbnN0YWxsZWQgU3RhY2tzIHdhbGxldCBmb3VuZFwiKTtyZXR1cm4gTihlLFR0LHQpfWZ1bmN0aW9uIEIoZSx0PWcoKSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiW0Nvbm5lY3RdIE5vIGluc3RhbGxlZCBTdGFja3Mgd2FsbGV0IGZvdW5kXCIpO3JldHVybiBOKGUsd3QsdCl9ZnVuY3Rpb24gWShlLHQ9ZygpKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJbQ29ubmVjdF0gTm8gaW5zdGFsbGVkIFN0YWNrcyB3YWxsZXQgZm91bmRcIik7cmV0dXJuIE4oZSxBdCx0KX1hc3luYyBmdW5jdGlvbiBOdChlLHQpe3JldHVybiBuZXcganNvbnRva2Vucy5Ub2tlblNpZ25lcihcIkVTMjU2a1wiLHQpLnNpZ25Bc3luYyhzKHt9LGUpKX1mdW5jdGlvbiBtdChlKXtsZXQgdD1lLm5ldHdvcmt8fG5ldyBuZXR3b3JrLlN0YWNrc1Rlc3RuZXQsbj15KGUudXNlclNlc3Npb24pLHI9dShzKHt9LGUpLHtuZXR3b3JrOnQsdXNlclNlc3Npb246bn0pO3JldHVybiBzKHt9LHIpfWFzeW5jIGZ1bmN0aW9uIFB0KHt0b2tlbjplLG9wdGlvbnM6dH0sbil7dmFyIHIsaTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJbQ29ubmVjdF0gTm8gaW5zdGFsbGVkIFN0YWNrcyB3YWxsZXQgZm91bmRcIik7dHJ5e2xldCBvPWF3YWl0IG4ucHNidFJlcXVlc3QoZSk7KHI9dC5vbkZpbmlzaCk9PW51bGx8fHIuY2FsbCh0LG8pO31jYXRjaChvKXtjb25zb2xlLmVycm9yKFwiW0Nvbm5lY3RdIEVycm9yIGR1cmluZyBwc2J0IHJlcXVlc3RcIixvKSwoaT10Lm9uQ2FuY2VsKT09bnVsbHx8aS5jYWxsKHQpO319dmFyIGh0PWFzeW5jIGU9PntsZXQgcD1lLHthbGxvd2VkU2lnaGFzaDp0LGhleDpuLHNpZ25BdEluZGV4OnIsdXNlclNlc3Npb246aX09cCxvPWQocCxbXCJhbGxvd2VkU2lnaGFzaFwiLFwiaGV4XCIsXCJzaWduQXRJbmRleFwiLFwidXNlclNlc3Npb25cIl0pO2lmKE0oaSkpe2xldHtwcml2YXRlS2V5OmwscHVibGljS2V5OmN9PVMoaSkseD11KHMoe30sbykse2FsbG93ZWRTaWdoYXNoOnQsaGV4Om4sc2lnbkF0SW5kZXg6cixwdWJsaWNLZXk6Y30pO3JldHVybiBOdCh4LGwpfWxldCBhPXMoe30sbyk7cmV0dXJuIGpzb250b2tlbnMuY3JlYXRlVW5zZWN1cmVkVG9rZW4oYSl9O2FzeW5jIGZ1bmN0aW9uIE90KGUsdCxuKXtsZXQgcj1hd2FpdCB0KHMocyh7fSxtdChlKSksZSkpO3JldHVybiBQdCh7dG9rZW46cixvcHRpb25zOmV9LG4pfWZ1bmN0aW9uIFEoZSx0PWcoKSl7cmV0dXJuIE90KGUsaHQsdCl9ZnVuY3Rpb24gVXQoZSl7dmFyIGE7bGV0e3VzZXJTZXNzaW9uOnQsbmV0d29yazpufT1lO2lmKCF0fHwhbilyZXR1cm47bGV0IHI9KGE9dD09bnVsbD92b2lkIDA6dC5sb2FkVXNlckRhdGEoKS5wcm9maWxlKT09bnVsbD92b2lkIDA6YS5zdHhBZGRyZXNzLGk9e1t0cmFuc2FjdGlvbnMuQ2hhaW5JRC5NYWlubmV0XTpcIm1haW5uZXRcIixbdHJhbnNhY3Rpb25zLkNoYWluSUQuVGVzdG5ldF06XCJ0ZXN0bmV0XCJ9O3JldHVybiByPT1udWxsP3ZvaWQgMDpyW2lbbi5jaGFpbklkXV19YXN5bmMgZnVuY3Rpb24genQoZSx0KXtyZXR1cm4gbmV3IGpzb250b2tlbnMuVG9rZW5TaWduZXIoXCJFUzI1NmtcIix0KS5zaWduQXN5bmMocyh7fSxlKSl9ZnVuY3Rpb24gbShlKXtsZXQgdD1lLm5ldHdvcmt8fG5ldyBuZXR3b3JrLlN0YWNrc1Rlc3RuZXQsbj15KGUudXNlclNlc3Npb24pLHI9dShzKHt9LGUpLHtuZXR3b3JrOnQsdXNlclNlc3Npb246bn0pO3JldHVybiBzKHtzdHhBZGRyZXNzOlV0KHIpfSxyKX1hc3luYyBmdW5jdGlvbiB2dCh7dG9rZW46ZSxvcHRpb25zOnR9LG4pe3ZhciByLGk7dHJ5e2xldCBvPWF3YWl0IG4uc2lnbmF0dXJlUmVxdWVzdChlKTsocj10Lm9uRmluaXNoKT09bnVsbHx8ci5jYWxsKHQsbyk7fWNhdGNoKG8pe2NvbnNvbGUuZXJyb3IoXCJbQ29ubmVjdF0gRXJyb3IgZHVyaW5nIHNpZ25hdHVyZSByZXF1ZXN0XCIsbyksKGk9dC5vbkNhbmNlbCk9PW51bGx8fGkuY2FsbCh0KTt9fXZhciBSdD1hc3luYyBlPT57bGV0IGk9ZSx7dXNlclNlc3Npb246dH09aSxuPWQoaSxbXCJ1c2VyU2Vzc2lvblwiXSk7aWYoTSh0KSl7bGV0e3ByaXZhdGVLZXk6byxwdWJsaWNLZXk6YX09Uyh0KSxwPXUocyh7fSxuKSx7cHVibGljS2V5OmF9KTtyZXR1cm4genQocCxvKX1sZXQgcj1zKHt9LG4pO3JldHVybiBqc29udG9rZW5zLmNyZWF0ZVVuc2VjdXJlZFRva2VuKHIpfTthc3luYyBmdW5jdGlvbiBCdChlLHQsbil7bGV0IHI9YXdhaXQgdChzKHMoe30sbShlKSksZSkpO3JldHVybiB2dCh7dG9rZW46cixvcHRpb25zOmV9LG4pfWZ1bmN0aW9uIHEoZSx0PWcoKSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiW0Nvbm5lY3RdIE5vIGluc3RhbGxlZCBTdGFja3Mgd2FsbGV0IGZvdW5kXCIpO3JldHVybiBCdChlLFJ0LHQpfWFzeW5jIGZ1bmN0aW9uIEd0KGUsdCxuKXtsZXQgcj1hd2FpdCB0KHMocyh7fSxtKGUpKSxlKSk7cmV0dXJuIFp0KHt0b2tlbjpyLG9wdGlvbnM6ZX0sbil9ZnVuY3Rpb24gWihlKXtyZXR1cm4gdShzKHt9LGUpLHttZXNzYWdlOncodHJhbnNhY3Rpb25zLnNlcmlhbGl6ZUNWKGUubWVzc2FnZSkpLGRvbWFpbjp3KHRyYW5zYWN0aW9ucy5zZXJpYWxpemVDVihlLmRvbWFpbikpfSl9YXN5bmMgZnVuY3Rpb24gcXQoZSx0KXtyZXR1cm4gbmV3IGpzb250b2tlbnMuVG9rZW5TaWduZXIoXCJFUzI1NmtcIix0KS5zaWduQXN5bmMoWihlKSl9YXN5bmMgZnVuY3Rpb24gRnQoZSl7bGV0IHI9ZSx7dXNlclNlc3Npb246dH09cixuPWQocixbXCJ1c2VyU2Vzc2lvblwiXSk7aWYoTSh0KSl7bGV0e3ByaXZhdGVLZXk6aSxwdWJsaWNLZXk6b309Uyh0KSxhPXUocyh7fSxuKSx7cHVibGljS2V5Om99KTtyZXR1cm4gcXQoYSxpKX1yZXR1cm4ganNvbnRva2Vucy5jcmVhdGVVbnNlY3VyZWRUb2tlbihaKGUpKX1hc3luYyBmdW5jdGlvbiBadCh7dG9rZW46ZSxvcHRpb25zOnR9LG4pe3ZhciByLGk7dHJ5e2xldCBvPWF3YWl0IG4uc3RydWN0dXJlZERhdGFTaWduYXR1cmVSZXF1ZXN0KGUpOyhyPXQub25GaW5pc2gpPT1udWxsfHxyLmNhbGwodCxvKTt9Y2F0Y2gobyl7Y29uc29sZS5lcnJvcihcIltDb25uZWN0XSBFcnJvciBkdXJpbmcgc2lnbmF0dXJlIHJlcXVlc3RcIixvKSwoaT10Lm9uQ2FuY2VsKT09bnVsbHx8aS5jYWxsKHQpO319ZnVuY3Rpb24gVyhlLHQ9ZygpKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJbQ29ubmVjdF0gTm8gaW5zdGFsbGVkIFN0YWNrcyB3YWxsZXQgZm91bmRcIik7cmV0dXJuIEd0KGUsRnQsdCl9YXN5bmMgZnVuY3Rpb24gVnQoZSx0KXtyZXR1cm4gbmV3IGpzb250b2tlbnMuVG9rZW5TaWduZXIoXCJFUzI1NmtcIix0KS5zaWduQXN5bmMocyh7fSxlKSl9ZnVuY3Rpb24gX3QoZSl7bGV0IHQ9ZS5uZXR3b3JrfHxuZXcgbmV0d29yay5TdGFja3NUZXN0bmV0LG49eShlLnVzZXJTZXNzaW9uKSxyPXUocyh7fSxlKSx7bmV0d29yazp0LHVzZXJTZXNzaW9uOm59KTtyZXR1cm4gcyh7fSxyKX1hc3luYyBmdW5jdGlvbiAkdCh7dG9rZW46ZSxvcHRpb25zOnR9LG4pe3ZhciByLGk7dHJ5e2xldCBvPWF3YWl0IG4ucHJvZmlsZVVwZGF0ZVJlcXVlc3QoZSk7KHI9dC5vbkZpbmlzaCk9PW51bGx8fHIuY2FsbCh0LG8pO31jYXRjaChvKXtjb25zb2xlLmVycm9yKFwiW0Nvbm5lY3RdIEVycm9yIGR1cmluZyBzaWduYXR1cmUgcmVxdWVzdFwiLG8pLChpPXQub25DYW5jZWwpPT1udWxsfHxpLmNhbGwodCk7fX12YXIgSnQ9YXN5bmMgZT0+e2xldCBvPWUse3VzZXJTZXNzaW9uOnQscHJvZmlsZTpufT1vLHI9ZChvLFtcInVzZXJTZXNzaW9uXCIsXCJwcm9maWxlXCJdKTtpZihNKHQpKXtsZXR7cHJpdmF0ZUtleTphLHB1YmxpY0tleTpwfT1TKHQpLGw9dShzKHt9LHIpLHtwcm9maWxlOm4scHVibGljS2V5OnB9KTtyZXR1cm4gVnQobCxhKX1sZXQgaT1zKHt9LHIpO3JldHVybiBqc29udG9rZW5zLmNyZWF0ZVVuc2VjdXJlZFRva2VuKGkpfTthc3luYyBmdW5jdGlvbiBIdChlLHQsbil7bGV0IHI9YXdhaXQgdChzKHMoe30sX3QoZSkpLGUpKTtyZXR1cm4gJHQoe3Rva2VuOnIsb3B0aW9uczplfSxuKX1mdW5jdGlvbiBYKGUsdD1nKCkpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIltDb25uZWN0XSBObyBpbnN0YWxsZWQgU3RhY2tzIHdhbGxldCBmb3VuZFwiKTtyZXR1cm4gSHQoZSxKdCx0KX12YXIgdGU9KG89PihvW28uREVGQVVMVD0wXT1cIkRFRkFVTFRcIixvW28uQUxMPTFdPVwiQUxMXCIsb1tvLk5PTkU9Ml09XCJOT05FXCIsb1tvLlNJTkdMRT0zXT1cIlNJTkdMRVwiLG9bby5BTllPTkVDQU5QQVk9MTI4XT1cIkFOWU9ORUNBTlBBWVwiLG8pKSh0ZXx8e30pO3ZhciBLPVt7aWQ6XCJMZWF0aGVyUHJvdmlkZXJcIixuYW1lOlwiTGVhdGhlclwiLGljb246XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNVEk0SWlCb1pXbG5hSFE5SWpFeU9DSWdkbWxsZDBKdmVEMGlNQ0F3SURFeU9DQXhNamdpSUdacGJHdzlJbTV2Ym1VaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK0NqeHlaV04wSUhkcFpIUm9QU0l4TWpnaUlHaGxhV2RvZEQwaU1USTRJaUJ5ZUQwaU1qWXVPRE00TnlJZ1ptbHNiRDBpSXpFeU1UQXdSaUl2UGdvOGNHRjBhQ0JrUFNKTk56UXVPVEUzTVNBMU1pNDNNVEUwUXpneUxqUTNOallnTlRFdU5UUXdPQ0E1TXk0ME1EZzNJRFF6TGpVNE1EUWdPVE11TkRBNE55QXpOeTR6TnpZeFF6a3pMalF3T0RjZ016VXVOVEF6TVNBNU1TNDRPVFk0SURNMExqSXhOVFFnT0RrdU5qZzNNU0F6TkM0eU1UVTBRemcxTGpVd01EUWdNelF1TWpFMU5DQTNPQzQwTURZeElEUXdMalV6TmpnZ056UXVPVEUzTVNBMU1pNDNNVEUwV2swek9TNDVNVEVnT0RNdU5EazVNVU16TUM0d01qVTJJRGd6TGpRNU9URWdNamt1TWpFeE5TQTVNeTR6TXpJMElETTVMakE1TmprZ09UTXVNek15TkVNME15NDFNVFl6SURrekxqTXpNalFnTkRndU9EWTJNU0E1TVM0MU56WTBJRFV4TGpZMU56TWdPRGd1TkRFMU4wTTBOeTQxT0RZNElEZzBMamt3TXpnZ05EUXVNakUwTVNBNE15NDBPVGt4SURNNUxqa3hNU0E0TXk0ME9Ua3hXazB4TURJdU9ESTVJRGM1TGpJNE5EaERNVEF6TGpReElEazFMamM1TURjZ09UVXVNRE0yT1NBeE1EVXVNRE01SURnd0xqZzBPRFFnTVRBMUxqQXpPVU0zTWk0ME56UTRJREV3TlM0d016a2dOamd1TWpnNE1TQXhNREV1T0RjNElEVTVMak16TXlBNU5pNHdNalE1UXpVMExqWTRNU0F4TURFdU1UYzJJRFExTGpnME1qTWdNVEExTGpBek9TQXpPQzQxTVRVMElERXdOUzR3TXpsRE1UTXVNamM0TlNBeE1EVXVNRE01SURFMExqTXlOVElnTnpJdU9EUTJNeUEwTUM0d01qY3pJRGN5TGpnME5qTkRORFV1TXpjM01TQTNNaTQ0TkRZeklEUTVMamt4TWpnZ056UXVNalV4TVNBMU5TNDNNamMzSURjM0xqZzRURFU1TGpVMk5UWWdOalF1TkRFM04wTTBNeTQzTkRnNUlEWXdMakE0TmpRZ016VXVPRFF3TlNBME55NDVNVEU0SURRekxqWXpNallnTXpBdU5EWTVNMGcxTmk0eE9USTVRelE1TGpJeE5TQTBNaTR3TlRnMklEVXpMams0TXpJZ05URXVOalUzT0NBMk1pNDRNaklnTlRJdU56RXhORU0yTnk0MU9UQXpJRE0xTGpjek56SWdOemN1T0RJME5pQXlNaTQxTURrZ09URXVORE14TmlBeU1pNDFNRGxET1RrdU1UQTNOQ0F5TWk0MU1Ea2dNVEExTGpFMU5TQXlOeTQxTkRJNElERXdOUzR4TlRVZ016WXVOamN6TjBNeE1EVXVNVFUxSURVeExqTXdOallnT0RZdU1EZ3hPU0EyTXk0eU5EY3hJRGN4TGpZMk1EY2dOalF1TkRFM04wdzJOUzQzTWprMUlEZzFMak0zTWpGRE56SXVORGMwT0NBNU15NHlNVFV6SURreExqRTVPU0F4TURBdU9ESTBJRGt4TGpFNU9TQTNPUzR5T0RRNFNERXdNaTQ0TWpsYUlpQm1hV3hzUFNJalJqVkdNVVZFSWk4K0Nqd3ZjM1puUGdvPVwiLHdlYlVybDpcImh0dHBzOi8vbGVhdGhlci5pb1wiLGNocm9tZVdlYlN0b3JlVXJsOlwiaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvaGlyby13YWxsZXQvbGRpbnBlZWtvYm5oampkb2ZnZ2ZnamxjZWhobWFubGpcIixtb3ppbGxhQWRkT25zVXJsOlwiaHR0cHM6Ly9sZWF0aGVyLmlvL2luc3RhbGwtZXh0ZW5zaW9uXCJ9LHtpZDpcIlh2ZXJzZVByb3ZpZGVycy5TdGFja3NQcm92aWRlclwiLG5hbWU6XCJYdmVyc2UgV2FsbGV0XCIsaWNvbjpcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJMk1EQWlJR2hsYVdkb2REMGlOakF3SWo0OFp5Qm1hV3hzUFNKdWIyNWxJaUJtYVd4c0xYSjFiR1U5SW1WMlpXNXZaR1FpUGp4d1lYUm9JR1pwYkd3OUlpTXhOekUzTVRjaUlHUTlJazB3SURCb05qQXdkall3TUVnd2VpSXZQanh3WVhSb0lHWnBiR3c5SWlOR1JrWWlJR1pwYkd3dGNuVnNaVDBpYm05dWVtVnlieUlnWkQwaVRUUTBNQ0EwTXpVdU5IWXROVEZqTUMweUxTNDRMVE11T1MweUxqSXROUzR6VERJeU1DQXhOakl1TW1FM0xqWWdOeTQySURBZ01DQXdMVFV1TkMweUxqSm9MVFV4TGpGakxUSXVOU0F3TFRRdU5pQXlMVFF1TmlBMExqWjJORGN1TTJNd0lESWdMamdnTkNBeUxqSWdOUzQwYkRjNExqSWdOemN1T0dFMExqWWdOQzQySURBZ01DQXhJREFnTmk0MWJDMDNPU0EzT0M0M1l5MHhJQzQ1TFRFdU5DQXlMVEV1TkNBekxqSjJOVEpqTUNBeUxqUWdNaUEwTGpVZ05DNDJJRFF1TlVneU5EbGpNaTQySURBZ05DNDJMVElnTkM0MkxUUXVObFkwTURWak1DMHhMakl1TlMweUxqUWdNUzQwTFRNdU0ydzBNaTQwTFRReUxqSmhOQzQySURRdU5pQXdJREFnTVNBMkxqUWdNR3czT0M0M0lEYzRMalJoTnk0MklEY3VOaUF3SURBZ01DQTFMalFnTWk0eWFEUTNMalZqTWk0MUlEQWdOQzQyTFRJZ05DNDJMVFF1TmxvaUx6NDhjR0YwYUNCbWFXeHNQU0lqUlVVM1FUTXdJaUJtYVd4c0xYSjFiR1U5SW01dmJucGxjbThpSUdROUlrMHpNalV1TmlBeU1qY3VNbWcwTWk0NFl6SXVOaUF3SURRdU5pQXlMakVnTkM0MklEUXVOblkwTWk0Mll6QWdOQ0ExSURZdU1TQTRJRE11TW13MU9DNDNMVFU0TGpWakxqZ3RMamdnTVM0ekxUSWdNUzR6TFRNdU1uWXROVEV1TW1Nd0xUSXVOaTB5TFRRdU5pMDBMall0TkM0MlRETTROQ0F4TmpCakxURXVNaUF3TFRJdU5DNDFMVE11TXlBeExqTnNMVFU0TGpRZ05UZ3VNV0UwTGpZZ05DNDJJREFnTUNBd0lETXVNaUEzTGpoYUlpOCtQQzluUGp3dmMzWm5QZz09XCIsd2ViVXJsOlwiaHR0cHM6Ly94dmVyc2UuYXBwXCIsY2hyb21lV2ViU3RvcmVVcmw6XCJodHRwczovL2Nocm9tZS5nb29nbGUuY29tL3dlYnN0b3JlL2RldGFpbC94dmVyc2Utd2FsbGV0L2lkbm5iZHBsbXBocGZsZm5sa29tZ3BmYnBjZ2Vsb3BnXCIsZ29vZ2xlUGxheVN0b3JlVXJsOlwiaHR0cHM6Ly9wbGF5Lmdvb2dsZS5jb20vc3RvcmUvYXBwcy9kZXRhaWxzP2lkPWNvbS5zZWNyZXRrZXlsYWJzLnh2ZXJzZVwiLGlPU0FwcFN0b3JlVXJsOlwiaHR0cHM6Ly9hcHBzLmFwcGxlLmNvbS9hcHAveHZlcnNlLWJpdGNvaW4td2ViMy13YWxsZXQvaWQxNTUyMjcyNTEzXCIsbW96aWxsYUFkZE9uc1VybDpcImh0dHBzOi8vd3d3Lnh2ZXJzZS5hcHAvZG93bmxvYWRcIn0se2lkOlwiQXNpZ25hUHJvdmlkZXJcIixuYW1lOlwiQXNpZ25hXCIsaWNvbjpcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJek1pSWdhR1ZwWjJoMFBTSXpNaUlnWm1sc2JEMGlibTl1WlNJK1BIQmhkR2dnWm1sc2JEMGlJekF3TURFd01DSWdaRDBpVFRBZ01HZ3pNbll6TWtnd2VpSXZQanh3WVhSb0lHWnBiR3c5SW5WeWJDZ2pZU2tpSUdROUlrMHhOUzR4TVNBMUxqVTFZVE1nTXlBd0lEQWdNQzB4TGpneUlERXVNMnd0TGpBMUxqQTRMUzQwTXk0M01pMHVNRGN1TVRFdExqVXVPRFV0TGpBMUxqQTVMVEV1TWprZ01pNHhPQzB1TURRdU1EY3RMalEzTGpndExqQTJMakV0TGpRMkxqYzRMUzR3Tnk0eE1TMHhMall6SURJdU56WXRMakEzTGpFeExTNHpPQzQyTmkwdU1EVXVNRGd0TGpjeklERXVNalF0TGpNMUxqWXRMalF1TmpjdExqQTFMakE1VERVdU1TQXlNQzQzYkMwdU1URXVNVGd0TGpFMExqSXpMUzR3Tnk0eE15MHVNek11TlRVdExqQTBMakEzZGk0d01XRXhMakkySURFdU1qWWdNQ0F3SURBdExqRTBMalEzSURFdU16RWdNUzR6TVNBd0lEQWdNQ0F4TGpJMElERXVOR2d4TGpWc0xqQTFMUzR3Tmk0d05DMHVNRFl1T0RjdE1TNHlNUzR3TlMwdU1EZ3VOemN0TVM0d055NHdOUzB1TURjdU5DMHVOVGN1TURVdExqQTJMakkwTFM0ek5HRXhMalV5SURFdU5USWdNQ0F3SURFZ01TNHpPUzB1TmpJZ01TNDFJREV1TlNBd0lEQWdNU0F1TmpRdU1pQXhMalEzSURFdU5EY2dNQ0F3SURFZ0xqY3pJREV1TWpjZ01TNDBOQ0F4TGpRMElEQWdNQ0F4TFM0eU55NDROR3d0TGpZekxqZzRMUzR3TlM0d055MHVNekl1TkRVdExqQTJMakE0TFM0d09DNHhNaTB1TVRJdU1UWXRMakExTGpBNGFESXVNVE5oTWk0ek1pQXlMak15SURBZ01DQXdJREV1TnpjdExqazJiREV1TVRndE1TNDJNeTQzTnkweExqQTRJREV1TXkweExqaGhNUzR5TkNBeExqSTBJREFnTUNBeElDNDFOUzB1TkROc0xqQTRMUzR3TTJFeExqTWdNUzR6SURBZ01DQXhJQzR6TFM0d05pQXhMakk0SURFdU1qZ2dNQ0F3SURFZ01TNHhOUzQxTkd3dU1URXVNbUV4TGpFeklERXVNVE1nTUNBd0lERWdMakV1TkRFZ01TNHhPU0F4TGpFNUlEQWdNQ0F4TFM0eU15NDNOMnd0TGpBekxqQTFMUzQxTnk0NExTNDNMams0TFM0eU55NHpOMkV4TGpJeUlERXVNaklnTUNBd0lEQXRMakl1TlNBeExqQTFJREV1TURVZ01DQXdJREF0TGpBeUxqSXpkaTR3Tm1FeExqRTNJREV1TVRjZ01DQXdJREFnTGpFMExqUXpiQzR3TWk0d05TNHdOeTR4WVRFdU5EUWdNUzQwTkNBd0lEQWdNQ0F1TVM0eE1Xd3VNRFV1TURZdU1ERXVNREZoTVM0NElERXVPQ0F3SURBZ01DQXVNVFF1TVdNd0lDNHdNaTR3TWk0d015NHdOQzR3TTJFeElERWdNQ0F3SURBZ0xqQTRMakExYkM0d055NHdOR0V4TGpJMUlERXVNalVnTUNBd0lEQWdMalV1TVdnMkxqbGpMakVnTUNBdU1pMHVNREV1TWprdExqQXpiQzR3TmkwdU1ESmhNUzR5TnlBeExqSTNJREFnTUNBd0lDNHlOeTB1TVM0MU55NDFOeUF3SURBZ01DQXVNRGN0TGpBeklERXVNakVnTVM0eU1TQXdJREFnTUNBdU1qWXRMakU1YkM0d09DMHVNRGRoTGpreUxqa3lJREFnTUNBd0lDNHhOUzB1TVRrZ01TNDFOU0F4TGpVMUlEQWdNQ0F3SUM0d09TMHVNVGRzTGpBeUxTNHdOV0V4TGpJeUlERXVNaklnTUNBd0lEQWdMakE0TFM0eU5uWXRMakEwYkM0d01pMHVNRGgyTFM0d09HRXhMak15SURFdU16SWdNQ0F3SURBdExqSXRMamMwYkMweExqWXRNaTQyTkMwdU1EWXRMakV0TGpJdExqTXlMUzR6TXkwdU5UUjJMUzR3TVd3dExqQTFMUzR3T0MweExqTXRNaTR4TlMwdU1EY3RMakV0TGpBMExTNHdOaTB1T0MweExqTXlMUzR3TkMwdU1EY3RMakl0TGpNMExTNHhMUzR4TkMwdU1TMHVNVFl0TGpVekxTNDVMUzR4TXkwdU1pMHVNRGt0TGpFMExUSXVNVGN0TXk0MU55MHVNRFF0TGpBM0xTNDNNaTB4TGpFNUxTNHdOUzB1TURjdExqUXRMalkxWVRJdU5qVWdNaTQyTlNBd0lEQWdNQzB1TXkwdU5DQXlMamsySURJdU9UWWdNQ0F3SURBdExqazNMUzQzTkNBekxqQTBJRE11TURRZ01DQXdJREF0TVM0ekxTNHpZeTB1TWpVZ01DMHVOUzR3TkMwdU56UXVNVm9pTHo0OGNHRjBhQ0JtYVd4c1BTSjFjbXdvSTJJcElpQmtQU0pOTVRrZ01UWXVNMkUxTGpRMUlEVXVORFVnTUNBd0lEQXRMamd6SURFdU5UWnNMUzR3TkM0eE5XRXhMak0ySURFdU16WWdNQ0F3SURFZ0xqSTRMUzR4TmlBeExqSTBJREV1TWpRZ01DQXdJREVnTGpNNExTNHdPR2d1TVdFeExqSTRJREV1TWpnZ01DQXdJREVnTVM0d05TNDFOR011TURRdU1EWXVNRGd1TVRNdU1TNHlZVEV1TWpRZ01TNHlOQ0F3SURBZ01TQXVNRGt1TWpjZ01TNHhPU0F4TGpFNUlEQWdNQ0F4TFM0eUxqa3hiQzB1TURRdU1EVXRMalUzTGpjNUxTNDNMams1TFM0eU55NHpOMkV4TGpJeklERXVNak1nTUNBd0lEQXRMakl1TkRJZ01TNHdOaUF4TGpBMklEQWdNQ0F3TFM0d01pNHpNWFl1TURaaE1TNHhOeUF4TGpFM0lEQWdNQ0F3SUM0eE5pNDBOeTQ1TXk0NU15QXdJREFnTUNBdU1EY3VNU0F4TGpVZ01TNDFJREFnTUNBd0lDNHhMakV5YkM0d05TNHdObWd1TURGaE1TNDVOQ0F4TGprMElEQWdNQ0F3SUM0d09TNHdPQ0F4SURFZ01DQXdJREFnTGpFM0xqRnNMakEzTGpBMFlURXVNalVnTVM0eU5TQXdJREFnTUNBdU5TNHhhRFl1T1dNdU1TQXdJQzR5SURBZ0xqSTRMUzR3TW13dU1EY3RMakF5WVRFdU16SWdNUzR6TWlBd0lEQWdNQ0F1TXpRdExqRXpiQzR4TmkwdU1TNHdNeTB1TUROaE1TNHlPU0F4TGpJNUlEQWdNQ0F3SUM0eUxTNHlJREl1TkRNZ01pNDBNeUF3SURBZ01DQXVNVEl0TGpFM1l5NHdNeTB1TURNdU1EVXRMakE0TGpBM0xTNHhNbXd1TURJdExqQTFZVEV1TWpFZ01TNHlNU0F3SURBZ01DQXVNRGt0TGpOMkxTNHdPR3d1TURFdExqQTVZVEV1TXpJZ01TNHpNaUF3SURBZ01DMHVNaTB1TnpOc0xURXVOaTB5TGpZMExTNHdOaTB1TVMwdU1pMHVNekl0TGpNekxTNDFOSFl0TGpBeWJDMHVNRFV0TGpBM0xURXVNeTB5TGpFMUxTNHhNaTB1TURjdExqQTNMUzR3TkdFMExqazBJRFF1T1RRZ01DQXdJREF0TWk0ME5pMHVOamRqTFRFdU1ETWdNQzB4TGpjMkxqVTNMVEl1TWpZZ01TNHlXaUl2UGp4d1lYUm9JR1pwYkd3OUlpTm1abVlpSUdROUlrMHhNaTR5T1NBeU1TNHdPR013SUM0eU9TMHVNRGt1TlRndExqSTNMamcwYkMweExqTXhJREV1T0RSSU4yd3lMalV5TFRNdU5UTmhNUzQxTkNBeExqVTBJREFnTUNBeElESXVNUzB1TXpaakxqUXpMakk0TGpZMkxqYzBMalkySURFdU1sb2lMejQ4Y0dGMGFDQm1hV3hzUFNJak1EQXdJaUJrUFNKTk1URXVNVFlnTWpFdU1qVmhMalUyTGpVMklEQWdNQ0F4TFM0MU55NDFOUzQxTmk0MU5pQXdJREFnTVMwdU5UY3RMalUyTGpVMkxqVTJJREFnTUNBeElDNDFOeTB1TlRVdU5UWXVOVFlnTUNBd0lERWdMalUzTGpVMldpSXZQanhrWldaelBqeHNhVzVsWVhKSGNtRmthV1Z1ZENCcFpEMGlZU0lnZURFOUlqRTFMakl6SWlCNE1qMGlNVGt1TXlJZ2VURTlJakkxTGpjNElpQjVNajBpTmk0eE1TSWdaM0poWkdsbGJuUlZibWwwY3owaWRYTmxjbE53WVdObFQyNVZjMlVpUGp4emRHOXdJSE4wYjNBdFkyOXNiM0k5SWlNMk5USXlSalFpTHo0OGMzUnZjQ0J2Wm1aelpYUTlJaTQxTlNJZ2MzUnZjQzFqYjJ4dmNqMGlJemxDTmtKR1JpSXZQanh6ZEc5d0lHOW1abk5sZEQwaU1TSWdjM1J2Y0MxamIyeHZjajBpSTBFMU9EVkdSaUl2UGp3dmJHbHVaV0Z5UjNKaFpHbGxiblErUEd4cGJtVmhja2R5WVdScFpXNTBJR2xrUFNKaUlpQjRNVDBpTWpJdU5Ua2lJSGd5UFNJeU5DNDRJaUI1TVQwaU1qUXVOekVpSUhreVBTSXhOUzQxTXlJZ1ozSmhaR2xsYm5SVmJtbDBjejBpZFhObGNsTndZV05sVDI1VmMyVWlQanh6ZEc5d0lITjBiM0F0WTI5c2IzSTlJaU0wTWpGR09FSWlMejQ4YzNSdmNDQnZabVp6WlhROUlpNDFOU0lnYzNSdmNDMWpiMnh2Y2owaUl6Y3lNekJHUmlJdlBqeHpkRzl3SUc5bVpuTmxkRDBpTVNJZ2MzUnZjQzFqYjJ4dmNqMGlJemszTnpOR1JpSXZQand2YkdsdVpXRnlSM0poWkdsbGJuUStQQzlrWldaelBqd3ZjM1puUGc9PVwiLHdlYlVybDpcImh0dHBzOi8vYXNpZ25hLmlvXCIsY2hyb21lV2ViU3RvcmVVcmw6XCJodHRwczovL2Nocm9tZXdlYnN0b3JlLmdvb2dsZS5jb20vZGV0YWlsL2FzaWduYS1tdWx0aXNpZy9nb3BkZG9pbmJlbmxva2doYWtpYWZhY2thZGtibmxpZFwifV07ZnVuY3Rpb24gZihlLHQ9ITApe3JldHVybiBmdW5jdGlvbihyLGkpe3ZhciBUO2lmKGkpcmV0dXJuIGUocixpKTtsZXQgbz1jb25uZWN0VWkuZ2V0U2VsZWN0ZWRQcm92aWRlcklkKCksYT1nKCk7aWYobyYmYSlyZXR1cm4gZShyLGEpO2lmKHR5cGVvZiB3aW5kb3c9PVwidW5kZWZpbmVkXCIpcmV0dXJuO2xvYWRlci5kZWZpbmVDdXN0b21FbGVtZW50cyh3aW5kb3cpO2xldCBwPShUPXI9PW51bGw/dm9pZCAwOnIuZGVmYXVsdFByb3ZpZGVycykhPW51bGw/VDpLLGw9Y29ubmVjdFVpLmdldEluc3RhbGxlZFByb3ZpZGVycyhwKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjb25uZWN0LW1vZGFsXCIpO2MuZGVmYXVsdFByb3ZpZGVycz1wLGMuaW5zdGFsbGVkUHJvdmlkZXJzPWwsYy5wZXJzaXN0U2VsZWN0aW9uPXQ7bGV0IHg9ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdztkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7bGV0IEE9KCk9PntjLnJlbW92ZSgpLGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9eDt9O2MuY2FsbGJhY2s9RD0+e0EoKSxlKHIsRCk7fSxjLmNhbmNlbENhbGxiYWNrPSgpPT57dmFyIEQ7QSgpLChEPXIub25DYW5jZWwpPT1udWxsfHxELmNhbGwocik7fSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpO2xldCBJPUQ9PntELmtleT09PVwiRXNjYXBlXCImJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLEkpLGMucmVtb3ZlKCkpO307ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixJKTt9fXZhciBpZT1mKGssITEpLHhuPWYoQiksSW49Zih2KSxEbj1mKFIpLFRuPWYoWSksd249ZihRKSxBbj1mKFgpLGpuPWYocSksTG49ZihXKSxDbj1jb25uZWN0VWkuY2xlYXJTZWxlY3RlZFByb3ZpZGVySWQsTm49aWU7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2xlYXJTZWxlY3RlZFByb3ZpZGVySWQnLCB7XG5cdGVudW1lcmFibGU6IHRydWUsXG5cdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdFVpLmNsZWFyU2VsZWN0ZWRQcm92aWRlcklkOyB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZ2V0U2VsZWN0ZWRQcm92aWRlcklkJywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbm5lY3RVaS5nZXRTZWxlY3RlZFByb3ZpZGVySWQ7IH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdzZXRTZWxlY3RlZFByb3ZpZGVySWQnLCB7XG5cdGVudW1lcmFibGU6IHRydWUsXG5cdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdFVpLnNldFNlbGVjdGVkUHJvdmlkZXJJZDsgfVxufSk7XG5leHBvcnRzLkNvbnRyYWN0Q2FsbEFyZ3VtZW50VHlwZSA9IGF0O1xuZXhwb3J0cy5ERUZBVUxUX1BST1ZJREVSUyA9IEs7XG5leHBvcnRzLlNpZ25hdHVyZUhhc2ggPSB0ZTtcbmV4cG9ydHMuVHJhbnNhY3Rpb25UeXBlcyA9IHN0O1xuZXhwb3J0cy5hdXRoZW50aWNhdGUgPSBrO1xuZXhwb3J0cy5kZWZhdWx0QXV0aFVSTCA9IGRlO1xuZXhwb3J0cy5kaXNjb25uZWN0ID0gQ247XG5leHBvcnRzLmdldERlZmF1bHRQcm9maWxlVXBkYXRlUmVxdWVzdE9wdGlvbnMgPSBfdDtcbmV4cG9ydHMuZ2V0RGVmYXVsdFBzYnRSZXF1ZXN0T3B0aW9ucyA9IG10O1xuZXhwb3J0cy5nZXREZWZhdWx0U2lnbmF0dXJlUmVxdWVzdE9wdGlvbnMgPSBtO1xuZXhwb3J0cy5nZXRLZXlzID0gUztcbmV4cG9ydHMuZ2V0T3JDcmVhdGVVc2VyU2Vzc2lvbiA9IEU7XG5leHBvcnRzLmdldFN0YWNrc1Byb3ZpZGVyID0gZztcbmV4cG9ydHMuZ2V0U3R4QWRkcmVzcyA9IGZ0O1xuZXhwb3J0cy5nZXRVc2VyRGF0YSA9IFNlO1xuZXhwb3J0cy5nZXRVc2VyU2Vzc2lvbiA9IHk7XG5leHBvcnRzLmhhc0FwcFByaXZhdGVLZXkgPSBNO1xuZXhwb3J0cy5pc01vYmlsZSA9IG90O1xuZXhwb3J0cy5pc1N0YWNrc1dhbGxldEluc3RhbGxlZCA9IGNlO1xuZXhwb3J0cy5tYWtlQ29udHJhY3RDYWxsVG9rZW4gPSBEdDtcbmV4cG9ydHMubWFrZUNvbnRyYWN0RGVwbG95VG9rZW4gPSBUdDtcbmV4cG9ydHMubWFrZVByb2ZpbGVVcGRhdGVUb2tlbiA9IEp0O1xuZXhwb3J0cy5tYWtlUHNidFRva2VuID0gaHQ7XG5leHBvcnRzLm1ha2VTVFhUcmFuc2ZlclRva2VuID0gd3Q7XG5leHBvcnRzLm1ha2VTaWduVHJhbnNhY3Rpb24gPSBBdDtcbmV4cG9ydHMub3BlbkNvbnRyYWN0Q2FsbCA9IHY7XG5leHBvcnRzLm9wZW5Db250cmFjdERlcGxveSA9IFI7XG5leHBvcnRzLm9wZW5Qcm9maWxlVXBkYXRlUmVxdWVzdFBvcHVwID0gWDtcbmV4cG9ydHMub3BlblBzYnRSZXF1ZXN0UG9wdXAgPSBRO1xuZXhwb3J0cy5vcGVuU1RYVHJhbnNmZXIgPSBCO1xuZXhwb3J0cy5vcGVuU2lnblRyYW5zYWN0aW9uID0gWTtcbmV4cG9ydHMub3BlblNpZ25hdHVyZVJlcXVlc3RQb3B1cCA9IHE7XG5leHBvcnRzLm9wZW5TdHJ1Y3R1cmVkRGF0YVNpZ25hdHVyZVJlcXVlc3RQb3B1cCA9IFc7XG5leHBvcnRzLnNob3VsZFVzZVBvcHVwID0gTWU7XG5leHBvcnRzLnNob3dCbG9ja3N0YWNrQ29ubmVjdCA9IE5uO1xuZXhwb3J0cy5zaG93Q29ubmVjdCA9IGllO1xuZXhwb3J0cy5zaG93Q29udHJhY3RDYWxsID0gSW47XG5leHBvcnRzLnNob3dDb250cmFjdERlcGxveSA9IERuO1xuZXhwb3J0cy5zaG93UHJvZmlsZVVwZGF0ZSA9IEFuO1xuZXhwb3J0cy5zaG93UHNidCA9IHduO1xuZXhwb3J0cy5zaG93U1RYVHJhbnNmZXIgPSB4bjtcbmV4cG9ydHMuc2hvd1NpZ25NZXNzYWdlID0gam47XG5leHBvcnRzLnNob3dTaWduU3RydWN0dXJlZE1lc3NhZ2UgPSBMbjtcbmV4cG9ydHMuc2hvd1NpZ25UcmFuc2FjdGlvbiA9IFRuO1xuZXhwb3J0cy5zaWduTWVzc2FnZSA9IFJ0O1xuZXhwb3J0cy5zaWduU3RydWN0dXJlZE1lc3NhZ2UgPSBGdDtcbk9iamVjdC5rZXlzKGF1dGgpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcblx0aWYgKGsgIT09ICdkZWZhdWx0JyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIGspKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgaywge1xuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoW2tdOyB9XG5cdH0pO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vdXQuanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/connect/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/aesCipher.js":
/*!***********************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/aesCipher.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createCipher = exports.WebCryptoAesCipher = exports.NodeCryptoAesCipher = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst cryptoUtils_1 = __webpack_require__(/*! ./cryptoUtils */ \"(ssr)/./node_modules/@stacks/encryption/dist/cryptoUtils.js\");\nclass NodeCryptoAesCipher {\n    constructor(createCipher, createDecipher) {\n        this.createCipher = createCipher;\n        this.createDecipher = createDecipher;\n    }\n    async encrypt(algorithm, key, iv, data) {\n        if (algorithm !== 'aes-128-cbc' && algorithm !== 'aes-256-cbc') {\n            throw new Error(`Unsupported cipher algorithm \"${algorithm}\"`);\n        }\n        const cipher = this.createCipher(algorithm, key, iv);\n        const result = new Uint8Array((0, common_1.concatBytes)(cipher.update(data), cipher.final()));\n        return Promise.resolve(result);\n    }\n    async decrypt(algorithm, key, iv, data) {\n        if (algorithm !== 'aes-128-cbc' && algorithm !== 'aes-256-cbc') {\n            throw new Error(`Unsupported cipher algorithm \"${algorithm}\"`);\n        }\n        const cipher = this.createDecipher(algorithm, key, iv);\n        const result = new Uint8Array((0, common_1.concatBytes)(cipher.update(data), cipher.final()));\n        return Promise.resolve(result);\n    }\n}\nexports.NodeCryptoAesCipher = NodeCryptoAesCipher;\nclass WebCryptoAesCipher {\n    constructor(subtleCrypto) {\n        this.subtleCrypto = subtleCrypto;\n    }\n    async encrypt(algorithm, key, iv, data) {\n        let algo;\n        let length;\n        if (algorithm === 'aes-128-cbc') {\n            algo = 'AES-CBC';\n            length = 128;\n        }\n        else if (algorithm === 'aes-256-cbc') {\n            algo = 'AES-CBC';\n            length = 256;\n        }\n        else {\n            throw new Error(`Unsupported cipher algorithm \"${algorithm}\"`);\n        }\n        const cryptoKey = await this.subtleCrypto.importKey('raw', key, { name: algo, length }, false, [\n            'encrypt',\n        ]);\n        const result = await this.subtleCrypto.encrypt({ name: algo, iv }, cryptoKey, data);\n        return new Uint8Array(result);\n    }\n    async decrypt(algorithm, key, iv, data) {\n        let algo;\n        let length;\n        if (algorithm === 'aes-128-cbc') {\n            algo = 'AES-CBC';\n            length = 128;\n        }\n        else if (algorithm === 'aes-256-cbc') {\n            algo = 'AES-CBC';\n            length = 256;\n        }\n        else {\n            throw new Error(`Unsupported cipher algorithm \"${algorithm}\"`);\n        }\n        const cryptoKey = await this.subtleCrypto.importKey('raw', key, { name: algo, length }, false, [\n            'decrypt',\n        ]);\n        const result = await this.subtleCrypto.decrypt({ name: algo, iv }, cryptoKey, data);\n        return new Uint8Array(result);\n    }\n}\nexports.WebCryptoAesCipher = WebCryptoAesCipher;\nasync function createCipher() {\n    const cryptoLib = await (0, cryptoUtils_1.getCryptoLib)();\n    if (cryptoLib.name === 'subtleCrypto') {\n        return new WebCryptoAesCipher(cryptoLib.lib);\n    }\n    return new NodeCryptoAesCipher(cryptoLib.lib.createCipheriv, cryptoLib.lib.createDecipheriv);\n}\nexports.createCipher = createCipher;\n//# sourceMappingURL=aesCipher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvYWVzQ2lwaGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLDBCQUEwQixHQUFHLDJCQUEyQjtBQUMvRSxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsc0JBQXNCLG1CQUFPLENBQUMsa0ZBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsVUFBVTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxVQUFVO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxVQUFVO0FBQ3ZFO0FBQ0EsMEVBQTBFLG9CQUFvQjtBQUM5RjtBQUNBO0FBQ0EseURBQXlELGdCQUFnQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELFVBQVU7QUFDdkU7QUFDQSwwRUFBMEUsb0JBQW9CO0FBQzlGO0FBQ0E7QUFDQSx5REFBeUQsZ0JBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2VuY3J5cHRpb24vZGlzdC9hZXNDaXBoZXIuanM/ODI5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQ2lwaGVyID0gZXhwb3J0cy5XZWJDcnlwdG9BZXNDaXBoZXIgPSBleHBvcnRzLk5vZGVDcnlwdG9BZXNDaXBoZXIgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNvbnN0IGNyeXB0b1V0aWxzXzEgPSByZXF1aXJlKFwiLi9jcnlwdG9VdGlsc1wiKTtcbmNsYXNzIE5vZGVDcnlwdG9BZXNDaXBoZXIge1xuICAgIGNvbnN0cnVjdG9yKGNyZWF0ZUNpcGhlciwgY3JlYXRlRGVjaXBoZXIpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVDaXBoZXIgPSBjcmVhdGVDaXBoZXI7XG4gICAgICAgIHRoaXMuY3JlYXRlRGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlcjtcbiAgICB9XG4gICAgYXN5bmMgZW5jcnlwdChhbGdvcml0aG0sIGtleSwgaXYsIGRhdGEpIHtcbiAgICAgICAgaWYgKGFsZ29yaXRobSAhPT0gJ2Flcy0xMjgtY2JjJyAmJiBhbGdvcml0aG0gIT09ICdhZXMtMjU2LWNiYycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2lwaGVyIGFsZ29yaXRobSBcIiR7YWxnb3JpdGhtfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2lwaGVyID0gdGhpcy5jcmVhdGVDaXBoZXIoYWxnb3JpdGhtLCBrZXksIGl2KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoKDAsIGNvbW1vbl8xLmNvbmNhdEJ5dGVzKShjaXBoZXIudXBkYXRlKGRhdGEpLCBjaXBoZXIuZmluYWwoKSkpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxuICAgIGFzeW5jIGRlY3J5cHQoYWxnb3JpdGhtLCBrZXksIGl2LCBkYXRhKSB7XG4gICAgICAgIGlmIChhbGdvcml0aG0gIT09ICdhZXMtMTI4LWNiYycgJiYgYWxnb3JpdGhtICE9PSAnYWVzLTI1Ni1jYmMnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNpcGhlciBhbGdvcml0aG0gXCIke2FsZ29yaXRobX1cImApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNpcGhlciA9IHRoaXMuY3JlYXRlRGVjaXBoZXIoYWxnb3JpdGhtLCBrZXksIGl2KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoKDAsIGNvbW1vbl8xLmNvbmNhdEJ5dGVzKShjaXBoZXIudXBkYXRlKGRhdGEpLCBjaXBoZXIuZmluYWwoKSkpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxufVxuZXhwb3J0cy5Ob2RlQ3J5cHRvQWVzQ2lwaGVyID0gTm9kZUNyeXB0b0Flc0NpcGhlcjtcbmNsYXNzIFdlYkNyeXB0b0Flc0NpcGhlciB7XG4gICAgY29uc3RydWN0b3Ioc3VidGxlQ3J5cHRvKSB7XG4gICAgICAgIHRoaXMuc3VidGxlQ3J5cHRvID0gc3VidGxlQ3J5cHRvO1xuICAgIH1cbiAgICBhc3luYyBlbmNyeXB0KGFsZ29yaXRobSwga2V5LCBpdiwgZGF0YSkge1xuICAgICAgICBsZXQgYWxnbztcbiAgICAgICAgbGV0IGxlbmd0aDtcbiAgICAgICAgaWYgKGFsZ29yaXRobSA9PT0gJ2Flcy0xMjgtY2JjJykge1xuICAgICAgICAgICAgYWxnbyA9ICdBRVMtQ0JDJztcbiAgICAgICAgICAgIGxlbmd0aCA9IDEyODtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbGdvcml0aG0gPT09ICdhZXMtMjU2LWNiYycpIHtcbiAgICAgICAgICAgIGFsZ28gPSAnQUVTLUNCQyc7XG4gICAgICAgICAgICBsZW5ndGggPSAyNTY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNpcGhlciBhbGdvcml0aG0gXCIke2FsZ29yaXRobX1cImApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNyeXB0b0tleSA9IGF3YWl0IHRoaXMuc3VidGxlQ3J5cHRvLmltcG9ydEtleSgncmF3Jywga2V5LCB7IG5hbWU6IGFsZ28sIGxlbmd0aCB9LCBmYWxzZSwgW1xuICAgICAgICAgICAgJ2VuY3J5cHQnLFxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zdWJ0bGVDcnlwdG8uZW5jcnlwdCh7IG5hbWU6IGFsZ28sIGl2IH0sIGNyeXB0b0tleSwgZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBkZWNyeXB0KGFsZ29yaXRobSwga2V5LCBpdiwgZGF0YSkge1xuICAgICAgICBsZXQgYWxnbztcbiAgICAgICAgbGV0IGxlbmd0aDtcbiAgICAgICAgaWYgKGFsZ29yaXRobSA9PT0gJ2Flcy0xMjgtY2JjJykge1xuICAgICAgICAgICAgYWxnbyA9ICdBRVMtQ0JDJztcbiAgICAgICAgICAgIGxlbmd0aCA9IDEyODtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbGdvcml0aG0gPT09ICdhZXMtMjU2LWNiYycpIHtcbiAgICAgICAgICAgIGFsZ28gPSAnQUVTLUNCQyc7XG4gICAgICAgICAgICBsZW5ndGggPSAyNTY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNpcGhlciBhbGdvcml0aG0gXCIke2FsZ29yaXRobX1cImApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNyeXB0b0tleSA9IGF3YWl0IHRoaXMuc3VidGxlQ3J5cHRvLmltcG9ydEtleSgncmF3Jywga2V5LCB7IG5hbWU6IGFsZ28sIGxlbmd0aCB9LCBmYWxzZSwgW1xuICAgICAgICAgICAgJ2RlY3J5cHQnLFxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zdWJ0bGVDcnlwdG8uZGVjcnlwdCh7IG5hbWU6IGFsZ28sIGl2IH0sIGNyeXB0b0tleSwgZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShyZXN1bHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuV2ViQ3J5cHRvQWVzQ2lwaGVyID0gV2ViQ3J5cHRvQWVzQ2lwaGVyO1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2lwaGVyKCkge1xuICAgIGNvbnN0IGNyeXB0b0xpYiA9IGF3YWl0ICgwLCBjcnlwdG9VdGlsc18xLmdldENyeXB0b0xpYikoKTtcbiAgICBpZiAoY3J5cHRvTGliLm5hbWUgPT09ICdzdWJ0bGVDcnlwdG8nKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViQ3J5cHRvQWVzQ2lwaGVyKGNyeXB0b0xpYi5saWIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGVDcnlwdG9BZXNDaXBoZXIoY3J5cHRvTGliLmxpYi5jcmVhdGVDaXBoZXJpdiwgY3J5cHRvTGliLmxpYi5jcmVhdGVEZWNpcGhlcml2KTtcbn1cbmV4cG9ydHMuY3JlYXRlQ2lwaGVyID0gY3JlYXRlQ2lwaGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWVzQ2lwaGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/aesCipher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/cryptoRandom.js":
/*!**************************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/cryptoRandom.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.randomBytes = void 0;\nconst secp256k1_1 = __webpack_require__(/*! @noble/secp256k1 */ \"(ssr)/./node_modules/@noble/secp256k1/lib/index.js\");\nconst randomBytes = (bytesLength = 32) => secp256k1_1.utils.randomBytes(bytesLength);\nexports.randomBytes = randomBytes;\n//# sourceMappingURL=cryptoRandom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvY3J5cHRvUmFuZG9tLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixvQkFBb0IsbUJBQU8sQ0FBQyw0RUFBa0I7QUFDOUM7QUFDQSxtQkFBbUI7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvY3J5cHRvUmFuZG9tLmpzPzYwYTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJhbmRvbUJ5dGVzID0gdm9pZCAwO1xuY29uc3Qgc2VjcDI1NmsxXzEgPSByZXF1aXJlKFwiQG5vYmxlL3NlY3AyNTZrMVwiKTtcbmNvbnN0IHJhbmRvbUJ5dGVzID0gKGJ5dGVzTGVuZ3RoID0gMzIpID0+IHNlY3AyNTZrMV8xLnV0aWxzLnJhbmRvbUJ5dGVzKGJ5dGVzTGVuZ3RoKTtcbmV4cG9ydHMucmFuZG9tQnl0ZXMgPSByYW5kb21CeXRlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyeXB0b1JhbmRvbS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/cryptoRandom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/cryptoUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/cryptoUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getCryptoLib = exports.NO_CRYPTO_LIB = exports.isNodeCryptoAvailable = exports.isSubtleCryptoAvailable = void 0;\nfunction isSubtleCryptoAvailable() {\n    return typeof crypto !== 'undefined' && typeof crypto.subtle !== 'undefined';\n}\nexports.isSubtleCryptoAvailable = isSubtleCryptoAvailable;\nfunction isNodeCryptoAvailable(withFeature) {\n    try {\n        const resolvedResult = /*require.resolve*/(/*! crypto */ \"crypto\");\n        if (!resolvedResult) {\n            return false;\n        }\n        const cryptoModule = __webpack_require__(/*! crypto */ \"crypto\");\n        if (!cryptoModule) {\n            return false;\n        }\n        if (withFeature) {\n            const features = withFeature(cryptoModule);\n            return features;\n        }\n        return true;\n    }\n    catch (error) {\n        return false;\n    }\n}\nexports.isNodeCryptoAvailable = isNodeCryptoAvailable;\nexports.NO_CRYPTO_LIB = 'Crypto lib not found. Either the WebCrypto \"crypto.subtle\" or Node.js \"crypto\" module must be available.';\nasync function getCryptoLib() {\n    if (isSubtleCryptoAvailable()) {\n        return {\n            lib: crypto.subtle,\n            name: 'subtleCrypto',\n        };\n    }\n    else {\n        try {\n            const nodeCrypto = __webpack_require__(/*! crypto */ \"crypto\");\n            return {\n                lib: nodeCrypto,\n                name: 'nodeCrypto',\n            };\n        }\n        catch (error) {\n            throw new Error(exports.NO_CRYPTO_LIB);\n        }\n    }\n}\nexports.getCryptoLib = getCryptoLib;\n//# sourceMappingURL=cryptoUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvY3J5cHRvVXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcscUJBQXFCLEdBQUcsNkJBQTZCLEdBQUcsK0JBQStCO0FBQzlHO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0EsK0JBQStCLG1CQUFlLENBQUMsc0JBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1CQUFPLENBQUMsc0JBQVE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixtQkFBTyxDQUFDLHNCQUFRO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvZW5jcnlwdGlvbi9kaXN0L2NyeXB0b1V0aWxzLmpzP2JhMDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldENyeXB0b0xpYiA9IGV4cG9ydHMuTk9fQ1JZUFRPX0xJQiA9IGV4cG9ydHMuaXNOb2RlQ3J5cHRvQXZhaWxhYmxlID0gZXhwb3J0cy5pc1N1YnRsZUNyeXB0b0F2YWlsYWJsZSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGlzU3VidGxlQ3J5cHRvQXZhaWxhYmxlKCkge1xuICAgIHJldHVybiB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY3J5cHRvLnN1YnRsZSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzU3VidGxlQ3J5cHRvQXZhaWxhYmxlID0gaXNTdWJ0bGVDcnlwdG9BdmFpbGFibGU7XG5mdW5jdGlvbiBpc05vZGVDcnlwdG9BdmFpbGFibGUod2l0aEZlYXR1cmUpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNvbHZlZFJlc3VsdCA9IHJlcXVpcmUucmVzb2x2ZSgnY3J5cHRvJyk7XG4gICAgICAgIGlmICghcmVzb2x2ZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcnlwdG9Nb2R1bGUgPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgICAgICAgaWYgKCFjcnlwdG9Nb2R1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2l0aEZlYXR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gd2l0aEZlYXR1cmUoY3J5cHRvTW9kdWxlKTtcbiAgICAgICAgICAgIHJldHVybiBmZWF0dXJlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnRzLmlzTm9kZUNyeXB0b0F2YWlsYWJsZSA9IGlzTm9kZUNyeXB0b0F2YWlsYWJsZTtcbmV4cG9ydHMuTk9fQ1JZUFRPX0xJQiA9ICdDcnlwdG8gbGliIG5vdCBmb3VuZC4gRWl0aGVyIHRoZSBXZWJDcnlwdG8gXCJjcnlwdG8uc3VidGxlXCIgb3IgTm9kZS5qcyBcImNyeXB0b1wiIG1vZHVsZSBtdXN0IGJlIGF2YWlsYWJsZS4nO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q3J5cHRvTGliKCkge1xuICAgIGlmIChpc1N1YnRsZUNyeXB0b0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsaWI6IGNyeXB0by5zdWJ0bGUsXG4gICAgICAgICAgICBuYW1lOiAnc3VidGxlQ3J5cHRvJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBub2RlQ3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGxpYjogbm9kZUNyeXB0byxcbiAgICAgICAgICAgICAgICBuYW1lOiAnbm9kZUNyeXB0bycsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGV4cG9ydHMuTk9fQ1JZUFRPX0xJQik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmdldENyeXB0b0xpYiA9IGdldENyeXB0b0xpYjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyeXB0b1V0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/cryptoUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/ec.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/ec.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifyMessageSignatureRsv = exports.verifyMessageSignature = exports.verifyECDSA = exports.signECDSA = exports.decryptECIES = exports.encryptECIES = exports.eciesGetJsonStringLength = exports.getSignedCipherObjectWrapper = exports.getCipherObjectWrapper = exports.getBytesFromBN = exports.getHexFromBN = exports.hmacSha256 = exports.aes256CbcEncrypt = exports.InvalidPublicKeyReason = void 0;\nconst hmac_1 = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/@noble/hashes/hmac.js\");\nconst sha256_1 = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/sha256.js\");\nconst secp256k1_1 = __webpack_require__(/*! @noble/secp256k1 */ \"(ssr)/./node_modules/@noble/secp256k1/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst base64_js_1 = __webpack_require__(/*! base64-js */ \"(ssr)/./node_modules/base64-js/index.js\");\nconst aesCipher_1 = __webpack_require__(/*! ./aesCipher */ \"(ssr)/./node_modules/@stacks/encryption/dist/aesCipher.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/encryption/dist/keys.js\");\nconst messageSignature_1 = __webpack_require__(/*! ./messageSignature */ \"(ssr)/./node_modules/@stacks/encryption/dist/messageSignature.js\");\nconst sha2Hash_1 = __webpack_require__(/*! ./sha2Hash */ \"(ssr)/./node_modules/@stacks/encryption/dist/sha2Hash.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/encryption/dist/utils.js\");\nsecp256k1_1.utils.hmacSha256Sync = (key, ...msgs) => {\n    const h = hmac_1.hmac.create(sha256_1.sha256, key);\n    msgs.forEach(msg => h.update(msg));\n    return h.digest();\n};\nvar InvalidPublicKeyReason;\n(function (InvalidPublicKeyReason) {\n    InvalidPublicKeyReason[\"InvalidFormat\"] = \"InvalidFormat\";\n    InvalidPublicKeyReason[\"IsNotPoint\"] = \"IsNotPoint\";\n})(InvalidPublicKeyReason || (exports.InvalidPublicKeyReason = InvalidPublicKeyReason = {}));\nasync function aes256CbcEncrypt(iv, key, plaintext) {\n    const cipher = await (0, aesCipher_1.createCipher)();\n    return await cipher.encrypt('aes-256-cbc', key, iv, plaintext);\n}\nexports.aes256CbcEncrypt = aes256CbcEncrypt;\nasync function aes256CbcDecrypt(iv, key, ciphertext) {\n    const cipher = await (0, aesCipher_1.createCipher)();\n    return await cipher.decrypt('aes-256-cbc', key, iv, ciphertext);\n}\nfunction hmacSha256(key, content) {\n    return (0, hmac_1.hmac)(sha256_1.sha256, key, content);\n}\nexports.hmacSha256 = hmacSha256;\nfunction equalsConstTime(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    let res = 0;\n    for (let i = 0; i < a.length; i++) {\n        res |= a[i] ^ b[i];\n    }\n    return res === 0;\n}\nfunction sharedSecretToKeys(sharedSecret) {\n    const hashedSecret = (0, sha2Hash_1.hashSha512Sync)(sharedSecret);\n    return {\n        encryptionKey: hashedSecret.slice(0, 32),\n        hmacKey: hashedSecret.slice(32),\n    };\n}\nfunction allHexChars(maybe) {\n    return maybe.match(/^[0-9a-f]+$/i) !== null;\n}\nfunction isValidPublicKey(pub) {\n    const invalidFormat = {\n        result: false,\n        reason_data: 'Invalid public key format',\n        reason: InvalidPublicKeyReason.InvalidFormat,\n    };\n    const invalidPoint = {\n        result: false,\n        reason_data: 'Public key is not a point',\n        reason: InvalidPublicKeyReason.IsNotPoint,\n    };\n    if (pub.length !== 66 && pub.length !== 130)\n        return invalidFormat;\n    const firstByte = pub.slice(0, 2);\n    if (pub.length === 130 && firstByte !== '04')\n        return invalidFormat;\n    if (pub.length === 66 && firstByte !== '02' && firstByte !== '03')\n        return invalidFormat;\n    if (!allHexChars(pub))\n        return invalidFormat;\n    try {\n        const point = secp256k1_1.Point.fromHex(pub);\n        point.assertValidity();\n        return {\n            result: true,\n            reason_data: null,\n            reason: null,\n        };\n    }\n    catch (e) {\n        return invalidPoint;\n    }\n}\nfunction getHexFromBN(bnInput) {\n    const hexOut = bnInput.toString(16);\n    if (hexOut.length === 64) {\n        return hexOut;\n    }\n    else if (hexOut.length < 64) {\n        const padding = '0'.repeat(64 - hexOut.length);\n        return `${padding}${hexOut}`;\n    }\n    else {\n        throw new Error('Generated a > 32-byte BN for encryption. Failing.');\n    }\n}\nexports.getHexFromBN = getHexFromBN;\nfunction getBytesFromBN(bnInput) {\n    const result = (0, common_1.bigIntToBytes)(bnInput, 32);\n    if (result.byteLength !== 32) {\n        throw new Error('Failed to generate a 32-byte Uint8Array');\n    }\n    return result;\n}\nexports.getBytesFromBN = getBytesFromBN;\nfunction getCipherObjectWrapper(opts) {\n    const shell = {\n        iv: '',\n        ephemeralPK: '',\n        mac: '',\n        cipherText: '',\n        wasString: !!opts.wasString,\n    };\n    if (opts.cipherTextEncoding === 'base64') {\n        shell.cipherTextEncoding = 'base64';\n    }\n    const ivLength = 32;\n    const ephemeralPKLength = 66;\n    const macLength = 64;\n    return {\n        payloadValuesLength: ivLength + ephemeralPKLength + macLength,\n        payloadShell: JSON.stringify(shell),\n    };\n}\nexports.getCipherObjectWrapper = getCipherObjectWrapper;\nfunction getSignedCipherObjectWrapper(payloadShell) {\n    const shell = {\n        signature: '',\n        publicKey: '',\n        cipherText: payloadShell,\n    };\n    const signatureLength = 144;\n    const publicKeyLength = 66;\n    return {\n        signedPayloadValuesLength: signatureLength + publicKeyLength,\n        signedPayloadShell: JSON.stringify(shell),\n    };\n}\nexports.getSignedCipherObjectWrapper = getSignedCipherObjectWrapper;\nfunction eciesGetJsonStringLength(opts) {\n    const { payloadShell, payloadValuesLength } = getCipherObjectWrapper(opts);\n    const cipherTextLength = (0, utils_1.getAesCbcOutputLength)(opts.contentLength);\n    let encodedCipherTextLength;\n    if (!opts.cipherTextEncoding || opts.cipherTextEncoding === 'hex') {\n        encodedCipherTextLength = cipherTextLength * 2;\n    }\n    else if (opts.cipherTextEncoding === 'base64') {\n        encodedCipherTextLength = (0, utils_1.getBase64OutputLength)(cipherTextLength);\n    }\n    else {\n        throw new Error(`Unexpected cipherTextEncoding \"${opts.cipherTextEncoding}\"`);\n    }\n    if (!opts.sign) {\n        return payloadShell.length + payloadValuesLength + encodedCipherTextLength;\n    }\n    else {\n        const { signedPayloadShell, signedPayloadValuesLength } = getSignedCipherObjectWrapper(payloadShell);\n        return (signedPayloadShell.length +\n            signedPayloadValuesLength +\n            payloadValuesLength +\n            encodedCipherTextLength);\n    }\n}\nexports.eciesGetJsonStringLength = eciesGetJsonStringLength;\nasync function encryptECIES(publicKey, content, wasString, cipherTextEncoding) {\n    const validity = isValidPublicKey(publicKey);\n    if (!validity.result) {\n        throw validity;\n    }\n    const ephemeralPrivateKey = secp256k1_1.utils.randomPrivateKey();\n    const ephemeralPublicKey = (0, secp256k1_1.getPublicKey)(ephemeralPrivateKey, true);\n    let sharedSecret = (0, secp256k1_1.getSharedSecret)(ephemeralPrivateKey, publicKey, true);\n    sharedSecret = sharedSecret.slice(1);\n    const sharedKeys = sharedSecretToKeys(sharedSecret);\n    const initializationVector = secp256k1_1.utils.randomBytes(16);\n    const cipherText = await aes256CbcEncrypt(initializationVector, sharedKeys.encryptionKey, content);\n    const macData = (0, common_1.concatBytes)(initializationVector, ephemeralPublicKey, cipherText);\n    const mac = hmacSha256(sharedKeys.hmacKey, macData);\n    let cipherTextString;\n    if (!cipherTextEncoding || cipherTextEncoding === 'hex') {\n        cipherTextString = (0, common_1.bytesToHex)(cipherText);\n    }\n    else if (cipherTextEncoding === 'base64') {\n        cipherTextString = (0, base64_js_1.fromByteArray)(cipherText);\n    }\n    else {\n        throw new Error(`Unexpected cipherTextEncoding \"${cipherTextEncoding}\"`);\n    }\n    const result = {\n        iv: (0, common_1.bytesToHex)(initializationVector),\n        ephemeralPK: (0, common_1.bytesToHex)(ephemeralPublicKey),\n        cipherText: cipherTextString,\n        mac: (0, common_1.bytesToHex)(mac),\n        wasString,\n    };\n    if (cipherTextEncoding && cipherTextEncoding !== 'hex') {\n        result.cipherTextEncoding = cipherTextEncoding;\n    }\n    return result;\n}\nexports.encryptECIES = encryptECIES;\nasync function decryptECIES(privateKey, cipherObject) {\n    if (!cipherObject.ephemeralPK) {\n        throw new common_1.FailedDecryptionError('Unable to get public key from cipher object. ' +\n            'You might be trying to decrypt an unencrypted object.');\n    }\n    const ephemeralPK = cipherObject.ephemeralPK;\n    let sharedSecret = (0, secp256k1_1.getSharedSecret)(privateKey, ephemeralPK, true);\n    sharedSecret = sharedSecret.slice(1);\n    const sharedKeys = sharedSecretToKeys(sharedSecret);\n    const ivBytes = (0, common_1.hexToBytes)(cipherObject.iv);\n    let cipherTextBytes;\n    if (!cipherObject.cipherTextEncoding || cipherObject.cipherTextEncoding === 'hex') {\n        cipherTextBytes = (0, common_1.hexToBytes)(cipherObject.cipherText);\n    }\n    else if (cipherObject.cipherTextEncoding === 'base64') {\n        cipherTextBytes = (0, base64_js_1.toByteArray)(cipherObject.cipherText);\n    }\n    else {\n        throw new Error(`Unexpected cipherTextEncoding \"${cipherObject.cipherText}\"`);\n    }\n    const macData = (0, common_1.concatBytes)(ivBytes, (0, common_1.hexToBytes)(ephemeralPK), cipherTextBytes);\n    const actualMac = hmacSha256(sharedKeys.hmacKey, macData);\n    const expectedMac = (0, common_1.hexToBytes)(cipherObject.mac);\n    if (!equalsConstTime(expectedMac, actualMac)) {\n        throw new common_1.FailedDecryptionError('Decryption failed: failure in MAC check');\n    }\n    const plainText = await aes256CbcDecrypt(ivBytes, sharedKeys.encryptionKey, cipherTextBytes);\n    if (cipherObject.wasString) {\n        return (0, common_1.bytesToUtf8)(plainText);\n    }\n    return plainText;\n}\nexports.decryptECIES = decryptECIES;\nfunction signECDSA(privateKey, content) {\n    const contentBytes = typeof content === 'string' ? (0, common_1.utf8ToBytes)(content) : content;\n    const publicKey = (0, keys_1.getPublicKeyFromPrivate)(privateKey);\n    const contentHash = (0, sha2Hash_1.hashSha256Sync)(contentBytes);\n    const signature = (0, secp256k1_1.signSync)(contentHash, privateKey);\n    return {\n        signature: (0, common_1.bytesToHex)(signature),\n        publicKey,\n    };\n}\nexports.signECDSA = signECDSA;\nfunction verifyECDSA(content, publicKey, signature) {\n    const contentBytes = typeof content === 'string' ? (0, common_1.utf8ToBytes)(content) : content;\n    const contentHash = (0, sha2Hash_1.hashSha256Sync)(contentBytes);\n    return (0, secp256k1_1.verify)(signature, contentHash, publicKey, { strict: false });\n}\nexports.verifyECDSA = verifyECDSA;\nfunction verifyMessageSignature({ signature, message, publicKey, }) {\n    const { r, s } = (0, common_1.parseRecoverableSignatureVrs)(signature);\n    const sig = new secp256k1_1.Signature((0, common_1.hexToBigInt)(r), (0, common_1.hexToBigInt)(s));\n    const hashedMsg = typeof message === 'string' ? (0, messageSignature_1.hashMessage)(message) : message;\n    const verificationResult = (0, secp256k1_1.verify)(sig, hashedMsg, publicKey, { strict: false });\n    if (verificationResult || typeof message !== 'string')\n        return verificationResult;\n    const LEGACY_PREFIX = '\\x18Stacks Message Signing:\\n';\n    const legacyHash = (0, sha256_1.sha256)((0, messageSignature_1.encodeMessage)(message, LEGACY_PREFIX));\n    return (0, secp256k1_1.verify)(sig, legacyHash, publicKey, { strict: false });\n}\nexports.verifyMessageSignature = verifyMessageSignature;\nfunction verifyMessageSignatureRsv({ signature, message, publicKey, }) {\n    return verifyMessageSignature({\n        signature: (0, common_1.signatureRsvToVrs)(signature),\n        message,\n        publicKey,\n    });\n}\nexports.verifyMessageSignatureRsv = verifyMessageSignatureRsv;\n//# sourceMappingURL=ec.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvZWMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUNBQWlDLEdBQUcsOEJBQThCLEdBQUcsbUJBQW1CLEdBQUcsaUJBQWlCLEdBQUcsb0JBQW9CLEdBQUcsb0JBQW9CLEdBQUcsZ0NBQWdDLEdBQUcsb0NBQW9DLEdBQUcsOEJBQThCLEdBQUcsc0JBQXNCLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCLEdBQUcsd0JBQXdCLEdBQUcsOEJBQThCO0FBQ3RZLGVBQWUsbUJBQU8sQ0FBQyxzRUFBb0I7QUFDM0MsaUJBQWlCLG1CQUFPLENBQUMsMEVBQXNCO0FBQy9DLG9CQUFvQixtQkFBTyxDQUFDLDRFQUFrQjtBQUM5QyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsMERBQVc7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsOEVBQWE7QUFDekMsZUFBZSxtQkFBTyxDQUFDLG9FQUFRO0FBQy9CLDJCQUEyQixtQkFBTyxDQUFDLDRGQUFvQjtBQUN2RCxtQkFBbUIsbUJBQU8sQ0FBQyw0RUFBWTtBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxzRUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDZCQUE2Qiw4QkFBOEIsOEJBQThCO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUSxFQUFFLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLFlBQVksb0NBQW9DO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCx3QkFBd0I7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnREFBZ0Q7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELG1CQUFtQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsd0JBQXdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxlQUFlO0FBQ3ZGO0FBQ0EsbUJBQW1CO0FBQ25CLGtDQUFrQyxnQ0FBZ0M7QUFDbEUsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQSxvRkFBb0YsZUFBZTtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxlQUFlO0FBQ2hGO0FBQ0EsOEJBQThCO0FBQzlCLHFDQUFxQyxnQ0FBZ0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpQ0FBaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvZWMuanM/YjY4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmVyaWZ5TWVzc2FnZVNpZ25hdHVyZVJzdiA9IGV4cG9ydHMudmVyaWZ5TWVzc2FnZVNpZ25hdHVyZSA9IGV4cG9ydHMudmVyaWZ5RUNEU0EgPSBleHBvcnRzLnNpZ25FQ0RTQSA9IGV4cG9ydHMuZGVjcnlwdEVDSUVTID0gZXhwb3J0cy5lbmNyeXB0RUNJRVMgPSBleHBvcnRzLmVjaWVzR2V0SnNvblN0cmluZ0xlbmd0aCA9IGV4cG9ydHMuZ2V0U2lnbmVkQ2lwaGVyT2JqZWN0V3JhcHBlciA9IGV4cG9ydHMuZ2V0Q2lwaGVyT2JqZWN0V3JhcHBlciA9IGV4cG9ydHMuZ2V0Qnl0ZXNGcm9tQk4gPSBleHBvcnRzLmdldEhleEZyb21CTiA9IGV4cG9ydHMuaG1hY1NoYTI1NiA9IGV4cG9ydHMuYWVzMjU2Q2JjRW5jcnlwdCA9IGV4cG9ydHMuSW52YWxpZFB1YmxpY0tleVJlYXNvbiA9IHZvaWQgMDtcbmNvbnN0IGhtYWNfMSA9IHJlcXVpcmUoXCJAbm9ibGUvaGFzaGVzL2htYWNcIik7XG5jb25zdCBzaGEyNTZfMSA9IHJlcXVpcmUoXCJAbm9ibGUvaGFzaGVzL3NoYTI1NlwiKTtcbmNvbnN0IHNlY3AyNTZrMV8xID0gcmVxdWlyZShcIkBub2JsZS9zZWNwMjU2azFcIik7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNvbnN0IGJhc2U2NF9qc18xID0gcmVxdWlyZShcImJhc2U2NC1qc1wiKTtcbmNvbnN0IGFlc0NpcGhlcl8xID0gcmVxdWlyZShcIi4vYWVzQ2lwaGVyXCIpO1xuY29uc3Qga2V5c18xID0gcmVxdWlyZShcIi4va2V5c1wiKTtcbmNvbnN0IG1lc3NhZ2VTaWduYXR1cmVfMSA9IHJlcXVpcmUoXCIuL21lc3NhZ2VTaWduYXR1cmVcIik7XG5jb25zdCBzaGEySGFzaF8xID0gcmVxdWlyZShcIi4vc2hhMkhhc2hcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5zZWNwMjU2azFfMS51dGlscy5obWFjU2hhMjU2U3luYyA9IChrZXksIC4uLm1zZ3MpID0+IHtcbiAgICBjb25zdCBoID0gaG1hY18xLmhtYWMuY3JlYXRlKHNoYTI1Nl8xLnNoYTI1Niwga2V5KTtcbiAgICBtc2dzLmZvckVhY2gobXNnID0+IGgudXBkYXRlKG1zZykpO1xuICAgIHJldHVybiBoLmRpZ2VzdCgpO1xufTtcbnZhciBJbnZhbGlkUHVibGljS2V5UmVhc29uO1xuKGZ1bmN0aW9uIChJbnZhbGlkUHVibGljS2V5UmVhc29uKSB7XG4gICAgSW52YWxpZFB1YmxpY0tleVJlYXNvbltcIkludmFsaWRGb3JtYXRcIl0gPSBcIkludmFsaWRGb3JtYXRcIjtcbiAgICBJbnZhbGlkUHVibGljS2V5UmVhc29uW1wiSXNOb3RQb2ludFwiXSA9IFwiSXNOb3RQb2ludFwiO1xufSkoSW52YWxpZFB1YmxpY0tleVJlYXNvbiB8fCAoZXhwb3J0cy5JbnZhbGlkUHVibGljS2V5UmVhc29uID0gSW52YWxpZFB1YmxpY0tleVJlYXNvbiA9IHt9KSk7XG5hc3luYyBmdW5jdGlvbiBhZXMyNTZDYmNFbmNyeXB0KGl2LCBrZXksIHBsYWludGV4dCkge1xuICAgIGNvbnN0IGNpcGhlciA9IGF3YWl0ICgwLCBhZXNDaXBoZXJfMS5jcmVhdGVDaXBoZXIpKCk7XG4gICAgcmV0dXJuIGF3YWl0IGNpcGhlci5lbmNyeXB0KCdhZXMtMjU2LWNiYycsIGtleSwgaXYsIHBsYWludGV4dCk7XG59XG5leHBvcnRzLmFlczI1NkNiY0VuY3J5cHQgPSBhZXMyNTZDYmNFbmNyeXB0O1xuYXN5bmMgZnVuY3Rpb24gYWVzMjU2Q2JjRGVjcnlwdChpdiwga2V5LCBjaXBoZXJ0ZXh0KSB7XG4gICAgY29uc3QgY2lwaGVyID0gYXdhaXQgKDAsIGFlc0NpcGhlcl8xLmNyZWF0ZUNpcGhlcikoKTtcbiAgICByZXR1cm4gYXdhaXQgY2lwaGVyLmRlY3J5cHQoJ2Flcy0yNTYtY2JjJywga2V5LCBpdiwgY2lwaGVydGV4dCk7XG59XG5mdW5jdGlvbiBobWFjU2hhMjU2KGtleSwgY29udGVudCkge1xuICAgIHJldHVybiAoMCwgaG1hY18xLmhtYWMpKHNoYTI1Nl8xLnNoYTI1Niwga2V5LCBjb250ZW50KTtcbn1cbmV4cG9ydHMuaG1hY1NoYTI1NiA9IGhtYWNTaGEyNTY7XG5mdW5jdGlvbiBlcXVhbHNDb25zdFRpbWUoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgcmVzID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzIHw9IGFbaV0gXiBiW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzID09PSAwO1xufVxuZnVuY3Rpb24gc2hhcmVkU2VjcmV0VG9LZXlzKHNoYXJlZFNlY3JldCkge1xuICAgIGNvbnN0IGhhc2hlZFNlY3JldCA9ICgwLCBzaGEySGFzaF8xLmhhc2hTaGE1MTJTeW5jKShzaGFyZWRTZWNyZXQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVuY3J5cHRpb25LZXk6IGhhc2hlZFNlY3JldC5zbGljZSgwLCAzMiksXG4gICAgICAgIGhtYWNLZXk6IGhhc2hlZFNlY3JldC5zbGljZSgzMiksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGFsbEhleENoYXJzKG1heWJlKSB7XG4gICAgcmV0dXJuIG1heWJlLm1hdGNoKC9eWzAtOWEtZl0rJC9pKSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRQdWJsaWNLZXkocHViKSB7XG4gICAgY29uc3QgaW52YWxpZEZvcm1hdCA9IHtcbiAgICAgICAgcmVzdWx0OiBmYWxzZSxcbiAgICAgICAgcmVhc29uX2RhdGE6ICdJbnZhbGlkIHB1YmxpYyBrZXkgZm9ybWF0JyxcbiAgICAgICAgcmVhc29uOiBJbnZhbGlkUHVibGljS2V5UmVhc29uLkludmFsaWRGb3JtYXQsXG4gICAgfTtcbiAgICBjb25zdCBpbnZhbGlkUG9pbnQgPSB7XG4gICAgICAgIHJlc3VsdDogZmFsc2UsXG4gICAgICAgIHJlYXNvbl9kYXRhOiAnUHVibGljIGtleSBpcyBub3QgYSBwb2ludCcsXG4gICAgICAgIHJlYXNvbjogSW52YWxpZFB1YmxpY0tleVJlYXNvbi5Jc05vdFBvaW50LFxuICAgIH07XG4gICAgaWYgKHB1Yi5sZW5ndGggIT09IDY2ICYmIHB1Yi5sZW5ndGggIT09IDEzMClcbiAgICAgICAgcmV0dXJuIGludmFsaWRGb3JtYXQ7XG4gICAgY29uc3QgZmlyc3RCeXRlID0gcHViLnNsaWNlKDAsIDIpO1xuICAgIGlmIChwdWIubGVuZ3RoID09PSAxMzAgJiYgZmlyc3RCeXRlICE9PSAnMDQnKVxuICAgICAgICByZXR1cm4gaW52YWxpZEZvcm1hdDtcbiAgICBpZiAocHViLmxlbmd0aCA9PT0gNjYgJiYgZmlyc3RCeXRlICE9PSAnMDInICYmIGZpcnN0Qnl0ZSAhPT0gJzAzJylcbiAgICAgICAgcmV0dXJuIGludmFsaWRGb3JtYXQ7XG4gICAgaWYgKCFhbGxIZXhDaGFycyhwdWIpKVxuICAgICAgICByZXR1cm4gaW52YWxpZEZvcm1hdDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHNlY3AyNTZrMV8xLlBvaW50LmZyb21IZXgocHViKTtcbiAgICAgICAgcG9pbnQuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgIHJlYXNvbl9kYXRhOiBudWxsLFxuICAgICAgICAgICAgcmVhc29uOiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gaW52YWxpZFBvaW50O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEhleEZyb21CTihibklucHV0KSB7XG4gICAgY29uc3QgaGV4T3V0ID0gYm5JbnB1dC50b1N0cmluZygxNik7XG4gICAgaWYgKGhleE91dC5sZW5ndGggPT09IDY0KSB7XG4gICAgICAgIHJldHVybiBoZXhPdXQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhleE91dC5sZW5ndGggPCA2NCkge1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gJzAnLnJlcGVhdCg2NCAtIGhleE91dC5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gYCR7cGFkZGluZ30ke2hleE91dH1gO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHZW5lcmF0ZWQgYSA+IDMyLWJ5dGUgQk4gZm9yIGVuY3J5cHRpb24uIEZhaWxpbmcuJyk7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRIZXhGcm9tQk4gPSBnZXRIZXhGcm9tQk47XG5mdW5jdGlvbiBnZXRCeXRlc0Zyb21CTihibklucHV0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gKDAsIGNvbW1vbl8xLmJpZ0ludFRvQnl0ZXMpKGJuSW5wdXQsIDMyKTtcbiAgICBpZiAocmVzdWx0LmJ5dGVMZW5ndGggIT09IDMyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIGEgMzItYnl0ZSBVaW50OEFycmF5Jyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmdldEJ5dGVzRnJvbUJOID0gZ2V0Qnl0ZXNGcm9tQk47XG5mdW5jdGlvbiBnZXRDaXBoZXJPYmplY3RXcmFwcGVyKG9wdHMpIHtcbiAgICBjb25zdCBzaGVsbCA9IHtcbiAgICAgICAgaXY6ICcnLFxuICAgICAgICBlcGhlbWVyYWxQSzogJycsXG4gICAgICAgIG1hYzogJycsXG4gICAgICAgIGNpcGhlclRleHQ6ICcnLFxuICAgICAgICB3YXNTdHJpbmc6ICEhb3B0cy53YXNTdHJpbmcsXG4gICAgfTtcbiAgICBpZiAob3B0cy5jaXBoZXJUZXh0RW5jb2RpbmcgPT09ICdiYXNlNjQnKSB7XG4gICAgICAgIHNoZWxsLmNpcGhlclRleHRFbmNvZGluZyA9ICdiYXNlNjQnO1xuICAgIH1cbiAgICBjb25zdCBpdkxlbmd0aCA9IDMyO1xuICAgIGNvbnN0IGVwaGVtZXJhbFBLTGVuZ3RoID0gNjY7XG4gICAgY29uc3QgbWFjTGVuZ3RoID0gNjQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGF5bG9hZFZhbHVlc0xlbmd0aDogaXZMZW5ndGggKyBlcGhlbWVyYWxQS0xlbmd0aCArIG1hY0xlbmd0aCxcbiAgICAgICAgcGF5bG9hZFNoZWxsOiBKU09OLnN0cmluZ2lmeShzaGVsbCksXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2V0Q2lwaGVyT2JqZWN0V3JhcHBlciA9IGdldENpcGhlck9iamVjdFdyYXBwZXI7XG5mdW5jdGlvbiBnZXRTaWduZWRDaXBoZXJPYmplY3RXcmFwcGVyKHBheWxvYWRTaGVsbCkge1xuICAgIGNvbnN0IHNoZWxsID0ge1xuICAgICAgICBzaWduYXR1cmU6ICcnLFxuICAgICAgICBwdWJsaWNLZXk6ICcnLFxuICAgICAgICBjaXBoZXJUZXh0OiBwYXlsb2FkU2hlbGwsXG4gICAgfTtcbiAgICBjb25zdCBzaWduYXR1cmVMZW5ndGggPSAxNDQ7XG4gICAgY29uc3QgcHVibGljS2V5TGVuZ3RoID0gNjY7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2lnbmVkUGF5bG9hZFZhbHVlc0xlbmd0aDogc2lnbmF0dXJlTGVuZ3RoICsgcHVibGljS2V5TGVuZ3RoLFxuICAgICAgICBzaWduZWRQYXlsb2FkU2hlbGw6IEpTT04uc3RyaW5naWZ5KHNoZWxsKSxcbiAgICB9O1xufVxuZXhwb3J0cy5nZXRTaWduZWRDaXBoZXJPYmplY3RXcmFwcGVyID0gZ2V0U2lnbmVkQ2lwaGVyT2JqZWN0V3JhcHBlcjtcbmZ1bmN0aW9uIGVjaWVzR2V0SnNvblN0cmluZ0xlbmd0aChvcHRzKSB7XG4gICAgY29uc3QgeyBwYXlsb2FkU2hlbGwsIHBheWxvYWRWYWx1ZXNMZW5ndGggfSA9IGdldENpcGhlck9iamVjdFdyYXBwZXIob3B0cyk7XG4gICAgY29uc3QgY2lwaGVyVGV4dExlbmd0aCA9ICgwLCB1dGlsc18xLmdldEFlc0NiY091dHB1dExlbmd0aCkob3B0cy5jb250ZW50TGVuZ3RoKTtcbiAgICBsZXQgZW5jb2RlZENpcGhlclRleHRMZW5ndGg7XG4gICAgaWYgKCFvcHRzLmNpcGhlclRleHRFbmNvZGluZyB8fCBvcHRzLmNpcGhlclRleHRFbmNvZGluZyA9PT0gJ2hleCcpIHtcbiAgICAgICAgZW5jb2RlZENpcGhlclRleHRMZW5ndGggPSBjaXBoZXJUZXh0TGVuZ3RoICogMjtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0cy5jaXBoZXJUZXh0RW5jb2RpbmcgPT09ICdiYXNlNjQnKSB7XG4gICAgICAgIGVuY29kZWRDaXBoZXJUZXh0TGVuZ3RoID0gKDAsIHV0aWxzXzEuZ2V0QmFzZTY0T3V0cHV0TGVuZ3RoKShjaXBoZXJUZXh0TGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBjaXBoZXJUZXh0RW5jb2RpbmcgXCIke29wdHMuY2lwaGVyVGV4dEVuY29kaW5nfVwiYCk7XG4gICAgfVxuICAgIGlmICghb3B0cy5zaWduKSB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkU2hlbGwubGVuZ3RoICsgcGF5bG9hZFZhbHVlc0xlbmd0aCArIGVuY29kZWRDaXBoZXJUZXh0TGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBzaWduZWRQYXlsb2FkU2hlbGwsIHNpZ25lZFBheWxvYWRWYWx1ZXNMZW5ndGggfSA9IGdldFNpZ25lZENpcGhlck9iamVjdFdyYXBwZXIocGF5bG9hZFNoZWxsKTtcbiAgICAgICAgcmV0dXJuIChzaWduZWRQYXlsb2FkU2hlbGwubGVuZ3RoICtcbiAgICAgICAgICAgIHNpZ25lZFBheWxvYWRWYWx1ZXNMZW5ndGggK1xuICAgICAgICAgICAgcGF5bG9hZFZhbHVlc0xlbmd0aCArXG4gICAgICAgICAgICBlbmNvZGVkQ2lwaGVyVGV4dExlbmd0aCk7XG4gICAgfVxufVxuZXhwb3J0cy5lY2llc0dldEpzb25TdHJpbmdMZW5ndGggPSBlY2llc0dldEpzb25TdHJpbmdMZW5ndGg7XG5hc3luYyBmdW5jdGlvbiBlbmNyeXB0RUNJRVMocHVibGljS2V5LCBjb250ZW50LCB3YXNTdHJpbmcsIGNpcGhlclRleHRFbmNvZGluZykge1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gaXNWYWxpZFB1YmxpY0tleShwdWJsaWNLZXkpO1xuICAgIGlmICghdmFsaWRpdHkucmVzdWx0KSB7XG4gICAgICAgIHRocm93IHZhbGlkaXR5O1xuICAgIH1cbiAgICBjb25zdCBlcGhlbWVyYWxQcml2YXRlS2V5ID0gc2VjcDI1NmsxXzEudXRpbHMucmFuZG9tUHJpdmF0ZUtleSgpO1xuICAgIGNvbnN0IGVwaGVtZXJhbFB1YmxpY0tleSA9ICgwLCBzZWNwMjU2azFfMS5nZXRQdWJsaWNLZXkpKGVwaGVtZXJhbFByaXZhdGVLZXksIHRydWUpO1xuICAgIGxldCBzaGFyZWRTZWNyZXQgPSAoMCwgc2VjcDI1NmsxXzEuZ2V0U2hhcmVkU2VjcmV0KShlcGhlbWVyYWxQcml2YXRlS2V5LCBwdWJsaWNLZXksIHRydWUpO1xuICAgIHNoYXJlZFNlY3JldCA9IHNoYXJlZFNlY3JldC5zbGljZSgxKTtcbiAgICBjb25zdCBzaGFyZWRLZXlzID0gc2hhcmVkU2VjcmV0VG9LZXlzKHNoYXJlZFNlY3JldCk7XG4gICAgY29uc3QgaW5pdGlhbGl6YXRpb25WZWN0b3IgPSBzZWNwMjU2azFfMS51dGlscy5yYW5kb21CeXRlcygxNik7XG4gICAgY29uc3QgY2lwaGVyVGV4dCA9IGF3YWl0IGFlczI1NkNiY0VuY3J5cHQoaW5pdGlhbGl6YXRpb25WZWN0b3IsIHNoYXJlZEtleXMuZW5jcnlwdGlvbktleSwgY29udGVudCk7XG4gICAgY29uc3QgbWFjRGF0YSA9ICgwLCBjb21tb25fMS5jb25jYXRCeXRlcykoaW5pdGlhbGl6YXRpb25WZWN0b3IsIGVwaGVtZXJhbFB1YmxpY0tleSwgY2lwaGVyVGV4dCk7XG4gICAgY29uc3QgbWFjID0gaG1hY1NoYTI1NihzaGFyZWRLZXlzLmhtYWNLZXksIG1hY0RhdGEpO1xuICAgIGxldCBjaXBoZXJUZXh0U3RyaW5nO1xuICAgIGlmICghY2lwaGVyVGV4dEVuY29kaW5nIHx8IGNpcGhlclRleHRFbmNvZGluZyA9PT0gJ2hleCcpIHtcbiAgICAgICAgY2lwaGVyVGV4dFN0cmluZyA9ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShjaXBoZXJUZXh0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2lwaGVyVGV4dEVuY29kaW5nID09PSAnYmFzZTY0Jykge1xuICAgICAgICBjaXBoZXJUZXh0U3RyaW5nID0gKDAsIGJhc2U2NF9qc18xLmZyb21CeXRlQXJyYXkpKGNpcGhlclRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGNpcGhlclRleHRFbmNvZGluZyBcIiR7Y2lwaGVyVGV4dEVuY29kaW5nfVwiYCk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgaXY6ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShpbml0aWFsaXphdGlvblZlY3RvciksXG4gICAgICAgIGVwaGVtZXJhbFBLOiAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoZXBoZW1lcmFsUHVibGljS2V5KSxcbiAgICAgICAgY2lwaGVyVGV4dDogY2lwaGVyVGV4dFN0cmluZyxcbiAgICAgICAgbWFjOiAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkobWFjKSxcbiAgICAgICAgd2FzU3RyaW5nLFxuICAgIH07XG4gICAgaWYgKGNpcGhlclRleHRFbmNvZGluZyAmJiBjaXBoZXJUZXh0RW5jb2RpbmcgIT09ICdoZXgnKSB7XG4gICAgICAgIHJlc3VsdC5jaXBoZXJUZXh0RW5jb2RpbmcgPSBjaXBoZXJUZXh0RW5jb2Rpbmc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmVuY3J5cHRFQ0lFUyA9IGVuY3J5cHRFQ0lFUztcbmFzeW5jIGZ1bmN0aW9uIGRlY3J5cHRFQ0lFUyhwcml2YXRlS2V5LCBjaXBoZXJPYmplY3QpIHtcbiAgICBpZiAoIWNpcGhlck9iamVjdC5lcGhlbWVyYWxQSykge1xuICAgICAgICB0aHJvdyBuZXcgY29tbW9uXzEuRmFpbGVkRGVjcnlwdGlvbkVycm9yKCdVbmFibGUgdG8gZ2V0IHB1YmxpYyBrZXkgZnJvbSBjaXBoZXIgb2JqZWN0LiAnICtcbiAgICAgICAgICAgICdZb3UgbWlnaHQgYmUgdHJ5aW5nIHRvIGRlY3J5cHQgYW4gdW5lbmNyeXB0ZWQgb2JqZWN0LicpO1xuICAgIH1cbiAgICBjb25zdCBlcGhlbWVyYWxQSyA9IGNpcGhlck9iamVjdC5lcGhlbWVyYWxQSztcbiAgICBsZXQgc2hhcmVkU2VjcmV0ID0gKDAsIHNlY3AyNTZrMV8xLmdldFNoYXJlZFNlY3JldCkocHJpdmF0ZUtleSwgZXBoZW1lcmFsUEssIHRydWUpO1xuICAgIHNoYXJlZFNlY3JldCA9IHNoYXJlZFNlY3JldC5zbGljZSgxKTtcbiAgICBjb25zdCBzaGFyZWRLZXlzID0gc2hhcmVkU2VjcmV0VG9LZXlzKHNoYXJlZFNlY3JldCk7XG4gICAgY29uc3QgaXZCeXRlcyA9ICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShjaXBoZXJPYmplY3QuaXYpO1xuICAgIGxldCBjaXBoZXJUZXh0Qnl0ZXM7XG4gICAgaWYgKCFjaXBoZXJPYmplY3QuY2lwaGVyVGV4dEVuY29kaW5nIHx8IGNpcGhlck9iamVjdC5jaXBoZXJUZXh0RW5jb2RpbmcgPT09ICdoZXgnKSB7XG4gICAgICAgIGNpcGhlclRleHRCeXRlcyA9ICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShjaXBoZXJPYmplY3QuY2lwaGVyVGV4dCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNpcGhlck9iamVjdC5jaXBoZXJUZXh0RW5jb2RpbmcgPT09ICdiYXNlNjQnKSB7XG4gICAgICAgIGNpcGhlclRleHRCeXRlcyA9ICgwLCBiYXNlNjRfanNfMS50b0J5dGVBcnJheSkoY2lwaGVyT2JqZWN0LmNpcGhlclRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGNpcGhlclRleHRFbmNvZGluZyBcIiR7Y2lwaGVyT2JqZWN0LmNpcGhlclRleHR9XCJgKTtcbiAgICB9XG4gICAgY29uc3QgbWFjRGF0YSA9ICgwLCBjb21tb25fMS5jb25jYXRCeXRlcykoaXZCeXRlcywgKDAsIGNvbW1vbl8xLmhleFRvQnl0ZXMpKGVwaGVtZXJhbFBLKSwgY2lwaGVyVGV4dEJ5dGVzKTtcbiAgICBjb25zdCBhY3R1YWxNYWMgPSBobWFjU2hhMjU2KHNoYXJlZEtleXMuaG1hY0tleSwgbWFjRGF0YSk7XG4gICAgY29uc3QgZXhwZWN0ZWRNYWMgPSAoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoY2lwaGVyT2JqZWN0Lm1hYyk7XG4gICAgaWYgKCFlcXVhbHNDb25zdFRpbWUoZXhwZWN0ZWRNYWMsIGFjdHVhbE1hYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IGNvbW1vbl8xLkZhaWxlZERlY3J5cHRpb25FcnJvcignRGVjcnlwdGlvbiBmYWlsZWQ6IGZhaWx1cmUgaW4gTUFDIGNoZWNrJyk7XG4gICAgfVxuICAgIGNvbnN0IHBsYWluVGV4dCA9IGF3YWl0IGFlczI1NkNiY0RlY3J5cHQoaXZCeXRlcywgc2hhcmVkS2V5cy5lbmNyeXB0aW9uS2V5LCBjaXBoZXJUZXh0Qnl0ZXMpO1xuICAgIGlmIChjaXBoZXJPYmplY3Qud2FzU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAoMCwgY29tbW9uXzEuYnl0ZXNUb1V0ZjgpKHBsYWluVGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBwbGFpblRleHQ7XG59XG5leHBvcnRzLmRlY3J5cHRFQ0lFUyA9IGRlY3J5cHRFQ0lFUztcbmZ1bmN0aW9uIHNpZ25FQ0RTQShwcml2YXRlS2V5LCBjb250ZW50KSB7XG4gICAgY29uc3QgY29udGVudEJ5dGVzID0gdHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnID8gKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShjb250ZW50KSA6IGNvbnRlbnQ7XG4gICAgY29uc3QgcHVibGljS2V5ID0gKDAsIGtleXNfMS5nZXRQdWJsaWNLZXlGcm9tUHJpdmF0ZSkocHJpdmF0ZUtleSk7XG4gICAgY29uc3QgY29udGVudEhhc2ggPSAoMCwgc2hhMkhhc2hfMS5oYXNoU2hhMjU2U3luYykoY29udGVudEJ5dGVzKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSAoMCwgc2VjcDI1NmsxXzEuc2lnblN5bmMpKGNvbnRlbnRIYXNoLCBwcml2YXRlS2V5KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzaWduYXR1cmU6ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShzaWduYXR1cmUpLFxuICAgICAgICBwdWJsaWNLZXksXG4gICAgfTtcbn1cbmV4cG9ydHMuc2lnbkVDRFNBID0gc2lnbkVDRFNBO1xuZnVuY3Rpb24gdmVyaWZ5RUNEU0EoY29udGVudCwgcHVibGljS2V5LCBzaWduYXR1cmUpIHtcbiAgICBjb25zdCBjb250ZW50Qnl0ZXMgPSB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgPyAoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKGNvbnRlbnQpIDogY29udGVudDtcbiAgICBjb25zdCBjb250ZW50SGFzaCA9ICgwLCBzaGEySGFzaF8xLmhhc2hTaGEyNTZTeW5jKShjb250ZW50Qnl0ZXMpO1xuICAgIHJldHVybiAoMCwgc2VjcDI1NmsxXzEudmVyaWZ5KShzaWduYXR1cmUsIGNvbnRlbnRIYXNoLCBwdWJsaWNLZXksIHsgc3RyaWN0OiBmYWxzZSB9KTtcbn1cbmV4cG9ydHMudmVyaWZ5RUNEU0EgPSB2ZXJpZnlFQ0RTQTtcbmZ1bmN0aW9uIHZlcmlmeU1lc3NhZ2VTaWduYXR1cmUoeyBzaWduYXR1cmUsIG1lc3NhZ2UsIHB1YmxpY0tleSwgfSkge1xuICAgIGNvbnN0IHsgciwgcyB9ID0gKDAsIGNvbW1vbl8xLnBhcnNlUmVjb3ZlcmFibGVTaWduYXR1cmVWcnMpKHNpZ25hdHVyZSk7XG4gICAgY29uc3Qgc2lnID0gbmV3IHNlY3AyNTZrMV8xLlNpZ25hdHVyZSgoMCwgY29tbW9uXzEuaGV4VG9CaWdJbnQpKHIpLCAoMCwgY29tbW9uXzEuaGV4VG9CaWdJbnQpKHMpKTtcbiAgICBjb25zdCBoYXNoZWRNc2cgPSB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgPyAoMCwgbWVzc2FnZVNpZ25hdHVyZV8xLmhhc2hNZXNzYWdlKShtZXNzYWdlKSA6IG1lc3NhZ2U7XG4gICAgY29uc3QgdmVyaWZpY2F0aW9uUmVzdWx0ID0gKDAsIHNlY3AyNTZrMV8xLnZlcmlmeSkoc2lnLCBoYXNoZWRNc2csIHB1YmxpY0tleSwgeyBzdHJpY3Q6IGZhbHNlIH0pO1xuICAgIGlmICh2ZXJpZmljYXRpb25SZXN1bHQgfHwgdHlwZW9mIG1lc3NhZ2UgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gdmVyaWZpY2F0aW9uUmVzdWx0O1xuICAgIGNvbnN0IExFR0FDWV9QUkVGSVggPSAnXFx4MThTdGFja3MgTWVzc2FnZSBTaWduaW5nOlxcbic7XG4gICAgY29uc3QgbGVnYWN5SGFzaCA9ICgwLCBzaGEyNTZfMS5zaGEyNTYpKCgwLCBtZXNzYWdlU2lnbmF0dXJlXzEuZW5jb2RlTWVzc2FnZSkobWVzc2FnZSwgTEVHQUNZX1BSRUZJWCkpO1xuICAgIHJldHVybiAoMCwgc2VjcDI1NmsxXzEudmVyaWZ5KShzaWcsIGxlZ2FjeUhhc2gsIHB1YmxpY0tleSwgeyBzdHJpY3Q6IGZhbHNlIH0pO1xufVxuZXhwb3J0cy52ZXJpZnlNZXNzYWdlU2lnbmF0dXJlID0gdmVyaWZ5TWVzc2FnZVNpZ25hdHVyZTtcbmZ1bmN0aW9uIHZlcmlmeU1lc3NhZ2VTaWduYXR1cmVSc3YoeyBzaWduYXR1cmUsIG1lc3NhZ2UsIHB1YmxpY0tleSwgfSkge1xuICAgIHJldHVybiB2ZXJpZnlNZXNzYWdlU2lnbmF0dXJlKHtcbiAgICAgICAgc2lnbmF0dXJlOiAoMCwgY29tbW9uXzEuc2lnbmF0dXJlUnN2VG9WcnMpKHNpZ25hdHVyZSksXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHB1YmxpY0tleSxcbiAgICB9KTtcbn1cbmV4cG9ydHMudmVyaWZ5TWVzc2FnZVNpZ25hdHVyZVJzdiA9IHZlcmlmeU1lc3NhZ2VTaWduYXR1cmVSc3Y7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lYy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/ec.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/encryption.js":
/*!************************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/encryption.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.decryptContent = exports.encryptContent = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst ec_1 = __webpack_require__(/*! ./ec */ \"(ssr)/./node_modules/@stacks/encryption/dist/ec.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/encryption/dist/keys.js\");\nasync function encryptContent(content, options) {\n    const opts = Object.assign({}, options);\n    let privateKey;\n    if (!opts.publicKey) {\n        if (!opts.privateKey) {\n            throw new Error('Either public key or private key must be supplied for encryption.');\n        }\n        opts.publicKey = (0, keys_1.getPublicKeyFromPrivate)(opts.privateKey);\n    }\n    const wasString = typeof opts.wasString === 'boolean' ? opts.wasString : typeof content === 'string';\n    const contentBytes = typeof content === 'string' ? (0, common_1.utf8ToBytes)(content) : content;\n    const cipherObject = await (0, ec_1.encryptECIES)(opts.publicKey, contentBytes, wasString, opts.cipherTextEncoding);\n    let cipherPayload = JSON.stringify(cipherObject);\n    if (opts.sign) {\n        if (typeof opts.sign === 'string') {\n            privateKey = opts.sign;\n        }\n        else if (!privateKey) {\n            privateKey = opts.privateKey;\n        }\n        const signatureObject = (0, ec_1.signECDSA)(privateKey, cipherPayload);\n        const signedCipherObject = {\n            signature: signatureObject.signature,\n            publicKey: signatureObject.publicKey,\n            cipherText: cipherPayload,\n        };\n        cipherPayload = JSON.stringify(signedCipherObject);\n    }\n    return cipherPayload;\n}\nexports.encryptContent = encryptContent;\nfunction decryptContent(content, options) {\n    const opts = Object.assign({}, options);\n    if (!opts.privateKey) {\n        throw new Error('Private key is required for decryption.');\n    }\n    try {\n        const cipherObject = JSON.parse(content);\n        return (0, ec_1.decryptECIES)(opts.privateKey, cipherObject);\n    }\n    catch (err) {\n        if (err instanceof SyntaxError) {\n            throw new Error('Failed to parse encrypted content JSON. The content may not ' +\n                'be encrypted. If using getFile, try passing { decrypt: false }.');\n        }\n        else {\n            throw err;\n        }\n    }\n}\nexports.decryptContent = decryptContent;\n//# sourceMappingURL=encryption.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvZW5jcnlwdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0IsR0FBRyxzQkFBc0I7QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMseUVBQWdCO0FBQ3pDLGFBQWEsbUJBQU8sQ0FBQyxnRUFBTTtBQUMzQixlQUFlLG1CQUFPLENBQUMsb0VBQVE7QUFDL0I7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsZ0JBQWdCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2VuY3J5cHRpb24vZGlzdC9lbmNyeXB0aW9uLmpzP2VhYzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlY3J5cHRDb250ZW50ID0gZXhwb3J0cy5lbmNyeXB0Q29udGVudCA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgZWNfMSA9IHJlcXVpcmUoXCIuL2VjXCIpO1xuY29uc3Qga2V5c18xID0gcmVxdWlyZShcIi4va2V5c1wiKTtcbmFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRDb250ZW50KGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgbGV0IHByaXZhdGVLZXk7XG4gICAgaWYgKCFvcHRzLnB1YmxpY0tleSkge1xuICAgICAgICBpZiAoIW9wdHMucHJpdmF0ZUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFaXRoZXIgcHVibGljIGtleSBvciBwcml2YXRlIGtleSBtdXN0IGJlIHN1cHBsaWVkIGZvciBlbmNyeXB0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMucHVibGljS2V5ID0gKDAsIGtleXNfMS5nZXRQdWJsaWNLZXlGcm9tUHJpdmF0ZSkob3B0cy5wcml2YXRlS2V5KTtcbiAgICB9XG4gICAgY29uc3Qgd2FzU3RyaW5nID0gdHlwZW9mIG9wdHMud2FzU3RyaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLndhc1N0cmluZyA6IHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJztcbiAgICBjb25zdCBjb250ZW50Qnl0ZXMgPSB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgPyAoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKGNvbnRlbnQpIDogY29udGVudDtcbiAgICBjb25zdCBjaXBoZXJPYmplY3QgPSBhd2FpdCAoMCwgZWNfMS5lbmNyeXB0RUNJRVMpKG9wdHMucHVibGljS2V5LCBjb250ZW50Qnl0ZXMsIHdhc1N0cmluZywgb3B0cy5jaXBoZXJUZXh0RW5jb2RpbmcpO1xuICAgIGxldCBjaXBoZXJQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoY2lwaGVyT2JqZWN0KTtcbiAgICBpZiAob3B0cy5zaWduKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5zaWduID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcHJpdmF0ZUtleSA9IG9wdHMuc2lnbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghcHJpdmF0ZUtleSkge1xuICAgICAgICAgICAgcHJpdmF0ZUtleSA9IG9wdHMucHJpdmF0ZUtleTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaWduYXR1cmVPYmplY3QgPSAoMCwgZWNfMS5zaWduRUNEU0EpKHByaXZhdGVLZXksIGNpcGhlclBheWxvYWQpO1xuICAgICAgICBjb25zdCBzaWduZWRDaXBoZXJPYmplY3QgPSB7XG4gICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZU9iamVjdC5zaWduYXR1cmUsXG4gICAgICAgICAgICBwdWJsaWNLZXk6IHNpZ25hdHVyZU9iamVjdC5wdWJsaWNLZXksXG4gICAgICAgICAgICBjaXBoZXJUZXh0OiBjaXBoZXJQYXlsb2FkLFxuICAgICAgICB9O1xuICAgICAgICBjaXBoZXJQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoc2lnbmVkQ2lwaGVyT2JqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNpcGhlclBheWxvYWQ7XG59XG5leHBvcnRzLmVuY3J5cHRDb250ZW50ID0gZW5jcnlwdENvbnRlbnQ7XG5mdW5jdGlvbiBkZWNyeXB0Q29udGVudChjb250ZW50LCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgIGlmICghb3B0cy5wcml2YXRlS2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJpdmF0ZSBrZXkgaXMgcmVxdWlyZWQgZm9yIGRlY3J5cHRpb24uJyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNpcGhlck9iamVjdCA9IEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgICAgIHJldHVybiAoMCwgZWNfMS5kZWNyeXB0RUNJRVMpKG9wdHMucHJpdmF0ZUtleSwgY2lwaGVyT2JqZWN0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHBhcnNlIGVuY3J5cHRlZCBjb250ZW50IEpTT04uIFRoZSBjb250ZW50IG1heSBub3QgJyArXG4gICAgICAgICAgICAgICAgJ2JlIGVuY3J5cHRlZC4gSWYgdXNpbmcgZ2V0RmlsZSwgdHJ5IHBhc3NpbmcgeyBkZWNyeXB0OiBmYWxzZSB9LicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5kZWNyeXB0Q29udGVudCA9IGRlY3J5cHRDb250ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jcnlwdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/encryption.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/hashRipemd160.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/hashRipemd160.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.hashRipemd160 = void 0;\nconst ripemd160_1 = __webpack_require__(/*! @noble/hashes/ripemd160 */ \"(ssr)/./node_modules/@noble/hashes/ripemd160.js\");\nfunction hashRipemd160(data) {\n    return (0, ripemd160_1.ripemd160)(data);\n}\nexports.hashRipemd160 = hashRipemd160;\n//# sourceMappingURL=hashRipemd160.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvaGFzaFJpcGVtZDE2MC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsb0JBQW9CLG1CQUFPLENBQUMsZ0ZBQXlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2VuY3J5cHRpb24vZGlzdC9oYXNoUmlwZW1kMTYwLmpzP2IzOTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmhhc2hSaXBlbWQxNjAgPSB2b2lkIDA7XG5jb25zdCByaXBlbWQxNjBfMSA9IHJlcXVpcmUoXCJAbm9ibGUvaGFzaGVzL3JpcGVtZDE2MFwiKTtcbmZ1bmN0aW9uIGhhc2hSaXBlbWQxNjAoZGF0YSkge1xuICAgIHJldHVybiAoMCwgcmlwZW1kMTYwXzEucmlwZW1kMTYwKShkYXRhKTtcbn1cbmV4cG9ydHMuaGFzaFJpcGVtZDE2MCA9IGhhc2hSaXBlbWQxNjA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXNoUmlwZW1kMTYwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/hashRipemd160.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.decryptMnemonic = exports.encryptMnemonic = void 0;\n__exportStar(__webpack_require__(/*! ./ec */ \"(ssr)/./node_modules/@stacks/encryption/dist/ec.js\"), exports);\n__exportStar(__webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/encryption/dist/keys.js\"), exports);\n__exportStar(__webpack_require__(/*! ./cryptoRandom */ \"(ssr)/./node_modules/@stacks/encryption/dist/cryptoRandom.js\"), exports);\n__exportStar(__webpack_require__(/*! ./sha2Hash */ \"(ssr)/./node_modules/@stacks/encryption/dist/sha2Hash.js\"), exports);\n__exportStar(__webpack_require__(/*! ./encryption */ \"(ssr)/./node_modules/@stacks/encryption/dist/encryption.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/encryption/dist/utils.js\"), exports);\n__exportStar(__webpack_require__(/*! ./messageSignature */ \"(ssr)/./node_modules/@stacks/encryption/dist/messageSignature.js\"), exports);\nvar wallet_1 = __webpack_require__(/*! ./wallet */ \"(ssr)/./node_modules/@stacks/encryption/dist/wallet.js\");\nObject.defineProperty(exports, \"encryptMnemonic\", ({ enumerable: true, get: function () { return wallet_1.encryptMnemonic; } }));\nObject.defineProperty(exports, \"decryptMnemonic\", ({ enumerable: true, get: function () { return wallet_1.decryptMnemonic; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsdUJBQXVCO0FBQ2pELGFBQWEsbUJBQU8sQ0FBQyxnRUFBTTtBQUMzQixhQUFhLG1CQUFPLENBQUMsb0VBQVE7QUFDN0IsYUFBYSxtQkFBTyxDQUFDLG9GQUFnQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMsNEVBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLGdGQUFjO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyxzRUFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsNEZBQW9CO0FBQ3pDLGVBQWUsbUJBQU8sQ0FBQyx3RUFBVTtBQUNqQyxtREFBa0QsRUFBRSxxQ0FBcUMsb0NBQW9DLEVBQUM7QUFDOUgsbURBQWtELEVBQUUscUNBQXFDLG9DQUFvQyxFQUFDO0FBQzlIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvZW5jcnlwdGlvbi9kaXN0L2luZGV4LmpzPzE2YzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVjcnlwdE1uZW1vbmljID0gZXhwb3J0cy5lbmNyeXB0TW5lbW9uaWMgPSB2b2lkIDA7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZWNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2tleXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NyeXB0b1JhbmRvbVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2hhMkhhc2hcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2VuY3J5cHRpb25cIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V0aWxzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9tZXNzYWdlU2lnbmF0dXJlXCIpLCBleHBvcnRzKTtcbnZhciB3YWxsZXRfMSA9IHJlcXVpcmUoXCIuL3dhbGxldFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImVuY3J5cHRNbmVtb25pY1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2FsbGV0XzEuZW5jcnlwdE1uZW1vbmljOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVjcnlwdE1uZW1vbmljXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3YWxsZXRfMS5kZWNyeXB0TW5lbW9uaWM7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/keys.js":
/*!******************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/keys.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.compressPrivateKey = exports.isValidPrivateKey = exports.ecSign = exports.getPublicKeyFromPrivate = exports.publicKeyToBtcAddress = exports.base58CheckEncode = exports.base58Encode = exports.base58CheckDecode = exports.makeECPrivateKey = void 0;\nconst hmac_1 = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/@noble/hashes/hmac.js\");\nconst sha256_1 = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/sha256.js\");\nconst secp256k1_1 = __webpack_require__(/*! @noble/secp256k1 */ \"(ssr)/./node_modules/@noble/secp256k1/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst bs58_1 = __importDefault(__webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/index.js\"));\nconst hashRipemd160_1 = __webpack_require__(/*! ./hashRipemd160 */ \"(ssr)/./node_modules/@stacks/encryption/dist/hashRipemd160.js\");\nconst sha2Hash_1 = __webpack_require__(/*! ./sha2Hash */ \"(ssr)/./node_modules/@stacks/encryption/dist/sha2Hash.js\");\nconst BITCOIN_PUBKEYHASH = 0x00;\nsecp256k1_1.utils.hmacSha256Sync = (key, ...msgs) => {\n    const h = hmac_1.hmac.create(sha256_1.sha256, key);\n    msgs.forEach(msg => h.update(msg));\n    return h.digest();\n};\nfunction makeECPrivateKey() {\n    return (0, common_1.bytesToHex)(secp256k1_1.utils.randomPrivateKey());\n}\nexports.makeECPrivateKey = makeECPrivateKey;\nfunction base58CheckDecode(btcAddress) {\n    const bytes = bs58_1.default.decode(btcAddress);\n    const payload = bytes.slice(0, -4);\n    const checksum = bytes.slice(-4);\n    const newChecksum = (0, sha256_1.sha256)((0, sha256_1.sha256)(payload));\n    if ((checksum[0] ^ newChecksum[0]) |\n        (checksum[1] ^ newChecksum[1]) |\n        (checksum[2] ^ newChecksum[2]) |\n        (checksum[3] ^ newChecksum[3])) {\n        throw new Error('Invalid checksum');\n    }\n    if (payload.length !== 21)\n        throw new TypeError('Invalid address length');\n    const version = (0, common_1.readUInt8)(payload, 0);\n    const hash = payload.slice(1);\n    return { version, hash };\n}\nexports.base58CheckDecode = base58CheckDecode;\nfunction base58Encode(hash) {\n    const checksum = (0, sha256_1.sha256)((0, sha256_1.sha256)(hash));\n    return bs58_1.default.encode((0, common_1.concatBytes)(hash, checksum).slice(0, hash.length + 4));\n}\nexports.base58Encode = base58Encode;\nfunction base58CheckEncode(version, hash) {\n    return base58Encode((0, common_1.concatBytes)(new Uint8Array([version]), hash.slice(0, 20)));\n}\nexports.base58CheckEncode = base58CheckEncode;\nfunction publicKeyToBtcAddress(publicKey, version = BITCOIN_PUBKEYHASH) {\n    const publicKeyBytes = typeof publicKey === 'string' ? (0, common_1.hexToBytes)(publicKey) : publicKey;\n    const publicKeyHash160 = (0, hashRipemd160_1.hashRipemd160)((0, sha2Hash_1.hashSha256Sync)(publicKeyBytes));\n    return base58CheckEncode(version, publicKeyHash160);\n}\nexports.publicKeyToBtcAddress = publicKeyToBtcAddress;\nfunction getPublicKeyFromPrivate(privateKey) {\n    const privateKeyBytes = (0, common_1.privateKeyToBytes)(privateKey);\n    return (0, common_1.bytesToHex)((0, secp256k1_1.getPublicKey)(privateKeyBytes.slice(0, 32), true));\n}\nexports.getPublicKeyFromPrivate = getPublicKeyFromPrivate;\nfunction ecSign(messageHash, hexPrivateKey) {\n    return (0, secp256k1_1.signSync)(messageHash, (0, common_1.privateKeyToBytes)(hexPrivateKey).slice(0, 32), {\n        der: false,\n    });\n}\nexports.ecSign = ecSign;\nfunction isValidPrivateKey(privateKey) {\n    return secp256k1_1.utils.isValidPrivateKey((0, common_1.privateKeyToBytes)(privateKey));\n}\nexports.isValidPrivateKey = isValidPrivateKey;\nfunction compressPrivateKey(privateKey) {\n    const privateKeyBytes = (0, common_1.privateKeyToBytes)(privateKey);\n    return privateKeyBytes.length == common_1.PRIVATE_KEY_COMPRESSED_LENGTH\n        ? privateKeyBytes\n        : (0, common_1.concatBytes)(privateKeyBytes, new Uint8Array([1]));\n}\nexports.compressPrivateKey = compressPrivateKey;\n//# sourceMappingURL=keys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3Qva2V5cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLHlCQUF5QixHQUFHLGNBQWMsR0FBRywrQkFBK0IsR0FBRyw2QkFBNkIsR0FBRyx5QkFBeUIsR0FBRyxvQkFBb0IsR0FBRyx5QkFBeUIsR0FBRyx3QkFBd0I7QUFDblAsZUFBZSxtQkFBTyxDQUFDLHNFQUFvQjtBQUMzQyxpQkFBaUIsbUJBQU8sQ0FBQywwRUFBc0I7QUFDL0Msb0JBQW9CLG1CQUFPLENBQUMsNEVBQWtCO0FBQzlDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QywrQkFBK0IsbUJBQU8sQ0FBQyxnREFBTTtBQUM3Qyx3QkFBd0IsbUJBQU8sQ0FBQyxzRkFBaUI7QUFDakQsbUJBQW1CLG1CQUFPLENBQUMsNEVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2VuY3J5cHRpb24vZGlzdC9rZXlzLmpzP2FiODAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbXByZXNzUHJpdmF0ZUtleSA9IGV4cG9ydHMuaXNWYWxpZFByaXZhdGVLZXkgPSBleHBvcnRzLmVjU2lnbiA9IGV4cG9ydHMuZ2V0UHVibGljS2V5RnJvbVByaXZhdGUgPSBleHBvcnRzLnB1YmxpY0tleVRvQnRjQWRkcmVzcyA9IGV4cG9ydHMuYmFzZTU4Q2hlY2tFbmNvZGUgPSBleHBvcnRzLmJhc2U1OEVuY29kZSA9IGV4cG9ydHMuYmFzZTU4Q2hlY2tEZWNvZGUgPSBleHBvcnRzLm1ha2VFQ1ByaXZhdGVLZXkgPSB2b2lkIDA7XG5jb25zdCBobWFjXzEgPSByZXF1aXJlKFwiQG5vYmxlL2hhc2hlcy9obWFjXCIpO1xuY29uc3Qgc2hhMjU2XzEgPSByZXF1aXJlKFwiQG5vYmxlL2hhc2hlcy9zaGEyNTZcIik7XG5jb25zdCBzZWNwMjU2azFfMSA9IHJlcXVpcmUoXCJAbm9ibGUvc2VjcDI1NmsxXCIpO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBiczU4XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImJzNThcIikpO1xuY29uc3QgaGFzaFJpcGVtZDE2MF8xID0gcmVxdWlyZShcIi4vaGFzaFJpcGVtZDE2MFwiKTtcbmNvbnN0IHNoYTJIYXNoXzEgPSByZXF1aXJlKFwiLi9zaGEySGFzaFwiKTtcbmNvbnN0IEJJVENPSU5fUFVCS0VZSEFTSCA9IDB4MDA7XG5zZWNwMjU2azFfMS51dGlscy5obWFjU2hhMjU2U3luYyA9IChrZXksIC4uLm1zZ3MpID0+IHtcbiAgICBjb25zdCBoID0gaG1hY18xLmhtYWMuY3JlYXRlKHNoYTI1Nl8xLnNoYTI1Niwga2V5KTtcbiAgICBtc2dzLmZvckVhY2gobXNnID0+IGgudXBkYXRlKG1zZykpO1xuICAgIHJldHVybiBoLmRpZ2VzdCgpO1xufTtcbmZ1bmN0aW9uIG1ha2VFQ1ByaXZhdGVLZXkoKSB7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShzZWNwMjU2azFfMS51dGlscy5yYW5kb21Qcml2YXRlS2V5KCkpO1xufVxuZXhwb3J0cy5tYWtlRUNQcml2YXRlS2V5ID0gbWFrZUVDUHJpdmF0ZUtleTtcbmZ1bmN0aW9uIGJhc2U1OENoZWNrRGVjb2RlKGJ0Y0FkZHJlc3MpIHtcbiAgICBjb25zdCBieXRlcyA9IGJzNThfMS5kZWZhdWx0LmRlY29kZShidGNBZGRyZXNzKTtcbiAgICBjb25zdCBwYXlsb2FkID0gYnl0ZXMuc2xpY2UoMCwgLTQpO1xuICAgIGNvbnN0IGNoZWNrc3VtID0gYnl0ZXMuc2xpY2UoLTQpO1xuICAgIGNvbnN0IG5ld0NoZWNrc3VtID0gKDAsIHNoYTI1Nl8xLnNoYTI1NikoKDAsIHNoYTI1Nl8xLnNoYTI1NikocGF5bG9hZCkpO1xuICAgIGlmICgoY2hlY2tzdW1bMF0gXiBuZXdDaGVja3N1bVswXSkgfFxuICAgICAgICAoY2hlY2tzdW1bMV0gXiBuZXdDaGVja3N1bVsxXSkgfFxuICAgICAgICAoY2hlY2tzdW1bMl0gXiBuZXdDaGVja3N1bVsyXSkgfFxuICAgICAgICAoY2hlY2tzdW1bM10gXiBuZXdDaGVja3N1bVszXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNoZWNrc3VtJyk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLmxlbmd0aCAhPT0gMjEpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYWRkcmVzcyBsZW5ndGgnKTtcbiAgICBjb25zdCB2ZXJzaW9uID0gKDAsIGNvbW1vbl8xLnJlYWRVSW50OCkocGF5bG9hZCwgMCk7XG4gICAgY29uc3QgaGFzaCA9IHBheWxvYWQuc2xpY2UoMSk7XG4gICAgcmV0dXJuIHsgdmVyc2lvbiwgaGFzaCB9O1xufVxuZXhwb3J0cy5iYXNlNThDaGVja0RlY29kZSA9IGJhc2U1OENoZWNrRGVjb2RlO1xuZnVuY3Rpb24gYmFzZTU4RW5jb2RlKGhhc2gpIHtcbiAgICBjb25zdCBjaGVja3N1bSA9ICgwLCBzaGEyNTZfMS5zaGEyNTYpKCgwLCBzaGEyNTZfMS5zaGEyNTYpKGhhc2gpKTtcbiAgICByZXR1cm4gYnM1OF8xLmRlZmF1bHQuZW5jb2RlKCgwLCBjb21tb25fMS5jb25jYXRCeXRlcykoaGFzaCwgY2hlY2tzdW0pLnNsaWNlKDAsIGhhc2gubGVuZ3RoICsgNCkpO1xufVxuZXhwb3J0cy5iYXNlNThFbmNvZGUgPSBiYXNlNThFbmNvZGU7XG5mdW5jdGlvbiBiYXNlNThDaGVja0VuY29kZSh2ZXJzaW9uLCBoYXNoKSB7XG4gICAgcmV0dXJuIGJhc2U1OEVuY29kZSgoMCwgY29tbW9uXzEuY29uY2F0Qnl0ZXMpKG5ldyBVaW50OEFycmF5KFt2ZXJzaW9uXSksIGhhc2guc2xpY2UoMCwgMjApKSk7XG59XG5leHBvcnRzLmJhc2U1OENoZWNrRW5jb2RlID0gYmFzZTU4Q2hlY2tFbmNvZGU7XG5mdW5jdGlvbiBwdWJsaWNLZXlUb0J0Y0FkZHJlc3MocHVibGljS2V5LCB2ZXJzaW9uID0gQklUQ09JTl9QVUJLRVlIQVNIKSB7XG4gICAgY29uc3QgcHVibGljS2V5Qnl0ZXMgPSB0eXBlb2YgcHVibGljS2V5ID09PSAnc3RyaW5nJyA/ICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShwdWJsaWNLZXkpIDogcHVibGljS2V5O1xuICAgIGNvbnN0IHB1YmxpY0tleUhhc2gxNjAgPSAoMCwgaGFzaFJpcGVtZDE2MF8xLmhhc2hSaXBlbWQxNjApKCgwLCBzaGEySGFzaF8xLmhhc2hTaGEyNTZTeW5jKShwdWJsaWNLZXlCeXRlcykpO1xuICAgIHJldHVybiBiYXNlNThDaGVja0VuY29kZSh2ZXJzaW9uLCBwdWJsaWNLZXlIYXNoMTYwKTtcbn1cbmV4cG9ydHMucHVibGljS2V5VG9CdGNBZGRyZXNzID0gcHVibGljS2V5VG9CdGNBZGRyZXNzO1xuZnVuY3Rpb24gZ2V0UHVibGljS2V5RnJvbVByaXZhdGUocHJpdmF0ZUtleSkge1xuICAgIGNvbnN0IHByaXZhdGVLZXlCeXRlcyA9ICgwLCBjb21tb25fMS5wcml2YXRlS2V5VG9CeXRlcykocHJpdmF0ZUtleSk7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KSgoMCwgc2VjcDI1NmsxXzEuZ2V0UHVibGljS2V5KShwcml2YXRlS2V5Qnl0ZXMuc2xpY2UoMCwgMzIpLCB0cnVlKSk7XG59XG5leHBvcnRzLmdldFB1YmxpY0tleUZyb21Qcml2YXRlID0gZ2V0UHVibGljS2V5RnJvbVByaXZhdGU7XG5mdW5jdGlvbiBlY1NpZ24obWVzc2FnZUhhc2gsIGhleFByaXZhdGVLZXkpIHtcbiAgICByZXR1cm4gKDAsIHNlY3AyNTZrMV8xLnNpZ25TeW5jKShtZXNzYWdlSGFzaCwgKDAsIGNvbW1vbl8xLnByaXZhdGVLZXlUb0J5dGVzKShoZXhQcml2YXRlS2V5KS5zbGljZSgwLCAzMiksIHtcbiAgICAgICAgZGVyOiBmYWxzZSxcbiAgICB9KTtcbn1cbmV4cG9ydHMuZWNTaWduID0gZWNTaWduO1xuZnVuY3Rpb24gaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleSkge1xuICAgIHJldHVybiBzZWNwMjU2azFfMS51dGlscy5pc1ZhbGlkUHJpdmF0ZUtleSgoMCwgY29tbW9uXzEucHJpdmF0ZUtleVRvQnl0ZXMpKHByaXZhdGVLZXkpKTtcbn1cbmV4cG9ydHMuaXNWYWxpZFByaXZhdGVLZXkgPSBpc1ZhbGlkUHJpdmF0ZUtleTtcbmZ1bmN0aW9uIGNvbXByZXNzUHJpdmF0ZUtleShwcml2YXRlS2V5KSB7XG4gICAgY29uc3QgcHJpdmF0ZUtleUJ5dGVzID0gKDAsIGNvbW1vbl8xLnByaXZhdGVLZXlUb0J5dGVzKShwcml2YXRlS2V5KTtcbiAgICByZXR1cm4gcHJpdmF0ZUtleUJ5dGVzLmxlbmd0aCA9PSBjb21tb25fMS5QUklWQVRFX0tFWV9DT01QUkVTU0VEX0xFTkdUSFxuICAgICAgICA/IHByaXZhdGVLZXlCeXRlc1xuICAgICAgICA6ICgwLCBjb21tb25fMS5jb25jYXRCeXRlcykocHJpdmF0ZUtleUJ5dGVzLCBuZXcgVWludDhBcnJheShbMV0pKTtcbn1cbmV4cG9ydHMuY29tcHJlc3NQcml2YXRlS2V5ID0gY29tcHJlc3NQcml2YXRlS2V5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/keys.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/messageSignature.js":
/*!******************************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/messageSignature.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.decodeMessage = exports.encodeMessage = exports.hashMessage = void 0;\nconst sha256_1 = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/sha256.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst varuint_1 = __webpack_require__(/*! ./varuint */ \"(ssr)/./node_modules/@stacks/encryption/dist/varuint.js\");\nconst chainPrefix = '\\x17Stacks Signed Message:\\n';\nfunction hashMessage(message, prefix = chainPrefix) {\n    return (0, sha256_1.sha256)(encodeMessage(message, prefix));\n}\nexports.hashMessage = hashMessage;\nfunction encodeMessage(message, prefix = chainPrefix) {\n    const messageBytes = typeof message == 'string' ? (0, common_1.utf8ToBytes)(message) : message;\n    const encodedLength = (0, varuint_1.encode)(messageBytes.length);\n    return (0, common_1.concatBytes)((0, common_1.utf8ToBytes)(prefix), encodedLength, messageBytes);\n}\nexports.encodeMessage = encodeMessage;\nfunction decodeMessage(encodedMessage, prefix = chainPrefix) {\n    const prefixByteLength = (0, common_1.utf8ToBytes)(prefix).byteLength;\n    const messageWithoutChainPrefix = encodedMessage.subarray(prefixByteLength);\n    const decoded = (0, varuint_1.decode)(messageWithoutChainPrefix);\n    const varIntLength = (0, varuint_1.encodingLength)(decoded);\n    return messageWithoutChainPrefix.slice(varIntLength);\n}\nexports.decodeMessage = decodeMessage;\n//# sourceMappingURL=messageSignature.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvbWVzc2FnZVNpZ25hdHVyZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyxtQkFBbUI7QUFDbkUsaUJBQWlCLG1CQUFPLENBQUMsMEVBQXNCO0FBQy9DLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxrQkFBa0IsbUJBQU8sQ0FBQywwRUFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvZW5jcnlwdGlvbi9kaXN0L21lc3NhZ2VTaWduYXR1cmUuanM/N2FlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVjb2RlTWVzc2FnZSA9IGV4cG9ydHMuZW5jb2RlTWVzc2FnZSA9IGV4cG9ydHMuaGFzaE1lc3NhZ2UgPSB2b2lkIDA7XG5jb25zdCBzaGEyNTZfMSA9IHJlcXVpcmUoXCJAbm9ibGUvaGFzaGVzL3NoYTI1NlwiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgdmFydWludF8xID0gcmVxdWlyZShcIi4vdmFydWludFwiKTtcbmNvbnN0IGNoYWluUHJlZml4ID0gJ1xceDE3U3RhY2tzIFNpZ25lZCBNZXNzYWdlOlxcbic7XG5mdW5jdGlvbiBoYXNoTWVzc2FnZShtZXNzYWdlLCBwcmVmaXggPSBjaGFpblByZWZpeCkge1xuICAgIHJldHVybiAoMCwgc2hhMjU2XzEuc2hhMjU2KShlbmNvZGVNZXNzYWdlKG1lc3NhZ2UsIHByZWZpeCkpO1xufVxuZXhwb3J0cy5oYXNoTWVzc2FnZSA9IGhhc2hNZXNzYWdlO1xuZnVuY3Rpb24gZW5jb2RlTWVzc2FnZShtZXNzYWdlLCBwcmVmaXggPSBjaGFpblByZWZpeCkge1xuICAgIGNvbnN0IG1lc3NhZ2VCeXRlcyA9IHR5cGVvZiBtZXNzYWdlID09ICdzdHJpbmcnID8gKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShtZXNzYWdlKSA6IG1lc3NhZ2U7XG4gICAgY29uc3QgZW5jb2RlZExlbmd0aCA9ICgwLCB2YXJ1aW50XzEuZW5jb2RlKShtZXNzYWdlQnl0ZXMubGVuZ3RoKTtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmNvbmNhdEJ5dGVzKSgoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKHByZWZpeCksIGVuY29kZWRMZW5ndGgsIG1lc3NhZ2VCeXRlcyk7XG59XG5leHBvcnRzLmVuY29kZU1lc3NhZ2UgPSBlbmNvZGVNZXNzYWdlO1xuZnVuY3Rpb24gZGVjb2RlTWVzc2FnZShlbmNvZGVkTWVzc2FnZSwgcHJlZml4ID0gY2hhaW5QcmVmaXgpIHtcbiAgICBjb25zdCBwcmVmaXhCeXRlTGVuZ3RoID0gKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShwcmVmaXgpLmJ5dGVMZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZVdpdGhvdXRDaGFpblByZWZpeCA9IGVuY29kZWRNZXNzYWdlLnN1YmFycmF5KHByZWZpeEJ5dGVMZW5ndGgpO1xuICAgIGNvbnN0IGRlY29kZWQgPSAoMCwgdmFydWludF8xLmRlY29kZSkobWVzc2FnZVdpdGhvdXRDaGFpblByZWZpeCk7XG4gICAgY29uc3QgdmFySW50TGVuZ3RoID0gKDAsIHZhcnVpbnRfMS5lbmNvZGluZ0xlbmd0aCkoZGVjb2RlZCk7XG4gICAgcmV0dXJuIG1lc3NhZ2VXaXRob3V0Q2hhaW5QcmVmaXguc2xpY2UodmFySW50TGVuZ3RoKTtcbn1cbmV4cG9ydHMuZGVjb2RlTWVzc2FnZSA9IGRlY29kZU1lc3NhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlU2lnbmF0dXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/messageSignature.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/pbkdf2.js":
/*!********************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/pbkdf2.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createPbkdf2 = exports.WebCryptoPartialPbkdf2 = exports.WebCryptoPbkdf2 = exports.NodeCryptoPbkdf2 = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst cryptoUtils_1 = __webpack_require__(/*! ./cryptoUtils */ \"(ssr)/./node_modules/@stacks/encryption/dist/cryptoUtils.js\");\nclass NodeCryptoPbkdf2 {\n    constructor(nodePbkdf2) {\n        this.nodePbkdf2 = nodePbkdf2;\n    }\n    async derive(password, salt, iterations, keyLength, digest) {\n        if (digest !== 'sha512' && digest !== 'sha256') {\n            throw new Error(`Unsupported digest \"${digest}\" for Pbkdf2`);\n        }\n        return new Promise((resolve, reject) => {\n            this.nodePbkdf2(password, salt, iterations, keyLength, digest, (error, result) => {\n                if (error) {\n                    reject(error);\n                }\n                resolve(result);\n            });\n        });\n    }\n}\nexports.NodeCryptoPbkdf2 = NodeCryptoPbkdf2;\nclass WebCryptoPbkdf2 {\n    constructor(subtleCrypto) {\n        this.subtleCrypto = subtleCrypto;\n    }\n    async derive(password, salt, iterations, keyLength, digest) {\n        let algo;\n        if (digest === 'sha256') {\n            algo = 'SHA-256';\n        }\n        else if (digest === 'sha512') {\n            algo = 'SHA-512';\n        }\n        else {\n            throw new Error(`Unsupported Pbkdf2 digest algorithm \"${digest}\"`);\n        }\n        const passwordBytes = (0, common_1.utf8ToBytes)(password);\n        try {\n            const key = await this.subtleCrypto.importKey('raw', passwordBytes, 'PBKDF2', false, [\n                'deriveBits',\n            ]);\n            const result = await this.subtleCrypto.deriveBits({\n                name: 'PBKDF2',\n                salt,\n                iterations,\n                hash: { name: algo },\n            }, key, keyLength * 8);\n            return new Uint8Array(result);\n        }\n        catch (error) {\n            const partialWebCrypto = new WebCryptoPartialPbkdf2(this.subtleCrypto);\n            return partialWebCrypto.derive(password, salt, iterations, keyLength, digest);\n        }\n    }\n}\nexports.WebCryptoPbkdf2 = WebCryptoPbkdf2;\nclass WebCryptoPartialPbkdf2 {\n    constructor(subtleCrypto) {\n        this.subtleCrypto = subtleCrypto;\n    }\n    async derive(password, salt, iterations, keyLength, digest) {\n        if (digest !== 'sha512' && digest !== 'sha256') {\n            throw new Error(`Unsupported digest \"${digest}\" for Pbkdf2`);\n        }\n        const passwordBytes = (0, common_1.utf8ToBytes)(password);\n        const algo = digest === 'sha512' ? 'SHA-512' : 'SHA-256';\n        const algoOpts = { name: 'HMAC', hash: algo };\n        const hmacDigest = (key, data) => this.subtleCrypto\n            .importKey('raw', key, algoOpts, true, ['sign'])\n            .then(cryptoKey => this.subtleCrypto.sign(algoOpts, cryptoKey, data))\n            .then(result => new Uint8Array(result));\n        const DK = new Uint8Array(keyLength);\n        const saltLength = salt.length;\n        const block1 = new Uint8Array(saltLength + 4);\n        block1.set(salt);\n        let destPos = 0;\n        const hLen = digest === 'sha512' ? 64 : 32;\n        const l = Math.ceil(keyLength / hLen);\n        for (let i = 1; i <= l; i++) {\n            (0, common_1.writeUInt32BE)(block1, i, saltLength);\n            const T = await hmacDigest(passwordBytes, block1);\n            let U = T;\n            for (let j = 1; j < iterations; j++) {\n                U = await hmacDigest(passwordBytes, U);\n                for (let k = 0; k < hLen; k++) {\n                    T[k] ^= U[k];\n                }\n            }\n            DK.set(T.subarray(0, DK.byteLength - destPos), destPos);\n            destPos += hLen;\n        }\n        return DK;\n    }\n}\nexports.WebCryptoPartialPbkdf2 = WebCryptoPartialPbkdf2;\nasync function createPbkdf2() {\n    const cryptoLib = await (0, cryptoUtils_1.getCryptoLib)();\n    if (cryptoLib.name === 'subtleCrypto') {\n        return new WebCryptoPbkdf2(cryptoLib.lib);\n    }\n    return new NodeCryptoPbkdf2(cryptoLib.lib.pbkdf2);\n}\nexports.createPbkdf2 = createPbkdf2;\n//# sourceMappingURL=pbkdf2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvcGJrZGYyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLDhCQUE4QixHQUFHLHVCQUF1QixHQUFHLHdCQUF3QjtBQUMxRyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsc0JBQXNCLG1CQUFPLENBQUMsa0ZBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELE9BQU87QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsT0FBTztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxPQUFPO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBLGdDQUFnQyxVQUFVO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2VuY3J5cHRpb24vZGlzdC9wYmtkZjIuanM/NzlkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlUGJrZGYyID0gZXhwb3J0cy5XZWJDcnlwdG9QYXJ0aWFsUGJrZGYyID0gZXhwb3J0cy5XZWJDcnlwdG9QYmtkZjIgPSBleHBvcnRzLk5vZGVDcnlwdG9QYmtkZjIgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNvbnN0IGNyeXB0b1V0aWxzXzEgPSByZXF1aXJlKFwiLi9jcnlwdG9VdGlsc1wiKTtcbmNsYXNzIE5vZGVDcnlwdG9QYmtkZjIge1xuICAgIGNvbnN0cnVjdG9yKG5vZGVQYmtkZjIpIHtcbiAgICAgICAgdGhpcy5ub2RlUGJrZGYyID0gbm9kZVBia2RmMjtcbiAgICB9XG4gICAgYXN5bmMgZGVyaXZlKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlMZW5ndGgsIGRpZ2VzdCkge1xuICAgICAgICBpZiAoZGlnZXN0ICE9PSAnc2hhNTEyJyAmJiBkaWdlc3QgIT09ICdzaGEyNTYnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRpZ2VzdCBcIiR7ZGlnZXN0fVwiIGZvciBQYmtkZjJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2RlUGJrZGYyKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlMZW5ndGgsIGRpZ2VzdCwgKGVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuTm9kZUNyeXB0b1Bia2RmMiA9IE5vZGVDcnlwdG9QYmtkZjI7XG5jbGFzcyBXZWJDcnlwdG9QYmtkZjIge1xuICAgIGNvbnN0cnVjdG9yKHN1YnRsZUNyeXB0bykge1xuICAgICAgICB0aGlzLnN1YnRsZUNyeXB0byA9IHN1YnRsZUNyeXB0bztcbiAgICB9XG4gICAgYXN5bmMgZGVyaXZlKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlMZW5ndGgsIGRpZ2VzdCkge1xuICAgICAgICBsZXQgYWxnbztcbiAgICAgICAgaWYgKGRpZ2VzdCA9PT0gJ3NoYTI1NicpIHtcbiAgICAgICAgICAgIGFsZ28gPSAnU0hBLTI1Nic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlnZXN0ID09PSAnc2hhNTEyJykge1xuICAgICAgICAgICAgYWxnbyA9ICdTSEEtNTEyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgUGJrZGYyIGRpZ2VzdCBhbGdvcml0aG0gXCIke2RpZ2VzdH1cImApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkQnl0ZXMgPSAoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKHBhc3N3b3JkKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHRoaXMuc3VidGxlQ3J5cHRvLmltcG9ydEtleSgncmF3JywgcGFzc3dvcmRCeXRlcywgJ1BCS0RGMicsIGZhbHNlLCBbXG4gICAgICAgICAgICAgICAgJ2Rlcml2ZUJpdHMnLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN1YnRsZUNyeXB0by5kZXJpdmVCaXRzKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnUEJLREYyJyxcbiAgICAgICAgICAgICAgICBzYWx0LFxuICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgaGFzaDogeyBuYW1lOiBhbGdvIH0sXG4gICAgICAgICAgICB9LCBrZXksIGtleUxlbmd0aCAqIDgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWFsV2ViQ3J5cHRvID0gbmV3IFdlYkNyeXB0b1BhcnRpYWxQYmtkZjIodGhpcy5zdWJ0bGVDcnlwdG8pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxXZWJDcnlwdG8uZGVyaXZlKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlMZW5ndGgsIGRpZ2VzdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLldlYkNyeXB0b1Bia2RmMiA9IFdlYkNyeXB0b1Bia2RmMjtcbmNsYXNzIFdlYkNyeXB0b1BhcnRpYWxQYmtkZjIge1xuICAgIGNvbnN0cnVjdG9yKHN1YnRsZUNyeXB0bykge1xuICAgICAgICB0aGlzLnN1YnRsZUNyeXB0byA9IHN1YnRsZUNyeXB0bztcbiAgICB9XG4gICAgYXN5bmMgZGVyaXZlKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlMZW5ndGgsIGRpZ2VzdCkge1xuICAgICAgICBpZiAoZGlnZXN0ICE9PSAnc2hhNTEyJyAmJiBkaWdlc3QgIT09ICdzaGEyNTYnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRpZ2VzdCBcIiR7ZGlnZXN0fVwiIGZvciBQYmtkZjJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXNzd29yZEJ5dGVzID0gKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShwYXNzd29yZCk7XG4gICAgICAgIGNvbnN0IGFsZ28gPSBkaWdlc3QgPT09ICdzaGE1MTInID8gJ1NIQS01MTInIDogJ1NIQS0yNTYnO1xuICAgICAgICBjb25zdCBhbGdvT3B0cyA9IHsgbmFtZTogJ0hNQUMnLCBoYXNoOiBhbGdvIH07XG4gICAgICAgIGNvbnN0IGhtYWNEaWdlc3QgPSAoa2V5LCBkYXRhKSA9PiB0aGlzLnN1YnRsZUNyeXB0b1xuICAgICAgICAgICAgLmltcG9ydEtleSgncmF3Jywga2V5LCBhbGdvT3B0cywgdHJ1ZSwgWydzaWduJ10pXG4gICAgICAgICAgICAudGhlbihjcnlwdG9LZXkgPT4gdGhpcy5zdWJ0bGVDcnlwdG8uc2lnbihhbGdvT3B0cywgY3J5cHRvS2V5LCBkYXRhKSlcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiBuZXcgVWludDhBcnJheShyZXN1bHQpKTtcbiAgICAgICAgY29uc3QgREsgPSBuZXcgVWludDhBcnJheShrZXlMZW5ndGgpO1xuICAgICAgICBjb25zdCBzYWx0TGVuZ3RoID0gc2FsdC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJsb2NrMSA9IG5ldyBVaW50OEFycmF5KHNhbHRMZW5ndGggKyA0KTtcbiAgICAgICAgYmxvY2sxLnNldChzYWx0KTtcbiAgICAgICAgbGV0IGRlc3RQb3MgPSAwO1xuICAgICAgICBjb25zdCBoTGVuID0gZGlnZXN0ID09PSAnc2hhNTEyJyA/IDY0IDogMzI7XG4gICAgICAgIGNvbnN0IGwgPSBNYXRoLmNlaWwoa2V5TGVuZ3RoIC8gaExlbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGw7IGkrKykge1xuICAgICAgICAgICAgKDAsIGNvbW1vbl8xLndyaXRlVUludDMyQkUpKGJsb2NrMSwgaSwgc2FsdExlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCBUID0gYXdhaXQgaG1hY0RpZ2VzdChwYXNzd29yZEJ5dGVzLCBibG9jazEpO1xuICAgICAgICAgICAgbGV0IFUgPSBUO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCBpdGVyYXRpb25zOyBqKyspIHtcbiAgICAgICAgICAgICAgICBVID0gYXdhaXQgaG1hY0RpZ2VzdChwYXNzd29yZEJ5dGVzLCBVKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGhMZW47IGsrKykge1xuICAgICAgICAgICAgICAgICAgICBUW2tdIF49IFVba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgREsuc2V0KFQuc3ViYXJyYXkoMCwgREsuYnl0ZUxlbmd0aCAtIGRlc3RQb3MpLCBkZXN0UG9zKTtcbiAgICAgICAgICAgIGRlc3RQb3MgKz0gaExlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gREs7XG4gICAgfVxufVxuZXhwb3J0cy5XZWJDcnlwdG9QYXJ0aWFsUGJrZGYyID0gV2ViQ3J5cHRvUGFydGlhbFBia2RmMjtcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVBia2RmMigpIHtcbiAgICBjb25zdCBjcnlwdG9MaWIgPSBhd2FpdCAoMCwgY3J5cHRvVXRpbHNfMS5nZXRDcnlwdG9MaWIpKCk7XG4gICAgaWYgKGNyeXB0b0xpYi5uYW1lID09PSAnc3VidGxlQ3J5cHRvJykge1xuICAgICAgICByZXR1cm4gbmV3IFdlYkNyeXB0b1Bia2RmMihjcnlwdG9MaWIubGliKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOb2RlQ3J5cHRvUGJrZGYyKGNyeXB0b0xpYi5saWIucGJrZGYyKTtcbn1cbmV4cG9ydHMuY3JlYXRlUGJrZGYyID0gY3JlYXRlUGJrZGYyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGJrZGYyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/pbkdf2.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/sha2Hash.js":
/*!**********************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/sha2Hash.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.hashSha512Sync = exports.hashSha256Sync = exports.createSha2Hash = exports.WebCryptoSha2Hash = exports.NodeCryptoSha2Hash = void 0;\nconst sha256_1 = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/sha256.js\");\nconst sha512_1 = __webpack_require__(/*! @noble/hashes/sha512 */ \"(ssr)/./node_modules/@noble/hashes/sha512.js\");\nconst cryptoUtils_1 = __webpack_require__(/*! ./cryptoUtils */ \"(ssr)/./node_modules/@stacks/encryption/dist/cryptoUtils.js\");\nclass NodeCryptoSha2Hash {\n    constructor(createHash) {\n        this.createHash = createHash;\n    }\n    async digest(data, algorithm = 'sha256') {\n        try {\n            const result = this.createHash(algorithm).update(data).digest();\n            return Promise.resolve(result);\n        }\n        catch (error) {\n            console.log(error);\n            console.log(`Error performing ${algorithm} digest with Node.js 'crypto.createHash', falling back to JS implementation.`);\n            return Promise.resolve(algorithm === 'sha256' ? hashSha256Sync(data) : hashSha512Sync(data));\n        }\n    }\n}\nexports.NodeCryptoSha2Hash = NodeCryptoSha2Hash;\nclass WebCryptoSha2Hash {\n    constructor(subtleCrypto) {\n        this.subtleCrypto = subtleCrypto;\n    }\n    async digest(data, algorithm = 'sha256') {\n        let algo;\n        if (algorithm === 'sha256') {\n            algo = 'SHA-256';\n        }\n        else if (algorithm === 'sha512') {\n            algo = 'SHA-512';\n        }\n        else {\n            throw new Error(`Unsupported hash algorithm ${algorithm}`);\n        }\n        try {\n            const hash = await this.subtleCrypto.digest(algo, data);\n            return new Uint8Array(hash);\n        }\n        catch (error) {\n            console.log(error);\n            console.log(`Error performing ${algorithm} digest with WebCrypto, falling back to JS implementation.`);\n            return Promise.resolve(algorithm === 'sha256' ? hashSha256Sync(data) : hashSha512Sync(data));\n        }\n    }\n}\nexports.WebCryptoSha2Hash = WebCryptoSha2Hash;\nasync function createSha2Hash() {\n    const cryptoLib = await (0, cryptoUtils_1.getCryptoLib)();\n    if (cryptoLib.name === 'subtleCrypto') {\n        return new WebCryptoSha2Hash(cryptoLib.lib);\n    }\n    else {\n        return new NodeCryptoSha2Hash(cryptoLib.lib.createHash);\n    }\n}\nexports.createSha2Hash = createSha2Hash;\nfunction hashSha256Sync(data) {\n    return (0, sha256_1.sha256)(data);\n}\nexports.hashSha256Sync = hashSha256Sync;\nfunction hashSha512Sync(data) {\n    return (0, sha512_1.sha512)(data);\n}\nexports.hashSha512Sync = hashSha512Sync;\n//# sourceMappingURL=sha2Hash.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3Qvc2hhMkhhc2guanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsc0JBQXNCLEdBQUcsc0JBQXNCLEdBQUcseUJBQXlCLEdBQUcsMEJBQTBCO0FBQ2pJLGlCQUFpQixtQkFBTyxDQUFDLDBFQUFzQjtBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQywwRUFBc0I7QUFDL0Msc0JBQXNCLG1CQUFPLENBQUMsa0ZBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxXQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFVBQVU7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsV0FBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2VuY3J5cHRpb24vZGlzdC9zaGEySGFzaC5qcz8zODNmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5oYXNoU2hhNTEyU3luYyA9IGV4cG9ydHMuaGFzaFNoYTI1NlN5bmMgPSBleHBvcnRzLmNyZWF0ZVNoYTJIYXNoID0gZXhwb3J0cy5XZWJDcnlwdG9TaGEySGFzaCA9IGV4cG9ydHMuTm9kZUNyeXB0b1NoYTJIYXNoID0gdm9pZCAwO1xuY29uc3Qgc2hhMjU2XzEgPSByZXF1aXJlKFwiQG5vYmxlL2hhc2hlcy9zaGEyNTZcIik7XG5jb25zdCBzaGE1MTJfMSA9IHJlcXVpcmUoXCJAbm9ibGUvaGFzaGVzL3NoYTUxMlwiKTtcbmNvbnN0IGNyeXB0b1V0aWxzXzEgPSByZXF1aXJlKFwiLi9jcnlwdG9VdGlsc1wiKTtcbmNsYXNzIE5vZGVDcnlwdG9TaGEySGFzaCB7XG4gICAgY29uc3RydWN0b3IoY3JlYXRlSGFzaCkge1xuICAgICAgICB0aGlzLmNyZWF0ZUhhc2ggPSBjcmVhdGVIYXNoO1xuICAgIH1cbiAgICBhc3luYyBkaWdlc3QoZGF0YSwgYWxnb3JpdGhtID0gJ3NoYTI1NicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY3JlYXRlSGFzaChhbGdvcml0aG0pLnVwZGF0ZShkYXRhKS5kaWdlc3QoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBwZXJmb3JtaW5nICR7YWxnb3JpdGhtfSBkaWdlc3Qgd2l0aCBOb2RlLmpzICdjcnlwdG8uY3JlYXRlSGFzaCcsIGZhbGxpbmcgYmFjayB0byBKUyBpbXBsZW1lbnRhdGlvbi5gKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYWxnb3JpdGhtID09PSAnc2hhMjU2JyA/IGhhc2hTaGEyNTZTeW5jKGRhdGEpIDogaGFzaFNoYTUxMlN5bmMoZGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Ob2RlQ3J5cHRvU2hhMkhhc2ggPSBOb2RlQ3J5cHRvU2hhMkhhc2g7XG5jbGFzcyBXZWJDcnlwdG9TaGEySGFzaCB7XG4gICAgY29uc3RydWN0b3Ioc3VidGxlQ3J5cHRvKSB7XG4gICAgICAgIHRoaXMuc3VidGxlQ3J5cHRvID0gc3VidGxlQ3J5cHRvO1xuICAgIH1cbiAgICBhc3luYyBkaWdlc3QoZGF0YSwgYWxnb3JpdGhtID0gJ3NoYTI1NicpIHtcbiAgICAgICAgbGV0IGFsZ287XG4gICAgICAgIGlmIChhbGdvcml0aG0gPT09ICdzaGEyNTYnKSB7XG4gICAgICAgICAgICBhbGdvID0gJ1NIQS0yNTYnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFsZ29yaXRobSA9PT0gJ3NoYTUxMicpIHtcbiAgICAgICAgICAgIGFsZ28gPSAnU0hBLTUxMic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGhhc2ggYWxnb3JpdGhtICR7YWxnb3JpdGhtfWApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgdGhpcy5zdWJ0bGVDcnlwdG8uZGlnZXN0KGFsZ28sIGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEVycm9yIHBlcmZvcm1pbmcgJHthbGdvcml0aG19IGRpZ2VzdCB3aXRoIFdlYkNyeXB0bywgZmFsbGluZyBiYWNrIHRvIEpTIGltcGxlbWVudGF0aW9uLmApO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhbGdvcml0aG0gPT09ICdzaGEyNTYnID8gaGFzaFNoYTI1NlN5bmMoZGF0YSkgOiBoYXNoU2hhNTEyU3luYyhkYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLldlYkNyeXB0b1NoYTJIYXNoID0gV2ViQ3J5cHRvU2hhMkhhc2g7XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTaGEySGFzaCgpIHtcbiAgICBjb25zdCBjcnlwdG9MaWIgPSBhd2FpdCAoMCwgY3J5cHRvVXRpbHNfMS5nZXRDcnlwdG9MaWIpKCk7XG4gICAgaWYgKGNyeXB0b0xpYi5uYW1lID09PSAnc3VidGxlQ3J5cHRvJykge1xuICAgICAgICByZXR1cm4gbmV3IFdlYkNyeXB0b1NoYTJIYXNoKGNyeXB0b0xpYi5saWIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlQ3J5cHRvU2hhMkhhc2goY3J5cHRvTGliLmxpYi5jcmVhdGVIYXNoKTtcbiAgICB9XG59XG5leHBvcnRzLmNyZWF0ZVNoYTJIYXNoID0gY3JlYXRlU2hhMkhhc2g7XG5mdW5jdGlvbiBoYXNoU2hhMjU2U3luYyhkYXRhKSB7XG4gICAgcmV0dXJuICgwLCBzaGEyNTZfMS5zaGEyNTYpKGRhdGEpO1xufVxuZXhwb3J0cy5oYXNoU2hhMjU2U3luYyA9IGhhc2hTaGEyNTZTeW5jO1xuZnVuY3Rpb24gaGFzaFNoYTUxMlN5bmMoZGF0YSkge1xuICAgIHJldHVybiAoMCwgc2hhNTEyXzEuc2hhNTEyKShkYXRhKTtcbn1cbmV4cG9ydHMuaGFzaFNoYTUxMlN5bmMgPSBoYXNoU2hhNTEyU3luYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYTJIYXNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/sha2Hash.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/utils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.hashCode = exports.getBase64OutputLength = exports.getAesCbcOutputLength = exports.verifySignature = exports.Signature = void 0;\nconst secp256k1_1 = __webpack_require__(/*! @noble/secp256k1 */ \"(ssr)/./node_modules/@noble/secp256k1/lib/index.js\");\nObject.defineProperty(exports, \"Signature\", ({ enumerable: true, get: function () { return secp256k1_1.Signature; } }));\nObject.defineProperty(exports, \"verifySignature\", ({ enumerable: true, get: function () { return secp256k1_1.verify; } }));\nfunction getAesCbcOutputLength(inputByteLength) {\n    const cipherTextLength = (Math.floor(inputByteLength / 16) + 1) * 16;\n    return cipherTextLength;\n}\nexports.getAesCbcOutputLength = getAesCbcOutputLength;\nfunction getBase64OutputLength(inputByteLength) {\n    const encodedLength = Math.ceil(inputByteLength / 3) * 4;\n    return encodedLength;\n}\nexports.getBase64OutputLength = getBase64OutputLength;\nfunction hashCode(string) {\n    let hash = 0;\n    if (string.length === 0)\n        return hash;\n    for (let i = 0; i < string.length; i++) {\n        const character = string.charCodeAt(i);\n        hash = (hash << 5) - hash + character;\n        hash &= hash;\n    }\n    return hash & 0x7fffffff;\n}\nexports.hashCode = hashCode;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLEdBQUcsNkJBQTZCLEdBQUcsNkJBQTZCLEdBQUcsdUJBQXVCLEdBQUcsaUJBQWlCO0FBQzlILG9CQUFvQixtQkFBTyxDQUFDLDRFQUFrQjtBQUM5Qyw2Q0FBNEMsRUFBRSxxQ0FBcUMsaUNBQWlDLEVBQUM7QUFDckgsbURBQWtELEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvdXRpbHMuanM/NjJkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaGFzaENvZGUgPSBleHBvcnRzLmdldEJhc2U2NE91dHB1dExlbmd0aCA9IGV4cG9ydHMuZ2V0QWVzQ2JjT3V0cHV0TGVuZ3RoID0gZXhwb3J0cy52ZXJpZnlTaWduYXR1cmUgPSBleHBvcnRzLlNpZ25hdHVyZSA9IHZvaWQgMDtcbmNvbnN0IHNlY3AyNTZrMV8xID0gcmVxdWlyZShcIkBub2JsZS9zZWNwMjU2azFcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTaWduYXR1cmVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlY3AyNTZrMV8xLlNpZ25hdHVyZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInZlcmlmeVNpZ25hdHVyZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VjcDI1NmsxXzEudmVyaWZ5OyB9IH0pO1xuZnVuY3Rpb24gZ2V0QWVzQ2JjT3V0cHV0TGVuZ3RoKGlucHV0Qnl0ZUxlbmd0aCkge1xuICAgIGNvbnN0IGNpcGhlclRleHRMZW5ndGggPSAoTWF0aC5mbG9vcihpbnB1dEJ5dGVMZW5ndGggLyAxNikgKyAxKSAqIDE2O1xuICAgIHJldHVybiBjaXBoZXJUZXh0TGVuZ3RoO1xufVxuZXhwb3J0cy5nZXRBZXNDYmNPdXRwdXRMZW5ndGggPSBnZXRBZXNDYmNPdXRwdXRMZW5ndGg7XG5mdW5jdGlvbiBnZXRCYXNlNjRPdXRwdXRMZW5ndGgoaW5wdXRCeXRlTGVuZ3RoKSB7XG4gICAgY29uc3QgZW5jb2RlZExlbmd0aCA9IE1hdGguY2VpbChpbnB1dEJ5dGVMZW5ndGggLyAzKSAqIDQ7XG4gICAgcmV0dXJuIGVuY29kZWRMZW5ndGg7XG59XG5leHBvcnRzLmdldEJhc2U2NE91dHB1dExlbmd0aCA9IGdldEJhc2U2NE91dHB1dExlbmd0aDtcbmZ1bmN0aW9uIGhhc2hDb2RlKHN0cmluZykge1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBpZiAoc3RyaW5nLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaGFyYWN0ZXI7XG4gICAgICAgIGhhc2ggJj0gaGFzaDtcbiAgICB9XG4gICAgcmV0dXJuIGhhc2ggJiAweDdmZmZmZmZmO1xufVxuZXhwb3J0cy5oYXNoQ29kZSA9IGhhc2hDb2RlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/varuint.js":
/*!*********************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/varuint.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.encodingLength = exports.decode = exports.encode = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst MAX_SAFE_INTEGER = 9007199254740991;\nfunction ensureUInt53(n) {\n    if (n < 0 || n > MAX_SAFE_INTEGER || n % 1 !== 0)\n        throw new RangeError('value out of range');\n}\nfunction encode(number, bytes, offset = 0) {\n    ensureUInt53(number);\n    if (!bytes)\n        bytes = new Uint8Array(encodingLength(number));\n    if (number < 0xfd) {\n        (0, common_1.writeUInt8)(bytes, number, offset);\n    }\n    else if (number <= 65535) {\n        (0, common_1.writeUInt8)(bytes, 0xfd, offset);\n        (0, common_1.writeUInt16LE)(bytes, number, offset + 1);\n    }\n    else if (number <= 4294967295) {\n        (0, common_1.writeUInt8)(bytes, 0xfe, offset);\n        (0, common_1.writeUInt32LE)(bytes, number, offset + 1);\n    }\n    else {\n        (0, common_1.writeUInt8)(bytes, 0xff, offset);\n        (0, common_1.writeUInt32LE)(bytes, number >>> 0, offset + 1);\n        (0, common_1.writeUInt32LE)(bytes, (number / 4294967296) | 0, offset + 5);\n    }\n    return bytes;\n}\nexports.encode = encode;\nfunction decode(bytes, offset = 0) {\n    const first = (0, common_1.readUInt8)(bytes, offset);\n    if (first < 0xfd) {\n        return first;\n    }\n    else if (first === 0xfd) {\n        return (0, common_1.readUInt16LE)(bytes, offset + 1);\n    }\n    else if (first === 0xfe) {\n        return (0, common_1.readUInt32LE)(bytes, offset + 1);\n    }\n    else {\n        const lo = (0, common_1.readUInt32LE)(bytes, offset + 1);\n        const hi = (0, common_1.readUInt32LE)(bytes, offset + 5);\n        const number = hi * 4294967296 + lo;\n        ensureUInt53(number);\n        return number;\n    }\n}\nexports.decode = decode;\nfunction encodingLength(number) {\n    ensureUInt53(number);\n    return number < 0xfd ? 1 : number <= 65535 ? 3 : number <= 4294967295 ? 5 : 9;\n}\nexports.encodingLength = encodingLength;\n//# sourceMappingURL=varuint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3QvdmFydWludC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0IsR0FBRyxjQUFjLEdBQUcsY0FBYztBQUN4RCxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvZW5jcnlwdGlvbi9kaXN0L3ZhcnVpbnQuanM/NTY3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZW5jb2RpbmdMZW5ndGggPSBleHBvcnRzLmRlY29kZSA9IGV4cG9ydHMuZW5jb2RlID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcbmZ1bmN0aW9uIGVuc3VyZVVJbnQ1MyhuKSB7XG4gICAgaWYgKG4gPCAwIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSIHx8IG4gJSAxICE9PSAwKVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndmFsdWUgb3V0IG9mIHJhbmdlJyk7XG59XG5mdW5jdGlvbiBlbmNvZGUobnVtYmVyLCBieXRlcywgb2Zmc2V0ID0gMCkge1xuICAgIGVuc3VyZVVJbnQ1MyhudW1iZXIpO1xuICAgIGlmICghYnl0ZXMpXG4gICAgICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoZW5jb2RpbmdMZW5ndGgobnVtYmVyKSk7XG4gICAgaWYgKG51bWJlciA8IDB4ZmQpIHtcbiAgICAgICAgKDAsIGNvbW1vbl8xLndyaXRlVUludDgpKGJ5dGVzLCBudW1iZXIsIG9mZnNldCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG51bWJlciA8PSA2NTUzNSkge1xuICAgICAgICAoMCwgY29tbW9uXzEud3JpdGVVSW50OCkoYnl0ZXMsIDB4ZmQsIG9mZnNldCk7XG4gICAgICAgICgwLCBjb21tb25fMS53cml0ZVVJbnQxNkxFKShieXRlcywgbnVtYmVyLCBvZmZzZXQgKyAxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobnVtYmVyIDw9IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgKDAsIGNvbW1vbl8xLndyaXRlVUludDgpKGJ5dGVzLCAweGZlLCBvZmZzZXQpO1xuICAgICAgICAoMCwgY29tbW9uXzEud3JpdGVVSW50MzJMRSkoYnl0ZXMsIG51bWJlciwgb2Zmc2V0ICsgMSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAoMCwgY29tbW9uXzEud3JpdGVVSW50OCkoYnl0ZXMsIDB4ZmYsIG9mZnNldCk7XG4gICAgICAgICgwLCBjb21tb25fMS53cml0ZVVJbnQzMkxFKShieXRlcywgbnVtYmVyID4+PiAwLCBvZmZzZXQgKyAxKTtcbiAgICAgICAgKDAsIGNvbW1vbl8xLndyaXRlVUludDMyTEUpKGJ5dGVzLCAobnVtYmVyIC8gNDI5NDk2NzI5NikgfCAwLCBvZmZzZXQgKyA1KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuZXhwb3J0cy5lbmNvZGUgPSBlbmNvZGU7XG5mdW5jdGlvbiBkZWNvZGUoYnl0ZXMsIG9mZnNldCA9IDApIHtcbiAgICBjb25zdCBmaXJzdCA9ICgwLCBjb21tb25fMS5yZWFkVUludDgpKGJ5dGVzLCBvZmZzZXQpO1xuICAgIGlmIChmaXJzdCA8IDB4ZmQpIHtcbiAgICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdCA9PT0gMHhmZCkge1xuICAgICAgICByZXR1cm4gKDAsIGNvbW1vbl8xLnJlYWRVSW50MTZMRSkoYnl0ZXMsIG9mZnNldCArIDEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdCA9PT0gMHhmZSkge1xuICAgICAgICByZXR1cm4gKDAsIGNvbW1vbl8xLnJlYWRVSW50MzJMRSkoYnl0ZXMsIG9mZnNldCArIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbG8gPSAoMCwgY29tbW9uXzEucmVhZFVJbnQzMkxFKShieXRlcywgb2Zmc2V0ICsgMSk7XG4gICAgICAgIGNvbnN0IGhpID0gKDAsIGNvbW1vbl8xLnJlYWRVSW50MzJMRSkoYnl0ZXMsIG9mZnNldCArIDUpO1xuICAgICAgICBjb25zdCBudW1iZXIgPSBoaSAqIDQyOTQ5NjcyOTYgKyBsbztcbiAgICAgICAgZW5zdXJlVUludDUzKG51bWJlcik7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxufVxuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XG5mdW5jdGlvbiBlbmNvZGluZ0xlbmd0aChudW1iZXIpIHtcbiAgICBlbnN1cmVVSW50NTMobnVtYmVyKTtcbiAgICByZXR1cm4gbnVtYmVyIDwgMHhmZCA/IDEgOiBudW1iZXIgPD0gNjU1MzUgPyAzIDogbnVtYmVyIDw9IDQyOTQ5NjcyOTUgPyA1IDogOTtcbn1cbmV4cG9ydHMuZW5jb2RpbmdMZW5ndGggPSBlbmNvZGluZ0xlbmd0aDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhcnVpbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/varuint.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/encryption/dist/wallet.js":
/*!********************************************************!*\
  !*** ./node_modules/@stacks/encryption/dist/wallet.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.decryptMnemonic = exports.encryptMnemonic = void 0;\nconst bip39_1 = __webpack_require__(/*! @scure/bip39 */ \"(ssr)/./node_modules/@scure/bip39/index.js\");\nconst english_1 = __webpack_require__(/*! @scure/bip39/wordlists/english */ \"(ssr)/./node_modules/@scure/bip39/wordlists/english.js\");\nconst cryptoRandom_1 = __webpack_require__(/*! ./cryptoRandom */ \"(ssr)/./node_modules/@stacks/encryption/dist/cryptoRandom.js\");\nconst sha2Hash_1 = __webpack_require__(/*! ./sha2Hash */ \"(ssr)/./node_modules/@stacks/encryption/dist/sha2Hash.js\");\nconst aesCipher_1 = __webpack_require__(/*! ./aesCipher */ \"(ssr)/./node_modules/@stacks/encryption/dist/aesCipher.js\");\nconst pbkdf2_1 = __webpack_require__(/*! ./pbkdf2 */ \"(ssr)/./node_modules/@stacks/encryption/dist/pbkdf2.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst ec_1 = __webpack_require__(/*! ./ec */ \"(ssr)/./node_modules/@stacks/encryption/dist/ec.js\");\nasync function encryptMnemonic(phrase, password, opts) {\n    let mnemonicEntropy;\n    try {\n        const entropyBytes = (0, bip39_1.mnemonicToEntropy)(phrase, english_1.wordlist);\n        mnemonicEntropy = (0, common_1.bytesToHex)(entropyBytes);\n    }\n    catch (error) {\n        console.error('Invalid mnemonic phrase provided');\n        console.error(error);\n        throw new Error('Not a valid bip39 mnemonic');\n    }\n    const plaintextNormalized = (0, common_1.hexToBytes)(mnemonicEntropy);\n    const pbkdf2 = await (0, pbkdf2_1.createPbkdf2)();\n    const salt = opts?.getRandomBytes ? opts.getRandomBytes(16) : (0, cryptoRandom_1.randomBytes)(16);\n    const keysAndIV = await pbkdf2.derive(password, salt, 100000, 48, 'sha512');\n    const encKey = keysAndIV.slice(0, 16);\n    const macKey = keysAndIV.slice(16, 32);\n    const iv = keysAndIV.slice(32, 48);\n    const cipher = await (0, aesCipher_1.createCipher)();\n    const cipherText = await cipher.encrypt('aes-128-cbc', encKey, iv, plaintextNormalized);\n    const hmacPayload = (0, common_1.concatBytes)(salt, cipherText);\n    const hmacDigest = (0, ec_1.hmacSha256)(macKey, hmacPayload);\n    const payload = (0, common_1.concatBytes)(salt, hmacDigest, cipherText);\n    return payload;\n}\nexports.encryptMnemonic = encryptMnemonic;\nclass PasswordError extends Error {\n}\nasync function decryptMnemonicBytes(dataBytes, password) {\n    const salt = dataBytes.slice(0, 16);\n    const hmacSig = dataBytes.slice(16, 48);\n    const cipherText = dataBytes.slice(48);\n    const hmacPayload = (0, common_1.concatBytes)(salt, cipherText);\n    const pbkdf2 = await (0, pbkdf2_1.createPbkdf2)();\n    const keysAndIV = await pbkdf2.derive(password, salt, 100000, 48, 'sha512');\n    const encKey = keysAndIV.slice(0, 16);\n    const macKey = keysAndIV.slice(16, 32);\n    const iv = keysAndIV.slice(32, 48);\n    const decipher = await (0, aesCipher_1.createCipher)();\n    const decryptedResult = await decipher.decrypt('aes-128-cbc', encKey, iv, cipherText);\n    const hmacDigest = (0, ec_1.hmacSha256)(macKey, hmacPayload);\n    const sha2Hash = await (0, sha2Hash_1.createSha2Hash)();\n    const hmacSigHash = await sha2Hash.digest(hmacSig);\n    const hmacDigestHash = await sha2Hash.digest(hmacDigest);\n    if (!(0, common_1.equals)(hmacSigHash, hmacDigestHash)) {\n        throw new PasswordError('Wrong password (HMAC mismatch)');\n    }\n    let mnemonic;\n    try {\n        mnemonic = (0, bip39_1.entropyToMnemonic)(decryptedResult, english_1.wordlist);\n    }\n    catch (error) {\n        console.error('Error thrown by `entropyToMnemonic`');\n        console.error(error);\n        throw new PasswordError('Wrong password (invalid plaintext)');\n    }\n    if (!(0, bip39_1.validateMnemonic)(mnemonic, english_1.wordlist)) {\n        throw new PasswordError('Wrong password (invalid plaintext)');\n    }\n    return mnemonic;\n}\nfunction decryptLegacy(dataBytes, password, triplesecDecrypt) {\n    return new Promise((resolve, reject) => {\n        if (!triplesecDecrypt) {\n            reject(new Error('The `triplesec.decrypt` function must be provided'));\n        }\n        triplesecDecrypt({\n            key: (0, common_1.utf8ToBytes)(password),\n            data: dataBytes,\n        }, (err, plaintextBytes) => {\n            if (!err) {\n                resolve(plaintextBytes);\n            }\n            else {\n                reject(err);\n            }\n        });\n    });\n}\nasync function decryptMnemonic(data, password, triplesecDecrypt) {\n    const dataBytes = typeof data === 'string' ? (0, common_1.hexToBytes)(data) : data;\n    try {\n        return await decryptMnemonicBytes(dataBytes, password);\n    }\n    catch (error) {\n        if (error instanceof PasswordError)\n            throw error;\n        const data = await decryptLegacy(dataBytes, password, triplesecDecrypt);\n        return (0, common_1.bytesToUtf8)(data);\n    }\n}\nexports.decryptMnemonic = decryptMnemonic;\n//# sourceMappingURL=wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9lbmNyeXB0aW9uL2Rpc3Qvd2FsbGV0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLHVCQUF1QjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyxnRUFBYztBQUN0QyxrQkFBa0IsbUJBQU8sQ0FBQyw4RkFBZ0M7QUFDMUQsdUJBQXVCLG1CQUFPLENBQUMsb0ZBQWdCO0FBQy9DLG1CQUFtQixtQkFBTyxDQUFDLDRFQUFZO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLDhFQUFhO0FBQ3pDLGlCQUFpQixtQkFBTyxDQUFDLHdFQUFVO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxhQUFhLG1CQUFPLENBQUMsZ0VBQU07QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL2VuY3J5cHRpb24vZGlzdC93YWxsZXQuanM/ZTVmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVjcnlwdE1uZW1vbmljID0gZXhwb3J0cy5lbmNyeXB0TW5lbW9uaWMgPSB2b2lkIDA7XG5jb25zdCBiaXAzOV8xID0gcmVxdWlyZShcIkBzY3VyZS9iaXAzOVwiKTtcbmNvbnN0IGVuZ2xpc2hfMSA9IHJlcXVpcmUoXCJAc2N1cmUvYmlwMzkvd29yZGxpc3RzL2VuZ2xpc2hcIik7XG5jb25zdCBjcnlwdG9SYW5kb21fMSA9IHJlcXVpcmUoXCIuL2NyeXB0b1JhbmRvbVwiKTtcbmNvbnN0IHNoYTJIYXNoXzEgPSByZXF1aXJlKFwiLi9zaGEySGFzaFwiKTtcbmNvbnN0IGFlc0NpcGhlcl8xID0gcmVxdWlyZShcIi4vYWVzQ2lwaGVyXCIpO1xuY29uc3QgcGJrZGYyXzEgPSByZXF1aXJlKFwiLi9wYmtkZjJcIik7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNvbnN0IGVjXzEgPSByZXF1aXJlKFwiLi9lY1wiKTtcbmFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRNbmVtb25pYyhwaHJhc2UsIHBhc3N3b3JkLCBvcHRzKSB7XG4gICAgbGV0IG1uZW1vbmljRW50cm9weTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlbnRyb3B5Qnl0ZXMgPSAoMCwgYmlwMzlfMS5tbmVtb25pY1RvRW50cm9weSkocGhyYXNlLCBlbmdsaXNoXzEud29yZGxpc3QpO1xuICAgICAgICBtbmVtb25pY0VudHJvcHkgPSAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoZW50cm9weUJ5dGVzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgbW5lbW9uaWMgcGhyYXNlIHByb3ZpZGVkJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIHZhbGlkIGJpcDM5IG1uZW1vbmljJyk7XG4gICAgfVxuICAgIGNvbnN0IHBsYWludGV4dE5vcm1hbGl6ZWQgPSAoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykobW5lbW9uaWNFbnRyb3B5KTtcbiAgICBjb25zdCBwYmtkZjIgPSBhd2FpdCAoMCwgcGJrZGYyXzEuY3JlYXRlUGJrZGYyKSgpO1xuICAgIGNvbnN0IHNhbHQgPSBvcHRzPy5nZXRSYW5kb21CeXRlcyA/IG9wdHMuZ2V0UmFuZG9tQnl0ZXMoMTYpIDogKDAsIGNyeXB0b1JhbmRvbV8xLnJhbmRvbUJ5dGVzKSgxNik7XG4gICAgY29uc3Qga2V5c0FuZElWID0gYXdhaXQgcGJrZGYyLmRlcml2ZShwYXNzd29yZCwgc2FsdCwgMTAwMDAwLCA0OCwgJ3NoYTUxMicpO1xuICAgIGNvbnN0IGVuY0tleSA9IGtleXNBbmRJVi5zbGljZSgwLCAxNik7XG4gICAgY29uc3QgbWFjS2V5ID0ga2V5c0FuZElWLnNsaWNlKDE2LCAzMik7XG4gICAgY29uc3QgaXYgPSBrZXlzQW5kSVYuc2xpY2UoMzIsIDQ4KTtcbiAgICBjb25zdCBjaXBoZXIgPSBhd2FpdCAoMCwgYWVzQ2lwaGVyXzEuY3JlYXRlQ2lwaGVyKSgpO1xuICAgIGNvbnN0IGNpcGhlclRleHQgPSBhd2FpdCBjaXBoZXIuZW5jcnlwdCgnYWVzLTEyOC1jYmMnLCBlbmNLZXksIGl2LCBwbGFpbnRleHROb3JtYWxpemVkKTtcbiAgICBjb25zdCBobWFjUGF5bG9hZCA9ICgwLCBjb21tb25fMS5jb25jYXRCeXRlcykoc2FsdCwgY2lwaGVyVGV4dCk7XG4gICAgY29uc3QgaG1hY0RpZ2VzdCA9ICgwLCBlY18xLmhtYWNTaGEyNTYpKG1hY0tleSwgaG1hY1BheWxvYWQpO1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwgY29tbW9uXzEuY29uY2F0Qnl0ZXMpKHNhbHQsIGhtYWNEaWdlc3QsIGNpcGhlclRleHQpO1xuICAgIHJldHVybiBwYXlsb2FkO1xufVxuZXhwb3J0cy5lbmNyeXB0TW5lbW9uaWMgPSBlbmNyeXB0TW5lbW9uaWM7XG5jbGFzcyBQYXNzd29yZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuYXN5bmMgZnVuY3Rpb24gZGVjcnlwdE1uZW1vbmljQnl0ZXMoZGF0YUJ5dGVzLCBwYXNzd29yZCkge1xuICAgIGNvbnN0IHNhbHQgPSBkYXRhQnl0ZXMuc2xpY2UoMCwgMTYpO1xuICAgIGNvbnN0IGhtYWNTaWcgPSBkYXRhQnl0ZXMuc2xpY2UoMTYsIDQ4KTtcbiAgICBjb25zdCBjaXBoZXJUZXh0ID0gZGF0YUJ5dGVzLnNsaWNlKDQ4KTtcbiAgICBjb25zdCBobWFjUGF5bG9hZCA9ICgwLCBjb21tb25fMS5jb25jYXRCeXRlcykoc2FsdCwgY2lwaGVyVGV4dCk7XG4gICAgY29uc3QgcGJrZGYyID0gYXdhaXQgKDAsIHBia2RmMl8xLmNyZWF0ZVBia2RmMikoKTtcbiAgICBjb25zdCBrZXlzQW5kSVYgPSBhd2FpdCBwYmtkZjIuZGVyaXZlKHBhc3N3b3JkLCBzYWx0LCAxMDAwMDAsIDQ4LCAnc2hhNTEyJyk7XG4gICAgY29uc3QgZW5jS2V5ID0ga2V5c0FuZElWLnNsaWNlKDAsIDE2KTtcbiAgICBjb25zdCBtYWNLZXkgPSBrZXlzQW5kSVYuc2xpY2UoMTYsIDMyKTtcbiAgICBjb25zdCBpdiA9IGtleXNBbmRJVi5zbGljZSgzMiwgNDgpO1xuICAgIGNvbnN0IGRlY2lwaGVyID0gYXdhaXQgKDAsIGFlc0NpcGhlcl8xLmNyZWF0ZUNpcGhlcikoKTtcbiAgICBjb25zdCBkZWNyeXB0ZWRSZXN1bHQgPSBhd2FpdCBkZWNpcGhlci5kZWNyeXB0KCdhZXMtMTI4LWNiYycsIGVuY0tleSwgaXYsIGNpcGhlclRleHQpO1xuICAgIGNvbnN0IGhtYWNEaWdlc3QgPSAoMCwgZWNfMS5obWFjU2hhMjU2KShtYWNLZXksIGhtYWNQYXlsb2FkKTtcbiAgICBjb25zdCBzaGEySGFzaCA9IGF3YWl0ICgwLCBzaGEySGFzaF8xLmNyZWF0ZVNoYTJIYXNoKSgpO1xuICAgIGNvbnN0IGhtYWNTaWdIYXNoID0gYXdhaXQgc2hhMkhhc2guZGlnZXN0KGhtYWNTaWcpO1xuICAgIGNvbnN0IGhtYWNEaWdlc3RIYXNoID0gYXdhaXQgc2hhMkhhc2guZGlnZXN0KGhtYWNEaWdlc3QpO1xuICAgIGlmICghKDAsIGNvbW1vbl8xLmVxdWFscykoaG1hY1NpZ0hhc2gsIGhtYWNEaWdlc3RIYXNoKSkge1xuICAgICAgICB0aHJvdyBuZXcgUGFzc3dvcmRFcnJvcignV3JvbmcgcGFzc3dvcmQgKEhNQUMgbWlzbWF0Y2gpJyk7XG4gICAgfVxuICAgIGxldCBtbmVtb25pYztcbiAgICB0cnkge1xuICAgICAgICBtbmVtb25pYyA9ICgwLCBiaXAzOV8xLmVudHJvcHlUb01uZW1vbmljKShkZWNyeXB0ZWRSZXN1bHQsIGVuZ2xpc2hfMS53b3JkbGlzdCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0aHJvd24gYnkgYGVudHJvcHlUb01uZW1vbmljYCcpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IFBhc3N3b3JkRXJyb3IoJ1dyb25nIHBhc3N3b3JkIChpbnZhbGlkIHBsYWludGV4dCknKTtcbiAgICB9XG4gICAgaWYgKCEoMCwgYmlwMzlfMS52YWxpZGF0ZU1uZW1vbmljKShtbmVtb25pYywgZW5nbGlzaF8xLndvcmRsaXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgUGFzc3dvcmRFcnJvcignV3JvbmcgcGFzc3dvcmQgKGludmFsaWQgcGxhaW50ZXh0KScpO1xuICAgIH1cbiAgICByZXR1cm4gbW5lbW9uaWM7XG59XG5mdW5jdGlvbiBkZWNyeXB0TGVnYWN5KGRhdGFCeXRlcywgcGFzc3dvcmQsIHRyaXBsZXNlY0RlY3J5cHQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoIXRyaXBsZXNlY0RlY3J5cHQpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1RoZSBgdHJpcGxlc2VjLmRlY3J5cHRgIGZ1bmN0aW9uIG11c3QgYmUgcHJvdmlkZWQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJpcGxlc2VjRGVjcnlwdCh7XG4gICAgICAgICAgICBrZXk6ICgwLCBjb21tb25fMS51dGY4VG9CeXRlcykocGFzc3dvcmQpLFxuICAgICAgICAgICAgZGF0YTogZGF0YUJ5dGVzLFxuICAgICAgICB9LCAoZXJyLCBwbGFpbnRleHRCeXRlcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBsYWludGV4dEJ5dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlY3J5cHRNbmVtb25pYyhkYXRhLCBwYXNzd29yZCwgdHJpcGxlc2VjRGVjcnlwdCkge1xuICAgIGNvbnN0IGRhdGFCeXRlcyA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/ICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShkYXRhKSA6IGRhdGE7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGRlY3J5cHRNbmVtb25pY0J5dGVzKGRhdGFCeXRlcywgcGFzc3dvcmQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUGFzc3dvcmRFcnJvcilcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZGVjcnlwdExlZ2FjeShkYXRhQnl0ZXMsIHBhc3N3b3JkLCB0cmlwbGVzZWNEZWNyeXB0KTtcbiAgICAgICAgcmV0dXJuICgwLCBjb21tb25fMS5ieXRlc1RvVXRmOCkoZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5kZWNyeXB0TW5lbW9uaWMgPSBkZWNyeXB0TW5lbW9uaWM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/encryption/dist/wallet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/network/dist/fetch.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/network/dist/fetch.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createFetchFn = exports.createApiKeyMiddleware = exports.hostMatches = exports.fetchWrapper = exports.setFetchOptions = exports.getFetchOptions = void 0;\n__webpack_require__(/*! cross-fetch/polyfill */ \"(ssr)/./node_modules/cross-fetch/dist/node-polyfill.js\");\nconst defaultFetchOpts = {\n    referrerPolicy: 'origin',\n    headers: {\n        'x-hiro-product': 'stacksjs',\n    },\n};\nconst getFetchOptions = () => {\n    return defaultFetchOpts;\n};\nexports.getFetchOptions = getFetchOptions;\nconst setFetchOptions = (ops) => {\n    return Object.assign(defaultFetchOpts, ops);\n};\nexports.setFetchOptions = setFetchOptions;\nasync function fetchWrapper(input, init) {\n    const fetchOpts = {};\n    Object.assign(fetchOpts, defaultFetchOpts, init);\n    const fetchResult = await fetch(input, fetchOpts);\n    return fetchResult;\n}\nexports.fetchWrapper = fetchWrapper;\nfunction hostMatches(host, pattern) {\n    if (typeof pattern === 'string')\n        return pattern === host;\n    return pattern.exec(host);\n}\nexports.hostMatches = hostMatches;\nfunction createApiKeyMiddleware({ apiKey, host = /(.*)api(.*)\\.stacks\\.co$/i, httpHeader = 'x-api-key', }) {\n    return {\n        pre: context => {\n            const reqUrl = new URL(context.url);\n            if (!hostMatches(reqUrl.host, host))\n                return;\n            const headers = new Headers(context.init.headers);\n            headers.set(httpHeader, apiKey);\n            context.init.headers = headers;\n        },\n    };\n}\nexports.createApiKeyMiddleware = createApiKeyMiddleware;\nfunction argsForCreateFetchFn(args) {\n    let fetchLib = fetchWrapper;\n    let middlewares = [];\n    if (args.length > 0 && typeof args[0] === 'function') {\n        fetchLib = args.shift();\n    }\n    if (args.length > 0) {\n        middlewares = args;\n    }\n    return { fetchLib, middlewares };\n}\nfunction createFetchFn(...args) {\n    const { fetchLib, middlewares } = argsForCreateFetchFn(args);\n    const fetchFn = async (url, init) => {\n        let fetchParams = { url, init: init ?? {} };\n        for (const middleware of middlewares) {\n            if (typeof middleware.pre === 'function') {\n                const result = await Promise.resolve(middleware.pre({\n                    fetch: fetchLib,\n                    ...fetchParams,\n                }));\n                fetchParams = result ?? fetchParams;\n            }\n        }\n        let response = await fetchLib(fetchParams.url, fetchParams.init);\n        for (const middleware of middlewares) {\n            if (typeof middleware.post === 'function') {\n                const result = await Promise.resolve(middleware.post({\n                    fetch: fetchLib,\n                    url: fetchParams.url,\n                    init: fetchParams.init,\n                    response: response?.clone() ?? response,\n                }));\n                response = result ?? response;\n            }\n        }\n        return response;\n    };\n    return fetchFn;\n}\nexports.createFetchFn = createFetchFn;\n//# sourceMappingURL=fetch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9uZXR3b3JrL2Rpc3QvZmV0Y2guanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCLEdBQUcsOEJBQThCLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsdUJBQXVCLEdBQUcsdUJBQXVCO0FBQ3ZKLG1CQUFPLENBQUMsb0ZBQXNCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixrQ0FBa0MsdUVBQXVFO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL25ldHdvcmsvZGlzdC9mZXRjaC5qcz8xMTExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVGZXRjaEZuID0gZXhwb3J0cy5jcmVhdGVBcGlLZXlNaWRkbGV3YXJlID0gZXhwb3J0cy5ob3N0TWF0Y2hlcyA9IGV4cG9ydHMuZmV0Y2hXcmFwcGVyID0gZXhwb3J0cy5zZXRGZXRjaE9wdGlvbnMgPSBleHBvcnRzLmdldEZldGNoT3B0aW9ucyA9IHZvaWQgMDtcbnJlcXVpcmUoXCJjcm9zcy1mZXRjaC9wb2x5ZmlsbFwiKTtcbmNvbnN0IGRlZmF1bHRGZXRjaE9wdHMgPSB7XG4gICAgcmVmZXJyZXJQb2xpY3k6ICdvcmlnaW4nLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ3gtaGlyby1wcm9kdWN0JzogJ3N0YWNrc2pzJyxcbiAgICB9LFxufTtcbmNvbnN0IGdldEZldGNoT3B0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4gZGVmYXVsdEZldGNoT3B0cztcbn07XG5leHBvcnRzLmdldEZldGNoT3B0aW9ucyA9IGdldEZldGNoT3B0aW9ucztcbmNvbnN0IHNldEZldGNoT3B0aW9ucyA9IChvcHMpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkZWZhdWx0RmV0Y2hPcHRzLCBvcHMpO1xufTtcbmV4cG9ydHMuc2V0RmV0Y2hPcHRpb25zID0gc2V0RmV0Y2hPcHRpb25zO1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hXcmFwcGVyKGlucHV0LCBpbml0KSB7XG4gICAgY29uc3QgZmV0Y2hPcHRzID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihmZXRjaE9wdHMsIGRlZmF1bHRGZXRjaE9wdHMsIGluaXQpO1xuICAgIGNvbnN0IGZldGNoUmVzdWx0ID0gYXdhaXQgZmV0Y2goaW5wdXQsIGZldGNoT3B0cyk7XG4gICAgcmV0dXJuIGZldGNoUmVzdWx0O1xufVxuZXhwb3J0cy5mZXRjaFdyYXBwZXIgPSBmZXRjaFdyYXBwZXI7XG5mdW5jdGlvbiBob3N0TWF0Y2hlcyhob3N0LCBwYXR0ZXJuKSB7XG4gICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPT09IGhvc3Q7XG4gICAgcmV0dXJuIHBhdHRlcm4uZXhlYyhob3N0KTtcbn1cbmV4cG9ydHMuaG9zdE1hdGNoZXMgPSBob3N0TWF0Y2hlcztcbmZ1bmN0aW9uIGNyZWF0ZUFwaUtleU1pZGRsZXdhcmUoeyBhcGlLZXksIGhvc3QgPSAvKC4qKWFwaSguKilcXC5zdGFja3NcXC5jbyQvaSwgaHR0cEhlYWRlciA9ICd4LWFwaS1rZXknLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBjb250ZXh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcVVybCA9IG5ldyBVUkwoY29udGV4dC51cmwpO1xuICAgICAgICAgICAgaWYgKCFob3N0TWF0Y2hlcyhyZXFVcmwuaG9zdCwgaG9zdCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKGNvbnRleHQuaW5pdC5oZWFkZXJzKTtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KGh0dHBIZWFkZXIsIGFwaUtleSk7XG4gICAgICAgICAgICBjb250ZXh0LmluaXQuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlQXBpS2V5TWlkZGxld2FyZSA9IGNyZWF0ZUFwaUtleU1pZGRsZXdhcmU7XG5mdW5jdGlvbiBhcmdzRm9yQ3JlYXRlRmV0Y2hGbihhcmdzKSB7XG4gICAgbGV0IGZldGNoTGliID0gZmV0Y2hXcmFwcGVyO1xuICAgIGxldCBtaWRkbGV3YXJlcyA9IFtdO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDAgJiYgdHlwZW9mIGFyZ3NbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmV0Y2hMaWIgPSBhcmdzLnNoaWZ0KCk7XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWlkZGxld2FyZXMgPSBhcmdzO1xuICAgIH1cbiAgICByZXR1cm4geyBmZXRjaExpYiwgbWlkZGxld2FyZXMgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZldGNoRm4oLi4uYXJncykge1xuICAgIGNvbnN0IHsgZmV0Y2hMaWIsIG1pZGRsZXdhcmVzIH0gPSBhcmdzRm9yQ3JlYXRlRmV0Y2hGbihhcmdzKTtcbiAgICBjb25zdCBmZXRjaEZuID0gYXN5bmMgKHVybCwgaW5pdCkgPT4ge1xuICAgICAgICBsZXQgZmV0Y2hQYXJhbXMgPSB7IHVybCwgaW5pdDogaW5pdCA/PyB7fSB9O1xuICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgbWlkZGxld2FyZXMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWlkZGxld2FyZS5wcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUobWlkZGxld2FyZS5wcmUoe1xuICAgICAgICAgICAgICAgICAgICBmZXRjaDogZmV0Y2hMaWIsXG4gICAgICAgICAgICAgICAgICAgIC4uLmZldGNoUGFyYW1zLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBmZXRjaFBhcmFtcyA9IHJlc3VsdCA/PyBmZXRjaFBhcmFtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaExpYihmZXRjaFBhcmFtcy51cmwsIGZldGNoUGFyYW1zLmluaXQpO1xuICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgbWlkZGxld2FyZXMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWlkZGxld2FyZS5wb3N0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKG1pZGRsZXdhcmUucG9zdCh7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoOiBmZXRjaExpYixcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBmZXRjaFBhcmFtcy51cmwsXG4gICAgICAgICAgICAgICAgICAgIGluaXQ6IGZldGNoUGFyYW1zLmluaXQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZT8uY2xvbmUoKSA/PyByZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXN1bHQgPz8gcmVzcG9uc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgcmV0dXJuIGZldGNoRm47XG59XG5leHBvcnRzLmNyZWF0ZUZldGNoRm4gPSBjcmVhdGVGZXRjaEZuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/network/dist/fetch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/network/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/network/dist/index.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./fetch */ \"(ssr)/./node_modules/@stacks/network/dist/fetch.js\"), exports);\n__exportStar(__webpack_require__(/*! ./network */ \"(ssr)/./node_modules/@stacks/network/dist/network.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9uZXR3b3JrL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYSxtQkFBTyxDQUFDLG1FQUFTO0FBQzlCLGFBQWEsbUJBQU8sQ0FBQyx1RUFBVztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL25ldHdvcmsvZGlzdC9pbmRleC5qcz9kMGMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZmV0Y2hcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL25ldHdvcmtcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/network/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/network/dist/network.js":
/*!******************************************************!*\
  !*** ./node_modules/@stacks/network/dist/network.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StacksDevnet = exports.StacksMocknet = exports.StacksTestnet = exports.StacksMainnet = exports.StacksNetwork = exports.StacksNetworks = exports.HIRO_MOCKNET_DEFAULT = exports.HIRO_TESTNET_DEFAULT = exports.HIRO_MAINNET_DEFAULT = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst fetch_1 = __webpack_require__(/*! ./fetch */ \"(ssr)/./node_modules/@stacks/network/dist/fetch.js\");\nexports.HIRO_MAINNET_DEFAULT = 'https://stacks-node-api.mainnet.stacks.co';\nexports.HIRO_TESTNET_DEFAULT = 'https://stacks-node-api.testnet.stacks.co';\nexports.HIRO_MOCKNET_DEFAULT = 'http://localhost:3999';\nexports.StacksNetworks = ['mainnet', 'testnet', 'devnet', 'mocknet'];\nclass StacksNetwork {\n    constructor(networkConfig) {\n        this.version = common_1.TransactionVersion.Mainnet;\n        this.chainId = common_1.ChainID.Mainnet;\n        this.bnsLookupUrl = 'https://stacks-node-api.mainnet.stacks.co';\n        this.broadcastEndpoint = '/v2/transactions';\n        this.transferFeeEstimateEndpoint = '/v2/fees/transfer';\n        this.transactionFeeEstimateEndpoint = '/v2/fees/transaction';\n        this.accountEndpoint = '/v2/accounts';\n        this.contractAbiEndpoint = '/v2/contracts/interface';\n        this.readOnlyFunctionCallEndpoint = '/v2/contracts/call-read';\n        this.isMainnet = () => this.version === common_1.TransactionVersion.Mainnet;\n        this.getBroadcastApiUrl = () => `${this.coreApiUrl}${this.broadcastEndpoint}`;\n        this.getTransferFeeEstimateApiUrl = () => `${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`;\n        this.getTransactionFeeEstimateApiUrl = () => `${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`;\n        this.getAccountApiUrl = (address) => `${this.coreApiUrl}${this.accountEndpoint}/${address}?proof=0`;\n        this.getAccountExtendedBalancesApiUrl = (address) => `${this.coreApiUrl}/extended/v1/address/${address}/balances`;\n        this.getAbiApiUrl = (address, contract) => `${this.coreApiUrl}${this.contractAbiEndpoint}/${address}/${contract}`;\n        this.getReadOnlyFunctionCallApiUrl = (contractAddress, contractName, functionName) => `${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${contractAddress}/${contractName}/${encodeURIComponent(functionName)}`;\n        this.getInfoUrl = () => `${this.coreApiUrl}/v2/info`;\n        this.getBlockTimeInfoUrl = () => `${this.coreApiUrl}/extended/v1/info/network_block_times`;\n        this.getPoxInfoUrl = () => `${this.coreApiUrl}/v2/pox`;\n        this.getRewardsUrl = (address, options) => {\n            let url = `${this.coreApiUrl}/extended/v1/burnchain/rewards/${address}`;\n            if (options) {\n                url = `${url}?limit=${options.limit}&offset=${options.offset}`;\n            }\n            return url;\n        };\n        this.getRewardsTotalUrl = (address) => `${this.coreApiUrl}/extended/v1/burnchain/rewards/${address}/total`;\n        this.getRewardHoldersUrl = (address, options) => {\n            let url = `${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${address}`;\n            if (options) {\n                url = `${url}?limit=${options.limit}&offset=${options.offset}`;\n            }\n            return url;\n        };\n        this.getStackerInfoUrl = (contractAddress, contractName) => `${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}\n    ${contractAddress}/${contractName}/get-stacker-info`;\n        this.getDataVarUrl = (contractAddress, contractName, dataVarName) => `${this.coreApiUrl}/v2/data_var/${contractAddress}/${contractName}/${dataVarName}?proof=0`;\n        this.getMapEntryUrl = (contractAddress, contractName, mapName) => `${this.coreApiUrl}/v2/map_entry/${contractAddress}/${contractName}/${mapName}?proof=0`;\n        this.coreApiUrl = networkConfig.url;\n        this.fetchFn = networkConfig.fetchFn ?? (0, fetch_1.createFetchFn)();\n    }\n    getNameInfo(fullyQualifiedName) {\n        const nameLookupURL = `${this.bnsLookupUrl}/v1/names/${fullyQualifiedName}`;\n        return this.fetchFn(nameLookupURL)\n            .then(resp => {\n            if (resp.status === 404) {\n                throw new Error('Name not found');\n            }\n            else if (resp.status !== 200) {\n                throw new Error(`Bad response status: ${resp.status}`);\n            }\n            else {\n                return resp.json();\n            }\n        })\n            .then(nameInfo => {\n            if (nameInfo.address) {\n                return Object.assign({}, nameInfo, { address: nameInfo.address });\n            }\n            else {\n                return nameInfo;\n            }\n        });\n    }\n}\nexports.StacksNetwork = StacksNetwork;\nStacksNetwork.fromName = (networkName) => {\n    switch (networkName) {\n        case 'mainnet':\n            return new StacksMainnet();\n        case 'testnet':\n            return new StacksTestnet();\n        case 'devnet':\n            return new exports.StacksDevnet();\n        case 'mocknet':\n            return new StacksMocknet();\n        default:\n            throw new Error(`Invalid network name provided. Must be one of the following: ${exports.StacksNetworks.join(', ')}`);\n    }\n};\nStacksNetwork.fromNameOrNetwork = (network) => {\n    if (typeof network !== 'string' && 'version' in network) {\n        return network;\n    }\n    return StacksNetwork.fromName(network);\n};\nclass StacksMainnet extends StacksNetwork {\n    constructor(opts) {\n        super({\n            url: opts?.url ?? exports.HIRO_MAINNET_DEFAULT,\n            fetchFn: opts?.fetchFn,\n        });\n        this.version = common_1.TransactionVersion.Mainnet;\n        this.chainId = common_1.ChainID.Mainnet;\n    }\n}\nexports.StacksMainnet = StacksMainnet;\nclass StacksTestnet extends StacksNetwork {\n    constructor(opts) {\n        super({\n            url: opts?.url ?? exports.HIRO_TESTNET_DEFAULT,\n            fetchFn: opts?.fetchFn,\n        });\n        this.version = common_1.TransactionVersion.Testnet;\n        this.chainId = common_1.ChainID.Testnet;\n    }\n}\nexports.StacksTestnet = StacksTestnet;\nclass StacksMocknet extends StacksNetwork {\n    constructor(opts) {\n        super({\n            url: opts?.url ?? exports.HIRO_MOCKNET_DEFAULT,\n            fetchFn: opts?.fetchFn,\n        });\n        this.version = common_1.TransactionVersion.Testnet;\n        this.chainId = common_1.ChainID.Testnet;\n    }\n}\nexports.StacksMocknet = StacksMocknet;\nexports.StacksDevnet = StacksMocknet;\n//# sourceMappingURL=network.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9uZXR3b3JrL2Rpc3QvbmV0d29yay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyxzQkFBc0IsR0FBRyw0QkFBNEIsR0FBRyw0QkFBNEIsR0FBRyw0QkFBNEI7QUFDMU8saUJBQWlCLG1CQUFPLENBQUMseUVBQWdCO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLG1FQUFTO0FBQ2pDLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUIsNEJBQTRCO0FBQzVCLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZ0JBQWdCLEVBQUUsdUJBQXVCO0FBQ3BGLHFEQUFxRCxnQkFBZ0IsRUFBRSxpQ0FBaUM7QUFDeEcsd0RBQXdELGdCQUFnQixFQUFFLG9DQUFvQztBQUM5RyxnREFBZ0QsZ0JBQWdCLEVBQUUscUJBQXFCLEdBQUcsUUFBUTtBQUNsRyxnRUFBZ0UsZ0JBQWdCLHVCQUF1QixRQUFRO0FBQy9HLHNEQUFzRCxnQkFBZ0IsRUFBRSx5QkFBeUIsR0FBRyxRQUFRLEdBQUcsU0FBUztBQUN4SCxpR0FBaUcsZ0JBQWdCLEVBQUUsa0NBQWtDLEdBQUcsZ0JBQWdCLEdBQUcsYUFBYSxHQUFHLGlDQUFpQztBQUM1TixtQ0FBbUMsZ0JBQWdCO0FBQ25ELDRDQUE0QyxnQkFBZ0I7QUFDNUQsc0NBQXNDLGdCQUFnQjtBQUN0RDtBQUNBLHlCQUF5QixnQkFBZ0IsaUNBQWlDLFFBQVE7QUFDbEY7QUFDQSx5QkFBeUIsSUFBSSxTQUFTLGNBQWMsVUFBVSxlQUFlO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxnQkFBZ0IsaUNBQWlDLFFBQVE7QUFDM0c7QUFDQSx5QkFBeUIsZ0JBQWdCLDZDQUE2QyxRQUFRO0FBQzlGO0FBQ0EseUJBQXlCLElBQUksU0FBUyxjQUFjLFVBQVUsZUFBZTtBQUM3RTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsZ0JBQWdCLEVBQUU7QUFDekYsTUFBTSxnQkFBZ0IsR0FBRyxhQUFhO0FBQ3RDLGdGQUFnRixnQkFBZ0IsZUFBZSxnQkFBZ0IsR0FBRyxhQUFhLEdBQUcsWUFBWTtBQUM5Siw2RUFBNkUsZ0JBQWdCLGdCQUFnQixnQkFBZ0IsR0FBRyxhQUFhLEdBQUcsUUFBUTtBQUN4SjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQkFBa0IsWUFBWSxtQkFBbUI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFlBQVk7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHVDQUF1QyxjQUFjLDJCQUEyQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsa0NBQWtDO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9uZXR3b3JrL2Rpc3QvbmV0d29yay5qcz8yZDIxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdGFja3NEZXZuZXQgPSBleHBvcnRzLlN0YWNrc01vY2tuZXQgPSBleHBvcnRzLlN0YWNrc1Rlc3RuZXQgPSBleHBvcnRzLlN0YWNrc01haW5uZXQgPSBleHBvcnRzLlN0YWNrc05ldHdvcmsgPSBleHBvcnRzLlN0YWNrc05ldHdvcmtzID0gZXhwb3J0cy5ISVJPX01PQ0tORVRfREVGQVVMVCA9IGV4cG9ydHMuSElST19URVNUTkVUX0RFRkFVTFQgPSBleHBvcnRzLkhJUk9fTUFJTk5FVF9ERUZBVUxUID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBmZXRjaF8xID0gcmVxdWlyZShcIi4vZmV0Y2hcIik7XG5leHBvcnRzLkhJUk9fTUFJTk5FVF9ERUZBVUxUID0gJ2h0dHBzOi8vc3RhY2tzLW5vZGUtYXBpLm1haW5uZXQuc3RhY2tzLmNvJztcbmV4cG9ydHMuSElST19URVNUTkVUX0RFRkFVTFQgPSAnaHR0cHM6Ly9zdGFja3Mtbm9kZS1hcGkudGVzdG5ldC5zdGFja3MuY28nO1xuZXhwb3J0cy5ISVJPX01PQ0tORVRfREVGQVVMVCA9ICdodHRwOi8vbG9jYWxob3N0OjM5OTknO1xuZXhwb3J0cy5TdGFja3NOZXR3b3JrcyA9IFsnbWFpbm5ldCcsICd0ZXN0bmV0JywgJ2Rldm5ldCcsICdtb2NrbmV0J107XG5jbGFzcyBTdGFja3NOZXR3b3JrIHtcbiAgICBjb25zdHJ1Y3RvcihuZXR3b3JrQ29uZmlnKSB7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IGNvbW1vbl8xLlRyYW5zYWN0aW9uVmVyc2lvbi5NYWlubmV0O1xuICAgICAgICB0aGlzLmNoYWluSWQgPSBjb21tb25fMS5DaGFpbklELk1haW5uZXQ7XG4gICAgICAgIHRoaXMuYm5zTG9va3VwVXJsID0gJ2h0dHBzOi8vc3RhY2tzLW5vZGUtYXBpLm1haW5uZXQuc3RhY2tzLmNvJztcbiAgICAgICAgdGhpcy5icm9hZGNhc3RFbmRwb2ludCA9ICcvdjIvdHJhbnNhY3Rpb25zJztcbiAgICAgICAgdGhpcy50cmFuc2ZlckZlZUVzdGltYXRlRW5kcG9pbnQgPSAnL3YyL2ZlZXMvdHJhbnNmZXInO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uRmVlRXN0aW1hdGVFbmRwb2ludCA9ICcvdjIvZmVlcy90cmFuc2FjdGlvbic7XG4gICAgICAgIHRoaXMuYWNjb3VudEVuZHBvaW50ID0gJy92Mi9hY2NvdW50cyc7XG4gICAgICAgIHRoaXMuY29udHJhY3RBYmlFbmRwb2ludCA9ICcvdjIvY29udHJhY3RzL2ludGVyZmFjZSc7XG4gICAgICAgIHRoaXMucmVhZE9ubHlGdW5jdGlvbkNhbGxFbmRwb2ludCA9ICcvdjIvY29udHJhY3RzL2NhbGwtcmVhZCc7XG4gICAgICAgIHRoaXMuaXNNYWlubmV0ID0gKCkgPT4gdGhpcy52ZXJzaW9uID09PSBjb21tb25fMS5UcmFuc2FjdGlvblZlcnNpb24uTWFpbm5ldDtcbiAgICAgICAgdGhpcy5nZXRCcm9hZGNhc3RBcGlVcmwgPSAoKSA9PiBgJHt0aGlzLmNvcmVBcGlVcmx9JHt0aGlzLmJyb2FkY2FzdEVuZHBvaW50fWA7XG4gICAgICAgIHRoaXMuZ2V0VHJhbnNmZXJGZWVFc3RpbWF0ZUFwaVVybCA9ICgpID0+IGAke3RoaXMuY29yZUFwaVVybH0ke3RoaXMudHJhbnNmZXJGZWVFc3RpbWF0ZUVuZHBvaW50fWA7XG4gICAgICAgIHRoaXMuZ2V0VHJhbnNhY3Rpb25GZWVFc3RpbWF0ZUFwaVVybCA9ICgpID0+IGAke3RoaXMuY29yZUFwaVVybH0ke3RoaXMudHJhbnNhY3Rpb25GZWVFc3RpbWF0ZUVuZHBvaW50fWA7XG4gICAgICAgIHRoaXMuZ2V0QWNjb3VudEFwaVVybCA9IChhZGRyZXNzKSA9PiBgJHt0aGlzLmNvcmVBcGlVcmx9JHt0aGlzLmFjY291bnRFbmRwb2ludH0vJHthZGRyZXNzfT9wcm9vZj0wYDtcbiAgICAgICAgdGhpcy5nZXRBY2NvdW50RXh0ZW5kZWRCYWxhbmNlc0FwaVVybCA9IChhZGRyZXNzKSA9PiBgJHt0aGlzLmNvcmVBcGlVcmx9L2V4dGVuZGVkL3YxL2FkZHJlc3MvJHthZGRyZXNzfS9iYWxhbmNlc2A7XG4gICAgICAgIHRoaXMuZ2V0QWJpQXBpVXJsID0gKGFkZHJlc3MsIGNvbnRyYWN0KSA9PiBgJHt0aGlzLmNvcmVBcGlVcmx9JHt0aGlzLmNvbnRyYWN0QWJpRW5kcG9pbnR9LyR7YWRkcmVzc30vJHtjb250cmFjdH1gO1xuICAgICAgICB0aGlzLmdldFJlYWRPbmx5RnVuY3Rpb25DYWxsQXBpVXJsID0gKGNvbnRyYWN0QWRkcmVzcywgY29udHJhY3ROYW1lLCBmdW5jdGlvbk5hbWUpID0+IGAke3RoaXMuY29yZUFwaVVybH0ke3RoaXMucmVhZE9ubHlGdW5jdGlvbkNhbGxFbmRwb2ludH0vJHtjb250cmFjdEFkZHJlc3N9LyR7Y29udHJhY3ROYW1lfS8ke2VuY29kZVVSSUNvbXBvbmVudChmdW5jdGlvbk5hbWUpfWA7XG4gICAgICAgIHRoaXMuZ2V0SW5mb1VybCA9ICgpID0+IGAke3RoaXMuY29yZUFwaVVybH0vdjIvaW5mb2A7XG4gICAgICAgIHRoaXMuZ2V0QmxvY2tUaW1lSW5mb1VybCA9ICgpID0+IGAke3RoaXMuY29yZUFwaVVybH0vZXh0ZW5kZWQvdjEvaW5mby9uZXR3b3JrX2Jsb2NrX3RpbWVzYDtcbiAgICAgICAgdGhpcy5nZXRQb3hJbmZvVXJsID0gKCkgPT4gYCR7dGhpcy5jb3JlQXBpVXJsfS92Mi9wb3hgO1xuICAgICAgICB0aGlzLmdldFJld2FyZHNVcmwgPSAoYWRkcmVzcywgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgbGV0IHVybCA9IGAke3RoaXMuY29yZUFwaVVybH0vZXh0ZW5kZWQvdjEvYnVybmNoYWluL3Jld2FyZHMvJHthZGRyZXNzfWA7XG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHVybCA9IGAke3VybH0/bGltaXQ9JHtvcHRpb25zLmxpbWl0fSZvZmZzZXQ9JHtvcHRpb25zLm9mZnNldH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRSZXdhcmRzVG90YWxVcmwgPSAoYWRkcmVzcykgPT4gYCR7dGhpcy5jb3JlQXBpVXJsfS9leHRlbmRlZC92MS9idXJuY2hhaW4vcmV3YXJkcy8ke2FkZHJlc3N9L3RvdGFsYDtcbiAgICAgICAgdGhpcy5nZXRSZXdhcmRIb2xkZXJzVXJsID0gKGFkZHJlc3MsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGxldCB1cmwgPSBgJHt0aGlzLmNvcmVBcGlVcmx9L2V4dGVuZGVkL3YxL2J1cm5jaGFpbi9yZXdhcmRfc2xvdF9ob2xkZXJzLyR7YWRkcmVzc31gO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBgJHt1cmx9P2xpbWl0PSR7b3B0aW9ucy5saW1pdH0mb2Zmc2V0PSR7b3B0aW9ucy5vZmZzZXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0U3RhY2tlckluZm9VcmwgPSAoY29udHJhY3RBZGRyZXNzLCBjb250cmFjdE5hbWUpID0+IGAke3RoaXMuY29yZUFwaVVybH0ke3RoaXMucmVhZE9ubHlGdW5jdGlvbkNhbGxFbmRwb2ludH1cbiAgICAke2NvbnRyYWN0QWRkcmVzc30vJHtjb250cmFjdE5hbWV9L2dldC1zdGFja2VyLWluZm9gO1xuICAgICAgICB0aGlzLmdldERhdGFWYXJVcmwgPSAoY29udHJhY3RBZGRyZXNzLCBjb250cmFjdE5hbWUsIGRhdGFWYXJOYW1lKSA9PiBgJHt0aGlzLmNvcmVBcGlVcmx9L3YyL2RhdGFfdmFyLyR7Y29udHJhY3RBZGRyZXNzfS8ke2NvbnRyYWN0TmFtZX0vJHtkYXRhVmFyTmFtZX0/cHJvb2Y9MGA7XG4gICAgICAgIHRoaXMuZ2V0TWFwRW50cnlVcmwgPSAoY29udHJhY3RBZGRyZXNzLCBjb250cmFjdE5hbWUsIG1hcE5hbWUpID0+IGAke3RoaXMuY29yZUFwaVVybH0vdjIvbWFwX2VudHJ5LyR7Y29udHJhY3RBZGRyZXNzfS8ke2NvbnRyYWN0TmFtZX0vJHttYXBOYW1lfT9wcm9vZj0wYDtcbiAgICAgICAgdGhpcy5jb3JlQXBpVXJsID0gbmV0d29ya0NvbmZpZy51cmw7XG4gICAgICAgIHRoaXMuZmV0Y2hGbiA9IG5ldHdvcmtDb25maWcuZmV0Y2hGbiA/PyAoMCwgZmV0Y2hfMS5jcmVhdGVGZXRjaEZuKSgpO1xuICAgIH1cbiAgICBnZXROYW1lSW5mbyhmdWxseVF1YWxpZmllZE5hbWUpIHtcbiAgICAgICAgY29uc3QgbmFtZUxvb2t1cFVSTCA9IGAke3RoaXMuYm5zTG9va3VwVXJsfS92MS9uYW1lcy8ke2Z1bGx5UXVhbGlmaWVkTmFtZX1gO1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEZuKG5hbWVMb29rdXBVUkwpXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYW1lIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzcC5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmFkIHJlc3BvbnNlIHN0YXR1czogJHtyZXNwLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwLmpzb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKG5hbWVJbmZvID0+IHtcbiAgICAgICAgICAgIGlmIChuYW1lSW5mby5hZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG5hbWVJbmZvLCB7IGFkZHJlc3M6IG5hbWVJbmZvLmFkZHJlc3MgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RhY2tzTmV0d29yayA9IFN0YWNrc05ldHdvcms7XG5TdGFja3NOZXR3b3JrLmZyb21OYW1lID0gKG5ldHdvcmtOYW1lKSA9PiB7XG4gICAgc3dpdGNoIChuZXR3b3JrTmFtZSkge1xuICAgICAgICBjYXNlICdtYWlubmV0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhY2tzTWFpbm5ldCgpO1xuICAgICAgICBjYXNlICd0ZXN0bmV0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhY2tzVGVzdG5ldCgpO1xuICAgICAgICBjYXNlICdkZXZuZXQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBleHBvcnRzLlN0YWNrc0Rldm5ldCgpO1xuICAgICAgICBjYXNlICdtb2NrbmV0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhY2tzTW9ja25ldCgpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG5ldHdvcmsgbmFtZSBwcm92aWRlZC4gTXVzdCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzogJHtleHBvcnRzLlN0YWNrc05ldHdvcmtzLmpvaW4oJywgJyl9YCk7XG4gICAgfVxufTtcblN0YWNrc05ldHdvcmsuZnJvbU5hbWVPck5ldHdvcmsgPSAobmV0d29yaykgPT4ge1xuICAgIGlmICh0eXBlb2YgbmV0d29yayAhPT0gJ3N0cmluZycgJiYgJ3ZlcnNpb24nIGluIG5ldHdvcmspIHtcbiAgICAgICAgcmV0dXJuIG5ldHdvcms7XG4gICAgfVxuICAgIHJldHVybiBTdGFja3NOZXR3b3JrLmZyb21OYW1lKG5ldHdvcmspO1xufTtcbmNsYXNzIFN0YWNrc01haW5uZXQgZXh0ZW5kcyBTdGFja3NOZXR3b3JrIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIHVybDogb3B0cz8udXJsID8/IGV4cG9ydHMuSElST19NQUlOTkVUX0RFRkFVTFQsXG4gICAgICAgICAgICBmZXRjaEZuOiBvcHRzPy5mZXRjaEZuLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gY29tbW9uXzEuVHJhbnNhY3Rpb25WZXJzaW9uLk1haW5uZXQ7XG4gICAgICAgIHRoaXMuY2hhaW5JZCA9IGNvbW1vbl8xLkNoYWluSUQuTWFpbm5ldDtcbiAgICB9XG59XG5leHBvcnRzLlN0YWNrc01haW5uZXQgPSBTdGFja3NNYWlubmV0O1xuY2xhc3MgU3RhY2tzVGVzdG5ldCBleHRlbmRzIFN0YWNrc05ldHdvcmsge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgdXJsOiBvcHRzPy51cmwgPz8gZXhwb3J0cy5ISVJPX1RFU1RORVRfREVGQVVMVCxcbiAgICAgICAgICAgIGZldGNoRm46IG9wdHM/LmZldGNoRm4sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBjb21tb25fMS5UcmFuc2FjdGlvblZlcnNpb24uVGVzdG5ldDtcbiAgICAgICAgdGhpcy5jaGFpbklkID0gY29tbW9uXzEuQ2hhaW5JRC5UZXN0bmV0O1xuICAgIH1cbn1cbmV4cG9ydHMuU3RhY2tzVGVzdG5ldCA9IFN0YWNrc1Rlc3RuZXQ7XG5jbGFzcyBTdGFja3NNb2NrbmV0IGV4dGVuZHMgU3RhY2tzTmV0d29yayB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICB1cmw6IG9wdHM/LnVybCA/PyBleHBvcnRzLkhJUk9fTU9DS05FVF9ERUZBVUxULFxuICAgICAgICAgICAgZmV0Y2hGbjogb3B0cz8uZmV0Y2hGbixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IGNvbW1vbl8xLlRyYW5zYWN0aW9uVmVyc2lvbi5UZXN0bmV0O1xuICAgICAgICB0aGlzLmNoYWluSWQgPSBjb21tb25fMS5DaGFpbklELlRlc3RuZXQ7XG4gICAgfVxufVxuZXhwb3J0cy5TdGFja3NNb2NrbmV0ID0gU3RhY2tzTW9ja25ldDtcbmV4cG9ydHMuU3RhY2tzRGV2bmV0ID0gU3RhY2tzTW9ja25ldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldHdvcmsuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/network/dist/network.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/profile/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@stacks/profile/dist/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.extractProfile = exports.verifyProfileToken = exports.wrapProfileToken = exports.signProfileToken = exports.resolveZoneFileToPerson = exports.resolveZoneFileToProfile = exports.getTokenFileUrl = exports.makeProfileZoneFile = exports.Person = exports.Profile = void 0;\nvar profile_1 = __webpack_require__(/*! ./profile */ \"(ssr)/./node_modules/@stacks/profile/dist/profile.js\");\nObject.defineProperty(exports, \"Profile\", ({ enumerable: true, get: function () { return profile_1.Profile; } }));\nObject.defineProperty(exports, \"Person\", ({ enumerable: true, get: function () { return profile_1.Person; } }));\nObject.defineProperty(exports, \"makeProfileZoneFile\", ({ enumerable: true, get: function () { return profile_1.makeProfileZoneFile; } }));\nObject.defineProperty(exports, \"getTokenFileUrl\", ({ enumerable: true, get: function () { return profile_1.getTokenFileUrl; } }));\nObject.defineProperty(exports, \"resolveZoneFileToProfile\", ({ enumerable: true, get: function () { return profile_1.resolveZoneFileToProfile; } }));\nvar profileSchemas_1 = __webpack_require__(/*! ./profileSchemas */ \"(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/index.js\");\nObject.defineProperty(exports, \"resolveZoneFileToPerson\", ({ enumerable: true, get: function () { return profileSchemas_1.resolveZoneFileToPerson; } }));\nvar profileTokens_1 = __webpack_require__(/*! ./profileTokens */ \"(ssr)/./node_modules/@stacks/profile/dist/profileTokens.js\");\nObject.defineProperty(exports, \"signProfileToken\", ({ enumerable: true, get: function () { return profileTokens_1.signProfileToken; } }));\nObject.defineProperty(exports, \"wrapProfileToken\", ({ enumerable: true, get: function () { return profileTokens_1.wrapProfileToken; } }));\nObject.defineProperty(exports, \"verifyProfileToken\", ({ enumerable: true, get: function () { return profileTokens_1.verifyProfileToken; } }));\nObject.defineProperty(exports, \"extractProfile\", ({ enumerable: true, get: function () { return profileTokens_1.extractProfile; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsMEJBQTBCLEdBQUcsd0JBQXdCLEdBQUcsd0JBQXdCLEdBQUcsK0JBQStCLEdBQUcsZ0NBQWdDLEdBQUcsdUJBQXVCLEdBQUcsMkJBQTJCLEdBQUcsY0FBYyxHQUFHLGVBQWU7QUFDelEsZ0JBQWdCLG1CQUFPLENBQUMsdUVBQVc7QUFDbkMsMkNBQTBDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQy9HLDBDQUF5QyxFQUFFLHFDQUFxQyw0QkFBNEIsRUFBQztBQUM3Ryx1REFBc0QsRUFBRSxxQ0FBcUMseUNBQXlDLEVBQUM7QUFDdkksbURBQWtELEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQy9ILDREQUEyRCxFQUFFLHFDQUFxQyw4Q0FBOEMsRUFBQztBQUNqSix1QkFBdUIsbUJBQU8sQ0FBQywyRkFBa0I7QUFDakQsMkRBQTBELEVBQUUscUNBQXFDLG9EQUFvRCxFQUFDO0FBQ3RKLHNCQUFzQixtQkFBTyxDQUFDLG1GQUFpQjtBQUMvQyxvREFBbUQsRUFBRSxxQ0FBcUMsNENBQTRDLEVBQUM7QUFDdkksb0RBQW1ELEVBQUUscUNBQXFDLDRDQUE0QyxFQUFDO0FBQ3ZJLHNEQUFxRCxFQUFFLHFDQUFxQyw4Q0FBOEMsRUFBQztBQUMzSSxrREFBaUQsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDbkkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvaW5kZXguanM/NWZmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXh0cmFjdFByb2ZpbGUgPSBleHBvcnRzLnZlcmlmeVByb2ZpbGVUb2tlbiA9IGV4cG9ydHMud3JhcFByb2ZpbGVUb2tlbiA9IGV4cG9ydHMuc2lnblByb2ZpbGVUb2tlbiA9IGV4cG9ydHMucmVzb2x2ZVpvbmVGaWxlVG9QZXJzb24gPSBleHBvcnRzLnJlc29sdmVab25lRmlsZVRvUHJvZmlsZSA9IGV4cG9ydHMuZ2V0VG9rZW5GaWxlVXJsID0gZXhwb3J0cy5tYWtlUHJvZmlsZVpvbmVGaWxlID0gZXhwb3J0cy5QZXJzb24gPSBleHBvcnRzLlByb2ZpbGUgPSB2b2lkIDA7XG52YXIgcHJvZmlsZV8xID0gcmVxdWlyZShcIi4vcHJvZmlsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlByb2ZpbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2ZpbGVfMS5Qcm9maWxlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUGVyc29uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9maWxlXzEuUGVyc29uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZVByb2ZpbGVab25lRmlsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvZmlsZV8xLm1ha2VQcm9maWxlWm9uZUZpbGU7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRUb2tlbkZpbGVVcmxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2ZpbGVfMS5nZXRUb2tlbkZpbGVVcmw7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXNvbHZlWm9uZUZpbGVUb1Byb2ZpbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2ZpbGVfMS5yZXNvbHZlWm9uZUZpbGVUb1Byb2ZpbGU7IH0gfSk7XG52YXIgcHJvZmlsZVNjaGVtYXNfMSA9IHJlcXVpcmUoXCIuL3Byb2ZpbGVTY2hlbWFzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVzb2x2ZVpvbmVGaWxlVG9QZXJzb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2ZpbGVTY2hlbWFzXzEucmVzb2x2ZVpvbmVGaWxlVG9QZXJzb247IH0gfSk7XG52YXIgcHJvZmlsZVRva2Vuc18xID0gcmVxdWlyZShcIi4vcHJvZmlsZVRva2Vuc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNpZ25Qcm9maWxlVG9rZW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2ZpbGVUb2tlbnNfMS5zaWduUHJvZmlsZVRva2VuOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid3JhcFByb2ZpbGVUb2tlblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvZmlsZVRva2Vuc18xLndyYXBQcm9maWxlVG9rZW47IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2ZXJpZnlQcm9maWxlVG9rZW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2ZpbGVUb2tlbnNfMS52ZXJpZnlQcm9maWxlVG9rZW47IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJleHRyYWN0UHJvZmlsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvZmlsZVRva2Vuc18xLmV4dHJhY3RQcm9maWxlOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/profile/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/profile/dist/profile.js":
/*!******************************************************!*\
  !*** ./node_modules/@stacks/profile/dist/profile.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.resolveZoneFileToProfile = exports.getTokenFileUrl = exports.makeProfileZoneFile = exports.Person = exports.Profile = void 0;\nconst profileTokens_1 = __webpack_require__(/*! ./profileTokens */ \"(ssr)/./node_modules/@stacks/profile/dist/profileTokens.js\");\nconst profileSchemas_1 = __webpack_require__(/*! ./profileSchemas */ \"(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/index.js\");\nconst personUtils_1 = __webpack_require__(/*! ./profileSchemas/personUtils */ \"(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personUtils.js\");\nconst zone_file_1 = __webpack_require__(/*! zone-file */ \"(ssr)/./node_modules/zone-file/dist/index.js\");\nconst inspector = __importStar(__webpack_require__(/*! schema-inspector */ \"(ssr)/./node_modules/schema-inspector/index.js\"));\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst network_1 = __webpack_require__(/*! @stacks/network */ \"(ssr)/./node_modules/@stacks/network/dist/index.js\");\nconst schemaDefinition = {\n    type: 'object',\n    properties: {\n        '@context': { type: 'string', optional: true },\n        '@type': { type: 'string' },\n    },\n};\nclass Profile {\n    constructor(profile = {}) {\n        this._profile = Object.assign({}, {\n            '@context': 'http://schema.org/',\n        }, profile);\n    }\n    toJSON() {\n        return Object.assign({}, this._profile);\n    }\n    toToken(privateKey) {\n        return (0, profileTokens_1.signProfileToken)(this.toJSON(), privateKey);\n    }\n    static validateSchema(profile, strict = false) {\n        schemaDefinition.strict = strict;\n        return inspector.validate(schemaDefinition, profile);\n    }\n    static fromToken(token, publicKeyOrAddress = null) {\n        const profile = (0, profileTokens_1.extractProfile)(token, publicKeyOrAddress);\n        return new Profile(profile);\n    }\n    static makeZoneFile(domainName, tokenFileURL) {\n        return makeProfileZoneFile(domainName, tokenFileURL);\n    }\n}\nexports.Profile = Profile;\nconst personSchemaDefinition = {\n    type: 'object',\n    strict: false,\n    properties: {\n        '@context': { type: 'string', optional: true },\n        '@type': { type: 'string' },\n        '@id': { type: 'string', optional: true },\n        name: { type: 'string', optional: true },\n        givenName: { type: 'string', optional: true },\n        familyName: { type: 'string', optional: true },\n        description: { type: 'string', optional: true },\n        image: {\n            type: 'array',\n            optional: true,\n            items: {\n                type: 'object',\n                properties: {\n                    '@type': { type: 'string' },\n                    name: { type: 'string', optional: true },\n                    contentUrl: { type: 'string', optional: true },\n                },\n            },\n        },\n        website: {\n            type: 'array',\n            optional: true,\n            items: {\n                type: 'object',\n                properties: {\n                    '@type': { type: 'string' },\n                    url: { type: 'string', optional: true },\n                },\n            },\n        },\n        account: {\n            type: 'array',\n            optional: true,\n            items: {\n                type: 'object',\n                properties: {\n                    '@type': { type: 'string' },\n                    service: { type: 'string', optional: true },\n                    identifier: { type: 'string', optional: true },\n                    proofType: { type: 'string', optional: true },\n                    proofUrl: { type: 'string', optional: true },\n                    proofMessage: { type: 'string', optional: true },\n                    proofSignature: { type: 'string', optional: true },\n                },\n            },\n        },\n        worksFor: {\n            type: 'array',\n            optional: true,\n            items: {\n                type: 'object',\n                properties: {\n                    '@type': { type: 'string' },\n                    '@id': { type: 'string', optional: true },\n                },\n            },\n        },\n        knows: {\n            type: 'array',\n            optional: true,\n            items: {\n                type: 'object',\n                properties: {\n                    '@type': { type: 'string' },\n                    '@id': { type: 'string', optional: true },\n                },\n            },\n        },\n        address: {\n            type: 'object',\n            optional: true,\n            properties: {\n                '@type': { type: 'string' },\n                streetAddress: { type: 'string', optional: true },\n                addressLocality: { type: 'string', optional: true },\n                postalCode: { type: 'string', optional: true },\n                addressCountry: { type: 'string', optional: true },\n            },\n        },\n        birthDate: { type: 'string', optional: true },\n        taxID: { type: 'string', optional: true },\n    },\n};\nclass Person extends Profile {\n    constructor(profile = { '@type': 'Person' }) {\n        super(profile);\n        this._profile = Object.assign({}, {\n            '@type': 'Person',\n        }, this._profile);\n    }\n    static validateSchema(profile, strict = false) {\n        personSchemaDefinition.strict = strict;\n        return inspector.validate(schemaDefinition, profile);\n    }\n    static fromToken(token, publicKeyOrAddress = null) {\n        const profile = (0, profileTokens_1.extractProfile)(token, publicKeyOrAddress);\n        return new Person(profile);\n    }\n    static fromLegacyFormat(legacyProfile) {\n        const profile = (0, profileSchemas_1.getPersonFromLegacyFormat)(legacyProfile);\n        return new Person(profile);\n    }\n    toJSON() {\n        return {\n            profile: this.profile(),\n            name: this.name(),\n            givenName: this.givenName(),\n            familyName: this.familyName(),\n            description: this.description(),\n            avatarUrl: this.avatarUrl(),\n            verifiedAccounts: this.verifiedAccounts(),\n            address: this.address(),\n            birthDate: this.birthDate(),\n            connections: this.connections(),\n            organizations: this.organizations(),\n        };\n    }\n    profile() {\n        return Object.assign({}, this._profile);\n    }\n    name() {\n        return (0, personUtils_1.getName)(this.profile());\n    }\n    givenName() {\n        return (0, personUtils_1.getGivenName)(this.profile());\n    }\n    familyName() {\n        return (0, personUtils_1.getFamilyName)(this.profile());\n    }\n    description() {\n        return (0, personUtils_1.getDescription)(this.profile());\n    }\n    avatarUrl() {\n        return (0, personUtils_1.getAvatarUrl)(this.profile());\n    }\n    verifiedAccounts(verifications) {\n        return (0, personUtils_1.getVerifiedAccounts)(this.profile(), verifications);\n    }\n    address() {\n        return (0, personUtils_1.getAddress)(this.profile());\n    }\n    birthDate() {\n        return (0, personUtils_1.getBirthDate)(this.profile());\n    }\n    connections() {\n        return (0, personUtils_1.getConnections)(this.profile());\n    }\n    organizations() {\n        return (0, personUtils_1.getOrganizations)(this.profile());\n    }\n}\nexports.Person = Person;\nfunction makeProfileZoneFile(origin, tokenFileUrl) {\n    if (!tokenFileUrl.includes('://')) {\n        throw new Error('Invalid token file url');\n    }\n    const urlScheme = tokenFileUrl.split('://')[0];\n    const urlParts = tokenFileUrl.split('://')[1].split('/');\n    const domain = urlParts[0];\n    const pathname = `/${urlParts.slice(1).join('/')}`;\n    const zoneFile = {\n        $origin: origin,\n        $ttl: 3600,\n        uri: [\n            {\n                name: '_http._tcp',\n                priority: 10,\n                weight: 1,\n                target: `${urlScheme}://${domain}${pathname}`,\n            },\n        ],\n    };\n    const zoneFileTemplate = '{$origin}\\n{$ttl}\\n{uri}\\n';\n    return (0, zone_file_1.makeZoneFile)(zoneFile, zoneFileTemplate);\n}\nexports.makeProfileZoneFile = makeProfileZoneFile;\nfunction getTokenFileUrl(zoneFileJson) {\n    if (!zoneFileJson.hasOwnProperty('uri')) {\n        return null;\n    }\n    if (!Array.isArray(zoneFileJson.uri)) {\n        return null;\n    }\n    if (zoneFileJson.uri.length < 1) {\n        return null;\n    }\n    const validRecords = zoneFileJson.uri.filter((record) => record.hasOwnProperty('target') && record.name === '_http._tcp');\n    if (validRecords.length < 1) {\n        return null;\n    }\n    const firstValidRecord = validRecords[0];\n    if (!firstValidRecord.hasOwnProperty('target')) {\n        return null;\n    }\n    let tokenFileUrl = firstValidRecord.target;\n    if (tokenFileUrl.startsWith('https')) {\n    }\n    else if (tokenFileUrl.startsWith('http')) {\n    }\n    else {\n        tokenFileUrl = `https://${tokenFileUrl}`;\n    }\n    return tokenFileUrl;\n}\nexports.getTokenFileUrl = getTokenFileUrl;\nfunction resolveZoneFileToProfile(zoneFile, publicKeyOrAddress, fetchFn = (0, network_1.createFetchFn)()) {\n    return new Promise((resolve, reject) => {\n        let zoneFileJson = null;\n        try {\n            zoneFileJson = (0, zone_file_1.parseZoneFile)(zoneFile);\n            if (!zoneFileJson.hasOwnProperty('$origin')) {\n                zoneFileJson = null;\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n        let tokenFileUrl = null;\n        if (zoneFileJson && Object.keys(zoneFileJson).length > 0) {\n            tokenFileUrl = getTokenFileUrl(zoneFileJson);\n        }\n        else {\n            try {\n                return resolve(Person.fromLegacyFormat(JSON.parse(zoneFile)).profile());\n            }\n            catch (error) {\n                return reject(error);\n            }\n        }\n        if (tokenFileUrl) {\n            fetchFn(tokenFileUrl)\n                .then(response => response.text())\n                .then(responseText => JSON.parse(responseText))\n                .then(responseJson => {\n                const tokenRecords = responseJson;\n                const profile = (0, profileTokens_1.extractProfile)(tokenRecords[0].token, publicKeyOrAddress);\n                resolve(profile);\n            })\n                .catch(error => {\n                common_1.Logger.error(`resolveZoneFileToProfile: error fetching token file ${tokenFileUrl}: ${error}`);\n                reject(error);\n            });\n        }\n        else {\n            common_1.Logger.debug('Token file url not found. Resolving to blank profile.');\n            resolve({});\n        }\n    });\n}\nexports.resolveZoneFileToProfile = resolveZoneFileToProfile;\n//# sourceMappingURL=profile.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvcHJvZmlsZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLEdBQUcsdUJBQXVCLEdBQUcsMkJBQTJCLEdBQUcsY0FBYyxHQUFHLGVBQWU7QUFDM0gsd0JBQXdCLG1CQUFPLENBQUMsbUZBQWlCO0FBQ2pELHlCQUF5QixtQkFBTyxDQUFDLDJGQUFrQjtBQUNuRCxzQkFBc0IsbUJBQU8sQ0FBQyw2R0FBOEI7QUFDNUQsb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsK0JBQStCLG1CQUFPLENBQUMsd0VBQWtCO0FBQ3pELGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdDQUFnQztBQUN0RCxtQkFBbUIsZ0JBQWdCO0FBQ25DLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLHdDQUF3QztBQUN4QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdDQUFnQztBQUN0RCxtQkFBbUIsZ0JBQWdCO0FBQ25DLGlCQUFpQixnQ0FBZ0M7QUFDakQsZ0JBQWdCLGdDQUFnQztBQUNoRCxxQkFBcUIsZ0NBQWdDO0FBQ3JELHNCQUFzQixnQ0FBZ0M7QUFDdEQsdUJBQXVCLGdDQUFnQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DLDRCQUE0QixnQ0FBZ0M7QUFDNUQsa0NBQWtDLGdDQUFnQztBQUNsRSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DLDJCQUEyQixnQ0FBZ0M7QUFDM0QsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdCQUFnQjtBQUMvQywrQkFBK0IsZ0NBQWdDO0FBQy9ELGtDQUFrQyxnQ0FBZ0M7QUFDbEUsaUNBQWlDLGdDQUFnQztBQUNqRSxnQ0FBZ0MsZ0NBQWdDO0FBQ2hFLG9DQUFvQyxnQ0FBZ0M7QUFDcEUsc0NBQXNDLGdDQUFnQztBQUN0RSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DLDZCQUE2QixnQ0FBZ0M7QUFDN0QsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdCQUFnQjtBQUMvQyw2QkFBNkIsZ0NBQWdDO0FBQzdELGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdCQUFnQjtBQUMzQyxpQ0FBaUMsZ0NBQWdDO0FBQ2pFLG1DQUFtQyxnQ0FBZ0M7QUFDbkUsOEJBQThCLGdDQUFnQztBQUM5RCxrQ0FBa0MsZ0NBQWdDO0FBQ2xFLGFBQWE7QUFDYixTQUFTO0FBQ1QscUJBQXFCLGdDQUFnQztBQUNyRCxpQkFBaUIsZ0NBQWdDO0FBQ2pELEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLG1CQUFtQjtBQUMvQztBQUNBLHdDQUF3QztBQUN4QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNEJBQTRCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsVUFBVSxLQUFLLE9BQU8sRUFBRSxTQUFTO0FBQzVELGFBQWE7QUFDYjtBQUNBO0FBQ0EsK0JBQStCLFFBQVEsR0FBRyxLQUFLLEdBQUcsSUFBSTtBQUN0RDtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsNkZBQTZGLGFBQWEsSUFBSSxNQUFNO0FBQ3BIO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLEtBQUs7QUFDTDtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3Byb2ZpbGUvZGlzdC9wcm9maWxlLmpzP2VlMjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVzb2x2ZVpvbmVGaWxlVG9Qcm9maWxlID0gZXhwb3J0cy5nZXRUb2tlbkZpbGVVcmwgPSBleHBvcnRzLm1ha2VQcm9maWxlWm9uZUZpbGUgPSBleHBvcnRzLlBlcnNvbiA9IGV4cG9ydHMuUHJvZmlsZSA9IHZvaWQgMDtcbmNvbnN0IHByb2ZpbGVUb2tlbnNfMSA9IHJlcXVpcmUoXCIuL3Byb2ZpbGVUb2tlbnNcIik7XG5jb25zdCBwcm9maWxlU2NoZW1hc18xID0gcmVxdWlyZShcIi4vcHJvZmlsZVNjaGVtYXNcIik7XG5jb25zdCBwZXJzb25VdGlsc18xID0gcmVxdWlyZShcIi4vcHJvZmlsZVNjaGVtYXMvcGVyc29uVXRpbHNcIik7XG5jb25zdCB6b25lX2ZpbGVfMSA9IHJlcXVpcmUoXCJ6b25lLWZpbGVcIik7XG5jb25zdCBpbnNwZWN0b3IgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInNjaGVtYS1pbnNwZWN0b3JcIikpO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBuZXR3b3JrXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9uZXR3b3JrXCIpO1xuY29uc3Qgc2NoZW1hRGVmaW5pdGlvbiA9IHtcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICdAY29udGV4dCc6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICdAdHlwZSc6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICB9LFxufTtcbmNsYXNzIFByb2ZpbGUge1xuICAgIGNvbnN0cnVjdG9yKHByb2ZpbGUgPSB7fSkge1xuICAgICAgICB0aGlzLl9wcm9maWxlID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgJ0Bjb250ZXh0JzogJ2h0dHA6Ly9zY2hlbWEub3JnLycsXG4gICAgICAgIH0sIHByb2ZpbGUpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9wcm9maWxlKTtcbiAgICB9XG4gICAgdG9Ub2tlbihwcml2YXRlS2V5KSB7XG4gICAgICAgIHJldHVybiAoMCwgcHJvZmlsZVRva2Vuc18xLnNpZ25Qcm9maWxlVG9rZW4pKHRoaXMudG9KU09OKCksIHByaXZhdGVLZXkpO1xuICAgIH1cbiAgICBzdGF0aWMgdmFsaWRhdGVTY2hlbWEocHJvZmlsZSwgc3RyaWN0ID0gZmFsc2UpIHtcbiAgICAgICAgc2NoZW1hRGVmaW5pdGlvbi5zdHJpY3QgPSBzdHJpY3Q7XG4gICAgICAgIHJldHVybiBpbnNwZWN0b3IudmFsaWRhdGUoc2NoZW1hRGVmaW5pdGlvbiwgcHJvZmlsZSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVG9rZW4odG9rZW4sIHB1YmxpY0tleU9yQWRkcmVzcyA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgcHJvZmlsZSA9ICgwLCBwcm9maWxlVG9rZW5zXzEuZXh0cmFjdFByb2ZpbGUpKHRva2VuLCBwdWJsaWNLZXlPckFkZHJlc3MpO1xuICAgICAgICByZXR1cm4gbmV3IFByb2ZpbGUocHJvZmlsZSk7XG4gICAgfVxuICAgIHN0YXRpYyBtYWtlWm9uZUZpbGUoZG9tYWluTmFtZSwgdG9rZW5GaWxlVVJMKSB7XG4gICAgICAgIHJldHVybiBtYWtlUHJvZmlsZVpvbmVGaWxlKGRvbWFpbk5hbWUsIHRva2VuRmlsZVVSTCk7XG4gICAgfVxufVxuZXhwb3J0cy5Qcm9maWxlID0gUHJvZmlsZTtcbmNvbnN0IHBlcnNvblNjaGVtYURlZmluaXRpb24gPSB7XG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgc3RyaWN0OiBmYWxzZSxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICdAY29udGV4dCc6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICdAdHlwZSc6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgJ0BpZCc6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgIG5hbWU6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgIGdpdmVuTmFtZTogeyB0eXBlOiAnc3RyaW5nJywgb3B0aW9uYWw6IHRydWUgfSxcbiAgICAgICAgZmFtaWx5TmFtZTogeyB0eXBlOiAnc3RyaW5nJywgb3B0aW9uYWw6IHRydWUgfSxcbiAgICAgICAgZGVzY3JpcHRpb246IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgb3B0aW9uYWw6IHRydWUsXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB7IHR5cGU6ICdzdHJpbmcnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VXJsOiB7IHR5cGU6ICdzdHJpbmcnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB3ZWJzaXRlOiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgb3B0aW9uYWw6IHRydWUsXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGFjY291bnQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBvcHRpb25hbDogdHJ1ZSxcbiAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb29mVHlwZTogeyB0eXBlOiAnc3RyaW5nJywgb3B0aW9uYWw6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvb2ZVcmw6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb29mTWVzc2FnZTogeyB0eXBlOiAnc3RyaW5nJywgb3B0aW9uYWw6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvb2ZTaWduYXR1cmU6IHsgdHlwZTogJ3N0cmluZycsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHdvcmtzRm9yOiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgb3B0aW9uYWw6IHRydWUsXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgICAnQGlkJzogeyB0eXBlOiAnc3RyaW5nJywgb3B0aW9uYWw6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAga25vd3M6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBvcHRpb25hbDogdHJ1ZSxcbiAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiB7IHR5cGU6ICdzdHJpbmcnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIG9wdGlvbmFsOiB0cnVlLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICdAdHlwZSc6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICBzdHJlZXRBZGRyZXNzOiB7IHR5cGU6ICdzdHJpbmcnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIGFkZHJlc3NMb2NhbGl0eTogeyB0eXBlOiAnc3RyaW5nJywgb3B0aW9uYWw6IHRydWUgfSxcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiB7IHR5cGU6ICdzdHJpbmcnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIGFkZHJlc3NDb3VudHJ5OiB7IHR5cGU6ICdzdHJpbmcnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgYmlydGhEYXRlOiB7IHR5cGU6ICdzdHJpbmcnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICB0YXhJRDogeyB0eXBlOiAnc3RyaW5nJywgb3B0aW9uYWw6IHRydWUgfSxcbiAgICB9LFxufTtcbmNsYXNzIFBlcnNvbiBleHRlbmRzIFByb2ZpbGUge1xuICAgIGNvbnN0cnVjdG9yKHByb2ZpbGUgPSB7ICdAdHlwZSc6ICdQZXJzb24nIH0pIHtcbiAgICAgICAgc3VwZXIocHJvZmlsZSk7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGUgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICAnQHR5cGUnOiAnUGVyc29uJyxcbiAgICAgICAgfSwgdGhpcy5fcHJvZmlsZSk7XG4gICAgfVxuICAgIHN0YXRpYyB2YWxpZGF0ZVNjaGVtYShwcm9maWxlLCBzdHJpY3QgPSBmYWxzZSkge1xuICAgICAgICBwZXJzb25TY2hlbWFEZWZpbml0aW9uLnN0cmljdCA9IHN0cmljdDtcbiAgICAgICAgcmV0dXJuIGluc3BlY3Rvci52YWxpZGF0ZShzY2hlbWFEZWZpbml0aW9uLCBwcm9maWxlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Ub2tlbih0b2tlbiwgcHVibGljS2V5T3JBZGRyZXNzID0gbnVsbCkge1xuICAgICAgICBjb25zdCBwcm9maWxlID0gKDAsIHByb2ZpbGVUb2tlbnNfMS5leHRyYWN0UHJvZmlsZSkodG9rZW4sIHB1YmxpY0tleU9yQWRkcmVzcyk7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc29uKHByb2ZpbGUpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUxlZ2FjeUZvcm1hdChsZWdhY3lQcm9maWxlKSB7XG4gICAgICAgIGNvbnN0IHByb2ZpbGUgPSAoMCwgcHJvZmlsZVNjaGVtYXNfMS5nZXRQZXJzb25Gcm9tTGVnYWN5Rm9ybWF0KShsZWdhY3lQcm9maWxlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzb24ocHJvZmlsZSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb2ZpbGU6IHRoaXMucHJvZmlsZSgpLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lKCksXG4gICAgICAgICAgICBnaXZlbk5hbWU6IHRoaXMuZ2l2ZW5OYW1lKCksXG4gICAgICAgICAgICBmYW1pbHlOYW1lOiB0aGlzLmZhbWlseU5hbWUoKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uKCksXG4gICAgICAgICAgICBhdmF0YXJVcmw6IHRoaXMuYXZhdGFyVXJsKCksXG4gICAgICAgICAgICB2ZXJpZmllZEFjY291bnRzOiB0aGlzLnZlcmlmaWVkQWNjb3VudHMoKSxcbiAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMuYWRkcmVzcygpLFxuICAgICAgICAgICAgYmlydGhEYXRlOiB0aGlzLmJpcnRoRGF0ZSgpLFxuICAgICAgICAgICAgY29ubmVjdGlvbnM6IHRoaXMuY29ubmVjdGlvbnMoKSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbnM6IHRoaXMub3JnYW5pemF0aW9ucygpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwcm9maWxlKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fcHJvZmlsZSk7XG4gICAgfVxuICAgIG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAoMCwgcGVyc29uVXRpbHNfMS5nZXROYW1lKSh0aGlzLnByb2ZpbGUoKSk7XG4gICAgfVxuICAgIGdpdmVuTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwZXJzb25VdGlsc18xLmdldEdpdmVuTmFtZSkodGhpcy5wcm9maWxlKCkpO1xuICAgIH1cbiAgICBmYW1pbHlOYW1lKCkge1xuICAgICAgICByZXR1cm4gKDAsIHBlcnNvblV0aWxzXzEuZ2V0RmFtaWx5TmFtZSkodGhpcy5wcm9maWxlKCkpO1xuICAgIH1cbiAgICBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwZXJzb25VdGlsc18xLmdldERlc2NyaXB0aW9uKSh0aGlzLnByb2ZpbGUoKSk7XG4gICAgfVxuICAgIGF2YXRhclVybCgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwZXJzb25VdGlsc18xLmdldEF2YXRhclVybCkodGhpcy5wcm9maWxlKCkpO1xuICAgIH1cbiAgICB2ZXJpZmllZEFjY291bnRzKHZlcmlmaWNhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwZXJzb25VdGlsc18xLmdldFZlcmlmaWVkQWNjb3VudHMpKHRoaXMucHJvZmlsZSgpLCB2ZXJpZmljYXRpb25zKTtcbiAgICB9XG4gICAgYWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwZXJzb25VdGlsc18xLmdldEFkZHJlc3MpKHRoaXMucHJvZmlsZSgpKTtcbiAgICB9XG4gICAgYmlydGhEYXRlKCkge1xuICAgICAgICByZXR1cm4gKDAsIHBlcnNvblV0aWxzXzEuZ2V0QmlydGhEYXRlKSh0aGlzLnByb2ZpbGUoKSk7XG4gICAgfVxuICAgIGNvbm5lY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gKDAsIHBlcnNvblV0aWxzXzEuZ2V0Q29ubmVjdGlvbnMpKHRoaXMucHJvZmlsZSgpKTtcbiAgICB9XG4gICAgb3JnYW5pemF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwZXJzb25VdGlsc18xLmdldE9yZ2FuaXphdGlvbnMpKHRoaXMucHJvZmlsZSgpKTtcbiAgICB9XG59XG5leHBvcnRzLlBlcnNvbiA9IFBlcnNvbjtcbmZ1bmN0aW9uIG1ha2VQcm9maWxlWm9uZUZpbGUob3JpZ2luLCB0b2tlbkZpbGVVcmwpIHtcbiAgICBpZiAoIXRva2VuRmlsZVVybC5pbmNsdWRlcygnOi8vJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuIGZpbGUgdXJsJyk7XG4gICAgfVxuICAgIGNvbnN0IHVybFNjaGVtZSA9IHRva2VuRmlsZVVybC5zcGxpdCgnOi8vJylbMF07XG4gICAgY29uc3QgdXJsUGFydHMgPSB0b2tlbkZpbGVVcmwuc3BsaXQoJzovLycpWzFdLnNwbGl0KCcvJyk7XG4gICAgY29uc3QgZG9tYWluID0gdXJsUGFydHNbMF07XG4gICAgY29uc3QgcGF0aG5hbWUgPSBgLyR7dXJsUGFydHMuc2xpY2UoMSkuam9pbignLycpfWA7XG4gICAgY29uc3Qgem9uZUZpbGUgPSB7XG4gICAgICAgICRvcmlnaW46IG9yaWdpbixcbiAgICAgICAgJHR0bDogMzYwMCxcbiAgICAgICAgdXJpOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ19odHRwLl90Y3AnLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiAxMCxcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDEsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBgJHt1cmxTY2hlbWV9Oi8vJHtkb21haW59JHtwYXRobmFtZX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGNvbnN0IHpvbmVGaWxlVGVtcGxhdGUgPSAneyRvcmlnaW59XFxueyR0dGx9XFxue3VyaX1cXG4nO1xuICAgIHJldHVybiAoMCwgem9uZV9maWxlXzEubWFrZVpvbmVGaWxlKSh6b25lRmlsZSwgem9uZUZpbGVUZW1wbGF0ZSk7XG59XG5leHBvcnRzLm1ha2VQcm9maWxlWm9uZUZpbGUgPSBtYWtlUHJvZmlsZVpvbmVGaWxlO1xuZnVuY3Rpb24gZ2V0VG9rZW5GaWxlVXJsKHpvbmVGaWxlSnNvbikge1xuICAgIGlmICghem9uZUZpbGVKc29uLmhhc093blByb3BlcnR5KCd1cmknKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHpvbmVGaWxlSnNvbi51cmkpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoem9uZUZpbGVKc29uLnVyaS5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB2YWxpZFJlY29yZHMgPSB6b25lRmlsZUpzb24udXJpLmZpbHRlcigocmVjb3JkKSA9PiByZWNvcmQuaGFzT3duUHJvcGVydHkoJ3RhcmdldCcpICYmIHJlY29yZC5uYW1lID09PSAnX2h0dHAuX3RjcCcpO1xuICAgIGlmICh2YWxpZFJlY29yZHMubGVuZ3RoIDwgMSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RWYWxpZFJlY29yZCA9IHZhbGlkUmVjb3Jkc1swXTtcbiAgICBpZiAoIWZpcnN0VmFsaWRSZWNvcmQuaGFzT3duUHJvcGVydHkoJ3RhcmdldCcpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgdG9rZW5GaWxlVXJsID0gZmlyc3RWYWxpZFJlY29yZC50YXJnZXQ7XG4gICAgaWYgKHRva2VuRmlsZVVybC5zdGFydHNXaXRoKCdodHRwcycpKSB7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRva2VuRmlsZVVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRva2VuRmlsZVVybCA9IGBodHRwczovLyR7dG9rZW5GaWxlVXJsfWA7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbkZpbGVVcmw7XG59XG5leHBvcnRzLmdldFRva2VuRmlsZVVybCA9IGdldFRva2VuRmlsZVVybDtcbmZ1bmN0aW9uIHJlc29sdmVab25lRmlsZVRvUHJvZmlsZSh6b25lRmlsZSwgcHVibGljS2V5T3JBZGRyZXNzLCBmZXRjaEZuID0gKDAsIG5ldHdvcmtfMS5jcmVhdGVGZXRjaEZuKSgpKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IHpvbmVGaWxlSnNvbiA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB6b25lRmlsZUpzb24gPSAoMCwgem9uZV9maWxlXzEucGFyc2Vab25lRmlsZSkoem9uZUZpbGUpO1xuICAgICAgICAgICAgaWYgKCF6b25lRmlsZUpzb24uaGFzT3duUHJvcGVydHkoJyRvcmlnaW4nKSkge1xuICAgICAgICAgICAgICAgIHpvbmVGaWxlSnNvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9rZW5GaWxlVXJsID0gbnVsbDtcbiAgICAgICAgaWYgKHpvbmVGaWxlSnNvbiAmJiBPYmplY3Qua2V5cyh6b25lRmlsZUpzb24pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRva2VuRmlsZVVybCA9IGdldFRva2VuRmlsZVVybCh6b25lRmlsZUpzb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShQZXJzb24uZnJvbUxlZ2FjeUZvcm1hdChKU09OLnBhcnNlKHpvbmVGaWxlKSkucHJvZmlsZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbkZpbGVVcmwpIHtcbiAgICAgICAgICAgIGZldGNoRm4odG9rZW5GaWxlVXJsKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZVRleHQgPT4gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlSnNvbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5SZWNvcmRzID0gcmVzcG9uc2VKc29uO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGUgPSAoMCwgcHJvZmlsZVRva2Vuc18xLmV4dHJhY3RQcm9maWxlKSh0b2tlblJlY29yZHNbMF0udG9rZW4sIHB1YmxpY0tleU9yQWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShwcm9maWxlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBjb21tb25fMS5Mb2dnZXIuZXJyb3IoYHJlc29sdmVab25lRmlsZVRvUHJvZmlsZTogZXJyb3IgZmV0Y2hpbmcgdG9rZW4gZmlsZSAke3Rva2VuRmlsZVVybH06ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tbW9uXzEuTG9nZ2VyLmRlYnVnKCdUb2tlbiBmaWxlIHVybCBub3QgZm91bmQuIFJlc29sdmluZyB0byBibGFuayBwcm9maWxlLicpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMucmVzb2x2ZVpvbmVGaWxlVG9Qcm9maWxlID0gcmVzb2x2ZVpvbmVGaWxlVG9Qcm9maWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvZmlsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/profile/dist/profile.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@stacks/profile/dist/profileSchemas/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.resolveZoneFileToPerson = exports.getPersonFromLegacyFormat = void 0;\nvar personLegacy_1 = __webpack_require__(/*! ./personLegacy */ \"(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personLegacy.js\");\nObject.defineProperty(exports, \"getPersonFromLegacyFormat\", ({ enumerable: true, get: function () { return personLegacy_1.getPersonFromLegacyFormat; } }));\nvar personZoneFiles_1 = __webpack_require__(/*! ./personZoneFiles */ \"(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personZoneFiles.js\");\nObject.defineProperty(exports, \"resolveZoneFileToPerson\", ({ enumerable: true, get: function () { return personZoneFiles_1.resolveZoneFileToPerson; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvcHJvZmlsZVNjaGVtYXMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsK0JBQStCLEdBQUcsaUNBQWlDO0FBQ25FLHFCQUFxQixtQkFBTyxDQUFDLGdHQUFnQjtBQUM3Qyw2REFBNEQsRUFBRSxxQ0FBcUMsb0RBQW9ELEVBQUM7QUFDeEosd0JBQXdCLG1CQUFPLENBQUMsc0dBQW1CO0FBQ25ELDJEQUEwRCxFQUFFLHFDQUFxQyxxREFBcUQsRUFBQztBQUN2SiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3Byb2ZpbGUvZGlzdC9wcm9maWxlU2NoZW1hcy9pbmRleC5qcz9kNDFlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXNvbHZlWm9uZUZpbGVUb1BlcnNvbiA9IGV4cG9ydHMuZ2V0UGVyc29uRnJvbUxlZ2FjeUZvcm1hdCA9IHZvaWQgMDtcbnZhciBwZXJzb25MZWdhY3lfMSA9IHJlcXVpcmUoXCIuL3BlcnNvbkxlZ2FjeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImdldFBlcnNvbkZyb21MZWdhY3lGb3JtYXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBlcnNvbkxlZ2FjeV8xLmdldFBlcnNvbkZyb21MZWdhY3lGb3JtYXQ7IH0gfSk7XG52YXIgcGVyc29uWm9uZUZpbGVzXzEgPSByZXF1aXJlKFwiLi9wZXJzb25ab25lRmlsZXNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXNvbHZlWm9uZUZpbGVUb1BlcnNvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGVyc29uWm9uZUZpbGVzXzEucmVzb2x2ZVpvbmVGaWxlVG9QZXJzb247IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personLegacy.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@stacks/profile/dist/profileSchemas/personLegacy.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getPersonFromLegacyFormat = void 0;\nfunction formatAccount(serviceName, data) {\n    let proofUrl;\n    if (data.proof && data.proof.url) {\n        proofUrl = data.proof.url;\n    }\n    return {\n        '@type': 'Account',\n        service: serviceName,\n        identifier: data.username,\n        proofType: 'http',\n        proofUrl,\n    };\n}\nfunction getPersonFromLegacyFormat(profile) {\n    const profileData = {\n        '@type': 'Person',\n    };\n    if (profile) {\n        if (profile.name && profile.name.formatted) {\n            profileData.name = profile.name.formatted;\n        }\n        if (profile.bio) {\n            profileData.description = profile.bio;\n        }\n        if (profile.location && profile.location.formatted) {\n            profileData.address = {\n                '@type': 'PostalAddress',\n                addressLocality: profile.location.formatted,\n            };\n        }\n        const images = [];\n        if (profile.avatar && profile.avatar.url) {\n            images.push({\n                '@type': 'ImageObject',\n                name: 'avatar',\n                contentUrl: profile.avatar.url,\n            });\n        }\n        if (profile.cover && profile.cover.url) {\n            images.push({\n                '@type': 'ImageObject',\n                name: 'cover',\n                contentUrl: profile.cover.url,\n            });\n        }\n        if (images.length) {\n            profileData.image = images;\n        }\n        if (profile.website) {\n            profileData.website = [\n                {\n                    '@type': 'WebSite',\n                    url: profile.website,\n                },\n            ];\n        }\n        const accounts = [];\n        if (profile.bitcoin && profile.bitcoin.address) {\n            accounts.push({\n                '@type': 'Account',\n                role: 'payment',\n                service: 'bitcoin',\n                identifier: profile.bitcoin.address,\n            });\n        }\n        if (profile.twitter && profile.twitter.username) {\n            accounts.push(formatAccount('twitter', profile.twitter));\n        }\n        if (profile.facebook && profile.facebook.username) {\n            accounts.push(formatAccount('facebook', profile.facebook));\n        }\n        if (profile.github && profile.github.username) {\n            accounts.push(formatAccount('github', profile.github));\n        }\n        if (profile.auth) {\n            if (profile.auth.length > 0) {\n                if (profile.auth[0] && profile.auth[0].publicKeychain) {\n                    accounts.push({\n                        '@type': 'Account',\n                        role: 'key',\n                        service: 'bip32',\n                        identifier: profile.auth[0].publicKeychain,\n                    });\n                }\n            }\n        }\n        if (profile.pgp && profile.pgp.url) {\n            accounts.push({\n                '@type': 'Account',\n                role: 'key',\n                service: 'pgp',\n                identifier: profile.pgp.fingerprint,\n                contentUrl: profile.pgp.url,\n            });\n        }\n        profileData.account = accounts;\n    }\n    return profileData;\n}\nexports.getPersonFromLegacyFormat = getPersonFromLegacyFormat;\n//# sourceMappingURL=personLegacy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvcHJvZmlsZVNjaGVtYXMvcGVyc29uTGVnYWN5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvcHJvZmlsZVNjaGVtYXMvcGVyc29uTGVnYWN5LmpzPzgwM2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFBlcnNvbkZyb21MZWdhY3lGb3JtYXQgPSB2b2lkIDA7XG5mdW5jdGlvbiBmb3JtYXRBY2NvdW50KHNlcnZpY2VOYW1lLCBkYXRhKSB7XG4gICAgbGV0IHByb29mVXJsO1xuICAgIGlmIChkYXRhLnByb29mICYmIGRhdGEucHJvb2YudXJsKSB7XG4gICAgICAgIHByb29mVXJsID0gZGF0YS5wcm9vZi51cmw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgICdAdHlwZSc6ICdBY2NvdW50JyxcbiAgICAgICAgc2VydmljZTogc2VydmljZU5hbWUsXG4gICAgICAgIGlkZW50aWZpZXI6IGRhdGEudXNlcm5hbWUsXG4gICAgICAgIHByb29mVHlwZTogJ2h0dHAnLFxuICAgICAgICBwcm9vZlVybCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0UGVyc29uRnJvbUxlZ2FjeUZvcm1hdChwcm9maWxlKSB7XG4gICAgY29uc3QgcHJvZmlsZURhdGEgPSB7XG4gICAgICAgICdAdHlwZSc6ICdQZXJzb24nLFxuICAgIH07XG4gICAgaWYgKHByb2ZpbGUpIHtcbiAgICAgICAgaWYgKHByb2ZpbGUubmFtZSAmJiBwcm9maWxlLm5hbWUuZm9ybWF0dGVkKSB7XG4gICAgICAgICAgICBwcm9maWxlRGF0YS5uYW1lID0gcHJvZmlsZS5uYW1lLmZvcm1hdHRlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZmlsZS5iaW8pIHtcbiAgICAgICAgICAgIHByb2ZpbGVEYXRhLmRlc2NyaXB0aW9uID0gcHJvZmlsZS5iaW87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2ZpbGUubG9jYXRpb24gJiYgcHJvZmlsZS5sb2NhdGlvbi5mb3JtYXR0ZWQpIHtcbiAgICAgICAgICAgIHByb2ZpbGVEYXRhLmFkZHJlc3MgPSB7XG4gICAgICAgICAgICAgICAgJ0B0eXBlJzogJ1Bvc3RhbEFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3NMb2NhbGl0eTogcHJvZmlsZS5sb2NhdGlvbi5mb3JtYXR0ZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltYWdlcyA9IFtdO1xuICAgICAgICBpZiAocHJvZmlsZS5hdmF0YXIgJiYgcHJvZmlsZS5hdmF0YXIudXJsKSB7XG4gICAgICAgICAgICBpbWFnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0ltYWdlT2JqZWN0JyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnYXZhdGFyJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VXJsOiBwcm9maWxlLmF2YXRhci51cmwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZmlsZS5jb3ZlciAmJiBwcm9maWxlLmNvdmVyLnVybCkge1xuICAgICAgICAgICAgaW1hZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICdAdHlwZSc6ICdJbWFnZU9iamVjdCcsXG4gICAgICAgICAgICAgICAgbmFtZTogJ2NvdmVyJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VXJsOiBwcm9maWxlLmNvdmVyLnVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBwcm9maWxlRGF0YS5pbWFnZSA9IGltYWdlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZmlsZS53ZWJzaXRlKSB7XG4gICAgICAgICAgICBwcm9maWxlRGF0YS53ZWJzaXRlID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ1dlYlNpdGUnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHByb2ZpbGUud2Vic2l0ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY2NvdW50cyA9IFtdO1xuICAgICAgICBpZiAocHJvZmlsZS5iaXRjb2luICYmIHByb2ZpbGUuYml0Y29pbi5hZGRyZXNzKSB7XG4gICAgICAgICAgICBhY2NvdW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAnQHR5cGUnOiAnQWNjb3VudCcsXG4gICAgICAgICAgICAgICAgcm9sZTogJ3BheW1lbnQnLFxuICAgICAgICAgICAgICAgIHNlcnZpY2U6ICdiaXRjb2luJyxcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBwcm9maWxlLmJpdGNvaW4uYWRkcmVzcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlLnR3aXR0ZXIgJiYgcHJvZmlsZS50d2l0dGVyLnVzZXJuYW1lKSB7XG4gICAgICAgICAgICBhY2NvdW50cy5wdXNoKGZvcm1hdEFjY291bnQoJ3R3aXR0ZXInLCBwcm9maWxlLnR3aXR0ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZmlsZS5mYWNlYm9vayAmJiBwcm9maWxlLmZhY2Vib29rLnVzZXJuYW1lKSB7XG4gICAgICAgICAgICBhY2NvdW50cy5wdXNoKGZvcm1hdEFjY291bnQoJ2ZhY2Vib29rJywgcHJvZmlsZS5mYWNlYm9vaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlLmdpdGh1YiAmJiBwcm9maWxlLmdpdGh1Yi51c2VybmFtZSkge1xuICAgICAgICAgICAgYWNjb3VudHMucHVzaChmb3JtYXRBY2NvdW50KCdnaXRodWInLCBwcm9maWxlLmdpdGh1YikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlLmF1dGgpIHtcbiAgICAgICAgICAgIGlmIChwcm9maWxlLmF1dGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9maWxlLmF1dGhbMF0gJiYgcHJvZmlsZS5hdXRoWzBdLnB1YmxpY0tleWNoYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0FjY291bnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2tleScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlOiAnYmlwMzInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogcHJvZmlsZS5hdXRoWzBdLnB1YmxpY0tleWNoYWluLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2ZpbGUucGdwICYmIHByb2ZpbGUucGdwLnVybCkge1xuICAgICAgICAgICAgYWNjb3VudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0FjY291bnQnLFxuICAgICAgICAgICAgICAgIHJvbGU6ICdrZXknLFxuICAgICAgICAgICAgICAgIHNlcnZpY2U6ICdwZ3AnLFxuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHByb2ZpbGUucGdwLmZpbmdlcnByaW50LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRVcmw6IHByb2ZpbGUucGdwLnVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHByb2ZpbGVEYXRhLmFjY291bnQgPSBhY2NvdW50cztcbiAgICB9XG4gICAgcmV0dXJuIHByb2ZpbGVEYXRhO1xufVxuZXhwb3J0cy5nZXRQZXJzb25Gcm9tTGVnYWN5Rm9ybWF0ID0gZ2V0UGVyc29uRnJvbUxlZ2FjeUZvcm1hdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcnNvbkxlZ2FjeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personLegacy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stacks/profile/dist/profileSchemas/personUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getBirthDate = exports.getAddress = exports.getConnections = exports.getOrganizations = exports.getVerifiedAccounts = exports.getAvatarUrl = exports.getDescription = exports.getFamilyName = exports.getGivenName = exports.getName = void 0;\nfunction getName(profile) {\n    if (!profile) {\n        return null;\n    }\n    let name = null;\n    if (profile.name) {\n        name = profile.name;\n    }\n    else if (profile.givenName || profile.familyName) {\n        name = '';\n        if (profile.givenName) {\n            name = profile.givenName;\n        }\n        if (profile.familyName) {\n            name += ` ${profile.familyName}`;\n        }\n    }\n    return name;\n}\nexports.getName = getName;\nfunction getGivenName(profile) {\n    if (!profile) {\n        return null;\n    }\n    let givenName = null;\n    if (profile.givenName) {\n        givenName = profile.givenName;\n    }\n    else if (profile.name) {\n        const nameParts = profile.name.split(' ');\n        givenName = nameParts.slice(0, -1).join(' ');\n    }\n    return givenName;\n}\nexports.getGivenName = getGivenName;\nfunction getFamilyName(profile) {\n    if (!profile) {\n        return null;\n    }\n    let familyName = null;\n    if (profile.familyName) {\n        familyName = profile.familyName;\n    }\n    else if (profile.name) {\n        const nameParts = profile.name.split(' ');\n        familyName = nameParts.pop();\n    }\n    return familyName;\n}\nexports.getFamilyName = getFamilyName;\nfunction getDescription(profile) {\n    if (!profile) {\n        return null;\n    }\n    let description = null;\n    if (profile.description) {\n        description = profile.description;\n    }\n    return description;\n}\nexports.getDescription = getDescription;\nfunction getAvatarUrl(profile) {\n    if (!profile) {\n        return null;\n    }\n    let avatarContentUrl = null;\n    if (profile.image) {\n        profile.image.map((image) => {\n            if (image.name === 'avatar') {\n                avatarContentUrl = image.contentUrl;\n                return avatarContentUrl;\n            }\n            else {\n                return null;\n            }\n        });\n    }\n    return avatarContentUrl;\n}\nexports.getAvatarUrl = getAvatarUrl;\nfunction getVerifiedAccounts(profile, verifications) {\n    if (!profile) {\n        return null;\n    }\n    const filteredAccounts = [];\n    if (profile.hasOwnProperty('account') && verifications) {\n        profile.account.map((account) => {\n            let accountIsValid = false;\n            let proofUrl = null;\n            verifications.map(verification => {\n                if (verification.hasOwnProperty('proof_url')) {\n                    verification.proofUrl = verification.proof_url;\n                }\n                if (verification.valid &&\n                    verification.service === account.service &&\n                    verification.identifier === account.identifier &&\n                    verification.proofUrl) {\n                    accountIsValid = true;\n                    proofUrl = verification.proofUrl;\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            });\n            if (accountIsValid) {\n                account.proofUrl = proofUrl;\n                filteredAccounts.push(account);\n                return account;\n            }\n            else {\n                return null;\n            }\n        });\n    }\n    return filteredAccounts;\n}\nexports.getVerifiedAccounts = getVerifiedAccounts;\nfunction getOrganizations(profile) {\n    if (!profile) {\n        return null;\n    }\n    const organizations = [];\n    if (profile.hasOwnProperty('worksFor')) {\n        return profile.worksFor;\n    }\n    return organizations;\n}\nexports.getOrganizations = getOrganizations;\nfunction getConnections(profile) {\n    if (!profile) {\n        return null;\n    }\n    let connections = [];\n    if (profile.hasOwnProperty('knows')) {\n        connections = profile.knows;\n    }\n    return connections;\n}\nexports.getConnections = getConnections;\nfunction getAddress(profile) {\n    if (!profile) {\n        return null;\n    }\n    let addressString = null;\n    if (profile.hasOwnProperty('address')) {\n        const addressParts = [];\n        if (profile.address.hasOwnProperty('streetAddress')) {\n            addressParts.push(profile.address.streetAddress);\n        }\n        if (profile.address.hasOwnProperty('addressLocality')) {\n            addressParts.push(profile.address.addressLocality);\n        }\n        if (profile.address.hasOwnProperty('postalCode')) {\n            addressParts.push(profile.address.postalCode);\n        }\n        if (profile.address.hasOwnProperty('addressCountry')) {\n            addressParts.push(profile.address.addressCountry);\n        }\n        if (addressParts.length) {\n            addressString = addressParts.join(', ');\n        }\n    }\n    return addressString;\n}\nexports.getAddress = getAddress;\nfunction getBirthDate(profile) {\n    if (!profile) {\n        return null;\n    }\n    const monthNames = [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n    ];\n    let birthDateString = null;\n    if (profile.hasOwnProperty('birthDate')) {\n        const date = new Date(profile.birthDate);\n        birthDateString = `${monthNames[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;\n    }\n    return birthDateString;\n}\nexports.getBirthDate = getBirthDate;\n//# sourceMappingURL=personUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvcHJvZmlsZVNjaGVtYXMvcGVyc29uVXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsa0JBQWtCLEdBQUcsc0JBQXNCLEdBQUcsd0JBQXdCLEdBQUcsMkJBQTJCLEdBQUcsb0JBQW9CLEdBQUcsc0JBQXNCLEdBQUcscUJBQXFCLEdBQUcsb0JBQW9CLEdBQUcsZUFBZTtBQUM1TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2QkFBNkIsRUFBRSxlQUFlLElBQUksbUJBQW1CO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3Byb2ZpbGUvZGlzdC9wcm9maWxlU2NoZW1hcy9wZXJzb25VdGlscy5qcz9lNTUxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRCaXJ0aERhdGUgPSBleHBvcnRzLmdldEFkZHJlc3MgPSBleHBvcnRzLmdldENvbm5lY3Rpb25zID0gZXhwb3J0cy5nZXRPcmdhbml6YXRpb25zID0gZXhwb3J0cy5nZXRWZXJpZmllZEFjY291bnRzID0gZXhwb3J0cy5nZXRBdmF0YXJVcmwgPSBleHBvcnRzLmdldERlc2NyaXB0aW9uID0gZXhwb3J0cy5nZXRGYW1pbHlOYW1lID0gZXhwb3J0cy5nZXRHaXZlbk5hbWUgPSBleHBvcnRzLmdldE5hbWUgPSB2b2lkIDA7XG5mdW5jdGlvbiBnZXROYW1lKHByb2ZpbGUpIHtcbiAgICBpZiAoIXByb2ZpbGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBuYW1lID0gbnVsbDtcbiAgICBpZiAocHJvZmlsZS5uYW1lKSB7XG4gICAgICAgIG5hbWUgPSBwcm9maWxlLm5hbWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2ZpbGUuZ2l2ZW5OYW1lIHx8IHByb2ZpbGUuZmFtaWx5TmFtZSkge1xuICAgICAgICBuYW1lID0gJyc7XG4gICAgICAgIGlmIChwcm9maWxlLmdpdmVuTmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IHByb2ZpbGUuZ2l2ZW5OYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlLmZhbWlseU5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgKz0gYCAke3Byb2ZpbGUuZmFtaWx5TmFtZX1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuYW1lO1xufVxuZXhwb3J0cy5nZXROYW1lID0gZ2V0TmFtZTtcbmZ1bmN0aW9uIGdldEdpdmVuTmFtZShwcm9maWxlKSB7XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgZ2l2ZW5OYW1lID0gbnVsbDtcbiAgICBpZiAocHJvZmlsZS5naXZlbk5hbWUpIHtcbiAgICAgICAgZ2l2ZW5OYW1lID0gcHJvZmlsZS5naXZlbk5hbWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2ZpbGUubmFtZSkge1xuICAgICAgICBjb25zdCBuYW1lUGFydHMgPSBwcm9maWxlLm5hbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgZ2l2ZW5OYW1lID0gbmFtZVBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKCcgJyk7XG4gICAgfVxuICAgIHJldHVybiBnaXZlbk5hbWU7XG59XG5leHBvcnRzLmdldEdpdmVuTmFtZSA9IGdldEdpdmVuTmFtZTtcbmZ1bmN0aW9uIGdldEZhbWlseU5hbWUocHJvZmlsZSkge1xuICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IGZhbWlseU5hbWUgPSBudWxsO1xuICAgIGlmIChwcm9maWxlLmZhbWlseU5hbWUpIHtcbiAgICAgICAgZmFtaWx5TmFtZSA9IHByb2ZpbGUuZmFtaWx5TmFtZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZmlsZS5uYW1lKSB7XG4gICAgICAgIGNvbnN0IG5hbWVQYXJ0cyA9IHByb2ZpbGUubmFtZS5zcGxpdCgnICcpO1xuICAgICAgICBmYW1pbHlOYW1lID0gbmFtZVBhcnRzLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gZmFtaWx5TmFtZTtcbn1cbmV4cG9ydHMuZ2V0RmFtaWx5TmFtZSA9IGdldEZhbWlseU5hbWU7XG5mdW5jdGlvbiBnZXREZXNjcmlwdGlvbihwcm9maWxlKSB7XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgZGVzY3JpcHRpb24gPSBudWxsO1xuICAgIGlmIChwcm9maWxlLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRlc2NyaXB0aW9uID0gcHJvZmlsZS5kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xufVxuZXhwb3J0cy5nZXREZXNjcmlwdGlvbiA9IGdldERlc2NyaXB0aW9uO1xuZnVuY3Rpb24gZ2V0QXZhdGFyVXJsKHByb2ZpbGUpIHtcbiAgICBpZiAoIXByb2ZpbGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBhdmF0YXJDb250ZW50VXJsID0gbnVsbDtcbiAgICBpZiAocHJvZmlsZS5pbWFnZSkge1xuICAgICAgICBwcm9maWxlLmltYWdlLm1hcCgoaW1hZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChpbWFnZS5uYW1lID09PSAnYXZhdGFyJykge1xuICAgICAgICAgICAgICAgIGF2YXRhckNvbnRlbnRVcmwgPSBpbWFnZS5jb250ZW50VXJsO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdmF0YXJDb250ZW50VXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXZhdGFyQ29udGVudFVybDtcbn1cbmV4cG9ydHMuZ2V0QXZhdGFyVXJsID0gZ2V0QXZhdGFyVXJsO1xuZnVuY3Rpb24gZ2V0VmVyaWZpZWRBY2NvdW50cyhwcm9maWxlLCB2ZXJpZmljYXRpb25zKSB7XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBmaWx0ZXJlZEFjY291bnRzID0gW107XG4gICAgaWYgKHByb2ZpbGUuaGFzT3duUHJvcGVydHkoJ2FjY291bnQnKSAmJiB2ZXJpZmljYXRpb25zKSB7XG4gICAgICAgIHByb2ZpbGUuYWNjb3VudC5tYXAoKGFjY291bnQpID0+IHtcbiAgICAgICAgICAgIGxldCBhY2NvdW50SXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHByb29mVXJsID0gbnVsbDtcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbnMubWFwKHZlcmlmaWNhdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmlmaWNhdGlvbi5oYXNPd25Qcm9wZXJ0eSgncHJvb2ZfdXJsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uLnByb29mVXJsID0gdmVyaWZpY2F0aW9uLnByb29mX3VybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZlcmlmaWNhdGlvbi52YWxpZCAmJlxuICAgICAgICAgICAgICAgICAgICB2ZXJpZmljYXRpb24uc2VydmljZSA9PT0gYWNjb3VudC5zZXJ2aWNlICYmXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvbi5pZGVudGlmaWVyID09PSBhY2NvdW50LmlkZW50aWZpZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uLnByb29mVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRJc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvb2ZVcmwgPSB2ZXJpZmljYXRpb24ucHJvb2ZVcmw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFjY291bnRJc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudC5wcm9vZlVybCA9IHByb29mVXJsO1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkQWNjb3VudHMucHVzaChhY2NvdW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlcmVkQWNjb3VudHM7XG59XG5leHBvcnRzLmdldFZlcmlmaWVkQWNjb3VudHMgPSBnZXRWZXJpZmllZEFjY291bnRzO1xuZnVuY3Rpb24gZ2V0T3JnYW5pemF0aW9ucyhwcm9maWxlKSB7XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBvcmdhbml6YXRpb25zID0gW107XG4gICAgaWYgKHByb2ZpbGUuaGFzT3duUHJvcGVydHkoJ3dvcmtzRm9yJykpIHtcbiAgICAgICAgcmV0dXJuIHByb2ZpbGUud29ya3NGb3I7XG4gICAgfVxuICAgIHJldHVybiBvcmdhbml6YXRpb25zO1xufVxuZXhwb3J0cy5nZXRPcmdhbml6YXRpb25zID0gZ2V0T3JnYW5pemF0aW9ucztcbmZ1bmN0aW9uIGdldENvbm5lY3Rpb25zKHByb2ZpbGUpIHtcbiAgICBpZiAoIXByb2ZpbGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBjb25uZWN0aW9ucyA9IFtdO1xuICAgIGlmIChwcm9maWxlLmhhc093blByb3BlcnR5KCdrbm93cycpKSB7XG4gICAgICAgIGNvbm5lY3Rpb25zID0gcHJvZmlsZS5rbm93cztcbiAgICB9XG4gICAgcmV0dXJuIGNvbm5lY3Rpb25zO1xufVxuZXhwb3J0cy5nZXRDb25uZWN0aW9ucyA9IGdldENvbm5lY3Rpb25zO1xuZnVuY3Rpb24gZ2V0QWRkcmVzcyhwcm9maWxlKSB7XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgYWRkcmVzc1N0cmluZyA9IG51bGw7XG4gICAgaWYgKHByb2ZpbGUuaGFzT3duUHJvcGVydHkoJ2FkZHJlc3MnKSkge1xuICAgICAgICBjb25zdCBhZGRyZXNzUGFydHMgPSBbXTtcbiAgICAgICAgaWYgKHByb2ZpbGUuYWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgnc3RyZWV0QWRkcmVzcycpKSB7XG4gICAgICAgICAgICBhZGRyZXNzUGFydHMucHVzaChwcm9maWxlLmFkZHJlc3Muc3RyZWV0QWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2ZpbGUuYWRkcmVzcy5oYXNPd25Qcm9wZXJ0eSgnYWRkcmVzc0xvY2FsaXR5JykpIHtcbiAgICAgICAgICAgIGFkZHJlc3NQYXJ0cy5wdXNoKHByb2ZpbGUuYWRkcmVzcy5hZGRyZXNzTG9jYWxpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlLmFkZHJlc3MuaGFzT3duUHJvcGVydHkoJ3Bvc3RhbENvZGUnKSkge1xuICAgICAgICAgICAgYWRkcmVzc1BhcnRzLnB1c2gocHJvZmlsZS5hZGRyZXNzLnBvc3RhbENvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlLmFkZHJlc3MuaGFzT3duUHJvcGVydHkoJ2FkZHJlc3NDb3VudHJ5JykpIHtcbiAgICAgICAgICAgIGFkZHJlc3NQYXJ0cy5wdXNoKHByb2ZpbGUuYWRkcmVzcy5hZGRyZXNzQ291bnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkZHJlc3NQYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZHJlc3NTdHJpbmcgPSBhZGRyZXNzUGFydHMuam9pbignLCAnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWRkcmVzc1N0cmluZztcbn1cbmV4cG9ydHMuZ2V0QWRkcmVzcyA9IGdldEFkZHJlc3M7XG5mdW5jdGlvbiBnZXRCaXJ0aERhdGUocHJvZmlsZSkge1xuICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbW9udGhOYW1lcyA9IFtcbiAgICAgICAgJ0phbnVhcnknLFxuICAgICAgICAnRmVicnVhcnknLFxuICAgICAgICAnTWFyY2gnLFxuICAgICAgICAnQXByaWwnLFxuICAgICAgICAnTWF5JyxcbiAgICAgICAgJ0p1bmUnLFxuICAgICAgICAnSnVseScsXG4gICAgICAgICdBdWd1c3QnLFxuICAgICAgICAnU2VwdGVtYmVyJyxcbiAgICAgICAgJ09jdG9iZXInLFxuICAgICAgICAnTm92ZW1iZXInLFxuICAgICAgICAnRGVjZW1iZXInLFxuICAgIF07XG4gICAgbGV0IGJpcnRoRGF0ZVN0cmluZyA9IG51bGw7XG4gICAgaWYgKHByb2ZpbGUuaGFzT3duUHJvcGVydHkoJ2JpcnRoRGF0ZScpKSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShwcm9maWxlLmJpcnRoRGF0ZSk7XG4gICAgICAgIGJpcnRoRGF0ZVN0cmluZyA9IGAke21vbnRoTmFtZXNbZGF0ZS5nZXRNb250aCgpXX0gJHtkYXRlLmdldERhdGUoKX0sICR7ZGF0ZS5nZXRGdWxsWWVhcigpfWA7XG4gICAgfVxuICAgIHJldHVybiBiaXJ0aERhdGVTdHJpbmc7XG59XG5leHBvcnRzLmdldEJpcnRoRGF0ZSA9IGdldEJpcnRoRGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcnNvblV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personZoneFiles.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stacks/profile/dist/profileSchemas/personZoneFiles.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.resolveZoneFileToPerson = void 0;\nconst network_1 = __webpack_require__(/*! @stacks/network */ \"(ssr)/./node_modules/@stacks/network/dist/index.js\");\nconst zone_file_1 = __webpack_require__(/*! zone-file */ \"(ssr)/./node_modules/zone-file/dist/index.js\");\nconst profile_1 = __webpack_require__(/*! ../profile */ \"(ssr)/./node_modules/@stacks/profile/dist/profile.js\");\nconst profileTokens_1 = __webpack_require__(/*! ../profileTokens */ \"(ssr)/./node_modules/@stacks/profile/dist/profileTokens.js\");\nfunction resolveZoneFileToPerson(zoneFile, publicKeyOrAddress, callback, fetchFn = (0, network_1.createFetchFn)()) {\n    let zoneFileJson = null;\n    try {\n        zoneFileJson = (0, zone_file_1.parseZoneFile)(zoneFile);\n        if (!zoneFileJson.hasOwnProperty('$origin')) {\n            zoneFileJson = null;\n            throw new Error('zone file is missing an origin');\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n    let tokenFileUrl = null;\n    if (zoneFileJson && Object.keys(zoneFileJson).length > 0) {\n        tokenFileUrl = (0, profile_1.getTokenFileUrl)(zoneFileJson);\n    }\n    else {\n        let profile = null;\n        try {\n            profile = JSON.parse(zoneFile);\n            const person = profile_1.Person.fromLegacyFormat(profile);\n            profile = person.profile();\n        }\n        catch (error) {\n            console.warn(error);\n        }\n        callback(profile);\n        return;\n    }\n    if (tokenFileUrl) {\n        fetchFn(tokenFileUrl)\n            .then(response => response.text())\n            .then(responseText => JSON.parse(responseText))\n            .then(responseJson => {\n            const tokenRecords = responseJson;\n            const token = tokenRecords[0].token;\n            const profile = (0, profileTokens_1.extractProfile)(token, publicKeyOrAddress);\n            callback(profile);\n        })\n            .catch(error => {\n            console.warn(error);\n        });\n    }\n    else {\n        console.warn('Token file url not found');\n        callback({});\n    }\n}\nexports.resolveZoneFileToPerson = resolveZoneFileToPerson;\n//# sourceMappingURL=personZoneFiles.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvcHJvZmlsZVNjaGVtYXMvcGVyc29uWm9uZUZpbGVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQjtBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQywyRUFBaUI7QUFDM0Msb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsa0JBQWtCLG1CQUFPLENBQUMsd0VBQVk7QUFDdEMsd0JBQXdCLG1CQUFPLENBQUMsb0ZBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3Byb2ZpbGUvZGlzdC9wcm9maWxlU2NoZW1hcy9wZXJzb25ab25lRmlsZXMuanM/NWNhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVzb2x2ZVpvbmVGaWxlVG9QZXJzb24gPSB2b2lkIDA7XG5jb25zdCBuZXR3b3JrXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9uZXR3b3JrXCIpO1xuY29uc3Qgem9uZV9maWxlXzEgPSByZXF1aXJlKFwiem9uZS1maWxlXCIpO1xuY29uc3QgcHJvZmlsZV8xID0gcmVxdWlyZShcIi4uL3Byb2ZpbGVcIik7XG5jb25zdCBwcm9maWxlVG9rZW5zXzEgPSByZXF1aXJlKFwiLi4vcHJvZmlsZVRva2Vuc1wiKTtcbmZ1bmN0aW9uIHJlc29sdmVab25lRmlsZVRvUGVyc29uKHpvbmVGaWxlLCBwdWJsaWNLZXlPckFkZHJlc3MsIGNhbGxiYWNrLCBmZXRjaEZuID0gKDAsIG5ldHdvcmtfMS5jcmVhdGVGZXRjaEZuKSgpKSB7XG4gICAgbGV0IHpvbmVGaWxlSnNvbiA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgICAgem9uZUZpbGVKc29uID0gKDAsIHpvbmVfZmlsZV8xLnBhcnNlWm9uZUZpbGUpKHpvbmVGaWxlKTtcbiAgICAgICAgaWYgKCF6b25lRmlsZUpzb24uaGFzT3duUHJvcGVydHkoJyRvcmlnaW4nKSkge1xuICAgICAgICAgICAgem9uZUZpbGVKc29uID0gbnVsbDtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignem9uZSBmaWxlIGlzIG1pc3NpbmcgYW4gb3JpZ2luJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gICAgbGV0IHRva2VuRmlsZVVybCA9IG51bGw7XG4gICAgaWYgKHpvbmVGaWxlSnNvbiAmJiBPYmplY3Qua2V5cyh6b25lRmlsZUpzb24pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdG9rZW5GaWxlVXJsID0gKDAsIHByb2ZpbGVfMS5nZXRUb2tlbkZpbGVVcmwpKHpvbmVGaWxlSnNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgcHJvZmlsZSA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9maWxlID0gSlNPTi5wYXJzZSh6b25lRmlsZSk7XG4gICAgICAgICAgICBjb25zdCBwZXJzb24gPSBwcm9maWxlXzEuUGVyc29uLmZyb21MZWdhY3lGb3JtYXQocHJvZmlsZSk7XG4gICAgICAgICAgICBwcm9maWxlID0gcGVyc29uLnByb2ZpbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2socHJvZmlsZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRva2VuRmlsZVVybCkge1xuICAgICAgICBmZXRjaEZuKHRva2VuRmlsZVVybClcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlVGV4dCA9PiBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCkpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZUpzb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5SZWNvcmRzID0gcmVzcG9uc2VKc29uO1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB0b2tlblJlY29yZHNbMF0udG9rZW47XG4gICAgICAgICAgICBjb25zdCBwcm9maWxlID0gKDAsIHByb2ZpbGVUb2tlbnNfMS5leHRyYWN0UHJvZmlsZSkodG9rZW4sIHB1YmxpY0tleU9yQWRkcmVzcyk7XG4gICAgICAgICAgICBjYWxsYmFjayhwcm9maWxlKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVG9rZW4gZmlsZSB1cmwgbm90IGZvdW5kJyk7XG4gICAgICAgIGNhbGxiYWNrKHt9KTtcbiAgICB9XG59XG5leHBvcnRzLnJlc29sdmVab25lRmlsZVRvUGVyc29uID0gcmVzb2x2ZVpvbmVGaWxlVG9QZXJzb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJzb25ab25lRmlsZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/profile/dist/profileSchemas/personZoneFiles.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/profile/dist/profileTokens.js":
/*!************************************************************!*\
  !*** ./node_modules/@stacks/profile/dist/profileTokens.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.extractProfile = exports.verifyProfileToken = exports.wrapProfileToken = exports.signProfileToken = void 0;\nconst jsontokens_1 = __webpack_require__(/*! jsontokens */ \"(ssr)/./node_modules/jsontokens/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst transactions_1 = __webpack_require__(/*! @stacks/transactions */ \"(ssr)/./node_modules/@stacks/transactions/dist/index.js\");\nfunction signProfileToken(profile, privateKey, subject, issuer, signingAlgorithm = 'ES256K', issuedAt = new Date(), expiresAt = (0, common_1.nextYear)()) {\n    if (signingAlgorithm !== 'ES256K') {\n        throw new Error('Signing algorithm not supported');\n    }\n    const publicKey = jsontokens_1.SECP256K1Client.derivePublicKey(privateKey);\n    if (!subject) {\n        subject = { publicKey };\n    }\n    if (!issuer) {\n        issuer = { publicKey };\n    }\n    const tokenSigner = new jsontokens_1.TokenSigner(signingAlgorithm, privateKey);\n    const payload = {\n        jti: (0, common_1.makeUUID4)(),\n        iat: issuedAt.toISOString(),\n        exp: expiresAt.toISOString(),\n        subject,\n        issuer,\n        claim: profile,\n    };\n    return tokenSigner.sign(payload);\n}\nexports.signProfileToken = signProfileToken;\nfunction wrapProfileToken(token) {\n    return {\n        token,\n        decodedToken: (0, jsontokens_1.decodeToken)(token),\n    };\n}\nexports.wrapProfileToken = wrapProfileToken;\nfunction verifyProfileToken(token, publicKeyOrAddress) {\n    const decodedToken = (0, jsontokens_1.decodeToken)(token);\n    const payload = decodedToken.payload;\n    if (typeof payload === 'string') {\n        throw new Error('Unexpected token payload type of string');\n    }\n    if (payload.hasOwnProperty('subject') && payload.subject) {\n        if (!payload.subject.hasOwnProperty('publicKey')) {\n            throw new Error(\"Token doesn't have a subject public key\");\n        }\n    }\n    else {\n        throw new Error(\"Token doesn't have a subject\");\n    }\n    if (payload.hasOwnProperty('issuer') && payload.issuer) {\n        if (!payload.issuer.hasOwnProperty('publicKey')) {\n            throw new Error(\"Token doesn't have an issuer public key\");\n        }\n    }\n    else {\n        throw new Error(\"Token doesn't have an issuer\");\n    }\n    if (!payload.hasOwnProperty('claim')) {\n        throw new Error(\"Token doesn't have a claim\");\n    }\n    const issuerPublicKey = payload.issuer.publicKey;\n    const address = (0, transactions_1.getAddressFromPublicKey)(issuerPublicKey);\n    if (publicKeyOrAddress === issuerPublicKey) {\n    }\n    else if (publicKeyOrAddress === address) {\n    }\n    else {\n        throw new Error('Token issuer public key does not match the verifying value');\n    }\n    const tokenVerifier = new jsontokens_1.TokenVerifier(decodedToken.header.alg, issuerPublicKey);\n    if (!tokenVerifier) {\n        throw new Error('Invalid token verifier');\n    }\n    const tokenVerified = tokenVerifier.verify(token);\n    if (!tokenVerified) {\n        throw new Error('Token verification failed');\n    }\n    return decodedToken;\n}\nexports.verifyProfileToken = verifyProfileToken;\nfunction extractProfile(token, publicKeyOrAddress = null) {\n    let decodedToken;\n    if (publicKeyOrAddress) {\n        decodedToken = verifyProfileToken(token, publicKeyOrAddress);\n    }\n    else {\n        decodedToken = (0, jsontokens_1.decodeToken)(token);\n    }\n    let profile = {};\n    if (decodedToken.hasOwnProperty('payload')) {\n        const payload = decodedToken.payload;\n        if (typeof payload === 'string') {\n            throw new Error('Unexpected token payload type of string');\n        }\n        if (payload.hasOwnProperty('claim')) {\n            profile = payload.claim;\n        }\n    }\n    return profile;\n}\nexports.extractProfile = extractProfile;\n//# sourceMappingURL=profileTokens.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy9wcm9maWxlL2Rpc3QvcHJvZmlsZVRva2Vucy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0IsR0FBRywwQkFBMEIsR0FBRyx3QkFBd0IsR0FBRyx3QkFBd0I7QUFDekcscUJBQXFCLG1CQUFPLENBQUMsZ0VBQVk7QUFDekMsaUJBQWlCLG1CQUFPLENBQUMseUVBQWdCO0FBQ3pDLHVCQUF1QixtQkFBTyxDQUFDLHFGQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3Byb2ZpbGUvZGlzdC9wcm9maWxlVG9rZW5zLmpzPzY2OGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4dHJhY3RQcm9maWxlID0gZXhwb3J0cy52ZXJpZnlQcm9maWxlVG9rZW4gPSBleHBvcnRzLndyYXBQcm9maWxlVG9rZW4gPSBleHBvcnRzLnNpZ25Qcm9maWxlVG9rZW4gPSB2b2lkIDA7XG5jb25zdCBqc29udG9rZW5zXzEgPSByZXF1aXJlKFwianNvbnRva2Vuc1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiQHN0YWNrcy90cmFuc2FjdGlvbnNcIik7XG5mdW5jdGlvbiBzaWduUHJvZmlsZVRva2VuKHByb2ZpbGUsIHByaXZhdGVLZXksIHN1YmplY3QsIGlzc3Vlciwgc2lnbmluZ0FsZ29yaXRobSA9ICdFUzI1NksnLCBpc3N1ZWRBdCA9IG5ldyBEYXRlKCksIGV4cGlyZXNBdCA9ICgwLCBjb21tb25fMS5uZXh0WWVhcikoKSkge1xuICAgIGlmIChzaWduaW5nQWxnb3JpdGhtICE9PSAnRVMyNTZLJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZ25pbmcgYWxnb3JpdGhtIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG4gICAgY29uc3QgcHVibGljS2V5ID0ganNvbnRva2Vuc18xLlNFQ1AyNTZLMUNsaWVudC5kZXJpdmVQdWJsaWNLZXkocHJpdmF0ZUtleSk7XG4gICAgaWYgKCFzdWJqZWN0KSB7XG4gICAgICAgIHN1YmplY3QgPSB7IHB1YmxpY0tleSB9O1xuICAgIH1cbiAgICBpZiAoIWlzc3Vlcikge1xuICAgICAgICBpc3N1ZXIgPSB7IHB1YmxpY0tleSB9O1xuICAgIH1cbiAgICBjb25zdCB0b2tlblNpZ25lciA9IG5ldyBqc29udG9rZW5zXzEuVG9rZW5TaWduZXIoc2lnbmluZ0FsZ29yaXRobSwgcHJpdmF0ZUtleSk7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAganRpOiAoMCwgY29tbW9uXzEubWFrZVVVSUQ0KSgpLFxuICAgICAgICBpYXQ6IGlzc3VlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGV4cDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHN1YmplY3QsXG4gICAgICAgIGlzc3VlcixcbiAgICAgICAgY2xhaW06IHByb2ZpbGUsXG4gICAgfTtcbiAgICByZXR1cm4gdG9rZW5TaWduZXIuc2lnbihwYXlsb2FkKTtcbn1cbmV4cG9ydHMuc2lnblByb2ZpbGVUb2tlbiA9IHNpZ25Qcm9maWxlVG9rZW47XG5mdW5jdGlvbiB3cmFwUHJvZmlsZVRva2VuKHRva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIGRlY29kZWRUb2tlbjogKDAsIGpzb250b2tlbnNfMS5kZWNvZGVUb2tlbikodG9rZW4pLFxuICAgIH07XG59XG5leHBvcnRzLndyYXBQcm9maWxlVG9rZW4gPSB3cmFwUHJvZmlsZVRva2VuO1xuZnVuY3Rpb24gdmVyaWZ5UHJvZmlsZVRva2VuKHRva2VuLCBwdWJsaWNLZXlPckFkZHJlc3MpIHtcbiAgICBjb25zdCBkZWNvZGVkVG9rZW4gPSAoMCwganNvbnRva2Vuc18xLmRlY29kZVRva2VuKSh0b2tlbik7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRlY29kZWRUb2tlbi5wYXlsb2FkO1xuICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHRva2VuIHBheWxvYWQgdHlwZSBvZiBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKHBheWxvYWQuaGFzT3duUHJvcGVydHkoJ3N1YmplY3QnKSAmJiBwYXlsb2FkLnN1YmplY3QpIHtcbiAgICAgICAgaWYgKCFwYXlsb2FkLnN1YmplY3QuaGFzT3duUHJvcGVydHkoJ3B1YmxpY0tleScpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb2tlbiBkb2Vzbid0IGhhdmUgYSBzdWJqZWN0IHB1YmxpYyBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRva2VuIGRvZXNuJ3QgaGF2ZSBhIHN1YmplY3RcIik7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLmhhc093blByb3BlcnR5KCdpc3N1ZXInKSAmJiBwYXlsb2FkLmlzc3Vlcikge1xuICAgICAgICBpZiAoIXBheWxvYWQuaXNzdWVyLmhhc093blByb3BlcnR5KCdwdWJsaWNLZXknKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gZG9lc24ndCBoYXZlIGFuIGlzc3VlciBwdWJsaWMga2V5XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb2tlbiBkb2Vzbid0IGhhdmUgYW4gaXNzdWVyXCIpO1xuICAgIH1cbiAgICBpZiAoIXBheWxvYWQuaGFzT3duUHJvcGVydHkoJ2NsYWltJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gZG9lc24ndCBoYXZlIGEgY2xhaW1cIik7XG4gICAgfVxuICAgIGNvbnN0IGlzc3VlclB1YmxpY0tleSA9IHBheWxvYWQuaXNzdWVyLnB1YmxpY0tleTtcbiAgICBjb25zdCBhZGRyZXNzID0gKDAsIHRyYW5zYWN0aW9uc18xLmdldEFkZHJlc3NGcm9tUHVibGljS2V5KShpc3N1ZXJQdWJsaWNLZXkpO1xuICAgIGlmIChwdWJsaWNLZXlPckFkZHJlc3MgPT09IGlzc3VlclB1YmxpY0tleSkge1xuICAgIH1cbiAgICBlbHNlIGlmIChwdWJsaWNLZXlPckFkZHJlc3MgPT09IGFkZHJlc3MpIHtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gaXNzdWVyIHB1YmxpYyBrZXkgZG9lcyBub3QgbWF0Y2ggdGhlIHZlcmlmeWluZyB2YWx1ZScpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlblZlcmlmaWVyID0gbmV3IGpzb250b2tlbnNfMS5Ub2tlblZlcmlmaWVyKGRlY29kZWRUb2tlbi5oZWFkZXIuYWxnLCBpc3N1ZXJQdWJsaWNLZXkpO1xuICAgIGlmICghdG9rZW5WZXJpZmllcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdG9rZW4gdmVyaWZpZXInKTtcbiAgICB9XG4gICAgY29uc3QgdG9rZW5WZXJpZmllZCA9IHRva2VuVmVyaWZpZXIudmVyaWZ5KHRva2VuKTtcbiAgICBpZiAoIXRva2VuVmVyaWZpZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiB2ZXJpZmljYXRpb24gZmFpbGVkJyk7XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkVG9rZW47XG59XG5leHBvcnRzLnZlcmlmeVByb2ZpbGVUb2tlbiA9IHZlcmlmeVByb2ZpbGVUb2tlbjtcbmZ1bmN0aW9uIGV4dHJhY3RQcm9maWxlKHRva2VuLCBwdWJsaWNLZXlPckFkZHJlc3MgPSBudWxsKSB7XG4gICAgbGV0IGRlY29kZWRUb2tlbjtcbiAgICBpZiAocHVibGljS2V5T3JBZGRyZXNzKSB7XG4gICAgICAgIGRlY29kZWRUb2tlbiA9IHZlcmlmeVByb2ZpbGVUb2tlbih0b2tlbiwgcHVibGljS2V5T3JBZGRyZXNzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlY29kZWRUb2tlbiA9ICgwLCBqc29udG9rZW5zXzEuZGVjb2RlVG9rZW4pKHRva2VuKTtcbiAgICB9XG4gICAgbGV0IHByb2ZpbGUgPSB7fTtcbiAgICBpZiAoZGVjb2RlZFRva2VuLmhhc093blByb3BlcnR5KCdwYXlsb2FkJykpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGRlY29kZWRUb2tlbi5wYXlsb2FkO1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdG9rZW4gcGF5bG9hZCB0eXBlIG9mIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXlsb2FkLmhhc093blByb3BlcnR5KCdjbGFpbScpKSB7XG4gICAgICAgICAgICBwcm9maWxlID0gcGF5bG9hZC5jbGFpbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvZmlsZTtcbn1cbmV4cG9ydHMuZXh0cmFjdFByb2ZpbGUgPSBleHRyYWN0UHJvZmlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGVUb2tlbnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/profile/dist/profileTokens.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/authorization.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/authorization.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deserializeAuthorization = exports.serializeAuthorization = exports.setSponsor = exports.setSponsorNonce = exports.setNonce = exports.getFee = exports.setFee = exports.verifyOrigin = exports.intoInitialSighashAuth = exports.createSponsoredAuth = exports.createStandardAuth = exports.nextVerification = exports.nextSignature = exports.makeSigHashPreSign = exports.deserializeSpendingCondition = exports.serializeSpendingCondition = exports.deserializeMultiSigSpendingCondition = exports.deserializeSingleSigSpendingCondition = exports.serializeMultiSigSpendingCondition = exports.serializeSingleSigSpendingCondition = exports.isSingleSig = exports.createMultiSigSpendingCondition = exports.createSingleSigSpendingCondition = exports.emptyMessageSignature = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nconst signature_1 = __webpack_require__(/*! ./signature */ \"(ssr)/./node_modules/@stacks/transactions/dist/signature.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@stacks/transactions/dist/types.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/transactions/dist/keys.js\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nfunction emptyMessageSignature() {\n    return {\n        type: constants_1.StacksMessageType.MessageSignature,\n        data: (0, common_1.bytesToHex)(new Uint8Array(constants_1.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)),\n    };\n}\nexports.emptyMessageSignature = emptyMessageSignature;\nfunction createSingleSigSpendingCondition(hashMode, pubKey, nonce, fee) {\n    const signer = (0, types_1.addressFromPublicKeys)(0, hashMode, 1, [(0, keys_1.createStacksPublicKey)(pubKey)]).hash160;\n    const keyEncoding = (0, keys_1.isCompressed)((0, keys_1.createStacksPublicKey)(pubKey))\n        ? constants_1.PubKeyEncoding.Compressed\n        : constants_1.PubKeyEncoding.Uncompressed;\n    return {\n        hashMode,\n        signer,\n        nonce: (0, common_1.intToBigInt)(nonce, false),\n        fee: (0, common_1.intToBigInt)(fee, false),\n        keyEncoding,\n        signature: emptyMessageSignature(),\n    };\n}\nexports.createSingleSigSpendingCondition = createSingleSigSpendingCondition;\nfunction createMultiSigSpendingCondition(hashMode, numSigs, pubKeys, nonce, fee) {\n    const stacksPublicKeys = pubKeys.map(keys_1.createStacksPublicKey);\n    const signer = (0, types_1.addressFromPublicKeys)(0, hashMode, numSigs, stacksPublicKeys).hash160;\n    return {\n        hashMode,\n        signer,\n        nonce: (0, common_1.intToBigInt)(nonce, false),\n        fee: (0, common_1.intToBigInt)(fee, false),\n        fields: [],\n        signaturesRequired: numSigs,\n    };\n}\nexports.createMultiSigSpendingCondition = createMultiSigSpendingCondition;\nfunction isSingleSig(condition) {\n    return 'signature' in condition;\n}\nexports.isSingleSig = isSingleSig;\nfunction clearCondition(condition) {\n    const cloned = (0, utils_1.cloneDeep)(condition);\n    cloned.nonce = 0;\n    cloned.fee = 0;\n    if (isSingleSig(cloned)) {\n        cloned.signature = emptyMessageSignature();\n    }\n    else {\n        cloned.fields = [];\n    }\n    return {\n        ...cloned,\n        nonce: BigInt(0),\n        fee: BigInt(0),\n    };\n}\nfunction serializeSingleSigSpendingCondition(condition) {\n    const bytesArray = [\n        condition.hashMode,\n        (0, common_1.hexToBytes)(condition.signer),\n        (0, common_1.intToBytes)(condition.nonce, false, 8),\n        (0, common_1.intToBytes)(condition.fee, false, 8),\n        condition.keyEncoding,\n        (0, signature_1.serializeMessageSignature)(condition.signature),\n    ];\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeSingleSigSpendingCondition = serializeSingleSigSpendingCondition;\nfunction serializeMultiSigSpendingCondition(condition) {\n    const bytesArray = [\n        condition.hashMode,\n        (0, common_1.hexToBytes)(condition.signer),\n        (0, common_1.intToBytes)(condition.nonce, false, 8),\n        (0, common_1.intToBytes)(condition.fee, false, 8),\n    ];\n    const fields = (0, types_1.createLPList)(condition.fields);\n    bytesArray.push((0, types_1.serializeLPList)(fields));\n    const numSigs = new Uint8Array(2);\n    (0, common_1.writeUInt16BE)(numSigs, condition.signaturesRequired, 0);\n    bytesArray.push(numSigs);\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeMultiSigSpendingCondition = serializeMultiSigSpendingCondition;\nfunction deserializeSingleSigSpendingCondition(hashMode, bytesReader) {\n    const signer = (0, common_1.bytesToHex)(bytesReader.readBytes(20));\n    const nonce = BigInt(`0x${(0, common_1.bytesToHex)(bytesReader.readBytes(8))}`);\n    const fee = BigInt(`0x${(0, common_1.bytesToHex)(bytesReader.readBytes(8))}`);\n    const keyEncoding = bytesReader.readUInt8Enum(constants_1.PubKeyEncoding, n => {\n        throw new errors_1.DeserializationError(`Could not parse ${n} as PubKeyEncoding`);\n    });\n    if (hashMode === constants_1.AddressHashMode.SerializeP2WPKH && keyEncoding != constants_1.PubKeyEncoding.Compressed) {\n        throw new errors_1.DeserializationError('Failed to parse singlesig spending condition: incomaptible hash mode and key encoding');\n    }\n    const signature = (0, signature_1.deserializeMessageSignature)(bytesReader);\n    return {\n        hashMode,\n        signer,\n        nonce,\n        fee,\n        keyEncoding,\n        signature,\n    };\n}\nexports.deserializeSingleSigSpendingCondition = deserializeSingleSigSpendingCondition;\nfunction deserializeMultiSigSpendingCondition(hashMode, bytesReader) {\n    const signer = (0, common_1.bytesToHex)(bytesReader.readBytes(20));\n    const nonce = BigInt('0x' + (0, common_1.bytesToHex)(bytesReader.readBytes(8)));\n    const fee = BigInt('0x' + (0, common_1.bytesToHex)(bytesReader.readBytes(8)));\n    const fields = (0, types_1.deserializeLPList)(bytesReader, constants_1.StacksMessageType.TransactionAuthField)\n        .values;\n    let haveUncompressed = false;\n    let numSigs = 0;\n    for (const field of fields) {\n        switch (field.contents.type) {\n            case constants_1.StacksMessageType.PublicKey:\n                if (!(0, keys_1.isCompressed)(field.contents))\n                    haveUncompressed = true;\n                break;\n            case constants_1.StacksMessageType.MessageSignature:\n                if (field.pubKeyEncoding === constants_1.PubKeyEncoding.Uncompressed)\n                    haveUncompressed = true;\n                numSigs += 1;\n                if (numSigs === 65536)\n                    throw new errors_1.VerificationError('Failed to parse multisig spending condition: too many signatures');\n                break;\n        }\n    }\n    const signaturesRequired = bytesReader.readUInt16BE();\n    if (haveUncompressed && hashMode === constants_1.AddressHashMode.SerializeP2SH)\n        throw new errors_1.VerificationError('Uncompressed keys are not allowed in this hash mode');\n    return {\n        hashMode,\n        signer,\n        nonce,\n        fee,\n        fields,\n        signaturesRequired,\n    };\n}\nexports.deserializeMultiSigSpendingCondition = deserializeMultiSigSpendingCondition;\nfunction serializeSpendingCondition(condition) {\n    if (isSingleSig(condition)) {\n        return serializeSingleSigSpendingCondition(condition);\n    }\n    return serializeMultiSigSpendingCondition(condition);\n}\nexports.serializeSpendingCondition = serializeSpendingCondition;\nfunction deserializeSpendingCondition(bytesReader) {\n    const hashMode = bytesReader.readUInt8Enum(constants_1.AddressHashMode, n => {\n        throw new errors_1.DeserializationError(`Could not parse ${n} as AddressHashMode`);\n    });\n    if (hashMode === constants_1.AddressHashMode.SerializeP2PKH || hashMode === constants_1.AddressHashMode.SerializeP2WPKH) {\n        return deserializeSingleSigSpendingCondition(hashMode, bytesReader);\n    }\n    else {\n        return deserializeMultiSigSpendingCondition(hashMode, bytesReader);\n    }\n}\nexports.deserializeSpendingCondition = deserializeSpendingCondition;\nfunction makeSigHashPreSign(curSigHash, authType, fee, nonce) {\n    const hashLength = 32 + 1 + 8 + 8;\n    const sigHash = curSigHash +\n        (0, common_1.bytesToHex)(new Uint8Array([authType])) +\n        (0, common_1.bytesToHex)((0, common_1.intToBytes)(fee, false, 8)) +\n        (0, common_1.bytesToHex)((0, common_1.intToBytes)(nonce, false, 8));\n    if ((0, common_1.hexToBytes)(sigHash).byteLength !== hashLength) {\n        throw Error('Invalid signature hash length');\n    }\n    return (0, utils_1.txidFromData)((0, common_1.hexToBytes)(sigHash));\n}\nexports.makeSigHashPreSign = makeSigHashPreSign;\nfunction makeSigHashPostSign(curSigHash, pubKey, signature) {\n    const hashLength = 32 + 1 + constants_1.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES;\n    const pubKeyEncoding = (0, keys_1.isCompressed)(pubKey)\n        ? constants_1.PubKeyEncoding.Compressed\n        : constants_1.PubKeyEncoding.Uncompressed;\n    const sigHash = curSigHash + (0, utils_1.leftPadHex)(pubKeyEncoding.toString(16)) + signature.data;\n    const sigHashBytes = (0, common_1.hexToBytes)(sigHash);\n    if (sigHashBytes.byteLength > hashLength) {\n        throw Error('Invalid signature hash length');\n    }\n    return (0, utils_1.txidFromData)(sigHashBytes);\n}\nfunction nextSignature(curSigHash, authType, fee, nonce, privateKey) {\n    const sigHashPreSign = makeSigHashPreSign(curSigHash, authType, fee, nonce);\n    const signature = (0, keys_1.signWithKey)(privateKey, sigHashPreSign);\n    const publicKey = (0, keys_1.getPublicKey)(privateKey);\n    const nextSigHash = makeSigHashPostSign(sigHashPreSign, publicKey, signature);\n    return {\n        nextSig: signature,\n        nextSigHash,\n    };\n}\nexports.nextSignature = nextSignature;\nfunction nextVerification(initialSigHash, authType, fee, nonce, pubKeyEncoding, signature) {\n    const sigHashPreSign = makeSigHashPreSign(initialSigHash, authType, fee, nonce);\n    const publicKey = (0, keys_1.createStacksPublicKey)((0, keys_1.publicKeyFromSignatureVrs)(sigHashPreSign, signature, pubKeyEncoding));\n    const nextSigHash = makeSigHashPostSign(sigHashPreSign, publicKey, signature);\n    return {\n        pubKey: publicKey,\n        nextSigHash,\n    };\n}\nexports.nextVerification = nextVerification;\nfunction newInitialSigHash() {\n    const spendingCondition = createSingleSigSpendingCondition(constants_1.AddressHashMode.SerializeP2PKH, '', 0, 0);\n    spendingCondition.signer = (0, types_1.createEmptyAddress)().hash160;\n    spendingCondition.keyEncoding = constants_1.PubKeyEncoding.Compressed;\n    spendingCondition.signature = emptyMessageSignature();\n    return spendingCondition;\n}\nfunction verify(condition, initialSigHash, authType) {\n    if (isSingleSig(condition)) {\n        return verifySingleSig(condition, initialSigHash, authType);\n    }\n    else {\n        return verifyMultiSig(condition, initialSigHash, authType);\n    }\n}\nfunction verifySingleSig(condition, initialSigHash, authType) {\n    const { pubKey, nextSigHash } = nextVerification(initialSigHash, authType, condition.fee, condition.nonce, condition.keyEncoding, condition.signature);\n    const addrBytes = (0, types_1.addressFromPublicKeys)(0, condition.hashMode, 1, [pubKey]).hash160;\n    if (addrBytes !== condition.signer)\n        throw new errors_1.VerificationError(`Signer hash does not equal hash of public key(s): ${addrBytes} != ${condition.signer}`);\n    return nextSigHash;\n}\nfunction verifyMultiSig(condition, initialSigHash, authType) {\n    const publicKeys = [];\n    let curSigHash = initialSigHash;\n    let haveUncompressed = false;\n    let numSigs = 0;\n    for (const field of condition.fields) {\n        let foundPubKey;\n        switch (field.contents.type) {\n            case constants_1.StacksMessageType.PublicKey:\n                if (!(0, keys_1.isCompressed)(field.contents))\n                    haveUncompressed = true;\n                foundPubKey = field.contents;\n                break;\n            case constants_1.StacksMessageType.MessageSignature:\n                if (field.pubKeyEncoding === constants_1.PubKeyEncoding.Uncompressed)\n                    haveUncompressed = true;\n                const { pubKey, nextSigHash } = nextVerification(curSigHash, authType, condition.fee, condition.nonce, field.pubKeyEncoding, field.contents);\n                curSigHash = nextSigHash;\n                foundPubKey = pubKey;\n                numSigs += 1;\n                if (numSigs === 65536)\n                    throw new errors_1.VerificationError('Too many signatures');\n                break;\n        }\n        publicKeys.push(foundPubKey);\n    }\n    if (numSigs !== condition.signaturesRequired)\n        throw new errors_1.VerificationError('Incorrect number of signatures');\n    if (haveUncompressed && condition.hashMode === constants_1.AddressHashMode.SerializeP2SH)\n        throw new errors_1.VerificationError('Uncompressed keys are not allowed in this hash mode');\n    const addrBytes = (0, types_1.addressFromPublicKeys)(0, condition.hashMode, condition.signaturesRequired, publicKeys).hash160;\n    if (addrBytes !== condition.signer)\n        throw new errors_1.VerificationError(`Signer hash does not equal hash of public key(s): ${addrBytes} != ${condition.signer}`);\n    return curSigHash;\n}\nfunction createStandardAuth(spendingCondition) {\n    return {\n        authType: constants_1.AuthType.Standard,\n        spendingCondition,\n    };\n}\nexports.createStandardAuth = createStandardAuth;\nfunction createSponsoredAuth(spendingCondition, sponsorSpendingCondition) {\n    return {\n        authType: constants_1.AuthType.Sponsored,\n        spendingCondition,\n        sponsorSpendingCondition: sponsorSpendingCondition\n            ? sponsorSpendingCondition\n            : createSingleSigSpendingCondition(constants_1.AddressHashMode.SerializeP2PKH, '0'.repeat(66), 0, 0),\n    };\n}\nexports.createSponsoredAuth = createSponsoredAuth;\nfunction intoInitialSighashAuth(auth) {\n    if (auth.spendingCondition) {\n        switch (auth.authType) {\n            case constants_1.AuthType.Standard:\n                return createStandardAuth(clearCondition(auth.spendingCondition));\n            case constants_1.AuthType.Sponsored:\n                return createSponsoredAuth(clearCondition(auth.spendingCondition), newInitialSigHash());\n            default:\n                throw new errors_1.SigningError('Unexpected authorization type for signing');\n        }\n    }\n    throw new Error('Authorization missing SpendingCondition');\n}\nexports.intoInitialSighashAuth = intoInitialSighashAuth;\nfunction verifyOrigin(auth, initialSigHash) {\n    switch (auth.authType) {\n        case constants_1.AuthType.Standard:\n            return verify(auth.spendingCondition, initialSigHash, constants_1.AuthType.Standard);\n        case constants_1.AuthType.Sponsored:\n            return verify(auth.spendingCondition, initialSigHash, constants_1.AuthType.Standard);\n        default:\n            throw new errors_1.SigningError('Invalid origin auth type');\n    }\n}\nexports.verifyOrigin = verifyOrigin;\nfunction setFee(auth, amount) {\n    switch (auth.authType) {\n        case constants_1.AuthType.Standard:\n            const spendingCondition = {\n                ...auth.spendingCondition,\n                fee: (0, common_1.intToBigInt)(amount, false),\n            };\n            return { ...auth, spendingCondition };\n        case constants_1.AuthType.Sponsored:\n            const sponsorSpendingCondition = {\n                ...auth.sponsorSpendingCondition,\n                fee: (0, common_1.intToBigInt)(amount, false),\n            };\n            return { ...auth, sponsorSpendingCondition };\n    }\n}\nexports.setFee = setFee;\nfunction getFee(auth) {\n    switch (auth.authType) {\n        case constants_1.AuthType.Standard:\n            return auth.spendingCondition.fee;\n        case constants_1.AuthType.Sponsored:\n            return auth.sponsorSpendingCondition.fee;\n    }\n}\nexports.getFee = getFee;\nfunction setNonce(auth, nonce) {\n    const spendingCondition = {\n        ...auth.spendingCondition,\n        nonce: (0, common_1.intToBigInt)(nonce, false),\n    };\n    return {\n        ...auth,\n        spendingCondition,\n    };\n}\nexports.setNonce = setNonce;\nfunction setSponsorNonce(auth, nonce) {\n    const sponsorSpendingCondition = {\n        ...auth.sponsorSpendingCondition,\n        nonce: (0, common_1.intToBigInt)(nonce, false),\n    };\n    return {\n        ...auth,\n        sponsorSpendingCondition,\n    };\n}\nexports.setSponsorNonce = setSponsorNonce;\nfunction setSponsor(auth, sponsorSpendingCondition) {\n    const sc = {\n        ...sponsorSpendingCondition,\n        nonce: (0, common_1.intToBigInt)(sponsorSpendingCondition.nonce, false),\n        fee: (0, common_1.intToBigInt)(sponsorSpendingCondition.fee, false),\n    };\n    return {\n        ...auth,\n        sponsorSpendingCondition: sc,\n    };\n}\nexports.setSponsor = setSponsor;\nfunction serializeAuthorization(auth) {\n    const bytesArray = [];\n    bytesArray.push(auth.authType);\n    switch (auth.authType) {\n        case constants_1.AuthType.Standard:\n            bytesArray.push(serializeSpendingCondition(auth.spendingCondition));\n            break;\n        case constants_1.AuthType.Sponsored:\n            bytesArray.push(serializeSpendingCondition(auth.spendingCondition));\n            bytesArray.push(serializeSpendingCondition(auth.sponsorSpendingCondition));\n            break;\n    }\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeAuthorization = serializeAuthorization;\nfunction deserializeAuthorization(bytesReader) {\n    const authType = bytesReader.readUInt8Enum(constants_1.AuthType, n => {\n        throw new errors_1.DeserializationError(`Could not parse ${n} as AuthType`);\n    });\n    let spendingCondition;\n    switch (authType) {\n        case constants_1.AuthType.Standard:\n            spendingCondition = deserializeSpendingCondition(bytesReader);\n            return createStandardAuth(spendingCondition);\n        case constants_1.AuthType.Sponsored:\n            spendingCondition = deserializeSpendingCondition(bytesReader);\n            const sponsorSpendingCondition = deserializeSpendingCondition(bytesReader);\n            return createSponsoredAuth(spendingCondition, sponsorSpendingCondition);\n    }\n}\nexports.deserializeAuthorization = deserializeAuthorization;\n//# sourceMappingURL=authorization.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9hdXRob3JpemF0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxHQUFHLDhCQUE4QixHQUFHLGtCQUFrQixHQUFHLHVCQUF1QixHQUFHLGdCQUFnQixHQUFHLGNBQWMsR0FBRyxjQUFjLEdBQUcsb0JBQW9CLEdBQUcsOEJBQThCLEdBQUcsMkJBQTJCLEdBQUcsMEJBQTBCLEdBQUcsd0JBQXdCLEdBQUcscUJBQXFCLEdBQUcsMEJBQTBCLEdBQUcsb0NBQW9DLEdBQUcsa0NBQWtDLEdBQUcsNENBQTRDLEdBQUcsNkNBQTZDLEdBQUcsMENBQTBDLEdBQUcsMkNBQTJDLEdBQUcsbUJBQW1CLEdBQUcsdUNBQXVDLEdBQUcsd0NBQXdDLEdBQUcsNkJBQTZCO0FBQ3p2QixpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsZ0ZBQWE7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMsd0VBQVM7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsZ0ZBQWE7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMsd0VBQVM7QUFDakMsZUFBZSxtQkFBTyxDQUFDLHNFQUFRO0FBQy9CLGlCQUFpQixtQkFBTyxDQUFDLDBFQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBLDhCQUE4QixtREFBbUQ7QUFDakYsNEJBQTRCLG1EQUFtRDtBQUMvRTtBQUNBLG1FQUFtRSxHQUFHO0FBQ3RFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsbUVBQW1FLEdBQUc7QUFDdEUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0I7QUFDbEM7QUFDQTtBQUNBLGtHQUFrRyxXQUFXLEtBQUssaUJBQWlCO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHLFdBQVcsS0FBSyxpQkFBaUI7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxtRUFBbUUsR0FBRztBQUN0RSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L2F1dGhvcml6YXRpb24uanM/N2MxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVzZXJpYWxpemVBdXRob3JpemF0aW9uID0gZXhwb3J0cy5zZXJpYWxpemVBdXRob3JpemF0aW9uID0gZXhwb3J0cy5zZXRTcG9uc29yID0gZXhwb3J0cy5zZXRTcG9uc29yTm9uY2UgPSBleHBvcnRzLnNldE5vbmNlID0gZXhwb3J0cy5nZXRGZWUgPSBleHBvcnRzLnNldEZlZSA9IGV4cG9ydHMudmVyaWZ5T3JpZ2luID0gZXhwb3J0cy5pbnRvSW5pdGlhbFNpZ2hhc2hBdXRoID0gZXhwb3J0cy5jcmVhdGVTcG9uc29yZWRBdXRoID0gZXhwb3J0cy5jcmVhdGVTdGFuZGFyZEF1dGggPSBleHBvcnRzLm5leHRWZXJpZmljYXRpb24gPSBleHBvcnRzLm5leHRTaWduYXR1cmUgPSBleHBvcnRzLm1ha2VTaWdIYXNoUHJlU2lnbiA9IGV4cG9ydHMuZGVzZXJpYWxpemVTcGVuZGluZ0NvbmRpdGlvbiA9IGV4cG9ydHMuc2VyaWFsaXplU3BlbmRpbmdDb25kaXRpb24gPSBleHBvcnRzLmRlc2VyaWFsaXplTXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IGV4cG9ydHMuZGVzZXJpYWxpemVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IGV4cG9ydHMuc2VyaWFsaXplTXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IGV4cG9ydHMuc2VyaWFsaXplU2luZ2xlU2lnU3BlbmRpbmdDb25kaXRpb24gPSBleHBvcnRzLmlzU2luZ2xlU2lnID0gZXhwb3J0cy5jcmVhdGVNdWx0aVNpZ1NwZW5kaW5nQ29uZGl0aW9uID0gZXhwb3J0cy5jcmVhdGVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IGV4cG9ydHMuZW1wdHlNZXNzYWdlU2lnbmF0dXJlID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNvbnN0IHNpZ25hdHVyZV8xID0gcmVxdWlyZShcIi4vc2lnbmF0dXJlXCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuY29uc3Qga2V5c18xID0gcmVxdWlyZShcIi4va2V5c1wiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuZnVuY3Rpb24gZW1wdHlNZXNzYWdlU2lnbmF0dXJlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLk1lc3NhZ2VTaWduYXR1cmUsXG4gICAgICAgIGRhdGE6ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShuZXcgVWludDhBcnJheShjb25zdGFudHNfMS5SRUNPVkVSQUJMRV9FQ0RTQV9TSUdfTEVOR1RIX0JZVEVTKSksXG4gICAgfTtcbn1cbmV4cG9ydHMuZW1wdHlNZXNzYWdlU2lnbmF0dXJlID0gZW1wdHlNZXNzYWdlU2lnbmF0dXJlO1xuZnVuY3Rpb24gY3JlYXRlU2luZ2xlU2lnU3BlbmRpbmdDb25kaXRpb24oaGFzaE1vZGUsIHB1YktleSwgbm9uY2UsIGZlZSkge1xuICAgIGNvbnN0IHNpZ25lciA9ICgwLCB0eXBlc18xLmFkZHJlc3NGcm9tUHVibGljS2V5cykoMCwgaGFzaE1vZGUsIDEsIFsoMCwga2V5c18xLmNyZWF0ZVN0YWNrc1B1YmxpY0tleSkocHViS2V5KV0pLmhhc2gxNjA7XG4gICAgY29uc3Qga2V5RW5jb2RpbmcgPSAoMCwga2V5c18xLmlzQ29tcHJlc3NlZCkoKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQdWJsaWNLZXkpKHB1YktleSkpXG4gICAgICAgID8gY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuQ29tcHJlc3NlZFxuICAgICAgICA6IGNvbnN0YW50c18xLlB1YktleUVuY29kaW5nLlVuY29tcHJlc3NlZDtcbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNoTW9kZSxcbiAgICAgICAgc2lnbmVyLFxuICAgICAgICBub25jZTogKDAsIGNvbW1vbl8xLmludFRvQmlnSW50KShub25jZSwgZmFsc2UpLFxuICAgICAgICBmZWU6ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkoZmVlLCBmYWxzZSksXG4gICAgICAgIGtleUVuY29kaW5nLFxuICAgICAgICBzaWduYXR1cmU6IGVtcHR5TWVzc2FnZVNpZ25hdHVyZSgpLFxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZVNpbmdsZVNpZ1NwZW5kaW5nQ29uZGl0aW9uID0gY3JlYXRlU2luZ2xlU2lnU3BlbmRpbmdDb25kaXRpb247XG5mdW5jdGlvbiBjcmVhdGVNdWx0aVNpZ1NwZW5kaW5nQ29uZGl0aW9uKGhhc2hNb2RlLCBudW1TaWdzLCBwdWJLZXlzLCBub25jZSwgZmVlKSB7XG4gICAgY29uc3Qgc3RhY2tzUHVibGljS2V5cyA9IHB1YktleXMubWFwKGtleXNfMS5jcmVhdGVTdGFja3NQdWJsaWNLZXkpO1xuICAgIGNvbnN0IHNpZ25lciA9ICgwLCB0eXBlc18xLmFkZHJlc3NGcm9tUHVibGljS2V5cykoMCwgaGFzaE1vZGUsIG51bVNpZ3MsIHN0YWNrc1B1YmxpY0tleXMpLmhhc2gxNjA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzaE1vZGUsXG4gICAgICAgIHNpZ25lcixcbiAgICAgICAgbm9uY2U6ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkobm9uY2UsIGZhbHNlKSxcbiAgICAgICAgZmVlOiAoMCwgY29tbW9uXzEuaW50VG9CaWdJbnQpKGZlZSwgZmFsc2UpLFxuICAgICAgICBmaWVsZHM6IFtdLFxuICAgICAgICBzaWduYXR1cmVzUmVxdWlyZWQ6IG51bVNpZ3MsXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlTXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IGNyZWF0ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb247XG5mdW5jdGlvbiBpc1NpbmdsZVNpZyhjb25kaXRpb24pIHtcbiAgICByZXR1cm4gJ3NpZ25hdHVyZScgaW4gY29uZGl0aW9uO1xufVxuZXhwb3J0cy5pc1NpbmdsZVNpZyA9IGlzU2luZ2xlU2lnO1xuZnVuY3Rpb24gY2xlYXJDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgY29uc3QgY2xvbmVkID0gKDAsIHV0aWxzXzEuY2xvbmVEZWVwKShjb25kaXRpb24pO1xuICAgIGNsb25lZC5ub25jZSA9IDA7XG4gICAgY2xvbmVkLmZlZSA9IDA7XG4gICAgaWYgKGlzU2luZ2xlU2lnKGNsb25lZCkpIHtcbiAgICAgICAgY2xvbmVkLnNpZ25hdHVyZSA9IGVtcHR5TWVzc2FnZVNpZ25hdHVyZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2xvbmVkLmZpZWxkcyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbG9uZWQsXG4gICAgICAgIG5vbmNlOiBCaWdJbnQoMCksXG4gICAgICAgIGZlZTogQmlnSW50KDApLFxuICAgIH07XG59XG5mdW5jdGlvbiBzZXJpYWxpemVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW1xuICAgICAgICBjb25kaXRpb24uaGFzaE1vZGUsXG4gICAgICAgICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShjb25kaXRpb24uc2lnbmVyKSxcbiAgICAgICAgKDAsIGNvbW1vbl8xLmludFRvQnl0ZXMpKGNvbmRpdGlvbi5ub25jZSwgZmFsc2UsIDgpLFxuICAgICAgICAoMCwgY29tbW9uXzEuaW50VG9CeXRlcykoY29uZGl0aW9uLmZlZSwgZmFsc2UsIDgpLFxuICAgICAgICBjb25kaXRpb24ua2V5RW5jb2RpbmcsXG4gICAgICAgICgwLCBzaWduYXR1cmVfMS5zZXJpYWxpemVNZXNzYWdlU2lnbmF0dXJlKShjb25kaXRpb24uc2lnbmF0dXJlKSxcbiAgICBdO1xuICAgIHJldHVybiAoMCwgY29tbW9uXzEuY29uY2F0QXJyYXkpKGJ5dGVzQXJyYXkpO1xufVxuZXhwb3J0cy5zZXJpYWxpemVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IHNlcmlhbGl6ZVNpbmdsZVNpZ1NwZW5kaW5nQ29uZGl0aW9uO1xuZnVuY3Rpb24gc2VyaWFsaXplTXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW1xuICAgICAgICBjb25kaXRpb24uaGFzaE1vZGUsXG4gICAgICAgICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShjb25kaXRpb24uc2lnbmVyKSxcbiAgICAgICAgKDAsIGNvbW1vbl8xLmludFRvQnl0ZXMpKGNvbmRpdGlvbi5ub25jZSwgZmFsc2UsIDgpLFxuICAgICAgICAoMCwgY29tbW9uXzEuaW50VG9CeXRlcykoY29uZGl0aW9uLmZlZSwgZmFsc2UsIDgpLFxuICAgIF07XG4gICAgY29uc3QgZmllbGRzID0gKDAsIHR5cGVzXzEuY3JlYXRlTFBMaXN0KShjb25kaXRpb24uZmllbGRzKTtcbiAgICBieXRlc0FycmF5LnB1c2goKDAsIHR5cGVzXzEuc2VyaWFsaXplTFBMaXN0KShmaWVsZHMpKTtcbiAgICBjb25zdCBudW1TaWdzID0gbmV3IFVpbnQ4QXJyYXkoMik7XG4gICAgKDAsIGNvbW1vbl8xLndyaXRlVUludDE2QkUpKG51bVNpZ3MsIGNvbmRpdGlvbi5zaWduYXR1cmVzUmVxdWlyZWQsIDApO1xuICAgIGJ5dGVzQXJyYXkucHVzaChudW1TaWdzKTtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmNvbmNhdEFycmF5KShieXRlc0FycmF5KTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplTXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IHNlcmlhbGl6ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb247XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVNpbmdsZVNpZ1NwZW5kaW5nQ29uZGl0aW9uKGhhc2hNb2RlLCBieXRlc1JlYWRlcikge1xuICAgIGNvbnN0IHNpZ25lciA9ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShieXRlc1JlYWRlci5yZWFkQnl0ZXMoMjApKTtcbiAgICBjb25zdCBub25jZSA9IEJpZ0ludChgMHgkeygwLCBjb21tb25fMS5ieXRlc1RvSGV4KShieXRlc1JlYWRlci5yZWFkQnl0ZXMoOCkpfWApO1xuICAgIGNvbnN0IGZlZSA9IEJpZ0ludChgMHgkeygwLCBjb21tb25fMS5ieXRlc1RvSGV4KShieXRlc1JlYWRlci5yZWFkQnl0ZXMoOCkpfWApO1xuICAgIGNvbnN0IGtleUVuY29kaW5nID0gYnl0ZXNSZWFkZXIucmVhZFVJbnQ4RW51bShjb25zdGFudHNfMS5QdWJLZXlFbmNvZGluZywgbiA9PiB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5EZXNlcmlhbGl6YXRpb25FcnJvcihgQ291bGQgbm90IHBhcnNlICR7bn0gYXMgUHViS2V5RW5jb2RpbmdgKTtcbiAgICB9KTtcbiAgICBpZiAoaGFzaE1vZGUgPT09IGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMldQS0ggJiYga2V5RW5jb2RpbmcgIT0gY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuQ29tcHJlc3NlZCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuRGVzZXJpYWxpemF0aW9uRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBzaW5nbGVzaWcgc3BlbmRpbmcgY29uZGl0aW9uOiBpbmNvbWFwdGlibGUgaGFzaCBtb2RlIGFuZCBrZXkgZW5jb2RpbmcnKTtcbiAgICB9XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gKDAsIHNpZ25hdHVyZV8xLmRlc2VyaWFsaXplTWVzc2FnZVNpZ25hdHVyZSkoYnl0ZXNSZWFkZXIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGhhc2hNb2RlLFxuICAgICAgICBzaWduZXIsXG4gICAgICAgIG5vbmNlLFxuICAgICAgICBmZWUsXG4gICAgICAgIGtleUVuY29kaW5nLFxuICAgICAgICBzaWduYXR1cmUsXG4gICAgfTtcbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IGRlc2VyaWFsaXplU2luZ2xlU2lnU3BlbmRpbmdDb25kaXRpb247XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb24oaGFzaE1vZGUsIGJ5dGVzUmVhZGVyKSB7XG4gICAgY29uc3Qgc2lnbmVyID0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKGJ5dGVzUmVhZGVyLnJlYWRCeXRlcygyMCkpO1xuICAgIGNvbnN0IG5vbmNlID0gQmlnSW50KCcweCcgKyAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoYnl0ZXNSZWFkZXIucmVhZEJ5dGVzKDgpKSk7XG4gICAgY29uc3QgZmVlID0gQmlnSW50KCcweCcgKyAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoYnl0ZXNSZWFkZXIucmVhZEJ5dGVzKDgpKSk7XG4gICAgY29uc3QgZmllbGRzID0gKDAsIHR5cGVzXzEuZGVzZXJpYWxpemVMUExpc3QpKGJ5dGVzUmVhZGVyLCBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5UcmFuc2FjdGlvbkF1dGhGaWVsZClcbiAgICAgICAgLnZhbHVlcztcbiAgICBsZXQgaGF2ZVVuY29tcHJlc3NlZCA9IGZhbHNlO1xuICAgIGxldCBudW1TaWdzID0gMDtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykge1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLmNvbnRlbnRzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUHVibGljS2V5OlxuICAgICAgICAgICAgICAgIGlmICghKDAsIGtleXNfMS5pc0NvbXByZXNzZWQpKGZpZWxkLmNvbnRlbnRzKSlcbiAgICAgICAgICAgICAgICAgICAgaGF2ZVVuY29tcHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLk1lc3NhZ2VTaWduYXR1cmU6XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkLnB1YktleUVuY29kaW5nID09PSBjb25zdGFudHNfMS5QdWJLZXlFbmNvZGluZy5VbmNvbXByZXNzZWQpXG4gICAgICAgICAgICAgICAgICAgIGhhdmVVbmNvbXByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG51bVNpZ3MgKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAobnVtU2lncyA9PT0gNjU1MzYpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5WZXJpZmljYXRpb25FcnJvcignRmFpbGVkIHRvIHBhcnNlIG11bHRpc2lnIHNwZW5kaW5nIGNvbmRpdGlvbjogdG9vIG1hbnkgc2lnbmF0dXJlcycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNpZ25hdHVyZXNSZXF1aXJlZCA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50MTZCRSgpO1xuICAgIGlmIChoYXZlVW5jb21wcmVzc2VkICYmIGhhc2hNb2RlID09PSBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJTSClcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlZlcmlmaWNhdGlvbkVycm9yKCdVbmNvbXByZXNzZWQga2V5cyBhcmUgbm90IGFsbG93ZWQgaW4gdGhpcyBoYXNoIG1vZGUnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNoTW9kZSxcbiAgICAgICAgc2lnbmVyLFxuICAgICAgICBub25jZSxcbiAgICAgICAgZmVlLFxuICAgICAgICBmaWVsZHMsXG4gICAgICAgIHNpZ25hdHVyZXNSZXF1aXJlZCxcbiAgICB9O1xufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb24gPSBkZXNlcmlhbGl6ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb247XG5mdW5jdGlvbiBzZXJpYWxpemVTcGVuZGluZ0NvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICBpZiAoaXNTaW5nbGVTaWcoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplU2luZ2xlU2lnU3BlbmRpbmdDb25kaXRpb24oY29uZGl0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb24oY29uZGl0aW9uKTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplU3BlbmRpbmdDb25kaXRpb24gPSBzZXJpYWxpemVTcGVuZGluZ0NvbmRpdGlvbjtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplU3BlbmRpbmdDb25kaXRpb24oYnl0ZXNSZWFkZXIpIHtcbiAgICBjb25zdCBoYXNoTW9kZSA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50OEVudW0oY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLCBuID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkRlc2VyaWFsaXphdGlvbkVycm9yKGBDb3VsZCBub3QgcGFyc2UgJHtufSBhcyBBZGRyZXNzSGFzaE1vZGVgKTtcbiAgICB9KTtcbiAgICBpZiAoaGFzaE1vZGUgPT09IGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMlBLSCB8fCBoYXNoTW9kZSA9PT0gY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyV1BLSCkge1xuICAgICAgICByZXR1cm4gZGVzZXJpYWxpemVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbihoYXNoTW9kZSwgYnl0ZXNSZWFkZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplTXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbihoYXNoTW9kZSwgYnl0ZXNSZWFkZXIpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVTcGVuZGluZ0NvbmRpdGlvbiA9IGRlc2VyaWFsaXplU3BlbmRpbmdDb25kaXRpb247XG5mdW5jdGlvbiBtYWtlU2lnSGFzaFByZVNpZ24oY3VyU2lnSGFzaCwgYXV0aFR5cGUsIGZlZSwgbm9uY2UpIHtcbiAgICBjb25zdCBoYXNoTGVuZ3RoID0gMzIgKyAxICsgOCArIDg7XG4gICAgY29uc3Qgc2lnSGFzaCA9IGN1clNpZ0hhc2ggK1xuICAgICAgICAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkobmV3IFVpbnQ4QXJyYXkoW2F1dGhUeXBlXSkpICtcbiAgICAgICAgKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKCgwLCBjb21tb25fMS5pbnRUb0J5dGVzKShmZWUsIGZhbHNlLCA4KSkgK1xuICAgICAgICAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoKDAsIGNvbW1vbl8xLmludFRvQnl0ZXMpKG5vbmNlLCBmYWxzZSwgOCkpO1xuICAgIGlmICgoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoc2lnSGFzaCkuYnl0ZUxlbmd0aCAhPT0gaGFzaExlbmd0aCkge1xuICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBzaWduYXR1cmUgaGFzaCBsZW5ndGgnKTtcbiAgICB9XG4gICAgcmV0dXJuICgwLCB1dGlsc18xLnR4aWRGcm9tRGF0YSkoKDAsIGNvbW1vbl8xLmhleFRvQnl0ZXMpKHNpZ0hhc2gpKTtcbn1cbmV4cG9ydHMubWFrZVNpZ0hhc2hQcmVTaWduID0gbWFrZVNpZ0hhc2hQcmVTaWduO1xuZnVuY3Rpb24gbWFrZVNpZ0hhc2hQb3N0U2lnbihjdXJTaWdIYXNoLCBwdWJLZXksIHNpZ25hdHVyZSkge1xuICAgIGNvbnN0IGhhc2hMZW5ndGggPSAzMiArIDEgKyBjb25zdGFudHNfMS5SRUNPVkVSQUJMRV9FQ0RTQV9TSUdfTEVOR1RIX0JZVEVTO1xuICAgIGNvbnN0IHB1YktleUVuY29kaW5nID0gKDAsIGtleXNfMS5pc0NvbXByZXNzZWQpKHB1YktleSlcbiAgICAgICAgPyBjb25zdGFudHNfMS5QdWJLZXlFbmNvZGluZy5Db21wcmVzc2VkXG4gICAgICAgIDogY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuVW5jb21wcmVzc2VkO1xuICAgIGNvbnN0IHNpZ0hhc2ggPSBjdXJTaWdIYXNoICsgKDAsIHV0aWxzXzEubGVmdFBhZEhleCkocHViS2V5RW5jb2RpbmcudG9TdHJpbmcoMTYpKSArIHNpZ25hdHVyZS5kYXRhO1xuICAgIGNvbnN0IHNpZ0hhc2hCeXRlcyA9ICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShzaWdIYXNoKTtcbiAgICBpZiAoc2lnSGFzaEJ5dGVzLmJ5dGVMZW5ndGggPiBoYXNoTGVuZ3RoKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIHNpZ25hdHVyZSBoYXNoIGxlbmd0aCcpO1xuICAgIH1cbiAgICByZXR1cm4gKDAsIHV0aWxzXzEudHhpZEZyb21EYXRhKShzaWdIYXNoQnl0ZXMpO1xufVxuZnVuY3Rpb24gbmV4dFNpZ25hdHVyZShjdXJTaWdIYXNoLCBhdXRoVHlwZSwgZmVlLCBub25jZSwgcHJpdmF0ZUtleSkge1xuICAgIGNvbnN0IHNpZ0hhc2hQcmVTaWduID0gbWFrZVNpZ0hhc2hQcmVTaWduKGN1clNpZ0hhc2gsIGF1dGhUeXBlLCBmZWUsIG5vbmNlKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSAoMCwga2V5c18xLnNpZ25XaXRoS2V5KShwcml2YXRlS2V5LCBzaWdIYXNoUHJlU2lnbik7XG4gICAgY29uc3QgcHVibGljS2V5ID0gKDAsIGtleXNfMS5nZXRQdWJsaWNLZXkpKHByaXZhdGVLZXkpO1xuICAgIGNvbnN0IG5leHRTaWdIYXNoID0gbWFrZVNpZ0hhc2hQb3N0U2lnbihzaWdIYXNoUHJlU2lnbiwgcHVibGljS2V5LCBzaWduYXR1cmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5leHRTaWc6IHNpZ25hdHVyZSxcbiAgICAgICAgbmV4dFNpZ0hhc2gsXG4gICAgfTtcbn1cbmV4cG9ydHMubmV4dFNpZ25hdHVyZSA9IG5leHRTaWduYXR1cmU7XG5mdW5jdGlvbiBuZXh0VmVyaWZpY2F0aW9uKGluaXRpYWxTaWdIYXNoLCBhdXRoVHlwZSwgZmVlLCBub25jZSwgcHViS2V5RW5jb2RpbmcsIHNpZ25hdHVyZSkge1xuICAgIGNvbnN0IHNpZ0hhc2hQcmVTaWduID0gbWFrZVNpZ0hhc2hQcmVTaWduKGluaXRpYWxTaWdIYXNoLCBhdXRoVHlwZSwgZmVlLCBub25jZSk7XG4gICAgY29uc3QgcHVibGljS2V5ID0gKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQdWJsaWNLZXkpKCgwLCBrZXlzXzEucHVibGljS2V5RnJvbVNpZ25hdHVyZVZycykoc2lnSGFzaFByZVNpZ24sIHNpZ25hdHVyZSwgcHViS2V5RW5jb2RpbmcpKTtcbiAgICBjb25zdCBuZXh0U2lnSGFzaCA9IG1ha2VTaWdIYXNoUG9zdFNpZ24oc2lnSGFzaFByZVNpZ24sIHB1YmxpY0tleSwgc2lnbmF0dXJlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwdWJLZXk6IHB1YmxpY0tleSxcbiAgICAgICAgbmV4dFNpZ0hhc2gsXG4gICAgfTtcbn1cbmV4cG9ydHMubmV4dFZlcmlmaWNhdGlvbiA9IG5leHRWZXJpZmljYXRpb247XG5mdW5jdGlvbiBuZXdJbml0aWFsU2lnSGFzaCgpIHtcbiAgICBjb25zdCBzcGVuZGluZ0NvbmRpdGlvbiA9IGNyZWF0ZVNpbmdsZVNpZ1NwZW5kaW5nQ29uZGl0aW9uKGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMlBLSCwgJycsIDAsIDApO1xuICAgIHNwZW5kaW5nQ29uZGl0aW9uLnNpZ25lciA9ICgwLCB0eXBlc18xLmNyZWF0ZUVtcHR5QWRkcmVzcykoKS5oYXNoMTYwO1xuICAgIHNwZW5kaW5nQ29uZGl0aW9uLmtleUVuY29kaW5nID0gY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuQ29tcHJlc3NlZDtcbiAgICBzcGVuZGluZ0NvbmRpdGlvbi5zaWduYXR1cmUgPSBlbXB0eU1lc3NhZ2VTaWduYXR1cmUoKTtcbiAgICByZXR1cm4gc3BlbmRpbmdDb25kaXRpb247XG59XG5mdW5jdGlvbiB2ZXJpZnkoY29uZGl0aW9uLCBpbml0aWFsU2lnSGFzaCwgYXV0aFR5cGUpIHtcbiAgICBpZiAoaXNTaW5nbGVTaWcoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gdmVyaWZ5U2luZ2xlU2lnKGNvbmRpdGlvbiwgaW5pdGlhbFNpZ0hhc2gsIGF1dGhUeXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2ZXJpZnlNdWx0aVNpZyhjb25kaXRpb24sIGluaXRpYWxTaWdIYXNoLCBhdXRoVHlwZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmVyaWZ5U2luZ2xlU2lnKGNvbmRpdGlvbiwgaW5pdGlhbFNpZ0hhc2gsIGF1dGhUeXBlKSB7XG4gICAgY29uc3QgeyBwdWJLZXksIG5leHRTaWdIYXNoIH0gPSBuZXh0VmVyaWZpY2F0aW9uKGluaXRpYWxTaWdIYXNoLCBhdXRoVHlwZSwgY29uZGl0aW9uLmZlZSwgY29uZGl0aW9uLm5vbmNlLCBjb25kaXRpb24ua2V5RW5jb2RpbmcsIGNvbmRpdGlvbi5zaWduYXR1cmUpO1xuICAgIGNvbnN0IGFkZHJCeXRlcyA9ICgwLCB0eXBlc18xLmFkZHJlc3NGcm9tUHVibGljS2V5cykoMCwgY29uZGl0aW9uLmhhc2hNb2RlLCAxLCBbcHViS2V5XSkuaGFzaDE2MDtcbiAgICBpZiAoYWRkckJ5dGVzICE9PSBjb25kaXRpb24uc2lnbmVyKVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuVmVyaWZpY2F0aW9uRXJyb3IoYFNpZ25lciBoYXNoIGRvZXMgbm90IGVxdWFsIGhhc2ggb2YgcHVibGljIGtleShzKTogJHthZGRyQnl0ZXN9ICE9ICR7Y29uZGl0aW9uLnNpZ25lcn1gKTtcbiAgICByZXR1cm4gbmV4dFNpZ0hhc2g7XG59XG5mdW5jdGlvbiB2ZXJpZnlNdWx0aVNpZyhjb25kaXRpb24sIGluaXRpYWxTaWdIYXNoLCBhdXRoVHlwZSkge1xuICAgIGNvbnN0IHB1YmxpY0tleXMgPSBbXTtcbiAgICBsZXQgY3VyU2lnSGFzaCA9IGluaXRpYWxTaWdIYXNoO1xuICAgIGxldCBoYXZlVW5jb21wcmVzc2VkID0gZmFsc2U7XG4gICAgbGV0IG51bVNpZ3MgPSAwO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgY29uZGl0aW9uLmZpZWxkcykge1xuICAgICAgICBsZXQgZm91bmRQdWJLZXk7XG4gICAgICAgIHN3aXRjaCAoZmllbGQuY29udGVudHMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QdWJsaWNLZXk6XG4gICAgICAgICAgICAgICAgaWYgKCEoMCwga2V5c18xLmlzQ29tcHJlc3NlZCkoZmllbGQuY29udGVudHMpKVxuICAgICAgICAgICAgICAgICAgICBoYXZlVW5jb21wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3VuZFB1YktleSA9IGZpZWxkLmNvbnRlbnRzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5NZXNzYWdlU2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5wdWJLZXlFbmNvZGluZyA9PT0gY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuVW5jb21wcmVzc2VkKVxuICAgICAgICAgICAgICAgICAgICBoYXZlVW5jb21wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHB1YktleSwgbmV4dFNpZ0hhc2ggfSA9IG5leHRWZXJpZmljYXRpb24oY3VyU2lnSGFzaCwgYXV0aFR5cGUsIGNvbmRpdGlvbi5mZWUsIGNvbmRpdGlvbi5ub25jZSwgZmllbGQucHViS2V5RW5jb2RpbmcsIGZpZWxkLmNvbnRlbnRzKTtcbiAgICAgICAgICAgICAgICBjdXJTaWdIYXNoID0gbmV4dFNpZ0hhc2g7XG4gICAgICAgICAgICAgICAgZm91bmRQdWJLZXkgPSBwdWJLZXk7XG4gICAgICAgICAgICAgICAgbnVtU2lncyArPSAxO1xuICAgICAgICAgICAgICAgIGlmIChudW1TaWdzID09PSA2NTUzNilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlZlcmlmaWNhdGlvbkVycm9yKCdUb28gbWFueSBzaWduYXR1cmVzJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljS2V5cy5wdXNoKGZvdW5kUHViS2V5KTtcbiAgICB9XG4gICAgaWYgKG51bVNpZ3MgIT09IGNvbmRpdGlvbi5zaWduYXR1cmVzUmVxdWlyZWQpXG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5WZXJpZmljYXRpb25FcnJvcignSW5jb3JyZWN0IG51bWJlciBvZiBzaWduYXR1cmVzJyk7XG4gICAgaWYgKGhhdmVVbmNvbXByZXNzZWQgJiYgY29uZGl0aW9uLmhhc2hNb2RlID09PSBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJTSClcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlZlcmlmaWNhdGlvbkVycm9yKCdVbmNvbXByZXNzZWQga2V5cyBhcmUgbm90IGFsbG93ZWQgaW4gdGhpcyBoYXNoIG1vZGUnKTtcbiAgICBjb25zdCBhZGRyQnl0ZXMgPSAoMCwgdHlwZXNfMS5hZGRyZXNzRnJvbVB1YmxpY0tleXMpKDAsIGNvbmRpdGlvbi5oYXNoTW9kZSwgY29uZGl0aW9uLnNpZ25hdHVyZXNSZXF1aXJlZCwgcHVibGljS2V5cykuaGFzaDE2MDtcbiAgICBpZiAoYWRkckJ5dGVzICE9PSBjb25kaXRpb24uc2lnbmVyKVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuVmVyaWZpY2F0aW9uRXJyb3IoYFNpZ25lciBoYXNoIGRvZXMgbm90IGVxdWFsIGhhc2ggb2YgcHVibGljIGtleShzKTogJHthZGRyQnl0ZXN9ICE9ICR7Y29uZGl0aW9uLnNpZ25lcn1gKTtcbiAgICByZXR1cm4gY3VyU2lnSGFzaDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YW5kYXJkQXV0aChzcGVuZGluZ0NvbmRpdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGF1dGhUeXBlOiBjb25zdGFudHNfMS5BdXRoVHlwZS5TdGFuZGFyZCxcbiAgICAgICAgc3BlbmRpbmdDb25kaXRpb24sXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlU3RhbmRhcmRBdXRoID0gY3JlYXRlU3RhbmRhcmRBdXRoO1xuZnVuY3Rpb24gY3JlYXRlU3BvbnNvcmVkQXV0aChzcGVuZGluZ0NvbmRpdGlvbiwgc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXV0aFR5cGU6IGNvbnN0YW50c18xLkF1dGhUeXBlLlNwb25zb3JlZCxcbiAgICAgICAgc3BlbmRpbmdDb25kaXRpb24sXG4gICAgICAgIHNwb25zb3JTcGVuZGluZ0NvbmRpdGlvbjogc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uXG4gICAgICAgICAgICA/IHNwb25zb3JTcGVuZGluZ0NvbmRpdGlvblxuICAgICAgICAgICAgOiBjcmVhdGVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbihjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJQS0gsICcwJy5yZXBlYXQoNjYpLCAwLCAwKSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVTcG9uc29yZWRBdXRoID0gY3JlYXRlU3BvbnNvcmVkQXV0aDtcbmZ1bmN0aW9uIGludG9Jbml0aWFsU2lnaGFzaEF1dGgoYXV0aCkge1xuICAgIGlmIChhdXRoLnNwZW5kaW5nQ29uZGl0aW9uKSB7XG4gICAgICAgIHN3aXRjaCAoYXV0aC5hdXRoVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BdXRoVHlwZS5TdGFuZGFyZDpcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlU3RhbmRhcmRBdXRoKGNsZWFyQ29uZGl0aW9uKGF1dGguc3BlbmRpbmdDb25kaXRpb24pKTtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQXV0aFR5cGUuU3BvbnNvcmVkOlxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVTcG9uc29yZWRBdXRoKGNsZWFyQ29uZGl0aW9uKGF1dGguc3BlbmRpbmdDb25kaXRpb24pLCBuZXdJbml0aWFsU2lnSGFzaCgpKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlNpZ25pbmdFcnJvcignVW5leHBlY3RlZCBhdXRob3JpemF0aW9uIHR5cGUgZm9yIHNpZ25pbmcnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhvcml6YXRpb24gbWlzc2luZyBTcGVuZGluZ0NvbmRpdGlvbicpO1xufVxuZXhwb3J0cy5pbnRvSW5pdGlhbFNpZ2hhc2hBdXRoID0gaW50b0luaXRpYWxTaWdoYXNoQXV0aDtcbmZ1bmN0aW9uIHZlcmlmeU9yaWdpbihhdXRoLCBpbml0aWFsU2lnSGFzaCkge1xuICAgIHN3aXRjaCAoYXV0aC5hdXRoVHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkF1dGhUeXBlLlN0YW5kYXJkOlxuICAgICAgICAgICAgcmV0dXJuIHZlcmlmeShhdXRoLnNwZW5kaW5nQ29uZGl0aW9uLCBpbml0aWFsU2lnSGFzaCwgY29uc3RhbnRzXzEuQXV0aFR5cGUuU3RhbmRhcmQpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkF1dGhUeXBlLlNwb25zb3JlZDpcbiAgICAgICAgICAgIHJldHVybiB2ZXJpZnkoYXV0aC5zcGVuZGluZ0NvbmRpdGlvbiwgaW5pdGlhbFNpZ0hhc2gsIGNvbnN0YW50c18xLkF1dGhUeXBlLlN0YW5kYXJkKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5TaWduaW5nRXJyb3IoJ0ludmFsaWQgb3JpZ2luIGF1dGggdHlwZScpO1xuICAgIH1cbn1cbmV4cG9ydHMudmVyaWZ5T3JpZ2luID0gdmVyaWZ5T3JpZ2luO1xuZnVuY3Rpb24gc2V0RmVlKGF1dGgsIGFtb3VudCkge1xuICAgIHN3aXRjaCAoYXV0aC5hdXRoVHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkF1dGhUeXBlLlN0YW5kYXJkOlxuICAgICAgICAgICAgY29uc3Qgc3BlbmRpbmdDb25kaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgLi4uYXV0aC5zcGVuZGluZ0NvbmRpdGlvbixcbiAgICAgICAgICAgICAgICBmZWU6ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkoYW1vdW50LCBmYWxzZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYXV0aCwgc3BlbmRpbmdDb25kaXRpb24gfTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BdXRoVHlwZS5TcG9uc29yZWQ6XG4gICAgICAgICAgICBjb25zdCBzcG9uc29yU3BlbmRpbmdDb25kaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgLi4uYXV0aC5zcG9uc29yU3BlbmRpbmdDb25kaXRpb24sXG4gICAgICAgICAgICAgICAgZmVlOiAoMCwgY29tbW9uXzEuaW50VG9CaWdJbnQpKGFtb3VudCwgZmFsc2UpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmF1dGgsIHNwb25zb3JTcGVuZGluZ0NvbmRpdGlvbiB9O1xuICAgIH1cbn1cbmV4cG9ydHMuc2V0RmVlID0gc2V0RmVlO1xuZnVuY3Rpb24gZ2V0RmVlKGF1dGgpIHtcbiAgICBzd2l0Y2ggKGF1dGguYXV0aFR5cGUpIHtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BdXRoVHlwZS5TdGFuZGFyZDpcbiAgICAgICAgICAgIHJldHVybiBhdXRoLnNwZW5kaW5nQ29uZGl0aW9uLmZlZTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BdXRoVHlwZS5TcG9uc29yZWQ6XG4gICAgICAgICAgICByZXR1cm4gYXV0aC5zcG9uc29yU3BlbmRpbmdDb25kaXRpb24uZmVlO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0RmVlID0gZ2V0RmVlO1xuZnVuY3Rpb24gc2V0Tm9uY2UoYXV0aCwgbm9uY2UpIHtcbiAgICBjb25zdCBzcGVuZGluZ0NvbmRpdGlvbiA9IHtcbiAgICAgICAgLi4uYXV0aC5zcGVuZGluZ0NvbmRpdGlvbixcbiAgICAgICAgbm9uY2U6ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkobm9uY2UsIGZhbHNlKSxcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmF1dGgsXG4gICAgICAgIHNwZW5kaW5nQ29uZGl0aW9uLFxuICAgIH07XG59XG5leHBvcnRzLnNldE5vbmNlID0gc2V0Tm9uY2U7XG5mdW5jdGlvbiBzZXRTcG9uc29yTm9uY2UoYXV0aCwgbm9uY2UpIHtcbiAgICBjb25zdCBzcG9uc29yU3BlbmRpbmdDb25kaXRpb24gPSB7XG4gICAgICAgIC4uLmF1dGguc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uLFxuICAgICAgICBub25jZTogKDAsIGNvbW1vbl8xLmludFRvQmlnSW50KShub25jZSwgZmFsc2UpLFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYXV0aCxcbiAgICAgICAgc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uLFxuICAgIH07XG59XG5leHBvcnRzLnNldFNwb25zb3JOb25jZSA9IHNldFNwb25zb3JOb25jZTtcbmZ1bmN0aW9uIHNldFNwb25zb3IoYXV0aCwgc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uKSB7XG4gICAgY29uc3Qgc2MgPSB7XG4gICAgICAgIC4uLnNwb25zb3JTcGVuZGluZ0NvbmRpdGlvbixcbiAgICAgICAgbm9uY2U6ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkoc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uLm5vbmNlLCBmYWxzZSksXG4gICAgICAgIGZlZTogKDAsIGNvbW1vbl8xLmludFRvQmlnSW50KShzcG9uc29yU3BlbmRpbmdDb25kaXRpb24uZmVlLCBmYWxzZSksXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5hdXRoLFxuICAgICAgICBzcG9uc29yU3BlbmRpbmdDb25kaXRpb246IHNjLFxuICAgIH07XG59XG5leHBvcnRzLnNldFNwb25zb3IgPSBzZXRTcG9uc29yO1xuZnVuY3Rpb24gc2VyaWFsaXplQXV0aG9yaXphdGlvbihhdXRoKSB7XG4gICAgY29uc3QgYnl0ZXNBcnJheSA9IFtdO1xuICAgIGJ5dGVzQXJyYXkucHVzaChhdXRoLmF1dGhUeXBlKTtcbiAgICBzd2l0Y2ggKGF1dGguYXV0aFR5cGUpIHtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BdXRoVHlwZS5TdGFuZGFyZDpcbiAgICAgICAgICAgIGJ5dGVzQXJyYXkucHVzaChzZXJpYWxpemVTcGVuZGluZ0NvbmRpdGlvbihhdXRoLnNwZW5kaW5nQ29uZGl0aW9uKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BdXRoVHlwZS5TcG9uc29yZWQ6XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goc2VyaWFsaXplU3BlbmRpbmdDb25kaXRpb24oYXV0aC5zcGVuZGluZ0NvbmRpdGlvbikpO1xuICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHNlcmlhbGl6ZVNwZW5kaW5nQ29uZGl0aW9uKGF1dGguc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoYnl0ZXNBcnJheSk7XG59XG5leHBvcnRzLnNlcmlhbGl6ZUF1dGhvcml6YXRpb24gPSBzZXJpYWxpemVBdXRob3JpemF0aW9uO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVBdXRob3JpemF0aW9uKGJ5dGVzUmVhZGVyKSB7XG4gICAgY29uc3QgYXV0aFR5cGUgPSBieXRlc1JlYWRlci5yZWFkVUludDhFbnVtKGNvbnN0YW50c18xLkF1dGhUeXBlLCBuID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkRlc2VyaWFsaXphdGlvbkVycm9yKGBDb3VsZCBub3QgcGFyc2UgJHtufSBhcyBBdXRoVHlwZWApO1xuICAgIH0pO1xuICAgIGxldCBzcGVuZGluZ0NvbmRpdGlvbjtcbiAgICBzd2l0Y2ggKGF1dGhUeXBlKSB7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQXV0aFR5cGUuU3RhbmRhcmQ6XG4gICAgICAgICAgICBzcGVuZGluZ0NvbmRpdGlvbiA9IGRlc2VyaWFsaXplU3BlbmRpbmdDb25kaXRpb24oYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVN0YW5kYXJkQXV0aChzcGVuZGluZ0NvbmRpdGlvbik7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQXV0aFR5cGUuU3BvbnNvcmVkOlxuICAgICAgICAgICAgc3BlbmRpbmdDb25kaXRpb24gPSBkZXNlcmlhbGl6ZVNwZW5kaW5nQ29uZGl0aW9uKGJ5dGVzUmVhZGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHNwb25zb3JTcGVuZGluZ0NvbmRpdGlvbiA9IGRlc2VyaWFsaXplU3BlbmRpbmdDb25kaXRpb24oYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNwb25zb3JlZEF1dGgoc3BlbmRpbmdDb25kaXRpb24sIHNwb25zb3JTcGVuZGluZ0NvbmRpdGlvbik7XG4gICAgfVxufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZUF1dGhvcml6YXRpb24gPSBkZXNlcmlhbGl6ZUF1dGhvcml6YXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRob3JpemF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/authorization.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/builders.js":
/*!************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/builders.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.estimateTransactionFeeWithFallback = exports.estimateTransactionByteLength = exports.sponsorTransaction = exports.getContractMapEntry = exports.callReadOnlyFunction = exports.makeContractNonFungiblePostCondition = exports.makeStandardNonFungiblePostCondition = exports.makeContractFungiblePostCondition = exports.makeStandardFungiblePostCondition = exports.makeContractSTXPostCondition = exports.makeStandardSTXPostCondition = exports.makeContractCall = exports.makeUnsignedContractCall = exports.estimateContractFunctionCall = exports.makeUnsignedContractDeploy = exports.makeContractDeploy = exports.estimateContractDeploy = exports.makeSTXTokenTransfer = exports.makeUnsignedSTXTokenTransfer = exports.getAbi = exports.broadcastRawTransaction = exports.broadcastTransaction = exports.estimateTransaction = exports.estimateTransferUnsafe = exports.estimateTransfer = exports.getNonce = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst network_1 = __webpack_require__(/*! @stacks/network */ \"(ssr)/./node_modules/@stacks/network/dist/index.js\");\nconst c32check_1 = __webpack_require__(/*! c32check */ \"(ssr)/./node_modules/c32check/lib/index.js\");\nconst authorization_1 = __webpack_require__(/*! ./authorization */ \"(ssr)/./node_modules/@stacks/transactions/dist/authorization.js\");\nconst clarity_1 = __webpack_require__(/*! ./clarity */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst contract_abi_1 = __webpack_require__(/*! ./contract-abi */ \"(ssr)/./node_modules/@stacks/transactions/dist/contract-abi.js\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/transactions/dist/keys.js\");\nconst payload_1 = __webpack_require__(/*! ./payload */ \"(ssr)/./node_modules/@stacks/transactions/dist/payload.js\");\nconst postcondition_1 = __webpack_require__(/*! ./postcondition */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition.js\");\nconst postcondition_types_1 = __webpack_require__(/*! ./postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\");\nconst signer_1 = __webpack_require__(/*! ./signer */ \"(ssr)/./node_modules/@stacks/transactions/dist/signer.js\");\nconst transaction_1 = __webpack_require__(/*! ./transaction */ \"(ssr)/./node_modules/@stacks/transactions/dist/transaction.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@stacks/transactions/dist/types.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nasync function getNonce(address, network) {\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network ?? new network_1.StacksMainnet());\n    const url = derivedNetwork.getAccountApiUrl(address);\n    const response = await derivedNetwork.fetchFn(url);\n    if (!response.ok) {\n        let msg = '';\n        try {\n            msg = await response.text();\n        }\n        catch (error) { }\n        throw new Error(`Error fetching nonce. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${msg}\"`);\n    }\n    const responseText = await response.text();\n    const result = JSON.parse(responseText);\n    return BigInt(result.nonce);\n}\nexports.getNonce = getNonce;\nasync function estimateTransfer(transaction, network) {\n    if (transaction.payload.payloadType !== constants_1.PayloadType.TokenTransfer) {\n        throw new Error(`Transaction fee estimation only possible with ${constants_1.PayloadType[constants_1.PayloadType.TokenTransfer]} transactions. Invoked with: ${constants_1.PayloadType[transaction.payload.payloadType]}`);\n    }\n    return estimateTransferUnsafe(transaction, network);\n}\nexports.estimateTransfer = estimateTransfer;\nasync function estimateTransferUnsafe(transaction, network) {\n    const requestHeaders = {\n        Accept: 'application/text',\n    };\n    const fetchOptions = {\n        method: 'GET',\n        headers: requestHeaders,\n    };\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network ?? deriveNetwork(transaction));\n    const url = derivedNetwork.getTransferFeeEstimateApiUrl();\n    const response = await derivedNetwork.fetchFn(url, fetchOptions);\n    if (!response.ok) {\n        let msg = '';\n        try {\n            msg = await response.text();\n        }\n        catch (error) { }\n        throw new Error(`Error estimating transaction fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${msg}\"`);\n    }\n    const feeRateResult = await response.text();\n    const txBytes = BigInt(transaction.serialize().byteLength);\n    const feeRate = BigInt(feeRateResult);\n    return feeRate * txBytes;\n}\nexports.estimateTransferUnsafe = estimateTransferUnsafe;\nasync function estimateTransaction(transactionPayload, estimatedLen, network) {\n    const options = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n            transaction_payload: (0, common_1.bytesToHex)((0, payload_1.serializePayload)(transactionPayload)),\n            ...(estimatedLen ? { estimated_len: estimatedLen } : {}),\n        }),\n    };\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network ?? new network_1.StacksMainnet());\n    const url = derivedNetwork.getTransactionFeeEstimateApiUrl();\n    const response = await derivedNetwork.fetchFn(url, options);\n    if (!response.ok) {\n        const body = await response.json().catch(() => ({}));\n        if (body?.reason === 'NoEstimateAvailable') {\n            throw new errors_1.NoEstimateAvailableError(body?.reason_data?.message ?? '');\n        }\n        throw new Error(`Error estimating transaction fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${body}\"`);\n    }\n    const data = await response.json();\n    return data.estimations;\n}\nexports.estimateTransaction = estimateTransaction;\nasync function broadcastTransaction(transaction, network, attachment) {\n    const rawTx = transaction.serialize();\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network ?? deriveNetwork(transaction));\n    const url = derivedNetwork.getBroadcastApiUrl();\n    return broadcastRawTransaction(rawTx, url, attachment, derivedNetwork.fetchFn);\n}\nexports.broadcastTransaction = broadcastTransaction;\nasync function broadcastRawTransaction(rawTx, url, attachment, fetchFn = (0, network_1.createFetchFn)()) {\n    const options = {\n        method: 'POST',\n        headers: { 'Content-Type': attachment ? 'application/json' : 'application/octet-stream' },\n        body: attachment\n            ? JSON.stringify({\n                tx: (0, common_1.bytesToHex)(rawTx),\n                attachment: (0, common_1.bytesToHex)(attachment),\n            })\n            : rawTx,\n    };\n    const response = await fetchFn(url, options);\n    if (!response.ok) {\n        try {\n            return (await response.json());\n        }\n        catch (e) {\n            throw Error(`Failed to broadcast transaction: ${e.message}`);\n        }\n    }\n    const text = await response.text();\n    const txid = text.replace(/[\"]+/g, '');\n    if (!(0, utils_1.validateTxId)(txid))\n        throw new Error(text);\n    return { txid };\n}\nexports.broadcastRawTransaction = broadcastRawTransaction;\nasync function getAbi(address, contractName, network) {\n    const options = {\n        method: 'GET',\n    };\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network);\n    const url = derivedNetwork.getAbiApiUrl(address, contractName);\n    const response = await derivedNetwork.fetchFn(url, options);\n    if (!response.ok) {\n        const msg = await response.text().catch(() => '');\n        throw new Error(`Error fetching contract ABI for contract \"${contractName}\" at address ${address}. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${msg}\"`);\n    }\n    return JSON.parse(await response.text());\n}\nexports.getAbi = getAbi;\nfunction deriveNetwork(transaction) {\n    switch (transaction.version) {\n        case constants_1.TransactionVersion.Mainnet:\n            return new network_1.StacksMainnet();\n        case constants_1.TransactionVersion.Testnet:\n            return new network_1.StacksTestnet();\n    }\n}\nasync function makeUnsignedSTXTokenTransfer(txOptions) {\n    const defaultOptions = {\n        fee: BigInt(0),\n        nonce: BigInt(0),\n        network: new network_1.StacksMainnet(),\n        memo: '',\n        sponsored: false,\n    };\n    const options = Object.assign(defaultOptions, txOptions);\n    const payload = (0, payload_1.createTokenTransferPayload)(options.recipient, options.amount, options.memo);\n    let authorization = null;\n    let spendingCondition = null;\n    if ('publicKey' in options) {\n        spendingCondition = (0, authorization_1.createSingleSigSpendingCondition)(constants_1.AddressHashMode.SerializeP2PKH, options.publicKey, options.nonce, options.fee);\n    }\n    else {\n        spendingCondition = (0, authorization_1.createMultiSigSpendingCondition)(constants_1.AddressHashMode.SerializeP2SH, options.numSignatures, options.publicKeys, options.nonce, options.fee);\n    }\n    if (options.sponsored) {\n        authorization = (0, authorization_1.createSponsoredAuth)(spendingCondition);\n    }\n    else {\n        authorization = (0, authorization_1.createStandardAuth)(spendingCondition);\n    }\n    const network = network_1.StacksNetwork.fromNameOrNetwork(options.network);\n    const transaction = new transaction_1.StacksTransaction(network.version, authorization, payload, undefined, undefined, options.anchorMode, network.chainId);\n    if (txOptions.fee === undefined || txOptions.fee === null) {\n        const fee = await estimateTransactionFeeWithFallback(transaction, network);\n        transaction.setFee(fee);\n    }\n    if (txOptions.nonce === undefined || txOptions.nonce === null) {\n        const addressVersion = options.network.version === constants_1.TransactionVersion.Mainnet\n            ? constants_1.AddressVersion.MainnetSingleSig\n            : constants_1.AddressVersion.TestnetSingleSig;\n        const senderAddress = (0, c32check_1.c32address)(addressVersion, transaction.auth.spendingCondition.signer);\n        const txNonce = await getNonce(senderAddress, options.network);\n        transaction.setNonce(txNonce);\n    }\n    return transaction;\n}\nexports.makeUnsignedSTXTokenTransfer = makeUnsignedSTXTokenTransfer;\nasync function makeSTXTokenTransfer(txOptions) {\n    if ('senderKey' in txOptions) {\n        const publicKey = (0, keys_1.publicKeyToString)((0, keys_1.getPublicKey)((0, keys_1.createStacksPrivateKey)(txOptions.senderKey)));\n        const options = (0, utils_1.omit)(txOptions, 'senderKey');\n        const transaction = await makeUnsignedSTXTokenTransfer({ publicKey, ...options });\n        const privKey = (0, keys_1.createStacksPrivateKey)(txOptions.senderKey);\n        const signer = new signer_1.TransactionSigner(transaction);\n        signer.signOrigin(privKey);\n        return transaction;\n    }\n    else {\n        const options = (0, utils_1.omit)(txOptions, 'signerKeys');\n        const transaction = await makeUnsignedSTXTokenTransfer(options);\n        const signer = new signer_1.TransactionSigner(transaction);\n        let pubKeys = txOptions.publicKeys;\n        for (const key of txOptions.signerKeys) {\n            const pubKey = (0, keys_1.pubKeyfromPrivKey)(key);\n            pubKeys = pubKeys.filter(pk => pk !== (0, common_1.bytesToHex)(pubKey.data));\n            signer.signOrigin((0, keys_1.createStacksPrivateKey)(key));\n        }\n        for (const key of pubKeys) {\n            signer.appendOrigin((0, keys_1.publicKeyFromBytes)((0, common_1.hexToBytes)(key)));\n        }\n        return transaction;\n    }\n}\nexports.makeSTXTokenTransfer = makeSTXTokenTransfer;\nasync function estimateContractDeploy(transaction, network) {\n    if (transaction.payload.payloadType !== constants_1.PayloadType.SmartContract &&\n        transaction.payload.payloadType !== constants_1.PayloadType.VersionedSmartContract) {\n        throw new Error(`Contract deploy fee estimation only possible with ${constants_1.PayloadType[constants_1.PayloadType.SmartContract]} transactions. Invoked with: ${constants_1.PayloadType[transaction.payload.payloadType]}`);\n    }\n    const requestHeaders = {\n        Accept: 'application/text',\n    };\n    const fetchOptions = {\n        method: 'GET',\n        headers: requestHeaders,\n    };\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network ?? deriveNetwork(transaction));\n    const url = derivedNetwork.getTransferFeeEstimateApiUrl();\n    const response = await derivedNetwork.fetchFn(url, fetchOptions);\n    if (!response.ok) {\n        const msg = await response.text().catch(() => '');\n        throw new Error(`Error estimating contract deploy fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${msg}\"`);\n    }\n    const feeRateResult = await response.text();\n    const txBytes = (0, common_1.intToBigInt)(transaction.serialize().byteLength, false);\n    const feeRate = (0, common_1.intToBigInt)(feeRateResult, false);\n    return feeRate * txBytes;\n}\nexports.estimateContractDeploy = estimateContractDeploy;\nasync function makeContractDeploy(txOptions) {\n    if ('senderKey' in txOptions) {\n        const publicKey = (0, keys_1.publicKeyToString)((0, keys_1.getPublicKey)((0, keys_1.createStacksPrivateKey)(txOptions.senderKey)));\n        const options = (0, utils_1.omit)(txOptions, 'senderKey');\n        const transaction = await makeUnsignedContractDeploy({ publicKey, ...options });\n        const privKey = (0, keys_1.createStacksPrivateKey)(txOptions.senderKey);\n        const signer = new signer_1.TransactionSigner(transaction);\n        signer.signOrigin(privKey);\n        return transaction;\n    }\n    else {\n        const options = (0, utils_1.omit)(txOptions, 'signerKeys');\n        const transaction = await makeUnsignedContractDeploy(options);\n        const signer = new signer_1.TransactionSigner(transaction);\n        let pubKeys = txOptions.publicKeys;\n        for (const key of txOptions.signerKeys) {\n            const pubKey = (0, keys_1.pubKeyfromPrivKey)(key);\n            pubKeys = pubKeys.filter(pk => pk !== (0, common_1.bytesToHex)(pubKey.data));\n            signer.signOrigin((0, keys_1.createStacksPrivateKey)(key));\n        }\n        for (const key of pubKeys) {\n            signer.appendOrigin((0, keys_1.publicKeyFromBytes)((0, common_1.hexToBytes)(key)));\n        }\n        return transaction;\n    }\n}\nexports.makeContractDeploy = makeContractDeploy;\nasync function makeUnsignedContractDeploy(txOptions) {\n    const defaultOptions = {\n        fee: BigInt(0),\n        nonce: BigInt(0),\n        network: new network_1.StacksMainnet(),\n        postConditionMode: constants_1.PostConditionMode.Deny,\n        sponsored: false,\n        clarityVersion: constants_1.ClarityVersion.Clarity2,\n    };\n    const options = Object.assign(defaultOptions, txOptions);\n    const payload = (0, payload_1.createSmartContractPayload)(options.contractName, options.codeBody, options.clarityVersion);\n    let authorization = null;\n    let spendingCondition = null;\n    if ('publicKey' in options) {\n        spendingCondition = (0, authorization_1.createSingleSigSpendingCondition)(constants_1.AddressHashMode.SerializeP2PKH, options.publicKey, options.nonce, options.fee);\n    }\n    else {\n        spendingCondition = (0, authorization_1.createMultiSigSpendingCondition)(constants_1.AddressHashMode.SerializeP2SH, options.numSignatures, options.publicKeys, options.nonce, options.fee);\n    }\n    if (options.sponsored) {\n        authorization = (0, authorization_1.createSponsoredAuth)(spendingCondition);\n    }\n    else {\n        authorization = (0, authorization_1.createStandardAuth)(spendingCondition);\n    }\n    const network = network_1.StacksNetwork.fromNameOrNetwork(options.network);\n    const postConditions = [];\n    if (options.postConditions && options.postConditions.length > 0) {\n        options.postConditions.forEach(postCondition => {\n            postConditions.push(postCondition);\n        });\n    }\n    const lpPostConditions = (0, types_1.createLPList)(postConditions);\n    const transaction = new transaction_1.StacksTransaction(network.version, authorization, payload, lpPostConditions, options.postConditionMode, options.anchorMode, network.chainId);\n    if (txOptions.fee === undefined || txOptions.fee === null) {\n        const fee = await estimateTransactionFeeWithFallback(transaction, network);\n        transaction.setFee(fee);\n    }\n    if (txOptions.nonce === undefined || txOptions.nonce === null) {\n        const addressVersion = options.network.version === constants_1.TransactionVersion.Mainnet\n            ? constants_1.AddressVersion.MainnetSingleSig\n            : constants_1.AddressVersion.TestnetSingleSig;\n        const senderAddress = (0, c32check_1.c32address)(addressVersion, transaction.auth.spendingCondition.signer);\n        const txNonce = await getNonce(senderAddress, options.network);\n        transaction.setNonce(txNonce);\n    }\n    return transaction;\n}\nexports.makeUnsignedContractDeploy = makeUnsignedContractDeploy;\nasync function estimateContractFunctionCall(transaction, network) {\n    if (transaction.payload.payloadType !== constants_1.PayloadType.ContractCall) {\n        throw new Error(`Contract call fee estimation only possible with ${constants_1.PayloadType[constants_1.PayloadType.ContractCall]} transactions. Invoked with: ${constants_1.PayloadType[transaction.payload.payloadType]}`);\n    }\n    const requestHeaders = {\n        Accept: 'application/text',\n    };\n    const fetchOptions = {\n        method: 'GET',\n        headers: requestHeaders,\n    };\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network ?? deriveNetwork(transaction));\n    const url = derivedNetwork.getTransferFeeEstimateApiUrl();\n    const response = await derivedNetwork.fetchFn(url, fetchOptions);\n    if (!response.ok) {\n        const msg = await response.text().catch(() => '');\n        throw new Error(`Error estimating contract call fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${msg}\"`);\n    }\n    const feeRateResult = await response.text();\n    const txBytes = (0, common_1.intToBigInt)(transaction.serialize().byteLength, false);\n    const feeRate = (0, common_1.intToBigInt)(feeRateResult, false);\n    return feeRate * txBytes;\n}\nexports.estimateContractFunctionCall = estimateContractFunctionCall;\nasync function makeUnsignedContractCall(txOptions) {\n    const defaultOptions = {\n        fee: BigInt(0),\n        nonce: BigInt(0),\n        network: new network_1.StacksMainnet(),\n        postConditionMode: constants_1.PostConditionMode.Deny,\n        sponsored: false,\n    };\n    const options = Object.assign(defaultOptions, txOptions);\n    const payload = (0, payload_1.createContractCallPayload)(options.contractAddress, options.contractName, options.functionName, options.functionArgs);\n    if (options?.validateWithAbi) {\n        let abi;\n        if (typeof options.validateWithAbi === 'boolean') {\n            if (options?.network) {\n                abi = await getAbi(options.contractAddress, options.contractName, options.network);\n            }\n            else {\n                throw new Error('Network option must be provided in order to validate with ABI');\n            }\n        }\n        else {\n            abi = options.validateWithAbi;\n        }\n        (0, contract_abi_1.validateContractCall)(payload, abi);\n    }\n    let spendingCondition = null;\n    let authorization = null;\n    if ('publicKey' in options) {\n        spendingCondition = (0, authorization_1.createSingleSigSpendingCondition)(constants_1.AddressHashMode.SerializeP2PKH, options.publicKey, options.nonce, options.fee);\n    }\n    else {\n        spendingCondition = (0, authorization_1.createMultiSigSpendingCondition)(constants_1.AddressHashMode.SerializeP2SH, options.numSignatures, options.publicKeys, options.nonce, options.fee);\n    }\n    if (options.sponsored) {\n        authorization = (0, authorization_1.createSponsoredAuth)(spendingCondition);\n    }\n    else {\n        authorization = (0, authorization_1.createStandardAuth)(spendingCondition);\n    }\n    const network = network_1.StacksNetwork.fromNameOrNetwork(options.network);\n    const postConditions = [];\n    if (options.postConditions && options.postConditions.length > 0) {\n        options.postConditions.forEach(postCondition => {\n            postConditions.push(postCondition);\n        });\n    }\n    const lpPostConditions = (0, types_1.createLPList)(postConditions);\n    const transaction = new transaction_1.StacksTransaction(network.version, authorization, payload, lpPostConditions, options.postConditionMode, options.anchorMode, network.chainId);\n    if (txOptions.fee === undefined || txOptions.fee === null) {\n        const fee = await estimateTransactionFeeWithFallback(transaction, network);\n        transaction.setFee(fee);\n    }\n    if (txOptions.nonce === undefined || txOptions.nonce === null) {\n        const addressVersion = network.version === constants_1.TransactionVersion.Mainnet\n            ? constants_1.AddressVersion.MainnetSingleSig\n            : constants_1.AddressVersion.TestnetSingleSig;\n        const senderAddress = (0, c32check_1.c32address)(addressVersion, transaction.auth.spendingCondition.signer);\n        const txNonce = await getNonce(senderAddress, network);\n        transaction.setNonce(txNonce);\n    }\n    return transaction;\n}\nexports.makeUnsignedContractCall = makeUnsignedContractCall;\nasync function makeContractCall(txOptions) {\n    if ('senderKey' in txOptions) {\n        const publicKey = (0, keys_1.publicKeyToString)((0, keys_1.getPublicKey)((0, keys_1.createStacksPrivateKey)(txOptions.senderKey)));\n        const options = (0, utils_1.omit)(txOptions, 'senderKey');\n        const transaction = await makeUnsignedContractCall({ publicKey, ...options });\n        const privKey = (0, keys_1.createStacksPrivateKey)(txOptions.senderKey);\n        const signer = new signer_1.TransactionSigner(transaction);\n        signer.signOrigin(privKey);\n        return transaction;\n    }\n    else {\n        const options = (0, utils_1.omit)(txOptions, 'signerKeys');\n        const transaction = await makeUnsignedContractCall(options);\n        const signer = new signer_1.TransactionSigner(transaction);\n        let pubKeys = txOptions.publicKeys;\n        for (const key of txOptions.signerKeys) {\n            const pubKey = (0, keys_1.pubKeyfromPrivKey)(key);\n            pubKeys = pubKeys.filter(pk => pk !== (0, common_1.bytesToHex)(pubKey.data));\n            signer.signOrigin((0, keys_1.createStacksPrivateKey)(key));\n        }\n        for (const key of pubKeys) {\n            signer.appendOrigin((0, keys_1.publicKeyFromBytes)((0, common_1.hexToBytes)(key)));\n        }\n        return transaction;\n    }\n}\nexports.makeContractCall = makeContractCall;\nfunction makeStandardSTXPostCondition(address, conditionCode, amount) {\n    return (0, postcondition_1.createSTXPostCondition)((0, postcondition_types_1.createStandardPrincipal)(address), conditionCode, amount);\n}\nexports.makeStandardSTXPostCondition = makeStandardSTXPostCondition;\nfunction makeContractSTXPostCondition(address, contractName, conditionCode, amount) {\n    return (0, postcondition_1.createSTXPostCondition)((0, postcondition_types_1.createContractPrincipal)(address, contractName), conditionCode, amount);\n}\nexports.makeContractSTXPostCondition = makeContractSTXPostCondition;\nfunction makeStandardFungiblePostCondition(address, conditionCode, amount, assetInfo) {\n    return (0, postcondition_1.createFungiblePostCondition)((0, postcondition_types_1.createStandardPrincipal)(address), conditionCode, amount, assetInfo);\n}\nexports.makeStandardFungiblePostCondition = makeStandardFungiblePostCondition;\nfunction makeContractFungiblePostCondition(address, contractName, conditionCode, amount, assetInfo) {\n    return (0, postcondition_1.createFungiblePostCondition)((0, postcondition_types_1.createContractPrincipal)(address, contractName), conditionCode, amount, assetInfo);\n}\nexports.makeContractFungiblePostCondition = makeContractFungiblePostCondition;\nfunction makeStandardNonFungiblePostCondition(address, conditionCode, assetInfo, assetId) {\n    return (0, postcondition_1.createNonFungiblePostCondition)((0, postcondition_types_1.createStandardPrincipal)(address), conditionCode, assetInfo, assetId);\n}\nexports.makeStandardNonFungiblePostCondition = makeStandardNonFungiblePostCondition;\nfunction makeContractNonFungiblePostCondition(address, contractName, conditionCode, assetInfo, assetId) {\n    return (0, postcondition_1.createNonFungiblePostCondition)((0, postcondition_types_1.createContractPrincipal)(address, contractName), conditionCode, assetInfo, assetId);\n}\nexports.makeContractNonFungiblePostCondition = makeContractNonFungiblePostCondition;\nasync function callReadOnlyFunction(readOnlyFunctionOptions) {\n    const defaultOptions = {\n        network: new network_1.StacksMainnet(),\n    };\n    const options = Object.assign(defaultOptions, readOnlyFunctionOptions);\n    const { contractName, contractAddress, functionName, functionArgs, senderAddress } = options;\n    const network = network_1.StacksNetwork.fromNameOrNetwork(options.network);\n    const url = network.getReadOnlyFunctionCallApiUrl(contractAddress, contractName, functionName);\n    const args = functionArgs.map(arg => (0, utils_1.cvToHex)(arg));\n    const body = JSON.stringify({\n        sender: senderAddress,\n        arguments: args,\n    });\n    const response = await network.fetchFn(url, {\n        method: 'POST',\n        body,\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    });\n    if (!response.ok) {\n        const msg = await response.text().catch(() => '');\n        throw new Error(`Error calling read-only function. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${msg}\"`);\n    }\n    return response.json().then(responseJson => (0, utils_1.parseReadOnlyResponse)(responseJson));\n}\nexports.callReadOnlyFunction = callReadOnlyFunction;\nasync function getContractMapEntry(getContractMapEntryOptions) {\n    const defaultOptions = {\n        network: new network_1.StacksMainnet(),\n    };\n    const { contractAddress, contractName, mapName, mapKey, network } = Object.assign(defaultOptions, getContractMapEntryOptions);\n    const derivedNetwork = network_1.StacksNetwork.fromNameOrNetwork(network);\n    const url = derivedNetwork.getMapEntryUrl(contractAddress, contractName, mapName);\n    const serializedKeyBytes = (0, clarity_1.serializeCV)(mapKey);\n    const serializedKeyHex = '0x' + (0, common_1.bytesToHex)(serializedKeyBytes);\n    const fetchOptions = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n        },\n        body: JSON.stringify(serializedKeyHex),\n    };\n    const response = await derivedNetwork.fetchFn(url, fetchOptions);\n    if (!response.ok) {\n        const msg = await response.text().catch(() => '');\n        throw new Error(`Error fetching map entry for map \"${mapName}\" in contract \"${contractName}\" at address ${contractAddress}, using map key \"${serializedKeyHex}\". Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: \"${msg}\"`);\n    }\n    const responseBody = await response.text();\n    const responseJson = JSON.parse(responseBody);\n    if (!responseJson.data) {\n        throw new Error(`Error fetching map entry for map \"${mapName}\" in contract \"${contractName}\" at address ${contractAddress}, using map key \"${serializedKeyHex}\". Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the response: \"${responseBody}\"`);\n    }\n    let deserializedCv;\n    try {\n        deserializedCv = (0, clarity_1.deserializeCV)(responseJson.data);\n    }\n    catch (error) {\n        throw new Error(`Error deserializing Clarity value \"${responseJson.data}\": ${error}`);\n    }\n    return deserializedCv;\n}\nexports.getContractMapEntry = getContractMapEntry;\nasync function sponsorTransaction(sponsorOptions) {\n    const defaultOptions = {\n        fee: 0,\n        sponsorNonce: 0,\n        sponsorAddressHashmode: constants_1.AddressHashMode.SerializeP2PKH,\n        network: sponsorOptions.transaction.version === constants_1.TransactionVersion.Mainnet\n            ? new network_1.StacksMainnet()\n            : new network_1.StacksTestnet(),\n    };\n    const options = Object.assign(defaultOptions, sponsorOptions);\n    const network = network_1.StacksNetwork.fromNameOrNetwork(options.network);\n    const sponsorPubKey = (0, keys_1.pubKeyfromPrivKey)(options.sponsorPrivateKey);\n    if (sponsorOptions.fee === undefined || sponsorOptions.fee === null) {\n        let txFee = 0;\n        switch (options.transaction.payload.payloadType) {\n            case constants_1.PayloadType.TokenTransfer:\n            case constants_1.PayloadType.SmartContract:\n            case constants_1.PayloadType.VersionedSmartContract:\n            case constants_1.PayloadType.ContractCall:\n                const estimatedLen = estimateTransactionByteLength(options.transaction);\n                try {\n                    txFee = (await estimateTransaction(options.transaction.payload, estimatedLen, network))[1]\n                        .fee;\n                }\n                catch (e) {\n                    throw e;\n                }\n                break;\n            default:\n                throw new Error(`Sponsored transactions not supported for transaction type ${constants_1.PayloadType[options.transaction.payload.payloadType]}`);\n        }\n        options.transaction.setFee(txFee);\n        options.fee = txFee;\n    }\n    if (sponsorOptions.sponsorNonce === undefined || sponsorOptions.sponsorNonce === null) {\n        const addressVersion = network.version === constants_1.TransactionVersion.Mainnet\n            ? constants_1.AddressVersion.MainnetSingleSig\n            : constants_1.AddressVersion.TestnetSingleSig;\n        const senderAddress = (0, keys_1.publicKeyToAddress)(addressVersion, sponsorPubKey);\n        const sponsorNonce = await getNonce(senderAddress, network);\n        options.sponsorNonce = sponsorNonce;\n    }\n    const sponsorSpendingCondition = (0, authorization_1.createSingleSigSpendingCondition)(options.sponsorAddressHashmode, (0, keys_1.publicKeyToString)(sponsorPubKey), options.sponsorNonce, options.fee);\n    options.transaction.setSponsor(sponsorSpendingCondition);\n    const privKey = (0, keys_1.createStacksPrivateKey)(options.sponsorPrivateKey);\n    const signer = signer_1.TransactionSigner.createSponsorSigner(options.transaction, sponsorSpendingCondition);\n    signer.signSponsor(privKey);\n    return signer.transaction;\n}\nexports.sponsorTransaction = sponsorTransaction;\nfunction estimateTransactionByteLength(transaction) {\n    const hashMode = transaction.auth.spendingCondition.hashMode;\n    const multiSigHashModes = [constants_1.AddressHashMode.SerializeP2SH, constants_1.AddressHashMode.SerializeP2WSH];\n    if (multiSigHashModes.includes(hashMode)) {\n        const multiSigSpendingCondition = transaction.auth\n            .spendingCondition;\n        const existingSignatures = multiSigSpendingCondition.fields.filter(field => field.contents.type === constants_1.StacksMessageType.MessageSignature).length;\n        const totalSignatureLength = (multiSigSpendingCondition.signaturesRequired - existingSignatures) *\n            (constants_1.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES + 1);\n        return transaction.serialize().byteLength + totalSignatureLength;\n    }\n    else {\n        return transaction.serialize().byteLength;\n    }\n}\nexports.estimateTransactionByteLength = estimateTransactionByteLength;\nasync function estimateTransactionFeeWithFallback(transaction, network) {\n    try {\n        const estimatedLen = estimateTransactionByteLength(transaction);\n        return (await estimateTransaction(transaction.payload, estimatedLen, network))[1].fee;\n    }\n    catch (error) {\n        if (error instanceof errors_1.NoEstimateAvailableError) {\n            return await estimateTransferUnsafe(transaction, network);\n        }\n        throw error;\n    }\n}\nexports.estimateTransactionFeeWithFallback = estimateTransactionFeeWithFallback;\n//# sourceMappingURL=builders.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9idWlsZGVycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQ0FBMEMsR0FBRyxxQ0FBcUMsR0FBRywwQkFBMEIsR0FBRywyQkFBMkIsR0FBRyw0QkFBNEIsR0FBRyw0Q0FBNEMsR0FBRyw0Q0FBNEMsR0FBRyx5Q0FBeUMsR0FBRyx5Q0FBeUMsR0FBRyxvQ0FBb0MsR0FBRyxvQ0FBb0MsR0FBRyx3QkFBd0IsR0FBRyxnQ0FBZ0MsR0FBRyxvQ0FBb0MsR0FBRyxrQ0FBa0MsR0FBRywwQkFBMEIsR0FBRyw4QkFBOEIsR0FBRyw0QkFBNEIsR0FBRyxvQ0FBb0MsR0FBRyxjQUFjLEdBQUcsK0JBQStCLEdBQUcsNEJBQTRCLEdBQUcsMkJBQTJCLEdBQUcsOEJBQThCLEdBQUcsd0JBQXdCLEdBQUcsZ0JBQWdCO0FBQzczQixpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsa0JBQWtCLG1CQUFPLENBQUMsMkVBQWlCO0FBQzNDLG1CQUFtQixtQkFBTyxDQUFDLDREQUFVO0FBQ3JDLHdCQUF3QixtQkFBTyxDQUFDLHdGQUFpQjtBQUNqRCxrQkFBa0IsbUJBQU8sQ0FBQyxrRkFBVztBQUNyQyxvQkFBb0IsbUJBQU8sQ0FBQyxnRkFBYTtBQUN6Qyx1QkFBdUIsbUJBQU8sQ0FBQyxzRkFBZ0I7QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMsMEVBQVU7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLHNFQUFRO0FBQy9CLGtCQUFrQixtQkFBTyxDQUFDLDRFQUFXO0FBQ3JDLHdCQUF3QixtQkFBTyxDQUFDLHdGQUFpQjtBQUNqRCw4QkFBOEIsbUJBQU8sQ0FBQyxvR0FBdUI7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsMEVBQVU7QUFDbkMsc0JBQXNCLG1CQUFPLENBQUMsb0ZBQWU7QUFDN0MsZ0JBQWdCLG1CQUFPLENBQUMsd0VBQVM7QUFDakMsZ0JBQWdCLG1CQUFPLENBQUMsd0VBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0JBQWdCLElBQUksb0JBQW9CLHVCQUF1QixLQUFLLGdDQUFnQyxJQUFJO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLHlFQUF5RSxnRUFBZ0UsOEJBQThCLHlEQUF5RDtBQUNoTztBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxnQkFBZ0IsSUFBSSxvQkFBb0IsdUJBQXVCLEtBQUssZ0NBQWdDLElBQUk7QUFDOUs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvQ0FBb0M7QUFDdkQ7QUFDQTtBQUNBLGlDQUFpQyw4QkFBOEIsSUFBSTtBQUNuRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsZ0JBQWdCLElBQUksb0JBQW9CLHVCQUF1QixLQUFLLGdDQUFnQyxLQUFLO0FBQy9LO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEVBQThFO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsVUFBVTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGFBQWEsZUFBZSxRQUFRLGFBQWEsZ0JBQWdCLElBQUksb0JBQW9CLHVCQUF1QixLQUFLLGdDQUFnQyxJQUFJO0FBQzlOO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsdUJBQXVCO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsZ0VBQWdFLDhCQUE4Qix5REFBeUQ7QUFDcE87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsZ0JBQWdCLElBQUksb0JBQW9CLHVCQUF1QixLQUFLLGdDQUFnQyxJQUFJO0FBQ2xMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx1QkFBdUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSwyRUFBMkUsK0RBQStELDhCQUE4Qix5REFBeUQ7QUFDak87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsZ0JBQWdCLElBQUksb0JBQW9CLHVCQUF1QixLQUFLLGdDQUFnQyxJQUFJO0FBQ2hMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsdUJBQXVCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyRUFBMkU7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxzRUFBc0UsZ0JBQWdCLElBQUksb0JBQW9CLHVCQUF1QixLQUFLLGdDQUFnQyxJQUFJO0FBQzlLO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQTBEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELFFBQVEsaUJBQWlCLGFBQWEsZUFBZSxnQkFBZ0IsbUJBQW1CLGlCQUFpQixjQUFjLGdCQUFnQixJQUFJLG9CQUFvQix1QkFBdUIsS0FBSyxnQ0FBZ0MsSUFBSTtBQUM1UjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxRQUFRLGlCQUFpQixhQUFhLGVBQWUsZ0JBQWdCLG1CQUFtQixpQkFBaUIsY0FBYyxnQkFBZ0IsSUFBSSxvQkFBb0IsdUJBQXVCLEtBQUssaUNBQWlDLGFBQWE7QUFDdFM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELGtCQUFrQixLQUFLLE1BQU07QUFDM0Y7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsaUVBQWlFO0FBQzlKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9idWlsZGVycy5qcz9hOWM4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lc3RpbWF0ZVRyYW5zYWN0aW9uRmVlV2l0aEZhbGxiYWNrID0gZXhwb3J0cy5lc3RpbWF0ZVRyYW5zYWN0aW9uQnl0ZUxlbmd0aCA9IGV4cG9ydHMuc3BvbnNvclRyYW5zYWN0aW9uID0gZXhwb3J0cy5nZXRDb250cmFjdE1hcEVudHJ5ID0gZXhwb3J0cy5jYWxsUmVhZE9ubHlGdW5jdGlvbiA9IGV4cG9ydHMubWFrZUNvbnRyYWN0Tm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uID0gZXhwb3J0cy5tYWtlU3RhbmRhcmROb25GdW5naWJsZVBvc3RDb25kaXRpb24gPSBleHBvcnRzLm1ha2VDb250cmFjdEZ1bmdpYmxlUG9zdENvbmRpdGlvbiA9IGV4cG9ydHMubWFrZVN0YW5kYXJkRnVuZ2libGVQb3N0Q29uZGl0aW9uID0gZXhwb3J0cy5tYWtlQ29udHJhY3RTVFhQb3N0Q29uZGl0aW9uID0gZXhwb3J0cy5tYWtlU3RhbmRhcmRTVFhQb3N0Q29uZGl0aW9uID0gZXhwb3J0cy5tYWtlQ29udHJhY3RDYWxsID0gZXhwb3J0cy5tYWtlVW5zaWduZWRDb250cmFjdENhbGwgPSBleHBvcnRzLmVzdGltYXRlQ29udHJhY3RGdW5jdGlvbkNhbGwgPSBleHBvcnRzLm1ha2VVbnNpZ25lZENvbnRyYWN0RGVwbG95ID0gZXhwb3J0cy5tYWtlQ29udHJhY3REZXBsb3kgPSBleHBvcnRzLmVzdGltYXRlQ29udHJhY3REZXBsb3kgPSBleHBvcnRzLm1ha2VTVFhUb2tlblRyYW5zZmVyID0gZXhwb3J0cy5tYWtlVW5zaWduZWRTVFhUb2tlblRyYW5zZmVyID0gZXhwb3J0cy5nZXRBYmkgPSBleHBvcnRzLmJyb2FkY2FzdFJhd1RyYW5zYWN0aW9uID0gZXhwb3J0cy5icm9hZGNhc3RUcmFuc2FjdGlvbiA9IGV4cG9ydHMuZXN0aW1hdGVUcmFuc2FjdGlvbiA9IGV4cG9ydHMuZXN0aW1hdGVUcmFuc2ZlclVuc2FmZSA9IGV4cG9ydHMuZXN0aW1hdGVUcmFuc2ZlciA9IGV4cG9ydHMuZ2V0Tm9uY2UgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNvbnN0IG5ldHdvcmtfMSA9IHJlcXVpcmUoXCJAc3RhY2tzL25ldHdvcmtcIik7XG5jb25zdCBjMzJjaGVja18xID0gcmVxdWlyZShcImMzMmNoZWNrXCIpO1xuY29uc3QgYXV0aG9yaXphdGlvbl8xID0gcmVxdWlyZShcIi4vYXV0aG9yaXphdGlvblwiKTtcbmNvbnN0IGNsYXJpdHlfMSA9IHJlcXVpcmUoXCIuL2NsYXJpdHlcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGNvbnRyYWN0X2FiaV8xID0gcmVxdWlyZShcIi4vY29udHJhY3QtYWJpXCIpO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi9lcnJvcnNcIik7XG5jb25zdCBrZXlzXzEgPSByZXF1aXJlKFwiLi9rZXlzXCIpO1xuY29uc3QgcGF5bG9hZF8xID0gcmVxdWlyZShcIi4vcGF5bG9hZFwiKTtcbmNvbnN0IHBvc3Rjb25kaXRpb25fMSA9IHJlcXVpcmUoXCIuL3Bvc3Rjb25kaXRpb25cIik7XG5jb25zdCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEgPSByZXF1aXJlKFwiLi9wb3N0Y29uZGl0aW9uLXR5cGVzXCIpO1xuY29uc3Qgc2lnbmVyXzEgPSByZXF1aXJlKFwiLi9zaWduZXJcIik7XG5jb25zdCB0cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vdHJhbnNhY3Rpb25cIik7XG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5hc3luYyBmdW5jdGlvbiBnZXROb25jZShhZGRyZXNzLCBuZXR3b3JrKSB7XG4gICAgY29uc3QgZGVyaXZlZE5ldHdvcmsgPSBuZXR3b3JrXzEuU3RhY2tzTmV0d29yay5mcm9tTmFtZU9yTmV0d29yayhuZXR3b3JrID8/IG5ldyBuZXR3b3JrXzEuU3RhY2tzTWFpbm5ldCgpKTtcbiAgICBjb25zdCB1cmwgPSBkZXJpdmVkTmV0d29yay5nZXRBY2NvdW50QXBpVXJsKGFkZHJlc3MpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGVyaXZlZE5ldHdvcmsuZmV0Y2hGbih1cmwpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgbGV0IG1zZyA9ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbXNnID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikgeyB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZmV0Y2hpbmcgbm9uY2UuIFJlc3BvbnNlICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fS4gQXR0ZW1wdGVkIHRvIGZldGNoICR7dXJsfSBhbmQgZmFpbGVkIHdpdGggdGhlIG1lc3NhZ2U6IFwiJHttc2d9XCJgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTtcbiAgICByZXR1cm4gQmlnSW50KHJlc3VsdC5ub25jZSk7XG59XG5leHBvcnRzLmdldE5vbmNlID0gZ2V0Tm9uY2U7XG5hc3luYyBmdW5jdGlvbiBlc3RpbWF0ZVRyYW5zZmVyKHRyYW5zYWN0aW9uLCBuZXR3b3JrKSB7XG4gICAgaWYgKHRyYW5zYWN0aW9uLnBheWxvYWQucGF5bG9hZFR5cGUgIT09IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlRva2VuVHJhbnNmZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcmFuc2FjdGlvbiBmZWUgZXN0aW1hdGlvbiBvbmx5IHBvc3NpYmxlIHdpdGggJHtjb25zdGFudHNfMS5QYXlsb2FkVHlwZVtjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Ub2tlblRyYW5zZmVyXX0gdHJhbnNhY3Rpb25zLiBJbnZva2VkIHdpdGg6ICR7Y29uc3RhbnRzXzEuUGF5bG9hZFR5cGVbdHJhbnNhY3Rpb24ucGF5bG9hZC5wYXlsb2FkVHlwZV19YCk7XG4gICAgfVxuICAgIHJldHVybiBlc3RpbWF0ZVRyYW5zZmVyVW5zYWZlKHRyYW5zYWN0aW9uLCBuZXR3b3JrKTtcbn1cbmV4cG9ydHMuZXN0aW1hdGVUcmFuc2ZlciA9IGVzdGltYXRlVHJhbnNmZXI7XG5hc3luYyBmdW5jdGlvbiBlc3RpbWF0ZVRyYW5zZmVyVW5zYWZlKHRyYW5zYWN0aW9uLCBuZXR3b3JrKSB7XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSB7XG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL3RleHQnLFxuICAgIH07XG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiByZXF1ZXN0SGVhZGVycyxcbiAgICB9O1xuICAgIGNvbnN0IGRlcml2ZWROZXR3b3JrID0gbmV0d29ya18xLlN0YWNrc05ldHdvcmsuZnJvbU5hbWVPck5ldHdvcmsobmV0d29yayA/PyBkZXJpdmVOZXR3b3JrKHRyYW5zYWN0aW9uKSk7XG4gICAgY29uc3QgdXJsID0gZGVyaXZlZE5ldHdvcmsuZ2V0VHJhbnNmZXJGZWVFc3RpbWF0ZUFwaVVybCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGVyaXZlZE5ldHdvcmsuZmV0Y2hGbih1cmwsIGZldGNoT3B0aW9ucyk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBsZXQgbXNnID0gJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtc2cgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBlc3RpbWF0aW5nIHRyYW5zYWN0aW9uIGZlZS4gUmVzcG9uc2UgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LiBBdHRlbXB0ZWQgdG8gZmV0Y2ggJHt1cmx9IGFuZCBmYWlsZWQgd2l0aCB0aGUgbWVzc2FnZTogXCIke21zZ31cImApO1xuICAgIH1cbiAgICBjb25zdCBmZWVSYXRlUmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGNvbnN0IHR4Qnl0ZXMgPSBCaWdJbnQodHJhbnNhY3Rpb24uc2VyaWFsaXplKCkuYnl0ZUxlbmd0aCk7XG4gICAgY29uc3QgZmVlUmF0ZSA9IEJpZ0ludChmZWVSYXRlUmVzdWx0KTtcbiAgICByZXR1cm4gZmVlUmF0ZSAqIHR4Qnl0ZXM7XG59XG5leHBvcnRzLmVzdGltYXRlVHJhbnNmZXJVbnNhZmUgPSBlc3RpbWF0ZVRyYW5zZmVyVW5zYWZlO1xuYXN5bmMgZnVuY3Rpb24gZXN0aW1hdGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvblBheWxvYWQsIGVzdGltYXRlZExlbiwgbmV0d29yaykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25fcGF5bG9hZDogKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKCgwLCBwYXlsb2FkXzEuc2VyaWFsaXplUGF5bG9hZCkodHJhbnNhY3Rpb25QYXlsb2FkKSksXG4gICAgICAgICAgICAuLi4oZXN0aW1hdGVkTGVuID8geyBlc3RpbWF0ZWRfbGVuOiBlc3RpbWF0ZWRMZW4gfSA6IHt9KSxcbiAgICAgICAgfSksXG4gICAgfTtcbiAgICBjb25zdCBkZXJpdmVkTmV0d29yayA9IG5ldHdvcmtfMS5TdGFja3NOZXR3b3JrLmZyb21OYW1lT3JOZXR3b3JrKG5ldHdvcmsgPz8gbmV3IG5ldHdvcmtfMS5TdGFja3NNYWlubmV0KCkpO1xuICAgIGNvbnN0IHVybCA9IGRlcml2ZWROZXR3b3JrLmdldFRyYW5zYWN0aW9uRmVlRXN0aW1hdGVBcGlVcmwoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRlcml2ZWROZXR3b3JrLmZldGNoRm4odXJsLCBvcHRpb25zKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIGlmIChib2R5Py5yZWFzb24gPT09ICdOb0VzdGltYXRlQXZhaWxhYmxlJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLk5vRXN0aW1hdGVBdmFpbGFibGVFcnJvcihib2R5Py5yZWFzb25fZGF0YT8ubWVzc2FnZSA/PyAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBlc3RpbWF0aW5nIHRyYW5zYWN0aW9uIGZlZS4gUmVzcG9uc2UgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LiBBdHRlbXB0ZWQgdG8gZmV0Y2ggJHt1cmx9IGFuZCBmYWlsZWQgd2l0aCB0aGUgbWVzc2FnZTogXCIke2JvZHl9XCJgKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gZGF0YS5lc3RpbWF0aW9ucztcbn1cbmV4cG9ydHMuZXN0aW1hdGVUcmFuc2FjdGlvbiA9IGVzdGltYXRlVHJhbnNhY3Rpb247XG5hc3luYyBmdW5jdGlvbiBicm9hZGNhc3RUcmFuc2FjdGlvbih0cmFuc2FjdGlvbiwgbmV0d29yaywgYXR0YWNobWVudCkge1xuICAgIGNvbnN0IHJhd1R4ID0gdHJhbnNhY3Rpb24uc2VyaWFsaXplKCk7XG4gICAgY29uc3QgZGVyaXZlZE5ldHdvcmsgPSBuZXR3b3JrXzEuU3RhY2tzTmV0d29yay5mcm9tTmFtZU9yTmV0d29yayhuZXR3b3JrID8/IGRlcml2ZU5ldHdvcmsodHJhbnNhY3Rpb24pKTtcbiAgICBjb25zdCB1cmwgPSBkZXJpdmVkTmV0d29yay5nZXRCcm9hZGNhc3RBcGlVcmwoKTtcbiAgICByZXR1cm4gYnJvYWRjYXN0UmF3VHJhbnNhY3Rpb24ocmF3VHgsIHVybCwgYXR0YWNobWVudCwgZGVyaXZlZE5ldHdvcmsuZmV0Y2hGbik7XG59XG5leHBvcnRzLmJyb2FkY2FzdFRyYW5zYWN0aW9uID0gYnJvYWRjYXN0VHJhbnNhY3Rpb247XG5hc3luYyBmdW5jdGlvbiBicm9hZGNhc3RSYXdUcmFuc2FjdGlvbihyYXdUeCwgdXJsLCBhdHRhY2htZW50LCBmZXRjaEZuID0gKDAsIG5ldHdvcmtfMS5jcmVhdGVGZXRjaEZuKSgpKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IGF0dGFjaG1lbnQgPyAnYXBwbGljYXRpb24vanNvbicgOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyB9LFxuICAgICAgICBib2R5OiBhdHRhY2htZW50XG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICB0eDogKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKHJhd1R4KSxcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50OiAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoYXR0YWNobWVudCksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiByYXdUeCxcbiAgICB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hGbih1cmwsIG9wdGlvbnMpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEZhaWxlZCB0byBicm9hZGNhc3QgdHJhbnNhY3Rpb246ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc3QgdHhpZCA9IHRleHQucmVwbGFjZSgvW1wiXSsvZywgJycpO1xuICAgIGlmICghKDAsIHV0aWxzXzEudmFsaWRhdGVUeElkKSh0eGlkKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRleHQpO1xuICAgIHJldHVybiB7IHR4aWQgfTtcbn1cbmV4cG9ydHMuYnJvYWRjYXN0UmF3VHJhbnNhY3Rpb24gPSBicm9hZGNhc3RSYXdUcmFuc2FjdGlvbjtcbmFzeW5jIGZ1bmN0aW9uIGdldEFiaShhZGRyZXNzLCBjb250cmFjdE5hbWUsIG5ldHdvcmspIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgIH07XG4gICAgY29uc3QgZGVyaXZlZE5ldHdvcmsgPSBuZXR3b3JrXzEuU3RhY2tzTmV0d29yay5mcm9tTmFtZU9yTmV0d29yayhuZXR3b3JrKTtcbiAgICBjb25zdCB1cmwgPSBkZXJpdmVkTmV0d29yay5nZXRBYmlBcGlVcmwoYWRkcmVzcywgY29udHJhY3ROYW1lKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRlcml2ZWROZXR3b3JrLmZldGNoRm4odXJsLCBvcHRpb25zKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZmV0Y2hpbmcgY29udHJhY3QgQUJJIGZvciBjb250cmFjdCBcIiR7Y29udHJhY3ROYW1lfVwiIGF0IGFkZHJlc3MgJHthZGRyZXNzfS4gUmVzcG9uc2UgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LiBBdHRlbXB0ZWQgdG8gZmV0Y2ggJHt1cmx9IGFuZCBmYWlsZWQgd2l0aCB0aGUgbWVzc2FnZTogXCIke21zZ31cImApO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5wYXJzZShhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xufVxuZXhwb3J0cy5nZXRBYmkgPSBnZXRBYmk7XG5mdW5jdGlvbiBkZXJpdmVOZXR3b3JrKHRyYW5zYWN0aW9uKSB7XG4gICAgc3dpdGNoICh0cmFuc2FjdGlvbi52ZXJzaW9uKSB7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuVHJhbnNhY3Rpb25WZXJzaW9uLk1haW5uZXQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5ldHdvcmtfMS5TdGFja3NNYWlubmV0KCk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuVHJhbnNhY3Rpb25WZXJzaW9uLlRlc3RuZXQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5ldHdvcmtfMS5TdGFja3NUZXN0bmV0KCk7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gbWFrZVVuc2lnbmVkU1RYVG9rZW5UcmFuc2Zlcih0eE9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgZmVlOiBCaWdJbnQoMCksXG4gICAgICAgIG5vbmNlOiBCaWdJbnQoMCksXG4gICAgICAgIG5ldHdvcms6IG5ldyBuZXR3b3JrXzEuU3RhY2tzTWFpbm5ldCgpLFxuICAgICAgICBtZW1vOiAnJyxcbiAgICAgICAgc3BvbnNvcmVkOiBmYWxzZSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCB0eE9wdGlvbnMpO1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwgcGF5bG9hZF8xLmNyZWF0ZVRva2VuVHJhbnNmZXJQYXlsb2FkKShvcHRpb25zLnJlY2lwaWVudCwgb3B0aW9ucy5hbW91bnQsIG9wdGlvbnMubWVtbyk7XG4gICAgbGV0IGF1dGhvcml6YXRpb24gPSBudWxsO1xuICAgIGxldCBzcGVuZGluZ0NvbmRpdGlvbiA9IG51bGw7XG4gICAgaWYgKCdwdWJsaWNLZXknIGluIG9wdGlvbnMpIHtcbiAgICAgICAgc3BlbmRpbmdDb25kaXRpb24gPSAoMCwgYXV0aG9yaXphdGlvbl8xLmNyZWF0ZVNpbmdsZVNpZ1NwZW5kaW5nQ29uZGl0aW9uKShjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJQS0gsIG9wdGlvbnMucHVibGljS2V5LCBvcHRpb25zLm5vbmNlLCBvcHRpb25zLmZlZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzcGVuZGluZ0NvbmRpdGlvbiA9ICgwLCBhdXRob3JpemF0aW9uXzEuY3JlYXRlTXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbikoY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyU0gsIG9wdGlvbnMubnVtU2lnbmF0dXJlcywgb3B0aW9ucy5wdWJsaWNLZXlzLCBvcHRpb25zLm5vbmNlLCBvcHRpb25zLmZlZSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNwb25zb3JlZCkge1xuICAgICAgICBhdXRob3JpemF0aW9uID0gKDAsIGF1dGhvcml6YXRpb25fMS5jcmVhdGVTcG9uc29yZWRBdXRoKShzcGVuZGluZ0NvbmRpdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdXRob3JpemF0aW9uID0gKDAsIGF1dGhvcml6YXRpb25fMS5jcmVhdGVTdGFuZGFyZEF1dGgpKHNwZW5kaW5nQ29uZGl0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgbmV0d29yayA9IG5ldHdvcmtfMS5TdGFja3NOZXR3b3JrLmZyb21OYW1lT3JOZXR3b3JrKG9wdGlvbnMubmV0d29yayk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgdHJhbnNhY3Rpb25fMS5TdGFja3NUcmFuc2FjdGlvbihuZXR3b3JrLnZlcnNpb24sIGF1dGhvcml6YXRpb24sIHBheWxvYWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zLmFuY2hvck1vZGUsIG5ldHdvcmsuY2hhaW5JZCk7XG4gICAgaWYgKHR4T3B0aW9ucy5mZWUgPT09IHVuZGVmaW5lZCB8fCB0eE9wdGlvbnMuZmVlID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGZlZSA9IGF3YWl0IGVzdGltYXRlVHJhbnNhY3Rpb25GZWVXaXRoRmFsbGJhY2sodHJhbnNhY3Rpb24sIG5ldHdvcmspO1xuICAgICAgICB0cmFuc2FjdGlvbi5zZXRGZWUoZmVlKTtcbiAgICB9XG4gICAgaWYgKHR4T3B0aW9ucy5ub25jZSA9PT0gdW5kZWZpbmVkIHx8IHR4T3B0aW9ucy5ub25jZSA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBhZGRyZXNzVmVyc2lvbiA9IG9wdGlvbnMubmV0d29yay52ZXJzaW9uID09PSBjb25zdGFudHNfMS5UcmFuc2FjdGlvblZlcnNpb24uTWFpbm5ldFxuICAgICAgICAgICAgPyBjb25zdGFudHNfMS5BZGRyZXNzVmVyc2lvbi5NYWlubmV0U2luZ2xlU2lnXG4gICAgICAgICAgICA6IGNvbnN0YW50c18xLkFkZHJlc3NWZXJzaW9uLlRlc3RuZXRTaW5nbGVTaWc7XG4gICAgICAgIGNvbnN0IHNlbmRlckFkZHJlc3MgPSAoMCwgYzMyY2hlY2tfMS5jMzJhZGRyZXNzKShhZGRyZXNzVmVyc2lvbiwgdHJhbnNhY3Rpb24uYXV0aC5zcGVuZGluZ0NvbmRpdGlvbi5zaWduZXIpO1xuICAgICAgICBjb25zdCB0eE5vbmNlID0gYXdhaXQgZ2V0Tm9uY2Uoc2VuZGVyQWRkcmVzcywgb3B0aW9ucy5uZXR3b3JrKTtcbiAgICAgICAgdHJhbnNhY3Rpb24uc2V0Tm9uY2UodHhOb25jZSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbn1cbmV4cG9ydHMubWFrZVVuc2lnbmVkU1RYVG9rZW5UcmFuc2ZlciA9IG1ha2VVbnNpZ25lZFNUWFRva2VuVHJhbnNmZXI7XG5hc3luYyBmdW5jdGlvbiBtYWtlU1RYVG9rZW5UcmFuc2Zlcih0eE9wdGlvbnMpIHtcbiAgICBpZiAoJ3NlbmRlcktleScgaW4gdHhPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHB1YmxpY0tleSA9ICgwLCBrZXlzXzEucHVibGljS2V5VG9TdHJpbmcpKCgwLCBrZXlzXzEuZ2V0UHVibGljS2V5KSgoMCwga2V5c18xLmNyZWF0ZVN0YWNrc1ByaXZhdGVLZXkpKHR4T3B0aW9ucy5zZW5kZXJLZXkpKSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSAoMCwgdXRpbHNfMS5vbWl0KSh0eE9wdGlvbnMsICdzZW5kZXJLZXknKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBtYWtlVW5zaWduZWRTVFhUb2tlblRyYW5zZmVyKHsgcHVibGljS2V5LCAuLi5vcHRpb25zIH0pO1xuICAgICAgICBjb25zdCBwcml2S2V5ID0gKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQcml2YXRlS2V5KSh0eE9wdGlvbnMuc2VuZGVyS2V5KTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IHNpZ25lcl8xLlRyYW5zYWN0aW9uU2lnbmVyKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgc2lnbmVyLnNpZ25PcmlnaW4ocHJpdktleSk7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSAoMCwgdXRpbHNfMS5vbWl0KSh0eE9wdGlvbnMsICdzaWduZXJLZXlzJyk7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgbWFrZVVuc2lnbmVkU1RYVG9rZW5UcmFuc2ZlcihvcHRpb25zKTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IHNpZ25lcl8xLlRyYW5zYWN0aW9uU2lnbmVyKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgbGV0IHB1YktleXMgPSB0eE9wdGlvbnMucHVibGljS2V5cztcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdHhPcHRpb25zLnNpZ25lcktleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHB1YktleSA9ICgwLCBrZXlzXzEucHViS2V5ZnJvbVByaXZLZXkpKGtleSk7XG4gICAgICAgICAgICBwdWJLZXlzID0gcHViS2V5cy5maWx0ZXIocGsgPT4gcGsgIT09ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShwdWJLZXkuZGF0YSkpO1xuICAgICAgICAgICAgc2lnbmVyLnNpZ25PcmlnaW4oKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQcml2YXRlS2V5KShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBwdWJLZXlzKSB7XG4gICAgICAgICAgICBzaWduZXIuYXBwZW5kT3JpZ2luKCgwLCBrZXlzXzEucHVibGljS2V5RnJvbUJ5dGVzKSgoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoa2V5KSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICB9XG59XG5leHBvcnRzLm1ha2VTVFhUb2tlblRyYW5zZmVyID0gbWFrZVNUWFRva2VuVHJhbnNmZXI7XG5hc3luYyBmdW5jdGlvbiBlc3RpbWF0ZUNvbnRyYWN0RGVwbG95KHRyYW5zYWN0aW9uLCBuZXR3b3JrKSB7XG4gICAgaWYgKHRyYW5zYWN0aW9uLnBheWxvYWQucGF5bG9hZFR5cGUgIT09IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlNtYXJ0Q29udHJhY3QgJiZcbiAgICAgICAgdHJhbnNhY3Rpb24ucGF5bG9hZC5wYXlsb2FkVHlwZSAhPT0gY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuVmVyc2lvbmVkU21hcnRDb250cmFjdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRyYWN0IGRlcGxveSBmZWUgZXN0aW1hdGlvbiBvbmx5IHBvc3NpYmxlIHdpdGggJHtjb25zdGFudHNfMS5QYXlsb2FkVHlwZVtjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5TbWFydENvbnRyYWN0XX0gdHJhbnNhY3Rpb25zLiBJbnZva2VkIHdpdGg6ICR7Y29uc3RhbnRzXzEuUGF5bG9hZFR5cGVbdHJhbnNhY3Rpb24ucGF5bG9hZC5wYXlsb2FkVHlwZV19YCk7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0ge1xuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi90ZXh0JyxcbiAgICB9O1xuICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgfTtcbiAgICBjb25zdCBkZXJpdmVkTmV0d29yayA9IG5ldHdvcmtfMS5TdGFja3NOZXR3b3JrLmZyb21OYW1lT3JOZXR3b3JrKG5ldHdvcmsgPz8gZGVyaXZlTmV0d29yayh0cmFuc2FjdGlvbikpO1xuICAgIGNvbnN0IHVybCA9IGRlcml2ZWROZXR3b3JrLmdldFRyYW5zZmVyRmVlRXN0aW1hdGVBcGlVcmwoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRlcml2ZWROZXR3b3JrLmZldGNoRm4odXJsLCBmZXRjaE9wdGlvbnMpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpLmNhdGNoKCgpID0+ICcnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBlc3RpbWF0aW5nIGNvbnRyYWN0IGRlcGxveSBmZWUuIFJlc3BvbnNlICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fS4gQXR0ZW1wdGVkIHRvIGZldGNoICR7dXJsfSBhbmQgZmFpbGVkIHdpdGggdGhlIG1lc3NhZ2U6IFwiJHttc2d9XCJgKTtcbiAgICB9XG4gICAgY29uc3QgZmVlUmF0ZVJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICBjb25zdCB0eEJ5dGVzID0gKDAsIGNvbW1vbl8xLmludFRvQmlnSW50KSh0cmFuc2FjdGlvbi5zZXJpYWxpemUoKS5ieXRlTGVuZ3RoLCBmYWxzZSk7XG4gICAgY29uc3QgZmVlUmF0ZSA9ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkoZmVlUmF0ZVJlc3VsdCwgZmFsc2UpO1xuICAgIHJldHVybiBmZWVSYXRlICogdHhCeXRlcztcbn1cbmV4cG9ydHMuZXN0aW1hdGVDb250cmFjdERlcGxveSA9IGVzdGltYXRlQ29udHJhY3REZXBsb3k7XG5hc3luYyBmdW5jdGlvbiBtYWtlQ29udHJhY3REZXBsb3kodHhPcHRpb25zKSB7XG4gICAgaWYgKCdzZW5kZXJLZXknIGluIHR4T3B0aW9ucykge1xuICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSAoMCwga2V5c18xLnB1YmxpY0tleVRvU3RyaW5nKSgoMCwga2V5c18xLmdldFB1YmxpY0tleSkoKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQcml2YXRlS2V5KSh0eE9wdGlvbnMuc2VuZGVyS2V5KSkpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKDAsIHV0aWxzXzEub21pdCkodHhPcHRpb25zLCAnc2VuZGVyS2V5Jyk7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgbWFrZVVuc2lnbmVkQ29udHJhY3REZXBsb3koeyBwdWJsaWNLZXksIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgIGNvbnN0IHByaXZLZXkgPSAoMCwga2V5c18xLmNyZWF0ZVN0YWNrc1ByaXZhdGVLZXkpKHR4T3B0aW9ucy5zZW5kZXJLZXkpO1xuICAgICAgICBjb25zdCBzaWduZXIgPSBuZXcgc2lnbmVyXzEuVHJhbnNhY3Rpb25TaWduZXIodHJhbnNhY3Rpb24pO1xuICAgICAgICBzaWduZXIuc2lnbk9yaWdpbihwcml2S2V5KTtcbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9ICgwLCB1dGlsc18xLm9taXQpKHR4T3B0aW9ucywgJ3NpZ25lcktleXMnKTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBtYWtlVW5zaWduZWRDb250cmFjdERlcGxveShvcHRpb25zKTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IHNpZ25lcl8xLlRyYW5zYWN0aW9uU2lnbmVyKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgbGV0IHB1YktleXMgPSB0eE9wdGlvbnMucHVibGljS2V5cztcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdHhPcHRpb25zLnNpZ25lcktleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHB1YktleSA9ICgwLCBrZXlzXzEucHViS2V5ZnJvbVByaXZLZXkpKGtleSk7XG4gICAgICAgICAgICBwdWJLZXlzID0gcHViS2V5cy5maWx0ZXIocGsgPT4gcGsgIT09ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShwdWJLZXkuZGF0YSkpO1xuICAgICAgICAgICAgc2lnbmVyLnNpZ25PcmlnaW4oKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQcml2YXRlS2V5KShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBwdWJLZXlzKSB7XG4gICAgICAgICAgICBzaWduZXIuYXBwZW5kT3JpZ2luKCgwLCBrZXlzXzEucHVibGljS2V5RnJvbUJ5dGVzKSgoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoa2V5KSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICB9XG59XG5leHBvcnRzLm1ha2VDb250cmFjdERlcGxveSA9IG1ha2VDb250cmFjdERlcGxveTtcbmFzeW5jIGZ1bmN0aW9uIG1ha2VVbnNpZ25lZENvbnRyYWN0RGVwbG95KHR4T3B0aW9ucykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBmZWU6IEJpZ0ludCgwKSxcbiAgICAgICAgbm9uY2U6IEJpZ0ludCgwKSxcbiAgICAgICAgbmV0d29yazogbmV3IG5ldHdvcmtfMS5TdGFja3NNYWlubmV0KCksXG4gICAgICAgIHBvc3RDb25kaXRpb25Nb2RlOiBjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uTW9kZS5EZW55LFxuICAgICAgICBzcG9uc29yZWQ6IGZhbHNlLFxuICAgICAgICBjbGFyaXR5VmVyc2lvbjogY29uc3RhbnRzXzEuQ2xhcml0eVZlcnNpb24uQ2xhcml0eTIsXG4gICAgfTtcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgdHhPcHRpb25zKTtcbiAgICBjb25zdCBwYXlsb2FkID0gKDAsIHBheWxvYWRfMS5jcmVhdGVTbWFydENvbnRyYWN0UGF5bG9hZCkob3B0aW9ucy5jb250cmFjdE5hbWUsIG9wdGlvbnMuY29kZUJvZHksIG9wdGlvbnMuY2xhcml0eVZlcnNpb24pO1xuICAgIGxldCBhdXRob3JpemF0aW9uID0gbnVsbDtcbiAgICBsZXQgc3BlbmRpbmdDb25kaXRpb24gPSBudWxsO1xuICAgIGlmICgncHVibGljS2V5JyBpbiBvcHRpb25zKSB7XG4gICAgICAgIHNwZW5kaW5nQ29uZGl0aW9uID0gKDAsIGF1dGhvcml6YXRpb25fMS5jcmVhdGVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbikoY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyUEtILCBvcHRpb25zLnB1YmxpY0tleSwgb3B0aW9ucy5ub25jZSwgb3B0aW9ucy5mZWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3BlbmRpbmdDb25kaXRpb24gPSAoMCwgYXV0aG9yaXphdGlvbl8xLmNyZWF0ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb24pKGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMlNILCBvcHRpb25zLm51bVNpZ25hdHVyZXMsIG9wdGlvbnMucHVibGljS2V5cywgb3B0aW9ucy5ub25jZSwgb3B0aW9ucy5mZWUpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zcG9uc29yZWQpIHtcbiAgICAgICAgYXV0aG9yaXphdGlvbiA9ICgwLCBhdXRob3JpemF0aW9uXzEuY3JlYXRlU3BvbnNvcmVkQXV0aCkoc3BlbmRpbmdDb25kaXRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXV0aG9yaXphdGlvbiA9ICgwLCBhdXRob3JpemF0aW9uXzEuY3JlYXRlU3RhbmRhcmRBdXRoKShzcGVuZGluZ0NvbmRpdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IG5ldHdvcmsgPSBuZXR3b3JrXzEuU3RhY2tzTmV0d29yay5mcm9tTmFtZU9yTmV0d29yayhvcHRpb25zLm5ldHdvcmspO1xuICAgIGNvbnN0IHBvc3RDb25kaXRpb25zID0gW107XG4gICAgaWYgKG9wdGlvbnMucG9zdENvbmRpdGlvbnMgJiYgb3B0aW9ucy5wb3N0Q29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG9wdGlvbnMucG9zdENvbmRpdGlvbnMuZm9yRWFjaChwb3N0Q29uZGl0aW9uID0+IHtcbiAgICAgICAgICAgIHBvc3RDb25kaXRpb25zLnB1c2gocG9zdENvbmRpdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBscFBvc3RDb25kaXRpb25zID0gKDAsIHR5cGVzXzEuY3JlYXRlTFBMaXN0KShwb3N0Q29uZGl0aW9ucyk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgdHJhbnNhY3Rpb25fMS5TdGFja3NUcmFuc2FjdGlvbihuZXR3b3JrLnZlcnNpb24sIGF1dGhvcml6YXRpb24sIHBheWxvYWQsIGxwUG9zdENvbmRpdGlvbnMsIG9wdGlvbnMucG9zdENvbmRpdGlvbk1vZGUsIG9wdGlvbnMuYW5jaG9yTW9kZSwgbmV0d29yay5jaGFpbklkKTtcbiAgICBpZiAodHhPcHRpb25zLmZlZSA9PT0gdW5kZWZpbmVkIHx8IHR4T3B0aW9ucy5mZWUgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZmVlID0gYXdhaXQgZXN0aW1hdGVUcmFuc2FjdGlvbkZlZVdpdGhGYWxsYmFjayh0cmFuc2FjdGlvbiwgbmV0d29yayk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldEZlZShmZWUpO1xuICAgIH1cbiAgICBpZiAodHhPcHRpb25zLm5vbmNlID09PSB1bmRlZmluZWQgfHwgdHhPcHRpb25zLm5vbmNlID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGFkZHJlc3NWZXJzaW9uID0gb3B0aW9ucy5uZXR3b3JrLnZlcnNpb24gPT09IGNvbnN0YW50c18xLlRyYW5zYWN0aW9uVmVyc2lvbi5NYWlubmV0XG4gICAgICAgICAgICA/IGNvbnN0YW50c18xLkFkZHJlc3NWZXJzaW9uLk1haW5uZXRTaW5nbGVTaWdcbiAgICAgICAgICAgIDogY29uc3RhbnRzXzEuQWRkcmVzc1ZlcnNpb24uVGVzdG5ldFNpbmdsZVNpZztcbiAgICAgICAgY29uc3Qgc2VuZGVyQWRkcmVzcyA9ICgwLCBjMzJjaGVja18xLmMzMmFkZHJlc3MpKGFkZHJlc3NWZXJzaW9uLCB0cmFuc2FjdGlvbi5hdXRoLnNwZW5kaW5nQ29uZGl0aW9uLnNpZ25lcik7XG4gICAgICAgIGNvbnN0IHR4Tm9uY2UgPSBhd2FpdCBnZXROb25jZShzZW5kZXJBZGRyZXNzLCBvcHRpb25zLm5ldHdvcmspO1xuICAgICAgICB0cmFuc2FjdGlvbi5zZXROb25jZSh0eE5vbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xufVxuZXhwb3J0cy5tYWtlVW5zaWduZWRDb250cmFjdERlcGxveSA9IG1ha2VVbnNpZ25lZENvbnRyYWN0RGVwbG95O1xuYXN5bmMgZnVuY3Rpb24gZXN0aW1hdGVDb250cmFjdEZ1bmN0aW9uQ2FsbCh0cmFuc2FjdGlvbiwgbmV0d29yaykge1xuICAgIGlmICh0cmFuc2FjdGlvbi5wYXlsb2FkLnBheWxvYWRUeXBlICE9PSBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Db250cmFjdENhbGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250cmFjdCBjYWxsIGZlZSBlc3RpbWF0aW9uIG9ubHkgcG9zc2libGUgd2l0aCAke2NvbnN0YW50c18xLlBheWxvYWRUeXBlW2NvbnN0YW50c18xLlBheWxvYWRUeXBlLkNvbnRyYWN0Q2FsbF19IHRyYW5zYWN0aW9ucy4gSW52b2tlZCB3aXRoOiAke2NvbnN0YW50c18xLlBheWxvYWRUeXBlW3RyYW5zYWN0aW9uLnBheWxvYWQucGF5bG9hZFR5cGVdfWApO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IHtcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vdGV4dCcsXG4gICAgfTtcbiAgICBjb25zdCBmZXRjaE9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLFxuICAgIH07XG4gICAgY29uc3QgZGVyaXZlZE5ldHdvcmsgPSBuZXR3b3JrXzEuU3RhY2tzTmV0d29yay5mcm9tTmFtZU9yTmV0d29yayhuZXR3b3JrID8/IGRlcml2ZU5ldHdvcmsodHJhbnNhY3Rpb24pKTtcbiAgICBjb25zdCB1cmwgPSBkZXJpdmVkTmV0d29yay5nZXRUcmFuc2ZlckZlZUVzdGltYXRlQXBpVXJsKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkZXJpdmVkTmV0d29yay5mZXRjaEZuKHVybCwgZmV0Y2hPcHRpb25zKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZXN0aW1hdGluZyBjb250cmFjdCBjYWxsIGZlZS4gUmVzcG9uc2UgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LiBBdHRlbXB0ZWQgdG8gZmV0Y2ggJHt1cmx9IGFuZCBmYWlsZWQgd2l0aCB0aGUgbWVzc2FnZTogXCIke21zZ31cImApO1xuICAgIH1cbiAgICBjb25zdCBmZWVSYXRlUmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGNvbnN0IHR4Qnl0ZXMgPSAoMCwgY29tbW9uXzEuaW50VG9CaWdJbnQpKHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSgpLmJ5dGVMZW5ndGgsIGZhbHNlKTtcbiAgICBjb25zdCBmZWVSYXRlID0gKDAsIGNvbW1vbl8xLmludFRvQmlnSW50KShmZWVSYXRlUmVzdWx0LCBmYWxzZSk7XG4gICAgcmV0dXJuIGZlZVJhdGUgKiB0eEJ5dGVzO1xufVxuZXhwb3J0cy5lc3RpbWF0ZUNvbnRyYWN0RnVuY3Rpb25DYWxsID0gZXN0aW1hdGVDb250cmFjdEZ1bmN0aW9uQ2FsbDtcbmFzeW5jIGZ1bmN0aW9uIG1ha2VVbnNpZ25lZENvbnRyYWN0Q2FsbCh0eE9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgZmVlOiBCaWdJbnQoMCksXG4gICAgICAgIG5vbmNlOiBCaWdJbnQoMCksXG4gICAgICAgIG5ldHdvcms6IG5ldyBuZXR3b3JrXzEuU3RhY2tzTWFpbm5ldCgpLFxuICAgICAgICBwb3N0Q29uZGl0aW9uTW9kZTogY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvbk1vZGUuRGVueSxcbiAgICAgICAgc3BvbnNvcmVkOiBmYWxzZSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCB0eE9wdGlvbnMpO1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwgcGF5bG9hZF8xLmNyZWF0ZUNvbnRyYWN0Q2FsbFBheWxvYWQpKG9wdGlvbnMuY29udHJhY3RBZGRyZXNzLCBvcHRpb25zLmNvbnRyYWN0TmFtZSwgb3B0aW9ucy5mdW5jdGlvbk5hbWUsIG9wdGlvbnMuZnVuY3Rpb25BcmdzKTtcbiAgICBpZiAob3B0aW9ucz8udmFsaWRhdGVXaXRoQWJpKSB7XG4gICAgICAgIGxldCBhYmk7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy52YWxpZGF0ZVdpdGhBYmkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnM/Lm5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICBhYmkgPSBhd2FpdCBnZXRBYmkob3B0aW9ucy5jb250cmFjdEFkZHJlc3MsIG9wdGlvbnMuY29udHJhY3ROYW1lLCBvcHRpb25zLm5ldHdvcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG9wdGlvbiBtdXN0IGJlIHByb3ZpZGVkIGluIG9yZGVyIHRvIHZhbGlkYXRlIHdpdGggQUJJJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhYmkgPSBvcHRpb25zLnZhbGlkYXRlV2l0aEFiaTtcbiAgICAgICAgfVxuICAgICAgICAoMCwgY29udHJhY3RfYWJpXzEudmFsaWRhdGVDb250cmFjdENhbGwpKHBheWxvYWQsIGFiaSk7XG4gICAgfVxuICAgIGxldCBzcGVuZGluZ0NvbmRpdGlvbiA9IG51bGw7XG4gICAgbGV0IGF1dGhvcml6YXRpb24gPSBudWxsO1xuICAgIGlmICgncHVibGljS2V5JyBpbiBvcHRpb25zKSB7XG4gICAgICAgIHNwZW5kaW5nQ29uZGl0aW9uID0gKDAsIGF1dGhvcml6YXRpb25fMS5jcmVhdGVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbikoY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyUEtILCBvcHRpb25zLnB1YmxpY0tleSwgb3B0aW9ucy5ub25jZSwgb3B0aW9ucy5mZWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3BlbmRpbmdDb25kaXRpb24gPSAoMCwgYXV0aG9yaXphdGlvbl8xLmNyZWF0ZU11bHRpU2lnU3BlbmRpbmdDb25kaXRpb24pKGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMlNILCBvcHRpb25zLm51bVNpZ25hdHVyZXMsIG9wdGlvbnMucHVibGljS2V5cywgb3B0aW9ucy5ub25jZSwgb3B0aW9ucy5mZWUpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zcG9uc29yZWQpIHtcbiAgICAgICAgYXV0aG9yaXphdGlvbiA9ICgwLCBhdXRob3JpemF0aW9uXzEuY3JlYXRlU3BvbnNvcmVkQXV0aCkoc3BlbmRpbmdDb25kaXRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXV0aG9yaXphdGlvbiA9ICgwLCBhdXRob3JpemF0aW9uXzEuY3JlYXRlU3RhbmRhcmRBdXRoKShzcGVuZGluZ0NvbmRpdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IG5ldHdvcmsgPSBuZXR3b3JrXzEuU3RhY2tzTmV0d29yay5mcm9tTmFtZU9yTmV0d29yayhvcHRpb25zLm5ldHdvcmspO1xuICAgIGNvbnN0IHBvc3RDb25kaXRpb25zID0gW107XG4gICAgaWYgKG9wdGlvbnMucG9zdENvbmRpdGlvbnMgJiYgb3B0aW9ucy5wb3N0Q29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG9wdGlvbnMucG9zdENvbmRpdGlvbnMuZm9yRWFjaChwb3N0Q29uZGl0aW9uID0+IHtcbiAgICAgICAgICAgIHBvc3RDb25kaXRpb25zLnB1c2gocG9zdENvbmRpdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBscFBvc3RDb25kaXRpb25zID0gKDAsIHR5cGVzXzEuY3JlYXRlTFBMaXN0KShwb3N0Q29uZGl0aW9ucyk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgdHJhbnNhY3Rpb25fMS5TdGFja3NUcmFuc2FjdGlvbihuZXR3b3JrLnZlcnNpb24sIGF1dGhvcml6YXRpb24sIHBheWxvYWQsIGxwUG9zdENvbmRpdGlvbnMsIG9wdGlvbnMucG9zdENvbmRpdGlvbk1vZGUsIG9wdGlvbnMuYW5jaG9yTW9kZSwgbmV0d29yay5jaGFpbklkKTtcbiAgICBpZiAodHhPcHRpb25zLmZlZSA9PT0gdW5kZWZpbmVkIHx8IHR4T3B0aW9ucy5mZWUgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZmVlID0gYXdhaXQgZXN0aW1hdGVUcmFuc2FjdGlvbkZlZVdpdGhGYWxsYmFjayh0cmFuc2FjdGlvbiwgbmV0d29yayk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldEZlZShmZWUpO1xuICAgIH1cbiAgICBpZiAodHhPcHRpb25zLm5vbmNlID09PSB1bmRlZmluZWQgfHwgdHhPcHRpb25zLm5vbmNlID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGFkZHJlc3NWZXJzaW9uID0gbmV0d29yay52ZXJzaW9uID09PSBjb25zdGFudHNfMS5UcmFuc2FjdGlvblZlcnNpb24uTWFpbm5ldFxuICAgICAgICAgICAgPyBjb25zdGFudHNfMS5BZGRyZXNzVmVyc2lvbi5NYWlubmV0U2luZ2xlU2lnXG4gICAgICAgICAgICA6IGNvbnN0YW50c18xLkFkZHJlc3NWZXJzaW9uLlRlc3RuZXRTaW5nbGVTaWc7XG4gICAgICAgIGNvbnN0IHNlbmRlckFkZHJlc3MgPSAoMCwgYzMyY2hlY2tfMS5jMzJhZGRyZXNzKShhZGRyZXNzVmVyc2lvbiwgdHJhbnNhY3Rpb24uYXV0aC5zcGVuZGluZ0NvbmRpdGlvbi5zaWduZXIpO1xuICAgICAgICBjb25zdCB0eE5vbmNlID0gYXdhaXQgZ2V0Tm9uY2Uoc2VuZGVyQWRkcmVzcywgbmV0d29yayk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldE5vbmNlKHR4Tm9uY2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNhY3Rpb247XG59XG5leHBvcnRzLm1ha2VVbnNpZ25lZENvbnRyYWN0Q2FsbCA9IG1ha2VVbnNpZ25lZENvbnRyYWN0Q2FsbDtcbmFzeW5jIGZ1bmN0aW9uIG1ha2VDb250cmFjdENhbGwodHhPcHRpb25zKSB7XG4gICAgaWYgKCdzZW5kZXJLZXknIGluIHR4T3B0aW9ucykge1xuICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSAoMCwga2V5c18xLnB1YmxpY0tleVRvU3RyaW5nKSgoMCwga2V5c18xLmdldFB1YmxpY0tleSkoKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQcml2YXRlS2V5KSh0eE9wdGlvbnMuc2VuZGVyS2V5KSkpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKDAsIHV0aWxzXzEub21pdCkodHhPcHRpb25zLCAnc2VuZGVyS2V5Jyk7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgbWFrZVVuc2lnbmVkQ29udHJhY3RDYWxsKHsgcHVibGljS2V5LCAuLi5vcHRpb25zIH0pO1xuICAgICAgICBjb25zdCBwcml2S2V5ID0gKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQcml2YXRlS2V5KSh0eE9wdGlvbnMuc2VuZGVyS2V5KTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IHNpZ25lcl8xLlRyYW5zYWN0aW9uU2lnbmVyKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgc2lnbmVyLnNpZ25PcmlnaW4ocHJpdktleSk7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSAoMCwgdXRpbHNfMS5vbWl0KSh0eE9wdGlvbnMsICdzaWduZXJLZXlzJyk7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgbWFrZVVuc2lnbmVkQ29udHJhY3RDYWxsKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBzaWduZXIgPSBuZXcgc2lnbmVyXzEuVHJhbnNhY3Rpb25TaWduZXIodHJhbnNhY3Rpb24pO1xuICAgICAgICBsZXQgcHViS2V5cyA9IHR4T3B0aW9ucy5wdWJsaWNLZXlzO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB0eE9wdGlvbnMuc2lnbmVyS2V5cykge1xuICAgICAgICAgICAgY29uc3QgcHViS2V5ID0gKDAsIGtleXNfMS5wdWJLZXlmcm9tUHJpdktleSkoa2V5KTtcbiAgICAgICAgICAgIHB1YktleXMgPSBwdWJLZXlzLmZpbHRlcihwayA9PiBwayAhPT0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKHB1YktleS5kYXRhKSk7XG4gICAgICAgICAgICBzaWduZXIuc2lnbk9yaWdpbigoMCwga2V5c18xLmNyZWF0ZVN0YWNrc1ByaXZhdGVLZXkpKGtleSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHB1YktleXMpIHtcbiAgICAgICAgICAgIHNpZ25lci5hcHBlbmRPcmlnaW4oKDAsIGtleXNfMS5wdWJsaWNLZXlGcm9tQnl0ZXMpKCgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShrZXkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgIH1cbn1cbmV4cG9ydHMubWFrZUNvbnRyYWN0Q2FsbCA9IG1ha2VDb250cmFjdENhbGw7XG5mdW5jdGlvbiBtYWtlU3RhbmRhcmRTVFhQb3N0Q29uZGl0aW9uKGFkZHJlc3MsIGNvbmRpdGlvbkNvZGUsIGFtb3VudCkge1xuICAgIHJldHVybiAoMCwgcG9zdGNvbmRpdGlvbl8xLmNyZWF0ZVNUWFBvc3RDb25kaXRpb24pKCgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEuY3JlYXRlU3RhbmRhcmRQcmluY2lwYWwpKGFkZHJlc3MpLCBjb25kaXRpb25Db2RlLCBhbW91bnQpO1xufVxuZXhwb3J0cy5tYWtlU3RhbmRhcmRTVFhQb3N0Q29uZGl0aW9uID0gbWFrZVN0YW5kYXJkU1RYUG9zdENvbmRpdGlvbjtcbmZ1bmN0aW9uIG1ha2VDb250cmFjdFNUWFBvc3RDb25kaXRpb24oYWRkcmVzcywgY29udHJhY3ROYW1lLCBjb25kaXRpb25Db2RlLCBhbW91bnQpIHtcbiAgICByZXR1cm4gKDAsIHBvc3Rjb25kaXRpb25fMS5jcmVhdGVTVFhQb3N0Q29uZGl0aW9uKSgoMCwgcG9zdGNvbmRpdGlvbl90eXBlc18xLmNyZWF0ZUNvbnRyYWN0UHJpbmNpcGFsKShhZGRyZXNzLCBjb250cmFjdE5hbWUpLCBjb25kaXRpb25Db2RlLCBhbW91bnQpO1xufVxuZXhwb3J0cy5tYWtlQ29udHJhY3RTVFhQb3N0Q29uZGl0aW9uID0gbWFrZUNvbnRyYWN0U1RYUG9zdENvbmRpdGlvbjtcbmZ1bmN0aW9uIG1ha2VTdGFuZGFyZEZ1bmdpYmxlUG9zdENvbmRpdGlvbihhZGRyZXNzLCBjb25kaXRpb25Db2RlLCBhbW91bnQsIGFzc2V0SW5mbykge1xuICAgIHJldHVybiAoMCwgcG9zdGNvbmRpdGlvbl8xLmNyZWF0ZUZ1bmdpYmxlUG9zdENvbmRpdGlvbikoKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVTdGFuZGFyZFByaW5jaXBhbCkoYWRkcmVzcyksIGNvbmRpdGlvbkNvZGUsIGFtb3VudCwgYXNzZXRJbmZvKTtcbn1cbmV4cG9ydHMubWFrZVN0YW5kYXJkRnVuZ2libGVQb3N0Q29uZGl0aW9uID0gbWFrZVN0YW5kYXJkRnVuZ2libGVQb3N0Q29uZGl0aW9uO1xuZnVuY3Rpb24gbWFrZUNvbnRyYWN0RnVuZ2libGVQb3N0Q29uZGl0aW9uKGFkZHJlc3MsIGNvbnRyYWN0TmFtZSwgY29uZGl0aW9uQ29kZSwgYW1vdW50LCBhc3NldEluZm8pIHtcbiAgICByZXR1cm4gKDAsIHBvc3Rjb25kaXRpb25fMS5jcmVhdGVGdW5naWJsZVBvc3RDb25kaXRpb24pKCgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEuY3JlYXRlQ29udHJhY3RQcmluY2lwYWwpKGFkZHJlc3MsIGNvbnRyYWN0TmFtZSksIGNvbmRpdGlvbkNvZGUsIGFtb3VudCwgYXNzZXRJbmZvKTtcbn1cbmV4cG9ydHMubWFrZUNvbnRyYWN0RnVuZ2libGVQb3N0Q29uZGl0aW9uID0gbWFrZUNvbnRyYWN0RnVuZ2libGVQb3N0Q29uZGl0aW9uO1xuZnVuY3Rpb24gbWFrZVN0YW5kYXJkTm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uKGFkZHJlc3MsIGNvbmRpdGlvbkNvZGUsIGFzc2V0SW5mbywgYXNzZXRJZCkge1xuICAgIHJldHVybiAoMCwgcG9zdGNvbmRpdGlvbl8xLmNyZWF0ZU5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbikoKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVTdGFuZGFyZFByaW5jaXBhbCkoYWRkcmVzcyksIGNvbmRpdGlvbkNvZGUsIGFzc2V0SW5mbywgYXNzZXRJZCk7XG59XG5leHBvcnRzLm1ha2VTdGFuZGFyZE5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbiA9IG1ha2VTdGFuZGFyZE5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbjtcbmZ1bmN0aW9uIG1ha2VDb250cmFjdE5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbihhZGRyZXNzLCBjb250cmFjdE5hbWUsIGNvbmRpdGlvbkNvZGUsIGFzc2V0SW5mbywgYXNzZXRJZCkge1xuICAgIHJldHVybiAoMCwgcG9zdGNvbmRpdGlvbl8xLmNyZWF0ZU5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbikoKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVDb250cmFjdFByaW5jaXBhbCkoYWRkcmVzcywgY29udHJhY3ROYW1lKSwgY29uZGl0aW9uQ29kZSwgYXNzZXRJbmZvLCBhc3NldElkKTtcbn1cbmV4cG9ydHMubWFrZUNvbnRyYWN0Tm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uID0gbWFrZUNvbnRyYWN0Tm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uO1xuYXN5bmMgZnVuY3Rpb24gY2FsbFJlYWRPbmx5RnVuY3Rpb24ocmVhZE9ubHlGdW5jdGlvbk9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgbmV0d29yazogbmV3IG5ldHdvcmtfMS5TdGFja3NNYWlubmV0KCksXG4gICAgfTtcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgcmVhZE9ubHlGdW5jdGlvbk9wdGlvbnMpO1xuICAgIGNvbnN0IHsgY29udHJhY3ROYW1lLCBjb250cmFjdEFkZHJlc3MsIGZ1bmN0aW9uTmFtZSwgZnVuY3Rpb25BcmdzLCBzZW5kZXJBZGRyZXNzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IG5ldHdvcmsgPSBuZXR3b3JrXzEuU3RhY2tzTmV0d29yay5mcm9tTmFtZU9yTmV0d29yayhvcHRpb25zLm5ldHdvcmspO1xuICAgIGNvbnN0IHVybCA9IG5ldHdvcmsuZ2V0UmVhZE9ubHlGdW5jdGlvbkNhbGxBcGlVcmwoY29udHJhY3RBZGRyZXNzLCBjb250cmFjdE5hbWUsIGZ1bmN0aW9uTmFtZSk7XG4gICAgY29uc3QgYXJncyA9IGZ1bmN0aW9uQXJncy5tYXAoYXJnID0+ICgwLCB1dGlsc18xLmN2VG9IZXgpKGFyZykpO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHNlbmRlcjogc2VuZGVyQWRkcmVzcyxcbiAgICAgICAgYXJndW1lbnRzOiBhcmdzLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV0d29yay5mZXRjaEZuKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgY2FsbGluZyByZWFkLW9ubHkgZnVuY3Rpb24uIFJlc3BvbnNlICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fS4gQXR0ZW1wdGVkIHRvIGZldGNoICR7dXJsfSBhbmQgZmFpbGVkIHdpdGggdGhlIG1lc3NhZ2U6IFwiJHttc2d9XCJgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKHJlc3BvbnNlSnNvbiA9PiAoMCwgdXRpbHNfMS5wYXJzZVJlYWRPbmx5UmVzcG9uc2UpKHJlc3BvbnNlSnNvbikpO1xufVxuZXhwb3J0cy5jYWxsUmVhZE9ubHlGdW5jdGlvbiA9IGNhbGxSZWFkT25seUZ1bmN0aW9uO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q29udHJhY3RNYXBFbnRyeShnZXRDb250cmFjdE1hcEVudHJ5T3B0aW9ucykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBuZXR3b3JrOiBuZXcgbmV0d29ya18xLlN0YWNrc01haW5uZXQoKSxcbiAgICB9O1xuICAgIGNvbnN0IHsgY29udHJhY3RBZGRyZXNzLCBjb250cmFjdE5hbWUsIG1hcE5hbWUsIG1hcEtleSwgbmV0d29yayB9ID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgZ2V0Q29udHJhY3RNYXBFbnRyeU9wdGlvbnMpO1xuICAgIGNvbnN0IGRlcml2ZWROZXR3b3JrID0gbmV0d29ya18xLlN0YWNrc05ldHdvcmsuZnJvbU5hbWVPck5ldHdvcmsobmV0d29yayk7XG4gICAgY29uc3QgdXJsID0gZGVyaXZlZE5ldHdvcmsuZ2V0TWFwRW50cnlVcmwoY29udHJhY3RBZGRyZXNzLCBjb250cmFjdE5hbWUsIG1hcE5hbWUpO1xuICAgIGNvbnN0IHNlcmlhbGl6ZWRLZXlCeXRlcyA9ICgwLCBjbGFyaXR5XzEuc2VyaWFsaXplQ1YpKG1hcEtleSk7XG4gICAgY29uc3Qgc2VyaWFsaXplZEtleUhleCA9ICcweCcgKyAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoc2VyaWFsaXplZEtleUJ5dGVzKTtcbiAgICBjb25zdCBmZXRjaE9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6ZWRLZXlIZXgpLFxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkZXJpdmVkTmV0d29yay5mZXRjaEZuKHVybCwgZmV0Y2hPcHRpb25zKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZmV0Y2hpbmcgbWFwIGVudHJ5IGZvciBtYXAgXCIke21hcE5hbWV9XCIgaW4gY29udHJhY3QgXCIke2NvbnRyYWN0TmFtZX1cIiBhdCBhZGRyZXNzICR7Y29udHJhY3RBZGRyZXNzfSwgdXNpbmcgbWFwIGtleSBcIiR7c2VyaWFsaXplZEtleUhleH1cIi4gUmVzcG9uc2UgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LiBBdHRlbXB0ZWQgdG8gZmV0Y2ggJHt1cmx9IGFuZCBmYWlsZWQgd2l0aCB0aGUgbWVzc2FnZTogXCIke21zZ31cImApO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc3QgcmVzcG9uc2VKc29uID0gSlNPTi5wYXJzZShyZXNwb25zZUJvZHkpO1xuICAgIGlmICghcmVzcG9uc2VKc29uLmRhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBmZXRjaGluZyBtYXAgZW50cnkgZm9yIG1hcCBcIiR7bWFwTmFtZX1cIiBpbiBjb250cmFjdCBcIiR7Y29udHJhY3ROYW1lfVwiIGF0IGFkZHJlc3MgJHtjb250cmFjdEFkZHJlc3N9LCB1c2luZyBtYXAga2V5IFwiJHtzZXJpYWxpemVkS2V5SGV4fVwiLiBSZXNwb25zZSAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uIEF0dGVtcHRlZCB0byBmZXRjaCAke3VybH0gYW5kIGZhaWxlZCB3aXRoIHRoZSByZXNwb25zZTogXCIke3Jlc3BvbnNlQm9keX1cImApO1xuICAgIH1cbiAgICBsZXQgZGVzZXJpYWxpemVkQ3Y7XG4gICAgdHJ5IHtcbiAgICAgICAgZGVzZXJpYWxpemVkQ3YgPSAoMCwgY2xhcml0eV8xLmRlc2VyaWFsaXplQ1YpKHJlc3BvbnNlSnNvbi5kYXRhKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVzZXJpYWxpemluZyBDbGFyaXR5IHZhbHVlIFwiJHtyZXNwb25zZUpzb24uZGF0YX1cIjogJHtlcnJvcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplZEN2O1xufVxuZXhwb3J0cy5nZXRDb250cmFjdE1hcEVudHJ5ID0gZ2V0Q29udHJhY3RNYXBFbnRyeTtcbmFzeW5jIGZ1bmN0aW9uIHNwb25zb3JUcmFuc2FjdGlvbihzcG9uc29yT3B0aW9ucykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBmZWU6IDAsXG4gICAgICAgIHNwb25zb3JOb25jZTogMCxcbiAgICAgICAgc3BvbnNvckFkZHJlc3NIYXNobW9kZTogY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyUEtILFxuICAgICAgICBuZXR3b3JrOiBzcG9uc29yT3B0aW9ucy50cmFuc2FjdGlvbi52ZXJzaW9uID09PSBjb25zdGFudHNfMS5UcmFuc2FjdGlvblZlcnNpb24uTWFpbm5ldFxuICAgICAgICAgICAgPyBuZXcgbmV0d29ya18xLlN0YWNrc01haW5uZXQoKVxuICAgICAgICAgICAgOiBuZXcgbmV0d29ya18xLlN0YWNrc1Rlc3RuZXQoKSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBzcG9uc29yT3B0aW9ucyk7XG4gICAgY29uc3QgbmV0d29yayA9IG5ldHdvcmtfMS5TdGFja3NOZXR3b3JrLmZyb21OYW1lT3JOZXR3b3JrKG9wdGlvbnMubmV0d29yayk7XG4gICAgY29uc3Qgc3BvbnNvclB1YktleSA9ICgwLCBrZXlzXzEucHViS2V5ZnJvbVByaXZLZXkpKG9wdGlvbnMuc3BvbnNvclByaXZhdGVLZXkpO1xuICAgIGlmIChzcG9uc29yT3B0aW9ucy5mZWUgPT09IHVuZGVmaW5lZCB8fCBzcG9uc29yT3B0aW9ucy5mZWUgPT09IG51bGwpIHtcbiAgICAgICAgbGV0IHR4RmVlID0gMDtcbiAgICAgICAgc3dpdGNoIChvcHRpb25zLnRyYW5zYWN0aW9uLnBheWxvYWQucGF5bG9hZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuVG9rZW5UcmFuc2ZlcjpcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuU21hcnRDb250cmFjdDpcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuVmVyc2lvbmVkU21hcnRDb250cmFjdDpcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuQ29udHJhY3RDYWxsOlxuICAgICAgICAgICAgICAgIGNvbnN0IGVzdGltYXRlZExlbiA9IGVzdGltYXRlVHJhbnNhY3Rpb25CeXRlTGVuZ3RoKG9wdGlvbnMudHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHR4RmVlID0gKGF3YWl0IGVzdGltYXRlVHJhbnNhY3Rpb24ob3B0aW9ucy50cmFuc2FjdGlvbi5wYXlsb2FkLCBlc3RpbWF0ZWRMZW4sIG5ldHdvcmspKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZlZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3BvbnNvcmVkIHRyYW5zYWN0aW9ucyBub3Qgc3VwcG9ydGVkIGZvciB0cmFuc2FjdGlvbiB0eXBlICR7Y29uc3RhbnRzXzEuUGF5bG9hZFR5cGVbb3B0aW9ucy50cmFuc2FjdGlvbi5wYXlsb2FkLnBheWxvYWRUeXBlXX1gKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnRyYW5zYWN0aW9uLnNldEZlZSh0eEZlZSk7XG4gICAgICAgIG9wdGlvbnMuZmVlID0gdHhGZWU7XG4gICAgfVxuICAgIGlmIChzcG9uc29yT3B0aW9ucy5zcG9uc29yTm9uY2UgPT09IHVuZGVmaW5lZCB8fCBzcG9uc29yT3B0aW9ucy5zcG9uc29yTm9uY2UgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgYWRkcmVzc1ZlcnNpb24gPSBuZXR3b3JrLnZlcnNpb24gPT09IGNvbnN0YW50c18xLlRyYW5zYWN0aW9uVmVyc2lvbi5NYWlubmV0XG4gICAgICAgICAgICA/IGNvbnN0YW50c18xLkFkZHJlc3NWZXJzaW9uLk1haW5uZXRTaW5nbGVTaWdcbiAgICAgICAgICAgIDogY29uc3RhbnRzXzEuQWRkcmVzc1ZlcnNpb24uVGVzdG5ldFNpbmdsZVNpZztcbiAgICAgICAgY29uc3Qgc2VuZGVyQWRkcmVzcyA9ICgwLCBrZXlzXzEucHVibGljS2V5VG9BZGRyZXNzKShhZGRyZXNzVmVyc2lvbiwgc3BvbnNvclB1YktleSk7XG4gICAgICAgIGNvbnN0IHNwb25zb3JOb25jZSA9IGF3YWl0IGdldE5vbmNlKHNlbmRlckFkZHJlc3MsIG5ldHdvcmspO1xuICAgICAgICBvcHRpb25zLnNwb25zb3JOb25jZSA9IHNwb25zb3JOb25jZTtcbiAgICB9XG4gICAgY29uc3Qgc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uID0gKDAsIGF1dGhvcml6YXRpb25fMS5jcmVhdGVTaW5nbGVTaWdTcGVuZGluZ0NvbmRpdGlvbikob3B0aW9ucy5zcG9uc29yQWRkcmVzc0hhc2htb2RlLCAoMCwga2V5c18xLnB1YmxpY0tleVRvU3RyaW5nKShzcG9uc29yUHViS2V5KSwgb3B0aW9ucy5zcG9uc29yTm9uY2UsIG9wdGlvbnMuZmVlKTtcbiAgICBvcHRpb25zLnRyYW5zYWN0aW9uLnNldFNwb25zb3Ioc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uKTtcbiAgICBjb25zdCBwcml2S2V5ID0gKDAsIGtleXNfMS5jcmVhdGVTdGFja3NQcml2YXRlS2V5KShvcHRpb25zLnNwb25zb3JQcml2YXRlS2V5KTtcbiAgICBjb25zdCBzaWduZXIgPSBzaWduZXJfMS5UcmFuc2FjdGlvblNpZ25lci5jcmVhdGVTcG9uc29yU2lnbmVyKG9wdGlvbnMudHJhbnNhY3Rpb24sIHNwb25zb3JTcGVuZGluZ0NvbmRpdGlvbik7XG4gICAgc2lnbmVyLnNpZ25TcG9uc29yKHByaXZLZXkpO1xuICAgIHJldHVybiBzaWduZXIudHJhbnNhY3Rpb247XG59XG5leHBvcnRzLnNwb25zb3JUcmFuc2FjdGlvbiA9IHNwb25zb3JUcmFuc2FjdGlvbjtcbmZ1bmN0aW9uIGVzdGltYXRlVHJhbnNhY3Rpb25CeXRlTGVuZ3RoKHRyYW5zYWN0aW9uKSB7XG4gICAgY29uc3QgaGFzaE1vZGUgPSB0cmFuc2FjdGlvbi5hdXRoLnNwZW5kaW5nQ29uZGl0aW9uLmhhc2hNb2RlO1xuICAgIGNvbnN0IG11bHRpU2lnSGFzaE1vZGVzID0gW2NvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMlNILCBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJXU0hdO1xuICAgIGlmIChtdWx0aVNpZ0hhc2hNb2Rlcy5pbmNsdWRlcyhoYXNoTW9kZSkpIHtcbiAgICAgICAgY29uc3QgbXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbiA9IHRyYW5zYWN0aW9uLmF1dGhcbiAgICAgICAgICAgIC5zcGVuZGluZ0NvbmRpdGlvbjtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdTaWduYXR1cmVzID0gbXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbi5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLmNvbnRlbnRzLnR5cGUgPT09IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLk1lc3NhZ2VTaWduYXR1cmUpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG90YWxTaWduYXR1cmVMZW5ndGggPSAobXVsdGlTaWdTcGVuZGluZ0NvbmRpdGlvbi5zaWduYXR1cmVzUmVxdWlyZWQgLSBleGlzdGluZ1NpZ25hdHVyZXMpICpcbiAgICAgICAgICAgIChjb25zdGFudHNfMS5SRUNPVkVSQUJMRV9FQ0RTQV9TSUdfTEVOR1RIX0JZVEVTICsgMSk7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbi5zZXJpYWxpemUoKS5ieXRlTGVuZ3RoICsgdG90YWxTaWduYXR1cmVMZW5ndGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb24uc2VyaWFsaXplKCkuYnl0ZUxlbmd0aDtcbiAgICB9XG59XG5leHBvcnRzLmVzdGltYXRlVHJhbnNhY3Rpb25CeXRlTGVuZ3RoID0gZXN0aW1hdGVUcmFuc2FjdGlvbkJ5dGVMZW5ndGg7XG5hc3luYyBmdW5jdGlvbiBlc3RpbWF0ZVRyYW5zYWN0aW9uRmVlV2l0aEZhbGxiYWNrKHRyYW5zYWN0aW9uLCBuZXR3b3JrKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXN0aW1hdGVkTGVuID0gZXN0aW1hdGVUcmFuc2FjdGlvbkJ5dGVMZW5ndGgodHJhbnNhY3Rpb24pO1xuICAgICAgICByZXR1cm4gKGF3YWl0IGVzdGltYXRlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24ucGF5bG9hZCwgZXN0aW1hdGVkTGVuLCBuZXR3b3JrKSlbMV0uZmVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgZXJyb3JzXzEuTm9Fc3RpbWF0ZUF2YWlsYWJsZUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgZXN0aW1hdGVUcmFuc2ZlclVuc2FmZSh0cmFuc2FjdGlvbiwgbmV0d29yayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuZXhwb3J0cy5lc3RpbWF0ZVRyYW5zYWN0aW9uRmVlV2l0aEZhbGxiYWNrID0gZXN0aW1hdGVUcmFuc2FjdGlvbkZlZVdpdGhGYWxsYmFjaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkZXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/builders.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/bytesReader.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/bytesReader.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BytesReader = exports.isEnum = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nfunction createEnumChecker(enumVariable) {\n    const enumValues = Object.values(enumVariable).filter(v => typeof v === 'number');\n    const enumValueSet = new Set(enumValues);\n    return (value) => enumValueSet.has(value);\n}\nconst enumCheckFunctions = new Map();\nfunction isEnum(enumVariable, value) {\n    const checker = enumCheckFunctions.get(enumVariable);\n    if (checker !== undefined) {\n        return checker(value);\n    }\n    const newChecker = createEnumChecker(enumVariable);\n    enumCheckFunctions.set(enumVariable, newChecker);\n    return isEnum(enumVariable, value);\n}\nexports.isEnum = isEnum;\nclass BytesReader {\n    constructor(arr) {\n        this.consumed = 0;\n        this.source = arr;\n    }\n    readBytes(length) {\n        const view = this.source.subarray(this.consumed, this.consumed + length);\n        this.consumed += length;\n        return view;\n    }\n    readUInt32BE() {\n        return (0, common_1.readUInt32BE)(this.readBytes(4), 0);\n    }\n    readUInt8() {\n        return (0, common_1.readUInt8)(this.readBytes(1), 0);\n    }\n    readUInt16BE() {\n        return (0, common_1.readUInt16BE)(this.readBytes(2), 0);\n    }\n    readBigUIntLE(length) {\n        const bytes = this.readBytes(length).slice().reverse();\n        const hex = (0, common_1.bytesToHex)(bytes);\n        return BigInt(`0x${hex}`);\n    }\n    readBigUIntBE(length) {\n        const bytes = this.readBytes(length);\n        const hex = (0, common_1.bytesToHex)(bytes);\n        return BigInt(`0x${hex}`);\n    }\n    get readOffset() {\n        return this.consumed;\n    }\n    set readOffset(val) {\n        this.consumed = val;\n    }\n    get internalBytes() {\n        return this.source;\n    }\n    readUInt8Enum(enumVariable, invalidEnumErrorFormatter) {\n        const num = this.readUInt8();\n        if (isEnum(enumVariable, num)) {\n            return num;\n        }\n        throw invalidEnumErrorFormatter(num);\n    }\n}\nexports.BytesReader = BytesReader;\n//# sourceMappingURL=bytesReader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9ieXRlc1JlYWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsR0FBRyxjQUFjO0FBQ3BDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsSUFBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixJQUFJO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L2J5dGVzUmVhZGVyLmpzPzJmNmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ5dGVzUmVhZGVyID0gZXhwb3J0cy5pc0VudW0gPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmZ1bmN0aW9uIGNyZWF0ZUVudW1DaGVja2VyKGVudW1WYXJpYWJsZSkge1xuICAgIGNvbnN0IGVudW1WYWx1ZXMgPSBPYmplY3QudmFsdWVzKGVudW1WYXJpYWJsZSkuZmlsdGVyKHYgPT4gdHlwZW9mIHYgPT09ICdudW1iZXInKTtcbiAgICBjb25zdCBlbnVtVmFsdWVTZXQgPSBuZXcgU2V0KGVudW1WYWx1ZXMpO1xuICAgIHJldHVybiAodmFsdWUpID0+IGVudW1WYWx1ZVNldC5oYXModmFsdWUpO1xufVxuY29uc3QgZW51bUNoZWNrRnVuY3Rpb25zID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gaXNFbnVtKGVudW1WYXJpYWJsZSwgdmFsdWUpIHtcbiAgICBjb25zdCBjaGVja2VyID0gZW51bUNoZWNrRnVuY3Rpb25zLmdldChlbnVtVmFyaWFibGUpO1xuICAgIGlmIChjaGVja2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrZXIodmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCBuZXdDaGVja2VyID0gY3JlYXRlRW51bUNoZWNrZXIoZW51bVZhcmlhYmxlKTtcbiAgICBlbnVtQ2hlY2tGdW5jdGlvbnMuc2V0KGVudW1WYXJpYWJsZSwgbmV3Q2hlY2tlcik7XG4gICAgcmV0dXJuIGlzRW51bShlbnVtVmFyaWFibGUsIHZhbHVlKTtcbn1cbmV4cG9ydHMuaXNFbnVtID0gaXNFbnVtO1xuY2xhc3MgQnl0ZXNSZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGFycikge1xuICAgICAgICB0aGlzLmNvbnN1bWVkID0gMDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBhcnI7XG4gICAgfVxuICAgIHJlYWRCeXRlcyhsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuc291cmNlLnN1YmFycmF5KHRoaXMuY29uc3VtZWQsIHRoaXMuY29uc3VtZWQgKyBsZW5ndGgpO1xuICAgICAgICB0aGlzLmNvbnN1bWVkICs9IGxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIHJlYWRVSW50MzJCRSgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBjb21tb25fMS5yZWFkVUludDMyQkUpKHRoaXMucmVhZEJ5dGVzKDQpLCAwKTtcbiAgICB9XG4gICAgcmVhZFVJbnQ4KCkge1xuICAgICAgICByZXR1cm4gKDAsIGNvbW1vbl8xLnJlYWRVSW50OCkodGhpcy5yZWFkQnl0ZXMoMSksIDApO1xuICAgIH1cbiAgICByZWFkVUludDE2QkUoKSB7XG4gICAgICAgIHJldHVybiAoMCwgY29tbW9uXzEucmVhZFVJbnQxNkJFKSh0aGlzLnJlYWRCeXRlcygyKSwgMCk7XG4gICAgfVxuICAgIHJlYWRCaWdVSW50TEUobGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gdGhpcy5yZWFkQnl0ZXMobGVuZ3RoKS5zbGljZSgpLnJldmVyc2UoKTtcbiAgICAgICAgY29uc3QgaGV4ID0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKGJ5dGVzKTtcbiAgICAgICAgcmV0dXJuIEJpZ0ludChgMHgke2hleH1gKTtcbiAgICB9XG4gICAgcmVhZEJpZ1VJbnRCRShsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYnl0ZXMgPSB0aGlzLnJlYWRCeXRlcyhsZW5ndGgpO1xuICAgICAgICBjb25zdCBoZXggPSAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoYnl0ZXMpO1xuICAgICAgICByZXR1cm4gQmlnSW50KGAweCR7aGV4fWApO1xuICAgIH1cbiAgICBnZXQgcmVhZE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZWQ7XG4gICAgfVxuICAgIHNldCByZWFkT2Zmc2V0KHZhbCkge1xuICAgICAgICB0aGlzLmNvbnN1bWVkID0gdmFsO1xuICAgIH1cbiAgICBnZXQgaW50ZXJuYWxCeXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xuICAgIH1cbiAgICByZWFkVUludDhFbnVtKGVudW1WYXJpYWJsZSwgaW52YWxpZEVudW1FcnJvckZvcm1hdHRlcikge1xuICAgICAgICBjb25zdCBudW0gPSB0aGlzLnJlYWRVSW50OCgpO1xuICAgICAgICBpZiAoaXNFbnVtKGVudW1WYXJpYWJsZSwgbnVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBpbnZhbGlkRW51bUVycm9yRm9ybWF0dGVyKG51bSk7XG4gICAgfVxufVxuZXhwb3J0cy5CeXRlc1JlYWRlciA9IEJ5dGVzUmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ynl0ZXNSZWFkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/bytesReader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/cl.js":
/*!******************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/cl.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deserialize = exports.serialize = exports.tuple = exports.error = exports.ok = exports.some = exports.none = exports.bufferFromUtf8 = exports.bufferFromAscii = exports.bufferFromHex = exports.buffer = exports.stringUtf8 = exports.stringAscii = exports.list = exports.standardPrincipal = exports.contractPrincipal = exports.uint = exports.int = exports.bool = exports.prettyPrint = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst clarity_1 = __webpack_require__(/*! ./clarity */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nvar prettyPrint_1 = __webpack_require__(/*! ./clarity/prettyPrint */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/prettyPrint.js\");\nObject.defineProperty(exports, \"prettyPrint\", ({ enumerable: true, get: function () { return prettyPrint_1.prettyPrint; } }));\nexports.bool = clarity_1.boolCV;\nexports.int = clarity_1.intCV;\nexports.uint = clarity_1.uintCV;\nexports.contractPrincipal = clarity_1.contractPrincipalCV;\nexports.standardPrincipal = clarity_1.standardPrincipalCV;\nexports.list = clarity_1.listCV;\nexports.stringAscii = clarity_1.stringAsciiCV;\nexports.stringUtf8 = clarity_1.stringUtf8CV;\nexports.buffer = clarity_1.bufferCV;\nconst bufferFromHex = (hex) => (0, clarity_1.bufferCV)((0, common_1.hexToBytes)(hex));\nexports.bufferFromHex = bufferFromHex;\nconst bufferFromAscii = (ascii) => (0, clarity_1.bufferCV)((0, common_1.asciiToBytes)(ascii));\nexports.bufferFromAscii = bufferFromAscii;\nconst bufferFromUtf8 = (utf8) => (0, clarity_1.bufferCV)((0, common_1.utf8ToBytes)(utf8));\nexports.bufferFromUtf8 = bufferFromUtf8;\nexports.none = clarity_1.noneCV;\nexports.some = clarity_1.someCV;\nexports.ok = clarity_1.responseOkCV;\nexports.error = clarity_1.responseErrorCV;\nexports.tuple = clarity_1.tupleCV;\nexports.serialize = clarity_1.serializeCV;\nexports.deserialize = clarity_1.deserializeCV;\n//# sourceMappingURL=cl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsR0FBRyxpQkFBaUIsR0FBRyxhQUFhLEdBQUcsYUFBYSxHQUFHLFVBQVUsR0FBRyxZQUFZLEdBQUcsWUFBWSxHQUFHLHNCQUFzQixHQUFHLHVCQUF1QixHQUFHLHFCQUFxQixHQUFHLGNBQWMsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyxZQUFZLEdBQUcseUJBQXlCLEdBQUcseUJBQXlCLEdBQUcsWUFBWSxHQUFHLFdBQVcsR0FBRyxZQUFZLEdBQUcsbUJBQW1CO0FBQ2xZLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxrQkFBa0IsbUJBQU8sQ0FBQyxrRkFBVztBQUNyQyxvQkFBb0IsbUJBQU8sQ0FBQyxvR0FBdUI7QUFDbkQsK0NBQThDLEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQzNILFlBQVk7QUFDWixXQUFXO0FBQ1gsWUFBWTtBQUNaLHlCQUF5QjtBQUN6Qix5QkFBeUI7QUFDekIsWUFBWTtBQUNaLG1CQUFtQjtBQUNuQixrQkFBa0I7QUFDbEIsY0FBYztBQUNkO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0Esc0JBQXNCO0FBQ3RCLFlBQVk7QUFDWixZQUFZO0FBQ1osVUFBVTtBQUNWLGFBQWE7QUFDYixhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCLG1CQUFtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L2NsLmpzPzRiNDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlc2VyaWFsaXplID0gZXhwb3J0cy5zZXJpYWxpemUgPSBleHBvcnRzLnR1cGxlID0gZXhwb3J0cy5lcnJvciA9IGV4cG9ydHMub2sgPSBleHBvcnRzLnNvbWUgPSBleHBvcnRzLm5vbmUgPSBleHBvcnRzLmJ1ZmZlckZyb21VdGY4ID0gZXhwb3J0cy5idWZmZXJGcm9tQXNjaWkgPSBleHBvcnRzLmJ1ZmZlckZyb21IZXggPSBleHBvcnRzLmJ1ZmZlciA9IGV4cG9ydHMuc3RyaW5nVXRmOCA9IGV4cG9ydHMuc3RyaW5nQXNjaWkgPSBleHBvcnRzLmxpc3QgPSBleHBvcnRzLnN0YW5kYXJkUHJpbmNpcGFsID0gZXhwb3J0cy5jb250cmFjdFByaW5jaXBhbCA9IGV4cG9ydHMudWludCA9IGV4cG9ydHMuaW50ID0gZXhwb3J0cy5ib29sID0gZXhwb3J0cy5wcmV0dHlQcmludCA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgY2xhcml0eV8xID0gcmVxdWlyZShcIi4vY2xhcml0eVwiKTtcbnZhciBwcmV0dHlQcmludF8xID0gcmVxdWlyZShcIi4vY2xhcml0eS9wcmV0dHlQcmludFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInByZXR0eVByaW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcmV0dHlQcmludF8xLnByZXR0eVByaW50OyB9IH0pO1xuZXhwb3J0cy5ib29sID0gY2xhcml0eV8xLmJvb2xDVjtcbmV4cG9ydHMuaW50ID0gY2xhcml0eV8xLmludENWO1xuZXhwb3J0cy51aW50ID0gY2xhcml0eV8xLnVpbnRDVjtcbmV4cG9ydHMuY29udHJhY3RQcmluY2lwYWwgPSBjbGFyaXR5XzEuY29udHJhY3RQcmluY2lwYWxDVjtcbmV4cG9ydHMuc3RhbmRhcmRQcmluY2lwYWwgPSBjbGFyaXR5XzEuc3RhbmRhcmRQcmluY2lwYWxDVjtcbmV4cG9ydHMubGlzdCA9IGNsYXJpdHlfMS5saXN0Q1Y7XG5leHBvcnRzLnN0cmluZ0FzY2lpID0gY2xhcml0eV8xLnN0cmluZ0FzY2lpQ1Y7XG5leHBvcnRzLnN0cmluZ1V0ZjggPSBjbGFyaXR5XzEuc3RyaW5nVXRmOENWO1xuZXhwb3J0cy5idWZmZXIgPSBjbGFyaXR5XzEuYnVmZmVyQ1Y7XG5jb25zdCBidWZmZXJGcm9tSGV4ID0gKGhleCkgPT4gKDAsIGNsYXJpdHlfMS5idWZmZXJDVikoKDAsIGNvbW1vbl8xLmhleFRvQnl0ZXMpKGhleCkpO1xuZXhwb3J0cy5idWZmZXJGcm9tSGV4ID0gYnVmZmVyRnJvbUhleDtcbmNvbnN0IGJ1ZmZlckZyb21Bc2NpaSA9IChhc2NpaSkgPT4gKDAsIGNsYXJpdHlfMS5idWZmZXJDVikoKDAsIGNvbW1vbl8xLmFzY2lpVG9CeXRlcykoYXNjaWkpKTtcbmV4cG9ydHMuYnVmZmVyRnJvbUFzY2lpID0gYnVmZmVyRnJvbUFzY2lpO1xuY29uc3QgYnVmZmVyRnJvbVV0ZjggPSAodXRmOCkgPT4gKDAsIGNsYXJpdHlfMS5idWZmZXJDVikoKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKSh1dGY4KSk7XG5leHBvcnRzLmJ1ZmZlckZyb21VdGY4ID0gYnVmZmVyRnJvbVV0Zjg7XG5leHBvcnRzLm5vbmUgPSBjbGFyaXR5XzEubm9uZUNWO1xuZXhwb3J0cy5zb21lID0gY2xhcml0eV8xLnNvbWVDVjtcbmV4cG9ydHMub2sgPSBjbGFyaXR5XzEucmVzcG9uc2VPa0NWO1xuZXhwb3J0cy5lcnJvciA9IGNsYXJpdHlfMS5yZXNwb25zZUVycm9yQ1Y7XG5leHBvcnRzLnR1cGxlID0gY2xhcml0eV8xLnR1cGxlQ1Y7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IGNsYXJpdHlfMS5zZXJpYWxpemVDVjtcbmV4cG9ydHMuZGVzZXJpYWxpemUgPSBjbGFyaXR5XzEuZGVzZXJpYWxpemVDVjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/cl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/clarityValue.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/clarityValue.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getCVTypeString = exports.cvToJSON = exports.cvToValue = exports.cvToString = void 0;\nconst principalCV_1 = __webpack_require__(/*! ./types/principalCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/principalCV.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nfunction cvToString(val, encoding = 'hex') {\n    switch (val.type) {\n        case constants_1.ClarityType.BoolTrue:\n            return 'true';\n        case constants_1.ClarityType.BoolFalse:\n            return 'false';\n        case constants_1.ClarityType.Int:\n            return val.value.toString();\n        case constants_1.ClarityType.UInt:\n            return `u${val.value.toString()}`;\n        case constants_1.ClarityType.Buffer:\n            if (encoding === 'tryAscii') {\n                const str = (0, common_1.bytesToAscii)(val.buffer);\n                if (/[ -~]/.test(str)) {\n                    return JSON.stringify(str);\n                }\n            }\n            return `0x${(0, common_1.bytesToHex)(val.buffer)}`;\n        case constants_1.ClarityType.OptionalNone:\n            return 'none';\n        case constants_1.ClarityType.OptionalSome:\n            return `(some ${cvToString(val.value, encoding)})`;\n        case constants_1.ClarityType.ResponseErr:\n            return `(err ${cvToString(val.value, encoding)})`;\n        case constants_1.ClarityType.ResponseOk:\n            return `(ok ${cvToString(val.value, encoding)})`;\n        case constants_1.ClarityType.PrincipalStandard:\n        case constants_1.ClarityType.PrincipalContract:\n            return (0, principalCV_1.principalToString)(val);\n        case constants_1.ClarityType.List:\n            return `(list ${val.list.map(v => cvToString(v, encoding)).join(' ')})`;\n        case constants_1.ClarityType.Tuple:\n            return `(tuple ${Object.keys(val.data)\n                .map(key => `(${key} ${cvToString(val.data[key], encoding)})`)\n                .join(' ')})`;\n        case constants_1.ClarityType.StringASCII:\n            return `\"${val.data}\"`;\n        case constants_1.ClarityType.StringUTF8:\n            return `u\"${val.data}\"`;\n    }\n}\nexports.cvToString = cvToString;\nfunction cvToValue(val, strictJsonCompat = false) {\n    switch (val.type) {\n        case constants_1.ClarityType.BoolTrue:\n            return true;\n        case constants_1.ClarityType.BoolFalse:\n            return false;\n        case constants_1.ClarityType.Int:\n        case constants_1.ClarityType.UInt:\n            if (strictJsonCompat) {\n                return val.value.toString();\n            }\n            return val.value;\n        case constants_1.ClarityType.Buffer:\n            return `0x${(0, common_1.bytesToHex)(val.buffer)}`;\n        case constants_1.ClarityType.OptionalNone:\n            return null;\n        case constants_1.ClarityType.OptionalSome:\n            return cvToJSON(val.value);\n        case constants_1.ClarityType.ResponseErr:\n            return cvToJSON(val.value);\n        case constants_1.ClarityType.ResponseOk:\n            return cvToJSON(val.value);\n        case constants_1.ClarityType.PrincipalStandard:\n        case constants_1.ClarityType.PrincipalContract:\n            return (0, principalCV_1.principalToString)(val);\n        case constants_1.ClarityType.List:\n            return val.list.map(v => cvToJSON(v));\n        case constants_1.ClarityType.Tuple:\n            const result = {};\n            Object.keys(val.data).forEach(key => {\n                result[key] = cvToJSON(val.data[key]);\n            });\n            return result;\n        case constants_1.ClarityType.StringASCII:\n            return val.data;\n        case constants_1.ClarityType.StringUTF8:\n            return val.data;\n    }\n}\nexports.cvToValue = cvToValue;\nfunction cvToJSON(val) {\n    switch (val.type) {\n        case constants_1.ClarityType.ResponseErr:\n            return { type: getCVTypeString(val), value: cvToValue(val, true), success: false };\n        case constants_1.ClarityType.ResponseOk:\n            return { type: getCVTypeString(val), value: cvToValue(val, true), success: true };\n        default:\n            return { type: getCVTypeString(val), value: cvToValue(val, true) };\n    }\n}\nexports.cvToJSON = cvToJSON;\nfunction getCVTypeString(val) {\n    switch (val.type) {\n        case constants_1.ClarityType.BoolTrue:\n        case constants_1.ClarityType.BoolFalse:\n            return 'bool';\n        case constants_1.ClarityType.Int:\n            return 'int';\n        case constants_1.ClarityType.UInt:\n            return 'uint';\n        case constants_1.ClarityType.Buffer:\n            return `(buff ${val.buffer.length})`;\n        case constants_1.ClarityType.OptionalNone:\n            return '(optional none)';\n        case constants_1.ClarityType.OptionalSome:\n            return `(optional ${getCVTypeString(val.value)})`;\n        case constants_1.ClarityType.ResponseErr:\n            return `(response UnknownType ${getCVTypeString(val.value)})`;\n        case constants_1.ClarityType.ResponseOk:\n            return `(response ${getCVTypeString(val.value)} UnknownType)`;\n        case constants_1.ClarityType.PrincipalStandard:\n        case constants_1.ClarityType.PrincipalContract:\n            return 'principal';\n        case constants_1.ClarityType.List:\n            return `(list ${val.list.length} ${val.list.length ? getCVTypeString(val.list[0]) : 'UnknownType'})`;\n        case constants_1.ClarityType.Tuple:\n            return `(tuple ${Object.keys(val.data)\n                .map(key => `(${key} ${getCVTypeString(val.data[key])})`)\n                .join(' ')})`;\n        case constants_1.ClarityType.StringASCII:\n            return `(string-ascii ${(0, common_1.asciiToBytes)(val.data).length})`;\n        case constants_1.ClarityType.StringUTF8:\n            return `(string-utf8 ${(0, common_1.utf8ToBytes)(val.data).length})`;\n    }\n}\nexports.getCVTypeString = getCVTypeString;\n//# sourceMappingURL=clarityValue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L2NsYXJpdHlWYWx1ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUIsR0FBRyxnQkFBZ0IsR0FBRyxpQkFBaUIsR0FBRyxrQkFBa0I7QUFDbkYsc0JBQXNCLG1CQUFPLENBQUMsd0dBQXFCO0FBQ25ELG9CQUFvQixtQkFBTyxDQUFDLHdGQUFhO0FBQ3pDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscUJBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFDQUFxQztBQUM3RDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0NBQWdDO0FBQzVEO0FBQ0EsMkJBQTJCLGdDQUFnQztBQUMzRDtBQUNBLDBCQUEwQixnQ0FBZ0M7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscURBQXFEO0FBQ2pGO0FBQ0EsNkJBQTZCO0FBQzdCLGdDQUFnQyxLQUFLLEVBQUUsb0NBQW9DO0FBQzNFLDJCQUEyQjtBQUMzQjtBQUNBLHVCQUF1QixTQUFTO0FBQ2hDO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQ0FBcUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJCQUEyQjtBQUMzRDtBQUNBLDRDQUE0QywyQkFBMkI7QUFDdkU7QUFDQSxnQ0FBZ0MsNEJBQTRCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlCQUFpQixFQUFFLCtEQUErRDtBQUM5RztBQUNBLDZCQUE2QjtBQUM3QixnQ0FBZ0MsS0FBSyxFQUFFLCtCQUErQjtBQUN0RSwyQkFBMkI7QUFDM0I7QUFDQSxvQ0FBb0MsNENBQTRDO0FBQ2hGO0FBQ0EsbUNBQW1DLDJDQUEyQztBQUM5RTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvY2xhcml0eS9jbGFyaXR5VmFsdWUuanM/MTZhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0Q1ZUeXBlU3RyaW5nID0gZXhwb3J0cy5jdlRvSlNPTiA9IGV4cG9ydHMuY3ZUb1ZhbHVlID0gZXhwb3J0cy5jdlRvU3RyaW5nID0gdm9pZCAwO1xuY29uc3QgcHJpbmNpcGFsQ1ZfMSA9IHJlcXVpcmUoXCIuL3R5cGVzL3ByaW5jaXBhbENWXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmZ1bmN0aW9uIGN2VG9TdHJpbmcodmFsLCBlbmNvZGluZyA9ICdoZXgnKSB7XG4gICAgc3dpdGNoICh2YWwudHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJvb2xUcnVlOlxuICAgICAgICAgICAgcmV0dXJuICd0cnVlJztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5Cb29sRmFsc2U6XG4gICAgICAgICAgICByZXR1cm4gJ2ZhbHNlJztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5JbnQ6XG4gICAgICAgICAgICByZXR1cm4gdmFsLnZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuVUludDpcbiAgICAgICAgICAgIHJldHVybiBgdSR7dmFsLnZhbHVlLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5CdWZmZXI6XG4gICAgICAgICAgICBpZiAoZW5jb2RpbmcgPT09ICd0cnlBc2NpaScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHIgPSAoMCwgY29tbW9uXzEuYnl0ZXNUb0FzY2lpKSh2YWwuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoL1sgLX5dLy50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHN0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGAweCR7KDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKHZhbC5idWZmZXIpfWA7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuT3B0aW9uYWxOb25lOlxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5PcHRpb25hbFNvbWU6XG4gICAgICAgICAgICByZXR1cm4gYChzb21lICR7Y3ZUb1N0cmluZyh2YWwudmFsdWUsIGVuY29kaW5nKX0pYDtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5SZXNwb25zZUVycjpcbiAgICAgICAgICAgIHJldHVybiBgKGVyciAke2N2VG9TdHJpbmcodmFsLnZhbHVlLCBlbmNvZGluZyl9KWA7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUmVzcG9uc2VPazpcbiAgICAgICAgICAgIHJldHVybiBgKG9rICR7Y3ZUb1N0cmluZyh2YWwudmFsdWUsIGVuY29kaW5nKX0pYDtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxTdGFuZGFyZDpcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxDb250cmFjdDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgcHJpbmNpcGFsQ1ZfMS5wcmluY2lwYWxUb1N0cmluZykodmFsKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5MaXN0OlxuICAgICAgICAgICAgcmV0dXJuIGAobGlzdCAke3ZhbC5saXN0Lm1hcCh2ID0+IGN2VG9TdHJpbmcodiwgZW5jb2RpbmcpKS5qb2luKCcgJyl9KWA7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuVHVwbGU6XG4gICAgICAgICAgICByZXR1cm4gYCh0dXBsZSAke09iamVjdC5rZXlzKHZhbC5kYXRhKVxuICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IGAoJHtrZXl9ICR7Y3ZUb1N0cmluZyh2YWwuZGF0YVtrZXldLCBlbmNvZGluZyl9KWApXG4gICAgICAgICAgICAgICAgLmpvaW4oJyAnKX0pYDtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5TdHJpbmdBU0NJSTpcbiAgICAgICAgICAgIHJldHVybiBgXCIke3ZhbC5kYXRhfVwiYDtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5TdHJpbmdVVEY4OlxuICAgICAgICAgICAgcmV0dXJuIGB1XCIke3ZhbC5kYXRhfVwiYDtcbiAgICB9XG59XG5leHBvcnRzLmN2VG9TdHJpbmcgPSBjdlRvU3RyaW5nO1xuZnVuY3Rpb24gY3ZUb1ZhbHVlKHZhbCwgc3RyaWN0SnNvbkNvbXBhdCA9IGZhbHNlKSB7XG4gICAgc3dpdGNoICh2YWwudHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJvb2xUcnVlOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuQm9vbEZhbHNlOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkludDpcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5VSW50OlxuICAgICAgICAgICAgaWYgKHN0cmljdEpzb25Db21wYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsLnZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsLnZhbHVlO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJ1ZmZlcjpcbiAgICAgICAgICAgIHJldHVybiBgMHgkeygwLCBjb21tb25fMS5ieXRlc1RvSGV4KSh2YWwuYnVmZmVyKX1gO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLk9wdGlvbmFsTm9uZTpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLk9wdGlvbmFsU29tZTpcbiAgICAgICAgICAgIHJldHVybiBjdlRvSlNPTih2YWwudmFsdWUpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlJlc3BvbnNlRXJyOlxuICAgICAgICAgICAgcmV0dXJuIGN2VG9KU09OKHZhbC52YWx1ZSk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUmVzcG9uc2VPazpcbiAgICAgICAgICAgIHJldHVybiBjdlRvSlNPTih2YWwudmFsdWUpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlByaW5jaXBhbFN0YW5kYXJkOlxuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlByaW5jaXBhbENvbnRyYWN0OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBwcmluY2lwYWxDVl8xLnByaW5jaXBhbFRvU3RyaW5nKSh2YWwpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkxpc3Q6XG4gICAgICAgICAgICByZXR1cm4gdmFsLmxpc3QubWFwKHYgPT4gY3ZUb0pTT04odikpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlR1cGxlOlxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh2YWwuZGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gY3ZUb0pTT04odmFsLmRhdGFba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuU3RyaW5nQVNDSUk6XG4gICAgICAgICAgICByZXR1cm4gdmFsLmRhdGE7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuU3RyaW5nVVRGODpcbiAgICAgICAgICAgIHJldHVybiB2YWwuZGF0YTtcbiAgICB9XG59XG5leHBvcnRzLmN2VG9WYWx1ZSA9IGN2VG9WYWx1ZTtcbmZ1bmN0aW9uIGN2VG9KU09OKHZhbCkge1xuICAgIHN3aXRjaCAodmFsLnR5cGUpIHtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5SZXNwb25zZUVycjpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IGdldENWVHlwZVN0cmluZyh2YWwpLCB2YWx1ZTogY3ZUb1ZhbHVlKHZhbCwgdHJ1ZSksIHN1Y2Nlc3M6IGZhbHNlIH07XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUmVzcG9uc2VPazpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IGdldENWVHlwZVN0cmluZyh2YWwpLCB2YWx1ZTogY3ZUb1ZhbHVlKHZhbCwgdHJ1ZSksIHN1Y2Nlc3M6IHRydWUgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IGdldENWVHlwZVN0cmluZyh2YWwpLCB2YWx1ZTogY3ZUb1ZhbHVlKHZhbCwgdHJ1ZSkgfTtcbiAgICB9XG59XG5leHBvcnRzLmN2VG9KU09OID0gY3ZUb0pTT047XG5mdW5jdGlvbiBnZXRDVlR5cGVTdHJpbmcodmFsKSB7XG4gICAgc3dpdGNoICh2YWwudHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJvb2xUcnVlOlxuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJvb2xGYWxzZTpcbiAgICAgICAgICAgIHJldHVybiAnYm9vbCc7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuSW50OlxuICAgICAgICAgICAgcmV0dXJuICdpbnQnO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlVJbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ3VpbnQnO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJ1ZmZlcjpcbiAgICAgICAgICAgIHJldHVybiBgKGJ1ZmYgJHt2YWwuYnVmZmVyLmxlbmd0aH0pYDtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5PcHRpb25hbE5vbmU6XG4gICAgICAgICAgICByZXR1cm4gJyhvcHRpb25hbCBub25lKSc7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuT3B0aW9uYWxTb21lOlxuICAgICAgICAgICAgcmV0dXJuIGAob3B0aW9uYWwgJHtnZXRDVlR5cGVTdHJpbmcodmFsLnZhbHVlKX0pYDtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5SZXNwb25zZUVycjpcbiAgICAgICAgICAgIHJldHVybiBgKHJlc3BvbnNlIFVua25vd25UeXBlICR7Z2V0Q1ZUeXBlU3RyaW5nKHZhbC52YWx1ZSl9KWA7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUmVzcG9uc2VPazpcbiAgICAgICAgICAgIHJldHVybiBgKHJlc3BvbnNlICR7Z2V0Q1ZUeXBlU3RyaW5nKHZhbC52YWx1ZSl9IFVua25vd25UeXBlKWA7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUHJpbmNpcGFsU3RhbmRhcmQ6XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUHJpbmNpcGFsQ29udHJhY3Q6XG4gICAgICAgICAgICByZXR1cm4gJ3ByaW5jaXBhbCc7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuTGlzdDpcbiAgICAgICAgICAgIHJldHVybiBgKGxpc3QgJHt2YWwubGlzdC5sZW5ndGh9ICR7dmFsLmxpc3QubGVuZ3RoID8gZ2V0Q1ZUeXBlU3RyaW5nKHZhbC5saXN0WzBdKSA6ICdVbmtub3duVHlwZSd9KWA7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuVHVwbGU6XG4gICAgICAgICAgICByZXR1cm4gYCh0dXBsZSAke09iamVjdC5rZXlzKHZhbC5kYXRhKVxuICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IGAoJHtrZXl9ICR7Z2V0Q1ZUeXBlU3RyaW5nKHZhbC5kYXRhW2tleV0pfSlgKVxuICAgICAgICAgICAgICAgIC5qb2luKCcgJyl9KWA7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuU3RyaW5nQVNDSUk6XG4gICAgICAgICAgICByZXR1cm4gYChzdHJpbmctYXNjaWkgJHsoMCwgY29tbW9uXzEuYXNjaWlUb0J5dGVzKSh2YWwuZGF0YSkubGVuZ3RofSlgO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlN0cmluZ1VURjg6XG4gICAgICAgICAgICByZXR1cm4gYChzdHJpbmctdXRmOCAkeygwLCBjb21tb25fMS51dGY4VG9CeXRlcykodmFsLmRhdGEpLmxlbmd0aH0pYDtcbiAgICB9XG59XG5leHBvcnRzLmdldENWVHlwZVN0cmluZyA9IGdldENWVHlwZVN0cmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsYXJpdHlWYWx1ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/clarityValue.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/constants.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ClarityType = void 0;\nvar ClarityType;\n(function (ClarityType) {\n    ClarityType[ClarityType[\"Int\"] = 0] = \"Int\";\n    ClarityType[ClarityType[\"UInt\"] = 1] = \"UInt\";\n    ClarityType[ClarityType[\"Buffer\"] = 2] = \"Buffer\";\n    ClarityType[ClarityType[\"BoolTrue\"] = 3] = \"BoolTrue\";\n    ClarityType[ClarityType[\"BoolFalse\"] = 4] = \"BoolFalse\";\n    ClarityType[ClarityType[\"PrincipalStandard\"] = 5] = \"PrincipalStandard\";\n    ClarityType[ClarityType[\"PrincipalContract\"] = 6] = \"PrincipalContract\";\n    ClarityType[ClarityType[\"ResponseOk\"] = 7] = \"ResponseOk\";\n    ClarityType[ClarityType[\"ResponseErr\"] = 8] = \"ResponseErr\";\n    ClarityType[ClarityType[\"OptionalNone\"] = 9] = \"OptionalNone\";\n    ClarityType[ClarityType[\"OptionalSome\"] = 10] = \"OptionalSome\";\n    ClarityType[ClarityType[\"List\"] = 11] = \"List\";\n    ClarityType[ClarityType[\"Tuple\"] = 12] = \"Tuple\";\n    ClarityType[ClarityType[\"StringASCII\"] = 13] = \"StringASCII\";\n    ClarityType[ClarityType[\"StringUTF8\"] = 14] = \"StringUTF8\";\n})(ClarityType || (exports.ClarityType = ClarityType = {}));\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCLG1CQUFtQixtQkFBbUI7QUFDekQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L2NvbnN0YW50cy5qcz8zMzg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGFyaXR5VHlwZSA9IHZvaWQgMDtcbnZhciBDbGFyaXR5VHlwZTtcbihmdW5jdGlvbiAoQ2xhcml0eVR5cGUpIHtcbiAgICBDbGFyaXR5VHlwZVtDbGFyaXR5VHlwZVtcIkludFwiXSA9IDBdID0gXCJJbnRcIjtcbiAgICBDbGFyaXR5VHlwZVtDbGFyaXR5VHlwZVtcIlVJbnRcIl0gPSAxXSA9IFwiVUludFwiO1xuICAgIENsYXJpdHlUeXBlW0NsYXJpdHlUeXBlW1wiQnVmZmVyXCJdID0gMl0gPSBcIkJ1ZmZlclwiO1xuICAgIENsYXJpdHlUeXBlW0NsYXJpdHlUeXBlW1wiQm9vbFRydWVcIl0gPSAzXSA9IFwiQm9vbFRydWVcIjtcbiAgICBDbGFyaXR5VHlwZVtDbGFyaXR5VHlwZVtcIkJvb2xGYWxzZVwiXSA9IDRdID0gXCJCb29sRmFsc2VcIjtcbiAgICBDbGFyaXR5VHlwZVtDbGFyaXR5VHlwZVtcIlByaW5jaXBhbFN0YW5kYXJkXCJdID0gNV0gPSBcIlByaW5jaXBhbFN0YW5kYXJkXCI7XG4gICAgQ2xhcml0eVR5cGVbQ2xhcml0eVR5cGVbXCJQcmluY2lwYWxDb250cmFjdFwiXSA9IDZdID0gXCJQcmluY2lwYWxDb250cmFjdFwiO1xuICAgIENsYXJpdHlUeXBlW0NsYXJpdHlUeXBlW1wiUmVzcG9uc2VPa1wiXSA9IDddID0gXCJSZXNwb25zZU9rXCI7XG4gICAgQ2xhcml0eVR5cGVbQ2xhcml0eVR5cGVbXCJSZXNwb25zZUVyclwiXSA9IDhdID0gXCJSZXNwb25zZUVyclwiO1xuICAgIENsYXJpdHlUeXBlW0NsYXJpdHlUeXBlW1wiT3B0aW9uYWxOb25lXCJdID0gOV0gPSBcIk9wdGlvbmFsTm9uZVwiO1xuICAgIENsYXJpdHlUeXBlW0NsYXJpdHlUeXBlW1wiT3B0aW9uYWxTb21lXCJdID0gMTBdID0gXCJPcHRpb25hbFNvbWVcIjtcbiAgICBDbGFyaXR5VHlwZVtDbGFyaXR5VHlwZVtcIkxpc3RcIl0gPSAxMV0gPSBcIkxpc3RcIjtcbiAgICBDbGFyaXR5VHlwZVtDbGFyaXR5VHlwZVtcIlR1cGxlXCJdID0gMTJdID0gXCJUdXBsZVwiO1xuICAgIENsYXJpdHlUeXBlW0NsYXJpdHlUeXBlW1wiU3RyaW5nQVNDSUlcIl0gPSAxM10gPSBcIlN0cmluZ0FTQ0lJXCI7XG4gICAgQ2xhcml0eVR5cGVbQ2xhcml0eVR5cGVbXCJTdHJpbmdVVEY4XCJdID0gMTRdID0gXCJTdHJpbmdVVEY4XCI7XG59KShDbGFyaXR5VHlwZSB8fCAoZXhwb3J0cy5DbGFyaXR5VHlwZSA9IENsYXJpdHlUeXBlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/deserialize.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/deserialize.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nconst bytesReader_1 = __webpack_require__(/*! ../bytesReader */ \"(ssr)/./node_modules/@stacks/transactions/dist/bytesReader.js\");\nconst types_1 = __webpack_require__(/*! ../types */ \"(ssr)/./node_modules/@stacks/transactions/dist/types.js\");\nconst errors_1 = __webpack_require__(/*! ../errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nconst stringCV_1 = __webpack_require__(/*! ./types/stringCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/stringCV.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nfunction deserializeCV(serializedClarityValue) {\n    let bytesReader;\n    if (typeof serializedClarityValue === 'string') {\n        const hasHexPrefix = serializedClarityValue.slice(0, 2).toLowerCase() === '0x';\n        bytesReader = new bytesReader_1.BytesReader((0, common_1.hexToBytes)(hasHexPrefix ? serializedClarityValue.slice(2) : serializedClarityValue));\n    }\n    else if (serializedClarityValue instanceof Uint8Array) {\n        bytesReader = new bytesReader_1.BytesReader(serializedClarityValue);\n    }\n    else {\n        bytesReader = serializedClarityValue;\n    }\n    const type = bytesReader.readUInt8Enum(_1.ClarityType, n => {\n        throw new errors_1.DeserializationError(`Cannot recognize Clarity Type: ${n}`);\n    });\n    switch (type) {\n        case _1.ClarityType.Int:\n            return (0, _1.intCV)(bytesReader.readBytes(16));\n        case _1.ClarityType.UInt:\n            return (0, _1.uintCV)(bytesReader.readBytes(16));\n        case _1.ClarityType.Buffer:\n            const bufferLength = bytesReader.readUInt32BE();\n            return (0, _1.bufferCV)(bytesReader.readBytes(bufferLength));\n        case _1.ClarityType.BoolTrue:\n            return (0, _1.trueCV)();\n        case _1.ClarityType.BoolFalse:\n            return (0, _1.falseCV)();\n        case _1.ClarityType.PrincipalStandard:\n            const sAddress = (0, types_1.deserializeAddress)(bytesReader);\n            return (0, _1.standardPrincipalCVFromAddress)(sAddress);\n        case _1.ClarityType.PrincipalContract:\n            const cAddress = (0, types_1.deserializeAddress)(bytesReader);\n            const contractName = (0, types_1.deserializeLPString)(bytesReader);\n            return (0, _1.contractPrincipalCVFromAddress)(cAddress, contractName);\n        case _1.ClarityType.ResponseOk:\n            return (0, _1.responseOkCV)(deserializeCV(bytesReader));\n        case _1.ClarityType.ResponseErr:\n            return (0, _1.responseErrorCV)(deserializeCV(bytesReader));\n        case _1.ClarityType.OptionalNone:\n            return (0, _1.noneCV)();\n        case _1.ClarityType.OptionalSome:\n            return (0, _1.someCV)(deserializeCV(bytesReader));\n        case _1.ClarityType.List:\n            const listLength = bytesReader.readUInt32BE();\n            const listContents = [];\n            for (let i = 0; i < listLength; i++) {\n                listContents.push(deserializeCV(bytesReader));\n            }\n            return (0, _1.listCV)(listContents);\n        case _1.ClarityType.Tuple:\n            const tupleLength = bytesReader.readUInt32BE();\n            const tupleContents = {};\n            for (let i = 0; i < tupleLength; i++) {\n                const clarityName = (0, types_1.deserializeLPString)(bytesReader).content;\n                if (clarityName === undefined) {\n                    throw new errors_1.DeserializationError('\"content\" is undefined');\n                }\n                tupleContents[clarityName] = deserializeCV(bytesReader);\n            }\n            return (0, _1.tupleCV)(tupleContents);\n        case _1.ClarityType.StringASCII:\n            const asciiStrLen = bytesReader.readUInt32BE();\n            const asciiStr = (0, common_1.bytesToAscii)(bytesReader.readBytes(asciiStrLen));\n            return (0, stringCV_1.stringAsciiCV)(asciiStr);\n        case _1.ClarityType.StringUTF8:\n            const utf8StrLen = bytesReader.readUInt32BE();\n            const utf8Str = (0, common_1.bytesToUtf8)(bytesReader.readBytes(utf8StrLen));\n            return (0, stringCV_1.stringUtf8CV)(utf8Str);\n        default:\n            throw new errors_1.DeserializationError('Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.');\n    }\n}\nexports[\"default\"] = deserializeCV;\n//# sourceMappingURL=deserialize.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L2Rlc2VyaWFsaXplLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFdBQVcsbUJBQU8sQ0FBQywwRUFBRztBQUN0QixzQkFBc0IsbUJBQU8sQ0FBQyxxRkFBZ0I7QUFDOUMsZ0JBQWdCLG1CQUFPLENBQUMseUVBQVU7QUFDbEMsaUJBQWlCLG1CQUFPLENBQUMsMkVBQVc7QUFDcEMsbUJBQW1CLG1CQUFPLENBQUMsa0dBQWtCO0FBQzdDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixFQUFFO0FBQ3BGLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvY2xhcml0eS9kZXNlcmlhbGl6ZS5qcz83ZTBkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmNvbnN0IGJ5dGVzUmVhZGVyXzEgPSByZXF1aXJlKFwiLi4vYnl0ZXNSZWFkZXJcIik7XG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4uL3R5cGVzXCIpO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JzXCIpO1xuY29uc3Qgc3RyaW5nQ1ZfMSA9IHJlcXVpcmUoXCIuL3R5cGVzL3N0cmluZ0NWXCIpO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUNWKHNlcmlhbGl6ZWRDbGFyaXR5VmFsdWUpIHtcbiAgICBsZXQgYnl0ZXNSZWFkZXI7XG4gICAgaWYgKHR5cGVvZiBzZXJpYWxpemVkQ2xhcml0eVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBoYXNIZXhQcmVmaXggPSBzZXJpYWxpemVkQ2xhcml0eVZhbHVlLnNsaWNlKDAsIDIpLnRvTG93ZXJDYXNlKCkgPT09ICcweCc7XG4gICAgICAgIGJ5dGVzUmVhZGVyID0gbmV3IGJ5dGVzUmVhZGVyXzEuQnl0ZXNSZWFkZXIoKDAsIGNvbW1vbl8xLmhleFRvQnl0ZXMpKGhhc0hleFByZWZpeCA/IHNlcmlhbGl6ZWRDbGFyaXR5VmFsdWUuc2xpY2UoMikgOiBzZXJpYWxpemVkQ2xhcml0eVZhbHVlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlcmlhbGl6ZWRDbGFyaXR5VmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIGJ5dGVzUmVhZGVyID0gbmV3IGJ5dGVzUmVhZGVyXzEuQnl0ZXNSZWFkZXIoc2VyaWFsaXplZENsYXJpdHlWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBieXRlc1JlYWRlciA9IHNlcmlhbGl6ZWRDbGFyaXR5VmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHR5cGUgPSBieXRlc1JlYWRlci5yZWFkVUludDhFbnVtKF8xLkNsYXJpdHlUeXBlLCBuID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkRlc2VyaWFsaXphdGlvbkVycm9yKGBDYW5ub3QgcmVjb2duaXplIENsYXJpdHkgVHlwZTogJHtufWApO1xuICAgIH0pO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIF8xLkNsYXJpdHlUeXBlLkludDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgXzEuaW50Q1YpKGJ5dGVzUmVhZGVyLnJlYWRCeXRlcygxNikpO1xuICAgICAgICBjYXNlIF8xLkNsYXJpdHlUeXBlLlVJbnQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLnVpbnRDVikoYnl0ZXNSZWFkZXIucmVhZEJ5dGVzKDE2KSk7XG4gICAgICAgIGNhc2UgXzEuQ2xhcml0eVR5cGUuQnVmZmVyOlxuICAgICAgICAgICAgY29uc3QgYnVmZmVyTGVuZ3RoID0gYnl0ZXNSZWFkZXIucmVhZFVJbnQzMkJFKCk7XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLmJ1ZmZlckNWKShieXRlc1JlYWRlci5yZWFkQnl0ZXMoYnVmZmVyTGVuZ3RoKSk7XG4gICAgICAgIGNhc2UgXzEuQ2xhcml0eVR5cGUuQm9vbFRydWU6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLnRydWVDVikoKTtcbiAgICAgICAgY2FzZSBfMS5DbGFyaXR5VHlwZS5Cb29sRmFsc2U6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLmZhbHNlQ1YpKCk7XG4gICAgICAgIGNhc2UgXzEuQ2xhcml0eVR5cGUuUHJpbmNpcGFsU3RhbmRhcmQ6XG4gICAgICAgICAgICBjb25zdCBzQWRkcmVzcyA9ICgwLCB0eXBlc18xLmRlc2VyaWFsaXplQWRkcmVzcykoYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfMS5zdGFuZGFyZFByaW5jaXBhbENWRnJvbUFkZHJlc3MpKHNBZGRyZXNzKTtcbiAgICAgICAgY2FzZSBfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxDb250cmFjdDpcbiAgICAgICAgICAgIGNvbnN0IGNBZGRyZXNzID0gKDAsIHR5cGVzXzEuZGVzZXJpYWxpemVBZGRyZXNzKShieXRlc1JlYWRlcik7XG4gICAgICAgICAgICBjb25zdCBjb250cmFjdE5hbWUgPSAoMCwgdHlwZXNfMS5kZXNlcmlhbGl6ZUxQU3RyaW5nKShieXRlc1JlYWRlcik7XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLmNvbnRyYWN0UHJpbmNpcGFsQ1ZGcm9tQWRkcmVzcykoY0FkZHJlc3MsIGNvbnRyYWN0TmFtZSk7XG4gICAgICAgIGNhc2UgXzEuQ2xhcml0eVR5cGUuUmVzcG9uc2VPazpcbiAgICAgICAgICAgIHJldHVybiAoMCwgXzEucmVzcG9uc2VPa0NWKShkZXNlcmlhbGl6ZUNWKGJ5dGVzUmVhZGVyKSk7XG4gICAgICAgIGNhc2UgXzEuQ2xhcml0eVR5cGUuUmVzcG9uc2VFcnI6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLnJlc3BvbnNlRXJyb3JDVikoZGVzZXJpYWxpemVDVihieXRlc1JlYWRlcikpO1xuICAgICAgICBjYXNlIF8xLkNsYXJpdHlUeXBlLk9wdGlvbmFsTm9uZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgXzEubm9uZUNWKSgpO1xuICAgICAgICBjYXNlIF8xLkNsYXJpdHlUeXBlLk9wdGlvbmFsU29tZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgXzEuc29tZUNWKShkZXNlcmlhbGl6ZUNWKGJ5dGVzUmVhZGVyKSk7XG4gICAgICAgIGNhc2UgXzEuQ2xhcml0eVR5cGUuTGlzdDpcbiAgICAgICAgICAgIGNvbnN0IGxpc3RMZW5ndGggPSBieXRlc1JlYWRlci5yZWFkVUludDMyQkUoKTtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RDb250ZW50cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaXN0Q29udGVudHMucHVzaChkZXNlcmlhbGl6ZUNWKGJ5dGVzUmVhZGVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLmxpc3RDVikobGlzdENvbnRlbnRzKTtcbiAgICAgICAgY2FzZSBfMS5DbGFyaXR5VHlwZS5UdXBsZTpcbiAgICAgICAgICAgIGNvbnN0IHR1cGxlTGVuZ3RoID0gYnl0ZXNSZWFkZXIucmVhZFVJbnQzMkJFKCk7XG4gICAgICAgICAgICBjb25zdCB0dXBsZUNvbnRlbnRzID0ge307XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR1cGxlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFyaXR5TmFtZSA9ICgwLCB0eXBlc18xLmRlc2VyaWFsaXplTFBTdHJpbmcpKGJ5dGVzUmVhZGVyKS5jb250ZW50O1xuICAgICAgICAgICAgICAgIGlmIChjbGFyaXR5TmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5EZXNlcmlhbGl6YXRpb25FcnJvcignXCJjb250ZW50XCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR1cGxlQ29udGVudHNbY2xhcml0eU5hbWVdID0gZGVzZXJpYWxpemVDVihieXRlc1JlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKDAsIF8xLnR1cGxlQ1YpKHR1cGxlQ29udGVudHMpO1xuICAgICAgICBjYXNlIF8xLkNsYXJpdHlUeXBlLlN0cmluZ0FTQ0lJOlxuICAgICAgICAgICAgY29uc3QgYXNjaWlTdHJMZW4gPSBieXRlc1JlYWRlci5yZWFkVUludDMyQkUoKTtcbiAgICAgICAgICAgIGNvbnN0IGFzY2lpU3RyID0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9Bc2NpaSkoYnl0ZXNSZWFkZXIucmVhZEJ5dGVzKGFzY2lpU3RyTGVuKSk7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHN0cmluZ0NWXzEuc3RyaW5nQXNjaWlDVikoYXNjaWlTdHIpO1xuICAgICAgICBjYXNlIF8xLkNsYXJpdHlUeXBlLlN0cmluZ1VURjg6XG4gICAgICAgICAgICBjb25zdCB1dGY4U3RyTGVuID0gYnl0ZXNSZWFkZXIucmVhZFVJbnQzMkJFKCk7XG4gICAgICAgICAgICBjb25zdCB1dGY4U3RyID0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9VdGY4KShieXRlc1JlYWRlci5yZWFkQnl0ZXModXRmOFN0ckxlbikpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBzdHJpbmdDVl8xLnN0cmluZ1V0ZjhDVikodXRmOFN0cik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuRGVzZXJpYWxpemF0aW9uRXJyb3IoJ1VuYWJsZSB0byBkZXNlcmlhbGl6ZSBDbGFyaXR5IFZhbHVlIGZyb20gVWludDhBcnJheS4gQ291bGQgbm90IGZpbmQgdmFsaWQgQ2xhcml0eSBUeXBlLicpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGRlc2VyaWFsaXplQ1Y7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXNlcmlhbGl6ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/deserialize.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.principalToString = exports.cvToValue = exports.cvToJSON = exports.cvToString = exports.deserializeCV = exports.serializeCV = exports.getCVTypeString = exports.stringUtf8CV = exports.stringAsciiCV = exports.stringCV = exports.tupleCV = exports.listCV = exports.contractPrincipalCVFromStandard = exports.contractPrincipalCVFromAddress = exports.contractPrincipalCV = exports.standardPrincipalCVFromAddress = exports.standardPrincipalCV = exports.principalCV = exports.responseErrorCV = exports.responseOkCV = exports.optionalCVOf = exports.someCV = exports.noneCV = exports.bufferCVFromString = exports.bufferCV = exports.uintCV = exports.intCV = exports.falseCV = exports.trueCV = exports.boolCV = exports.ClarityType = void 0;\nconst clarityValue_1 = __webpack_require__(/*! ./clarityValue */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/clarityValue.js\");\nObject.defineProperty(exports, \"getCVTypeString\", ({ enumerable: true, get: function () { return clarityValue_1.getCVTypeString; } }));\nObject.defineProperty(exports, \"cvToString\", ({ enumerable: true, get: function () { return clarityValue_1.cvToString; } }));\nObject.defineProperty(exports, \"cvToJSON\", ({ enumerable: true, get: function () { return clarityValue_1.cvToJSON; } }));\nObject.defineProperty(exports, \"cvToValue\", ({ enumerable: true, get: function () { return clarityValue_1.cvToValue; } }));\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nObject.defineProperty(exports, \"ClarityType\", ({ enumerable: true, get: function () { return constants_1.ClarityType; } }));\nconst booleanCV_1 = __webpack_require__(/*! ./types/booleanCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/booleanCV.js\");\nObject.defineProperty(exports, \"trueCV\", ({ enumerable: true, get: function () { return booleanCV_1.trueCV; } }));\nObject.defineProperty(exports, \"falseCV\", ({ enumerable: true, get: function () { return booleanCV_1.falseCV; } }));\nObject.defineProperty(exports, \"boolCV\", ({ enumerable: true, get: function () { return booleanCV_1.boolCV; } }));\nconst intCV_1 = __webpack_require__(/*! ./types/intCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/intCV.js\");\nObject.defineProperty(exports, \"intCV\", ({ enumerable: true, get: function () { return intCV_1.intCV; } }));\nObject.defineProperty(exports, \"uintCV\", ({ enumerable: true, get: function () { return intCV_1.uintCV; } }));\nconst bufferCV_1 = __webpack_require__(/*! ./types/bufferCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/bufferCV.js\");\nObject.defineProperty(exports, \"bufferCV\", ({ enumerable: true, get: function () { return bufferCV_1.bufferCV; } }));\nObject.defineProperty(exports, \"bufferCVFromString\", ({ enumerable: true, get: function () { return bufferCV_1.bufferCVFromString; } }));\nconst optionalCV_1 = __webpack_require__(/*! ./types/optionalCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/optionalCV.js\");\nObject.defineProperty(exports, \"noneCV\", ({ enumerable: true, get: function () { return optionalCV_1.noneCV; } }));\nObject.defineProperty(exports, \"someCV\", ({ enumerable: true, get: function () { return optionalCV_1.someCV; } }));\nObject.defineProperty(exports, \"optionalCVOf\", ({ enumerable: true, get: function () { return optionalCV_1.optionalCVOf; } }));\nconst responseCV_1 = __webpack_require__(/*! ./types/responseCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/responseCV.js\");\nObject.defineProperty(exports, \"responseOkCV\", ({ enumerable: true, get: function () { return responseCV_1.responseOkCV; } }));\nObject.defineProperty(exports, \"responseErrorCV\", ({ enumerable: true, get: function () { return responseCV_1.responseErrorCV; } }));\nconst principalCV_1 = __webpack_require__(/*! ./types/principalCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/principalCV.js\");\nObject.defineProperty(exports, \"standardPrincipalCV\", ({ enumerable: true, get: function () { return principalCV_1.standardPrincipalCV; } }));\nObject.defineProperty(exports, \"contractPrincipalCV\", ({ enumerable: true, get: function () { return principalCV_1.contractPrincipalCV; } }));\nObject.defineProperty(exports, \"standardPrincipalCVFromAddress\", ({ enumerable: true, get: function () { return principalCV_1.standardPrincipalCVFromAddress; } }));\nObject.defineProperty(exports, \"contractPrincipalCVFromAddress\", ({ enumerable: true, get: function () { return principalCV_1.contractPrincipalCVFromAddress; } }));\nObject.defineProperty(exports, \"contractPrincipalCVFromStandard\", ({ enumerable: true, get: function () { return principalCV_1.contractPrincipalCVFromStandard; } }));\nObject.defineProperty(exports, \"principalCV\", ({ enumerable: true, get: function () { return principalCV_1.principalCV; } }));\nObject.defineProperty(exports, \"principalToString\", ({ enumerable: true, get: function () { return principalCV_1.principalToString; } }));\nconst listCV_1 = __webpack_require__(/*! ./types/listCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/listCV.js\");\nObject.defineProperty(exports, \"listCV\", ({ enumerable: true, get: function () { return listCV_1.listCV; } }));\nconst tupleCV_1 = __webpack_require__(/*! ./types/tupleCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/tupleCV.js\");\nObject.defineProperty(exports, \"tupleCV\", ({ enumerable: true, get: function () { return tupleCV_1.tupleCV; } }));\nconst stringCV_1 = __webpack_require__(/*! ./types/stringCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/stringCV.js\");\nObject.defineProperty(exports, \"stringUtf8CV\", ({ enumerable: true, get: function () { return stringCV_1.stringUtf8CV; } }));\nObject.defineProperty(exports, \"stringAsciiCV\", ({ enumerable: true, get: function () { return stringCV_1.stringAsciiCV; } }));\nObject.defineProperty(exports, \"stringCV\", ({ enumerable: true, get: function () { return stringCV_1.stringCV; } }));\nconst serialize_1 = __webpack_require__(/*! ./serialize */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/serialize.js\");\nObject.defineProperty(exports, \"serializeCV\", ({ enumerable: true, get: function () { return serialize_1.serializeCV; } }));\nconst deserialize_1 = __importDefault(__webpack_require__(/*! ./deserialize */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/deserialize.js\"));\nexports.deserializeCV = deserialize_1.default;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsaUJBQWlCLEdBQUcsZ0JBQWdCLEdBQUcsa0JBQWtCLEdBQUcscUJBQXFCLEdBQUcsbUJBQW1CLEdBQUcsdUJBQXVCLEdBQUcsb0JBQW9CLEdBQUcscUJBQXFCLEdBQUcsZ0JBQWdCLEdBQUcsZUFBZSxHQUFHLGNBQWMsR0FBRyx1Q0FBdUMsR0FBRyxzQ0FBc0MsR0FBRywyQkFBMkIsR0FBRyxzQ0FBc0MsR0FBRywyQkFBMkIsR0FBRyxtQkFBbUIsR0FBRyx1QkFBdUIsR0FBRyxvQkFBb0IsR0FBRyxvQkFBb0IsR0FBRyxjQUFjLEdBQUcsY0FBYyxHQUFHLDBCQUEwQixHQUFHLGdCQUFnQixHQUFHLGNBQWMsR0FBRyxhQUFhLEdBQUcsZUFBZSxHQUFHLGNBQWMsR0FBRyxjQUFjLEdBQUcsbUJBQW1CO0FBQ3J0Qix1QkFBdUIsbUJBQU8sQ0FBQyw4RkFBZ0I7QUFDL0MsbURBQWtELEVBQUUscUNBQXFDLDBDQUEwQyxFQUFDO0FBQ3BJLDhDQUE2QyxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUMxSCw0Q0FBMkMsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDdEgsNkNBQTRDLEVBQUUscUNBQXFDLG9DQUFvQyxFQUFDO0FBQ3hILG9CQUFvQixtQkFBTyxDQUFDLHdGQUFhO0FBQ3pDLCtDQUE4QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN6SCxvQkFBb0IsbUJBQU8sQ0FBQyxvR0FBbUI7QUFDL0MsMENBQXlDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQy9HLDJDQUEwQyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNqSCwwQ0FBeUMsRUFBRSxxQ0FBcUMsOEJBQThCLEVBQUM7QUFDL0csZ0JBQWdCLG1CQUFPLENBQUMsNEZBQWU7QUFDdkMseUNBQXdDLEVBQUUscUNBQXFDLHlCQUF5QixFQUFDO0FBQ3pHLDBDQUF5QyxFQUFFLHFDQUFxQywwQkFBMEIsRUFBQztBQUMzRyxtQkFBbUIsbUJBQU8sQ0FBQyxrR0FBa0I7QUFDN0MsNENBQTJDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ2xILHNEQUFxRCxFQUFFLHFDQUFxQyx5Q0FBeUMsRUFBQztBQUN0SSxxQkFBcUIsbUJBQU8sQ0FBQyxzR0FBb0I7QUFDakQsMENBQXlDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ2hILDBDQUF5QyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNoSCxnREFBK0MsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDNUgscUJBQXFCLG1CQUFPLENBQUMsc0dBQW9CO0FBQ2pELGdEQUErQyxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUM1SCxtREFBa0QsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDbEksc0JBQXNCLG1CQUFPLENBQUMsd0dBQXFCO0FBQ25ELHVEQUFzRCxFQUFFLHFDQUFxQyw2Q0FBNkMsRUFBQztBQUMzSSx1REFBc0QsRUFBRSxxQ0FBcUMsNkNBQTZDLEVBQUM7QUFDM0ksa0VBQWlFLEVBQUUscUNBQXFDLHdEQUF3RCxFQUFDO0FBQ2pLLGtFQUFpRSxFQUFFLHFDQUFxQyx3REFBd0QsRUFBQztBQUNqSyxtRUFBa0UsRUFBRSxxQ0FBcUMseURBQXlELEVBQUM7QUFDbkssK0NBQThDLEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQzNILHFEQUFvRCxFQUFFLHFDQUFxQywyQ0FBMkMsRUFBQztBQUN2SSxpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBZ0I7QUFDekMsMENBQXlDLEVBQUUscUNBQXFDLDJCQUEyQixFQUFDO0FBQzVHLGtCQUFrQixtQkFBTyxDQUFDLGdHQUFpQjtBQUMzQywyQ0FBMEMsRUFBRSxxQ0FBcUMsNkJBQTZCLEVBQUM7QUFDL0csbUJBQW1CLG1CQUFPLENBQUMsa0dBQWtCO0FBQzdDLGdEQUErQyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUMxSCxpREFBZ0QsRUFBRSxxQ0FBcUMsb0NBQW9DLEVBQUM7QUFDNUgsNENBQTJDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ2xILG9CQUFvQixtQkFBTyxDQUFDLHdGQUFhO0FBQ3pDLCtDQUE4QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN6SCxzQ0FBc0MsbUJBQU8sQ0FBQyw0RkFBZTtBQUM3RCxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L2luZGV4LmpzP2EzMzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnByaW5jaXBhbFRvU3RyaW5nID0gZXhwb3J0cy5jdlRvVmFsdWUgPSBleHBvcnRzLmN2VG9KU09OID0gZXhwb3J0cy5jdlRvU3RyaW5nID0gZXhwb3J0cy5kZXNlcmlhbGl6ZUNWID0gZXhwb3J0cy5zZXJpYWxpemVDViA9IGV4cG9ydHMuZ2V0Q1ZUeXBlU3RyaW5nID0gZXhwb3J0cy5zdHJpbmdVdGY4Q1YgPSBleHBvcnRzLnN0cmluZ0FzY2lpQ1YgPSBleHBvcnRzLnN0cmluZ0NWID0gZXhwb3J0cy50dXBsZUNWID0gZXhwb3J0cy5saXN0Q1YgPSBleHBvcnRzLmNvbnRyYWN0UHJpbmNpcGFsQ1ZGcm9tU3RhbmRhcmQgPSBleHBvcnRzLmNvbnRyYWN0UHJpbmNpcGFsQ1ZGcm9tQWRkcmVzcyA9IGV4cG9ydHMuY29udHJhY3RQcmluY2lwYWxDViA9IGV4cG9ydHMuc3RhbmRhcmRQcmluY2lwYWxDVkZyb21BZGRyZXNzID0gZXhwb3J0cy5zdGFuZGFyZFByaW5jaXBhbENWID0gZXhwb3J0cy5wcmluY2lwYWxDViA9IGV4cG9ydHMucmVzcG9uc2VFcnJvckNWID0gZXhwb3J0cy5yZXNwb25zZU9rQ1YgPSBleHBvcnRzLm9wdGlvbmFsQ1ZPZiA9IGV4cG9ydHMuc29tZUNWID0gZXhwb3J0cy5ub25lQ1YgPSBleHBvcnRzLmJ1ZmZlckNWRnJvbVN0cmluZyA9IGV4cG9ydHMuYnVmZmVyQ1YgPSBleHBvcnRzLnVpbnRDViA9IGV4cG9ydHMuaW50Q1YgPSBleHBvcnRzLmZhbHNlQ1YgPSBleHBvcnRzLnRydWVDViA9IGV4cG9ydHMuYm9vbENWID0gZXhwb3J0cy5DbGFyaXR5VHlwZSA9IHZvaWQgMDtcbmNvbnN0IGNsYXJpdHlWYWx1ZV8xID0gcmVxdWlyZShcIi4vY2xhcml0eVZhbHVlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0Q1ZUeXBlU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGFyaXR5VmFsdWVfMS5nZXRDVlR5cGVTdHJpbmc7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjdlRvU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGFyaXR5VmFsdWVfMS5jdlRvU3RyaW5nOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3ZUb0pTT05cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsYXJpdHlWYWx1ZV8xLmN2VG9KU09OOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3ZUb1ZhbHVlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGFyaXR5VmFsdWVfMS5jdlRvVmFsdWU7IH0gfSk7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNsYXJpdHlUeXBlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25zdGFudHNfMS5DbGFyaXR5VHlwZTsgfSB9KTtcbmNvbnN0IGJvb2xlYW5DVl8xID0gcmVxdWlyZShcIi4vdHlwZXMvYm9vbGVhbkNWXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidHJ1ZUNWXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBib29sZWFuQ1ZfMS50cnVlQ1Y7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmYWxzZUNWXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBib29sZWFuQ1ZfMS5mYWxzZUNWOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYm9vbENWXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBib29sZWFuQ1ZfMS5ib29sQ1Y7IH0gfSk7XG5jb25zdCBpbnRDVl8xID0gcmVxdWlyZShcIi4vdHlwZXMvaW50Q1ZcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpbnRDVlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW50Q1ZfMS5pbnRDVjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInVpbnRDVlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW50Q1ZfMS51aW50Q1Y7IH0gfSk7XG5jb25zdCBidWZmZXJDVl8xID0gcmVxdWlyZShcIi4vdHlwZXMvYnVmZmVyQ1ZcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJDVlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVmZmVyQ1ZfMS5idWZmZXJDVjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJ1ZmZlckNWRnJvbVN0cmluZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVmZmVyQ1ZfMS5idWZmZXJDVkZyb21TdHJpbmc7IH0gfSk7XG5jb25zdCBvcHRpb25hbENWXzEgPSByZXF1aXJlKFwiLi90eXBlcy9vcHRpb25hbENWXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibm9uZUNWXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvcHRpb25hbENWXzEubm9uZUNWOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic29tZUNWXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvcHRpb25hbENWXzEuc29tZUNWOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwib3B0aW9uYWxDVk9mXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvcHRpb25hbENWXzEub3B0aW9uYWxDVk9mOyB9IH0pO1xuY29uc3QgcmVzcG9uc2VDVl8xID0gcmVxdWlyZShcIi4vdHlwZXMvcmVzcG9uc2VDVlwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlc3BvbnNlT2tDVlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzcG9uc2VDVl8xLnJlc3BvbnNlT2tDVjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlc3BvbnNlRXJyb3JDVlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzcG9uc2VDVl8xLnJlc3BvbnNlRXJyb3JDVjsgfSB9KTtcbmNvbnN0IHByaW5jaXBhbENWXzEgPSByZXF1aXJlKFwiLi90eXBlcy9wcmluY2lwYWxDVlwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0YW5kYXJkUHJpbmNpcGFsQ1ZcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByaW5jaXBhbENWXzEuc3RhbmRhcmRQcmluY2lwYWxDVjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbnRyYWN0UHJpbmNpcGFsQ1ZcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByaW5jaXBhbENWXzEuY29udHJhY3RQcmluY2lwYWxDVjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0YW5kYXJkUHJpbmNpcGFsQ1ZGcm9tQWRkcmVzc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJpbmNpcGFsQ1ZfMS5zdGFuZGFyZFByaW5jaXBhbENWRnJvbUFkZHJlc3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb250cmFjdFByaW5jaXBhbENWRnJvbUFkZHJlc3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByaW5jaXBhbENWXzEuY29udHJhY3RQcmluY2lwYWxDVkZyb21BZGRyZXNzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29udHJhY3RQcmluY2lwYWxDVkZyb21TdGFuZGFyZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJpbmNpcGFsQ1ZfMS5jb250cmFjdFByaW5jaXBhbENWRnJvbVN0YW5kYXJkOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicHJpbmNpcGFsQ1ZcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByaW5jaXBhbENWXzEucHJpbmNpcGFsQ1Y7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwcmluY2lwYWxUb1N0cmluZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJpbmNpcGFsQ1ZfMS5wcmluY2lwYWxUb1N0cmluZzsgfSB9KTtcbmNvbnN0IGxpc3RDVl8xID0gcmVxdWlyZShcIi4vdHlwZXMvbGlzdENWXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibGlzdENWXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsaXN0Q1ZfMS5saXN0Q1Y7IH0gfSk7XG5jb25zdCB0dXBsZUNWXzEgPSByZXF1aXJlKFwiLi90eXBlcy90dXBsZUNWXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidHVwbGVDVlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHVwbGVDVl8xLnR1cGxlQ1Y7IH0gfSk7XG5jb25zdCBzdHJpbmdDVl8xID0gcmVxdWlyZShcIi4vdHlwZXMvc3RyaW5nQ1ZcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdHJpbmdVdGY4Q1ZcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0cmluZ0NWXzEuc3RyaW5nVXRmOENWOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RyaW5nQXNjaWlDVlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RyaW5nQ1ZfMS5zdHJpbmdBc2NpaUNWOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RyaW5nQ1ZcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0cmluZ0NWXzEuc3RyaW5nQ1Y7IH0gfSk7XG5jb25zdCBzZXJpYWxpemVfMSA9IHJlcXVpcmUoXCIuL3NlcmlhbGl6ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNlcmlhbGl6ZUNWXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJpYWxpemVfMS5zZXJpYWxpemVDVjsgfSB9KTtcbmNvbnN0IGRlc2VyaWFsaXplXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vZGVzZXJpYWxpemVcIikpO1xuZXhwb3J0cy5kZXNlcmlhbGl6ZUNWID0gZGVzZXJpYWxpemVfMS5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/prettyPrint.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/prettyPrint.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.prettyPrint = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst _1 = __webpack_require__(/*! . */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nfunction formatSpace(space, depth, end = false) {\n    if (!space)\n        return ' ';\n    return `\\n${' '.repeat(space * (depth - (end ? 1 : 0)))}`;\n}\nfunction formatList(cv, space, depth = 1) {\n    if (cv.list.length === 0)\n        return '(list)';\n    const spaceBefore = formatSpace(space, depth, false);\n    const endSpace = space ? formatSpace(space, depth, true) : '';\n    const items = cv.list.map(v => prettyPrintWithDepth(v, space, depth)).join(spaceBefore);\n    return `(list${spaceBefore}${items}${endSpace})`;\n}\nfunction formatTuple(cv, space, depth = 1) {\n    if (Object.keys(cv.data).length === 0)\n        return '{}';\n    const items = [];\n    for (const [key, value] of Object.entries(cv.data)) {\n        items.push(`${key}: ${prettyPrintWithDepth(value, space, depth)}`);\n    }\n    const spaceBefore = formatSpace(space, depth, false);\n    const endSpace = formatSpace(space, depth, true);\n    return `{${spaceBefore}${items.join(`,${spaceBefore}`)}${endSpace}}`;\n}\nfunction exhaustiveCheck(param) {\n    throw new Error(`invalid clarity value type: ${param}`);\n}\nfunction prettyPrintWithDepth(cv, space = 0, depth) {\n    if (cv.type === _1.ClarityType.BoolFalse)\n        return 'false';\n    if (cv.type === _1.ClarityType.BoolTrue)\n        return 'true';\n    if (cv.type === _1.ClarityType.Int)\n        return cv.value.toString();\n    if (cv.type === _1.ClarityType.UInt)\n        return `u${cv.value.toString()}`;\n    if (cv.type === _1.ClarityType.StringASCII)\n        return `\"${cv.data}\"`;\n    if (cv.type === _1.ClarityType.StringUTF8)\n        return `u\"${cv.data}\"`;\n    if (cv.type === _1.ClarityType.PrincipalContract)\n        return `'${(0, _1.principalToString)(cv)}`;\n    if (cv.type === _1.ClarityType.PrincipalStandard)\n        return `'${(0, _1.principalToString)(cv)}`;\n    if (cv.type === _1.ClarityType.Buffer)\n        return `0x${(0, common_1.bytesToHex)(cv.buffer)}`;\n    if (cv.type === _1.ClarityType.OptionalNone)\n        return 'none';\n    if (cv.type === _1.ClarityType.OptionalSome)\n        return `(some ${prettyPrintWithDepth(cv.value, space, depth)})`;\n    if (cv.type === _1.ClarityType.ResponseOk)\n        return `(ok ${prettyPrintWithDepth(cv.value, space, depth)})`;\n    if (cv.type === _1.ClarityType.ResponseErr)\n        return `(err ${prettyPrintWithDepth(cv.value, space, depth)})`;\n    if (cv.type === _1.ClarityType.List) {\n        return formatList(cv, space, depth + 1);\n    }\n    if (cv.type === _1.ClarityType.Tuple) {\n        return formatTuple(cv, space, depth + 1);\n    }\n    exhaustiveCheck(cv);\n}\nfunction prettyPrint(cv, space = 0) {\n    return prettyPrintWithDepth(cv, space, 0);\n}\nexports.prettyPrint = prettyPrint;\n//# sourceMappingURL=prettyPrint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3ByZXR0eVByaW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsV0FBVyxtQkFBTyxDQUFDLDBFQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0Q0FBNEM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWSxFQUFFLE1BQU0sRUFBRSxTQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esc0JBQXNCLElBQUksSUFBSSwwQ0FBMEM7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsYUFBYSxFQUFFLFlBQVksRUFBRSxlQUFlLFlBQVksR0FBRyxFQUFFLFVBQVU7QUFDdkU7QUFDQTtBQUNBLG1EQUFtRCxNQUFNO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvQkFBb0I7QUFDdkM7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0EsbUJBQW1CLDhCQUE4QjtBQUNqRDtBQUNBLG1CQUFtQiw4QkFBOEI7QUFDakQ7QUFDQSxvQkFBb0Isb0NBQW9DO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2Q0FBNkM7QUFDckU7QUFDQSxzQkFBc0IsNkNBQTZDO0FBQ25FO0FBQ0EsdUJBQXVCLDZDQUE2QztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvY2xhcml0eS9wcmV0dHlQcmludC5qcz80NDcwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wcmV0dHlQcmludCA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmZ1bmN0aW9uIGZvcm1hdFNwYWNlKHNwYWNlLCBkZXB0aCwgZW5kID0gZmFsc2UpIHtcbiAgICBpZiAoIXNwYWNlKVxuICAgICAgICByZXR1cm4gJyAnO1xuICAgIHJldHVybiBgXFxuJHsnICcucmVwZWF0KHNwYWNlICogKGRlcHRoIC0gKGVuZCA/IDEgOiAwKSkpfWA7XG59XG5mdW5jdGlvbiBmb3JtYXRMaXN0KGN2LCBzcGFjZSwgZGVwdGggPSAxKSB7XG4gICAgaWYgKGN2Lmxpc3QubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gJyhsaXN0KSc7XG4gICAgY29uc3Qgc3BhY2VCZWZvcmUgPSBmb3JtYXRTcGFjZShzcGFjZSwgZGVwdGgsIGZhbHNlKTtcbiAgICBjb25zdCBlbmRTcGFjZSA9IHNwYWNlID8gZm9ybWF0U3BhY2Uoc3BhY2UsIGRlcHRoLCB0cnVlKSA6ICcnO1xuICAgIGNvbnN0IGl0ZW1zID0gY3YubGlzdC5tYXAodiA9PiBwcmV0dHlQcmludFdpdGhEZXB0aCh2LCBzcGFjZSwgZGVwdGgpKS5qb2luKHNwYWNlQmVmb3JlKTtcbiAgICByZXR1cm4gYChsaXN0JHtzcGFjZUJlZm9yZX0ke2l0ZW1zfSR7ZW5kU3BhY2V9KWA7XG59XG5mdW5jdGlvbiBmb3JtYXRUdXBsZShjdiwgc3BhY2UsIGRlcHRoID0gMSkge1xuICAgIGlmIChPYmplY3Qua2V5cyhjdi5kYXRhKS5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiAne30nO1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY3YuZGF0YSkpIHtcbiAgICAgICAgaXRlbXMucHVzaChgJHtrZXl9OiAke3ByZXR0eVByaW50V2l0aERlcHRoKHZhbHVlLCBzcGFjZSwgZGVwdGgpfWApO1xuICAgIH1cbiAgICBjb25zdCBzcGFjZUJlZm9yZSA9IGZvcm1hdFNwYWNlKHNwYWNlLCBkZXB0aCwgZmFsc2UpO1xuICAgIGNvbnN0IGVuZFNwYWNlID0gZm9ybWF0U3BhY2Uoc3BhY2UsIGRlcHRoLCB0cnVlKTtcbiAgICByZXR1cm4gYHske3NwYWNlQmVmb3JlfSR7aXRlbXMuam9pbihgLCR7c3BhY2VCZWZvcmV9YCl9JHtlbmRTcGFjZX19YDtcbn1cbmZ1bmN0aW9uIGV4aGF1c3RpdmVDaGVjayhwYXJhbSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBjbGFyaXR5IHZhbHVlIHR5cGU6ICR7cGFyYW19YCk7XG59XG5mdW5jdGlvbiBwcmV0dHlQcmludFdpdGhEZXB0aChjdiwgc3BhY2UgPSAwLCBkZXB0aCkge1xuICAgIGlmIChjdi50eXBlID09PSBfMS5DbGFyaXR5VHlwZS5Cb29sRmFsc2UpXG4gICAgICAgIHJldHVybiAnZmFsc2UnO1xuICAgIGlmIChjdi50eXBlID09PSBfMS5DbGFyaXR5VHlwZS5Cb29sVHJ1ZSlcbiAgICAgICAgcmV0dXJuICd0cnVlJztcbiAgICBpZiAoY3YudHlwZSA9PT0gXzEuQ2xhcml0eVR5cGUuSW50KVxuICAgICAgICByZXR1cm4gY3YudmFsdWUudG9TdHJpbmcoKTtcbiAgICBpZiAoY3YudHlwZSA9PT0gXzEuQ2xhcml0eVR5cGUuVUludClcbiAgICAgICAgcmV0dXJuIGB1JHtjdi52YWx1ZS50b1N0cmluZygpfWA7XG4gICAgaWYgKGN2LnR5cGUgPT09IF8xLkNsYXJpdHlUeXBlLlN0cmluZ0FTQ0lJKVxuICAgICAgICByZXR1cm4gYFwiJHtjdi5kYXRhfVwiYDtcbiAgICBpZiAoY3YudHlwZSA9PT0gXzEuQ2xhcml0eVR5cGUuU3RyaW5nVVRGOClcbiAgICAgICAgcmV0dXJuIGB1XCIke2N2LmRhdGF9XCJgO1xuICAgIGlmIChjdi50eXBlID09PSBfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxDb250cmFjdClcbiAgICAgICAgcmV0dXJuIGAnJHsoMCwgXzEucHJpbmNpcGFsVG9TdHJpbmcpKGN2KX1gO1xuICAgIGlmIChjdi50eXBlID09PSBfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxTdGFuZGFyZClcbiAgICAgICAgcmV0dXJuIGAnJHsoMCwgXzEucHJpbmNpcGFsVG9TdHJpbmcpKGN2KX1gO1xuICAgIGlmIChjdi50eXBlID09PSBfMS5DbGFyaXR5VHlwZS5CdWZmZXIpXG4gICAgICAgIHJldHVybiBgMHgkeygwLCBjb21tb25fMS5ieXRlc1RvSGV4KShjdi5idWZmZXIpfWA7XG4gICAgaWYgKGN2LnR5cGUgPT09IF8xLkNsYXJpdHlUeXBlLk9wdGlvbmFsTm9uZSlcbiAgICAgICAgcmV0dXJuICdub25lJztcbiAgICBpZiAoY3YudHlwZSA9PT0gXzEuQ2xhcml0eVR5cGUuT3B0aW9uYWxTb21lKVxuICAgICAgICByZXR1cm4gYChzb21lICR7cHJldHR5UHJpbnRXaXRoRGVwdGgoY3YudmFsdWUsIHNwYWNlLCBkZXB0aCl9KWA7XG4gICAgaWYgKGN2LnR5cGUgPT09IF8xLkNsYXJpdHlUeXBlLlJlc3BvbnNlT2spXG4gICAgICAgIHJldHVybiBgKG9rICR7cHJldHR5UHJpbnRXaXRoRGVwdGgoY3YudmFsdWUsIHNwYWNlLCBkZXB0aCl9KWA7XG4gICAgaWYgKGN2LnR5cGUgPT09IF8xLkNsYXJpdHlUeXBlLlJlc3BvbnNlRXJyKVxuICAgICAgICByZXR1cm4gYChlcnIgJHtwcmV0dHlQcmludFdpdGhEZXB0aChjdi52YWx1ZSwgc3BhY2UsIGRlcHRoKX0pYDtcbiAgICBpZiAoY3YudHlwZSA9PT0gXzEuQ2xhcml0eVR5cGUuTGlzdCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0TGlzdChjdiwgc3BhY2UsIGRlcHRoICsgMSk7XG4gICAgfVxuICAgIGlmIChjdi50eXBlID09PSBfMS5DbGFyaXR5VHlwZS5UdXBsZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0VHVwbGUoY3YsIHNwYWNlLCBkZXB0aCArIDEpO1xuICAgIH1cbiAgICBleGhhdXN0aXZlQ2hlY2soY3YpO1xufVxuZnVuY3Rpb24gcHJldHR5UHJpbnQoY3YsIHNwYWNlID0gMCkge1xuICAgIHJldHVybiBwcmV0dHlQcmludFdpdGhEZXB0aChjdiwgc3BhY2UsIDApO1xufVxuZXhwb3J0cy5wcmV0dHlQcmludCA9IHByZXR0eVByaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJldHR5UHJpbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/prettyPrint.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/serialize.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/serialize.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.serializeCV = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst types_1 = __webpack_require__(/*! ../types */ \"(ssr)/./node_modules/@stacks/transactions/dist/types.js\");\nconst postcondition_types_1 = __webpack_require__(/*! ../postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nconst errors_1 = __webpack_require__(/*! ../errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nconst constants_2 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nfunction bytesWithTypeID(typeId, bytes) {\n    return (0, common_1.concatArray)([typeId, bytes]);\n}\nfunction serializeBoolCV(value) {\n    return new Uint8Array([value.type]);\n}\nfunction serializeOptionalCV(cv) {\n    if (cv.type === constants_1.ClarityType.OptionalNone) {\n        return new Uint8Array([cv.type]);\n    }\n    else {\n        return bytesWithTypeID(cv.type, serializeCV(cv.value));\n    }\n}\nfunction serializeBufferCV(cv) {\n    const length = new Uint8Array(4);\n    (0, common_1.writeUInt32BE)(length, cv.buffer.length, 0);\n    return bytesWithTypeID(cv.type, (0, common_1.concatBytes)(length, cv.buffer));\n}\nfunction serializeIntCV(cv) {\n    const bytes = (0, common_1.bigIntToBytes)((0, common_1.toTwos)(cv.value, BigInt(constants_2.CLARITY_INT_SIZE)), constants_2.CLARITY_INT_BYTE_SIZE);\n    return bytesWithTypeID(cv.type, bytes);\n}\nfunction serializeUIntCV(cv) {\n    const bytes = (0, common_1.bigIntToBytes)(cv.value, constants_2.CLARITY_INT_BYTE_SIZE);\n    return bytesWithTypeID(cv.type, bytes);\n}\nfunction serializeStandardPrincipalCV(cv) {\n    return bytesWithTypeID(cv.type, (0, types_1.serializeAddress)(cv.address));\n}\nfunction serializeContractPrincipalCV(cv) {\n    return bytesWithTypeID(cv.type, (0, common_1.concatBytes)((0, types_1.serializeAddress)(cv.address), (0, types_1.serializeLPString)(cv.contractName)));\n}\nfunction serializeResponseCV(cv) {\n    return bytesWithTypeID(cv.type, serializeCV(cv.value));\n}\nfunction serializeListCV(cv) {\n    const bytesArray = [];\n    const length = new Uint8Array(4);\n    (0, common_1.writeUInt32BE)(length, cv.list.length, 0);\n    bytesArray.push(length);\n    for (const value of cv.list) {\n        const serializedValue = serializeCV(value);\n        bytesArray.push(serializedValue);\n    }\n    return bytesWithTypeID(cv.type, (0, common_1.concatArray)(bytesArray));\n}\nfunction serializeTupleCV(cv) {\n    const bytesArray = [];\n    const length = new Uint8Array(4);\n    (0, common_1.writeUInt32BE)(length, Object.keys(cv.data).length, 0);\n    bytesArray.push(length);\n    const lexicographicOrder = Object.keys(cv.data).sort((a, b) => a.localeCompare(b));\n    for (const key of lexicographicOrder) {\n        const nameWithLength = (0, postcondition_types_1.createLPString)(key);\n        bytesArray.push((0, types_1.serializeLPString)(nameWithLength));\n        const serializedValue = serializeCV(cv.data[key]);\n        bytesArray.push(serializedValue);\n    }\n    return bytesWithTypeID(cv.type, (0, common_1.concatArray)(bytesArray));\n}\nfunction serializeStringCV(cv, encoding) {\n    const bytesArray = [];\n    const str = encoding == 'ascii' ? (0, common_1.asciiToBytes)(cv.data) : (0, common_1.utf8ToBytes)(cv.data);\n    const len = new Uint8Array(4);\n    (0, common_1.writeUInt32BE)(len, str.length, 0);\n    bytesArray.push(len);\n    bytesArray.push(str);\n    return bytesWithTypeID(cv.type, (0, common_1.concatArray)(bytesArray));\n}\nfunction serializeStringAsciiCV(cv) {\n    return serializeStringCV(cv, 'ascii');\n}\nfunction serializeStringUtf8CV(cv) {\n    return serializeStringCV(cv, 'utf8');\n}\nfunction serializeCV(value) {\n    switch (value.type) {\n        case constants_1.ClarityType.BoolTrue:\n        case constants_1.ClarityType.BoolFalse:\n            return serializeBoolCV(value);\n        case constants_1.ClarityType.OptionalNone:\n        case constants_1.ClarityType.OptionalSome:\n            return serializeOptionalCV(value);\n        case constants_1.ClarityType.Buffer:\n            return serializeBufferCV(value);\n        case constants_1.ClarityType.UInt:\n            return serializeUIntCV(value);\n        case constants_1.ClarityType.Int:\n            return serializeIntCV(value);\n        case constants_1.ClarityType.PrincipalStandard:\n            return serializeStandardPrincipalCV(value);\n        case constants_1.ClarityType.PrincipalContract:\n            return serializeContractPrincipalCV(value);\n        case constants_1.ClarityType.ResponseOk:\n        case constants_1.ClarityType.ResponseErr:\n            return serializeResponseCV(value);\n        case constants_1.ClarityType.List:\n            return serializeListCV(value);\n        case constants_1.ClarityType.Tuple:\n            return serializeTupleCV(value);\n        case constants_1.ClarityType.StringASCII:\n            return serializeStringAsciiCV(value);\n        case constants_1.ClarityType.StringUTF8:\n            return serializeStringUtf8CV(value);\n        default:\n            throw new errors_1.SerializationError('Unable to serialize. Invalid Clarity Value.');\n    }\n}\nexports.serializeCV = serializeCV;\n//# sourceMappingURL=serialize.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3NlcmlhbGl6ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsaUJBQWlCLG1CQUFPLENBQUMseUVBQWdCO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLHlFQUFVO0FBQ2xDLDhCQUE4QixtQkFBTyxDQUFDLHFHQUF3QjtBQUM5RCxvQkFBb0IsbUJBQU8sQ0FBQyx3RkFBYTtBQUN6QyxpQkFBaUIsbUJBQU8sQ0FBQywyRUFBVztBQUNwQyxvQkFBb0IsbUJBQU8sQ0FBQyxpRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L2NsYXJpdHkvc2VyaWFsaXplLmpzP2VhZjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNlcmlhbGl6ZUNWID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4uL3R5cGVzXCIpO1xuY29uc3QgcG9zdGNvbmRpdGlvbl90eXBlc18xID0gcmVxdWlyZShcIi4uL3Bvc3Rjb25kaXRpb24tdHlwZXNcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4uL2Vycm9yc1wiKTtcbmNvbnN0IGNvbnN0YW50c18yID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmZ1bmN0aW9uIGJ5dGVzV2l0aFR5cGVJRCh0eXBlSWQsIGJ5dGVzKSB7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoW3R5cGVJZCwgYnl0ZXNdKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUJvb2xDVih2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShbdmFsdWUudHlwZV0pO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplT3B0aW9uYWxDVihjdikge1xuICAgIGlmIChjdi50eXBlID09PSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5PcHRpb25hbE5vbmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtjdi50eXBlXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYnl0ZXNXaXRoVHlwZUlEKGN2LnR5cGUsIHNlcmlhbGl6ZUNWKGN2LnZhbHVlKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VyaWFsaXplQnVmZmVyQ1YoY3YpIHtcbiAgICBjb25zdCBsZW5ndGggPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAoMCwgY29tbW9uXzEud3JpdGVVSW50MzJCRSkobGVuZ3RoLCBjdi5idWZmZXIubGVuZ3RoLCAwKTtcbiAgICByZXR1cm4gYnl0ZXNXaXRoVHlwZUlEKGN2LnR5cGUsICgwLCBjb21tb25fMS5jb25jYXRCeXRlcykobGVuZ3RoLCBjdi5idWZmZXIpKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUludENWKGN2KSB7XG4gICAgY29uc3QgYnl0ZXMgPSAoMCwgY29tbW9uXzEuYmlnSW50VG9CeXRlcykoKDAsIGNvbW1vbl8xLnRvVHdvcykoY3YudmFsdWUsIEJpZ0ludChjb25zdGFudHNfMi5DTEFSSVRZX0lOVF9TSVpFKSksIGNvbnN0YW50c18yLkNMQVJJVFlfSU5UX0JZVEVfU0laRSk7XG4gICAgcmV0dXJuIGJ5dGVzV2l0aFR5cGVJRChjdi50eXBlLCBieXRlcyk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVVSW50Q1YoY3YpIHtcbiAgICBjb25zdCBieXRlcyA9ICgwLCBjb21tb25fMS5iaWdJbnRUb0J5dGVzKShjdi52YWx1ZSwgY29uc3RhbnRzXzIuQ0xBUklUWV9JTlRfQllURV9TSVpFKTtcbiAgICByZXR1cm4gYnl0ZXNXaXRoVHlwZUlEKGN2LnR5cGUsIGJ5dGVzKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZVN0YW5kYXJkUHJpbmNpcGFsQ1YoY3YpIHtcbiAgICByZXR1cm4gYnl0ZXNXaXRoVHlwZUlEKGN2LnR5cGUsICgwLCB0eXBlc18xLnNlcmlhbGl6ZUFkZHJlc3MpKGN2LmFkZHJlc3MpKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNvbnRyYWN0UHJpbmNpcGFsQ1YoY3YpIHtcbiAgICByZXR1cm4gYnl0ZXNXaXRoVHlwZUlEKGN2LnR5cGUsICgwLCBjb21tb25fMS5jb25jYXRCeXRlcykoKDAsIHR5cGVzXzEuc2VyaWFsaXplQWRkcmVzcykoY3YuYWRkcmVzcyksICgwLCB0eXBlc18xLnNlcmlhbGl6ZUxQU3RyaW5nKShjdi5jb250cmFjdE5hbWUpKSk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVSZXNwb25zZUNWKGN2KSB7XG4gICAgcmV0dXJuIGJ5dGVzV2l0aFR5cGVJRChjdi50eXBlLCBzZXJpYWxpemVDVihjdi52YWx1ZSkpO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplTGlzdENWKGN2KSB7XG4gICAgY29uc3QgYnl0ZXNBcnJheSA9IFtdO1xuICAgIGNvbnN0IGxlbmd0aCA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICgwLCBjb21tb25fMS53cml0ZVVJbnQzMkJFKShsZW5ndGgsIGN2Lmxpc3QubGVuZ3RoLCAwKTtcbiAgICBieXRlc0FycmF5LnB1c2gobGVuZ3RoKTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGN2Lmxpc3QpIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0gc2VyaWFsaXplQ1YodmFsdWUpO1xuICAgICAgICBieXRlc0FycmF5LnB1c2goc2VyaWFsaXplZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzV2l0aFR5cGVJRChjdi50eXBlLCAoMCwgY29tbW9uXzEuY29uY2F0QXJyYXkpKGJ5dGVzQXJyYXkpKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZVR1cGxlQ1YoY3YpIHtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgY29uc3QgbGVuZ3RoID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgKDAsIGNvbW1vbl8xLndyaXRlVUludDMyQkUpKGxlbmd0aCwgT2JqZWN0LmtleXMoY3YuZGF0YSkubGVuZ3RoLCAwKTtcbiAgICBieXRlc0FycmF5LnB1c2gobGVuZ3RoKTtcbiAgICBjb25zdCBsZXhpY29ncmFwaGljT3JkZXIgPSBPYmplY3Qua2V5cyhjdi5kYXRhKS5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGxleGljb2dyYXBoaWNPcmRlcikge1xuICAgICAgICBjb25zdCBuYW1lV2l0aExlbmd0aCA9ICgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEuY3JlYXRlTFBTdHJpbmcpKGtleSk7XG4gICAgICAgIGJ5dGVzQXJyYXkucHVzaCgoMCwgdHlwZXNfMS5zZXJpYWxpemVMUFN0cmluZykobmFtZVdpdGhMZW5ndGgpKTtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0gc2VyaWFsaXplQ1YoY3YuZGF0YVtrZXldKTtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHNlcmlhbGl6ZWRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlc1dpdGhUeXBlSUQoY3YudHlwZSwgKDAsIGNvbW1vbl8xLmNvbmNhdEFycmF5KShieXRlc0FycmF5KSk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVTdHJpbmdDVihjdiwgZW5jb2RpbmcpIHtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgY29uc3Qgc3RyID0gZW5jb2RpbmcgPT0gJ2FzY2lpJyA/ICgwLCBjb21tb25fMS5hc2NpaVRvQnl0ZXMpKGN2LmRhdGEpIDogKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShjdi5kYXRhKTtcbiAgICBjb25zdCBsZW4gPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAoMCwgY29tbW9uXzEud3JpdGVVSW50MzJCRSkobGVuLCBzdHIubGVuZ3RoLCAwKTtcbiAgICBieXRlc0FycmF5LnB1c2gobGVuKTtcbiAgICBieXRlc0FycmF5LnB1c2goc3RyKTtcbiAgICByZXR1cm4gYnl0ZXNXaXRoVHlwZUlEKGN2LnR5cGUsICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoYnl0ZXNBcnJheSkpO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplU3RyaW5nQXNjaWlDVihjdikge1xuICAgIHJldHVybiBzZXJpYWxpemVTdHJpbmdDVihjdiwgJ2FzY2lpJyk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVTdHJpbmdVdGY4Q1YoY3YpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplU3RyaW5nQ1YoY3YsICd1dGY4Jyk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVDVih2YWx1ZSkge1xuICAgIHN3aXRjaCAodmFsdWUudHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJvb2xUcnVlOlxuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJvb2xGYWxzZTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVCb29sQ1YodmFsdWUpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLk9wdGlvbmFsTm9uZTpcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5PcHRpb25hbFNvbWU6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplT3B0aW9uYWxDVih2YWx1ZSk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuQnVmZmVyOlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUJ1ZmZlckNWKHZhbHVlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5VSW50OlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVVJbnRDVih2YWx1ZSk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuSW50OlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUludENWKHZhbHVlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxTdGFuZGFyZDpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVTdGFuZGFyZFByaW5jaXBhbENWKHZhbHVlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxDb250cmFjdDpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVDb250cmFjdFByaW5jaXBhbENWKHZhbHVlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5SZXNwb25zZU9rOlxuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlJlc3BvbnNlRXJyOlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVJlc3BvbnNlQ1YodmFsdWUpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkxpc3Q6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplTGlzdENWKHZhbHVlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5UdXBsZTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVUdXBsZUNWKHZhbHVlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5TdHJpbmdBU0NJSTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVTdHJpbmdBc2NpaUNWKHZhbHVlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5TdHJpbmdVVEY4OlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVN0cmluZ1V0ZjhDVih2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuU2VyaWFsaXphdGlvbkVycm9yKCdVbmFibGUgdG8gc2VyaWFsaXplLiBJbnZhbGlkIENsYXJpdHkgVmFsdWUuJyk7XG4gICAgfVxufVxuZXhwb3J0cy5zZXJpYWxpemVDViA9IHNlcmlhbGl6ZUNWO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXplLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/serialize.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/booleanCV.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/booleanCV.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.falseCV = exports.trueCV = exports.boolCV = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nconst trueCV = () => ({ type: constants_1.ClarityType.BoolTrue });\nexports.trueCV = trueCV;\nconst falseCV = () => ({ type: constants_1.ClarityType.BoolFalse });\nexports.falseCV = falseCV;\nconst boolCV = (bool) => (bool ? trueCV() : falseCV());\nexports.boolCV = boolCV;\n//# sourceMappingURL=booleanCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL2Jvb2xlYW5DVi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxlQUFlLEdBQUcsY0FBYyxHQUFHLGNBQWM7QUFDakQsb0JBQW9CLG1CQUFPLENBQUMseUZBQWM7QUFDMUMsd0JBQXdCLHdDQUF3QztBQUNoRSxjQUFjO0FBQ2QseUJBQXlCLHlDQUF5QztBQUNsRSxlQUFlO0FBQ2Y7QUFDQSxjQUFjO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL2Jvb2xlYW5DVi5qcz8xYzczIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mYWxzZUNWID0gZXhwb3J0cy50cnVlQ1YgPSBleHBvcnRzLmJvb2xDViA9IHZvaWQgMDtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmNvbnN0IHRydWVDViA9ICgpID0+ICh7IHR5cGU6IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJvb2xUcnVlIH0pO1xuZXhwb3J0cy50cnVlQ1YgPSB0cnVlQ1Y7XG5jb25zdCBmYWxzZUNWID0gKCkgPT4gKHsgdHlwZTogY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuQm9vbEZhbHNlIH0pO1xuZXhwb3J0cy5mYWxzZUNWID0gZmFsc2VDVjtcbmNvbnN0IGJvb2xDViA9IChib29sKSA9PiAoYm9vbCA/IHRydWVDVigpIDogZmFsc2VDVigpKTtcbmV4cG9ydHMuYm9vbENWID0gYm9vbENWO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vbGVhbkNWLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/booleanCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/bufferCV.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/bufferCV.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.bufferCVFromString = exports.bufferCV = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nconst bufferCV = (buffer) => {\n    if (buffer.length > 1000000) {\n        throw new Error('Cannot construct clarity buffer that is greater than 1MB');\n    }\n    return { type: constants_1.ClarityType.Buffer, buffer };\n};\nexports.bufferCV = bufferCV;\nconst bufferCVFromString = (str) => bufferCV((0, common_1.utf8ToBytes)(str));\nexports.bufferCVFromString = bufferCVFromString;\n//# sourceMappingURL=bufferCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL2J1ZmZlckNWLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLGdCQUFnQjtBQUM3QyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMseUZBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL2J1ZmZlckNWLmpzP2IxZDIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJ1ZmZlckNWRnJvbVN0cmluZyA9IGV4cG9ydHMuYnVmZmVyQ1YgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmNvbnN0IGJ1ZmZlckNWID0gKGJ1ZmZlcikgPT4ge1xuICAgIGlmIChidWZmZXIubGVuZ3RoID4gMTAwMDAwMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgY2xhcml0eSBidWZmZXIgdGhhdCBpcyBncmVhdGVyIHRoYW4gMU1CJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkJ1ZmZlciwgYnVmZmVyIH07XG59O1xuZXhwb3J0cy5idWZmZXJDViA9IGJ1ZmZlckNWO1xuY29uc3QgYnVmZmVyQ1ZGcm9tU3RyaW5nID0gKHN0cikgPT4gYnVmZmVyQ1YoKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShzdHIpKTtcbmV4cG9ydHMuYnVmZmVyQ1ZGcm9tU3RyaW5nID0gYnVmZmVyQ1ZGcm9tU3RyaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyQ1YuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/bufferCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/intCV.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/intCV.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.uintCV = exports.intCV = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nconst MAX_U128 = BigInt('0xffffffffffffffffffffffffffffffff');\nconst MIN_U128 = BigInt(0);\nconst MAX_I128 = BigInt('0x7fffffffffffffffffffffffffffffff');\nconst MIN_I128 = BigInt('-170141183460469231731687303715884105728');\nconst intCV = (value) => {\n    const bigInt = (0, common_1.intToBigInt)(value, true);\n    if (bigInt > MAX_I128) {\n        throw new RangeError(`Cannot construct clarity integer from value greater than ${MAX_I128}`);\n    }\n    else if (bigInt < MIN_I128) {\n        throw new RangeError(`Cannot construct clarity integer form value less than ${MIN_I128}`);\n    }\n    return { type: constants_1.ClarityType.Int, value: bigInt };\n};\nexports.intCV = intCV;\nconst uintCV = (value) => {\n    const bigInt = (0, common_1.intToBigInt)(value, false);\n    if (bigInt < MIN_U128) {\n        throw new RangeError('Cannot construct unsigned clarity integer from negative value');\n    }\n    else if (bigInt > MAX_U128) {\n        throw new RangeError(`Cannot construct unsigned clarity integer greater than ${MAX_U128}`);\n    }\n    return { type: constants_1.ClarityType.UInt, value: bigInt };\n};\nexports.uintCV = uintCV;\n//# sourceMappingURL=intCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL2ludENWLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWMsR0FBRyxhQUFhO0FBQzlCLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxvQkFBb0IsbUJBQU8sQ0FBQyx5RkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixTQUFTO0FBQ2xHO0FBQ0E7QUFDQSxzRkFBc0YsU0FBUztBQUMvRjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsU0FBUztBQUNoRztBQUNBLGFBQWE7QUFDYjtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L2NsYXJpdHkvdHlwZXMvaW50Q1YuanM/MzM3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudWludENWID0gZXhwb3J0cy5pbnRDViA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuY29uc3QgTUFYX1UxMjggPSBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYnKTtcbmNvbnN0IE1JTl9VMTI4ID0gQmlnSW50KDApO1xuY29uc3QgTUFYX0kxMjggPSBCaWdJbnQoJzB4N2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYnKTtcbmNvbnN0IE1JTl9JMTI4ID0gQmlnSW50KCctMTcwMTQxMTgzNDYwNDY5MjMxNzMxNjg3MzAzNzE1ODg0MTA1NzI4Jyk7XG5jb25zdCBpbnRDViA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGJpZ0ludCA9ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkodmFsdWUsIHRydWUpO1xuICAgIGlmIChiaWdJbnQgPiBNQVhfSTEyOCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgQ2Fubm90IGNvbnN0cnVjdCBjbGFyaXR5IGludGVnZXIgZnJvbSB2YWx1ZSBncmVhdGVyIHRoYW4gJHtNQVhfSTEyOH1gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYmlnSW50IDwgTUlOX0kxMjgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYENhbm5vdCBjb25zdHJ1Y3QgY2xhcml0eSBpbnRlZ2VyIGZvcm0gdmFsdWUgbGVzcyB0aGFuICR7TUlOX0kxMjh9YCk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLkludCwgdmFsdWU6IGJpZ0ludCB9O1xufTtcbmV4cG9ydHMuaW50Q1YgPSBpbnRDVjtcbmNvbnN0IHVpbnRDViA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGJpZ0ludCA9ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkodmFsdWUsIGZhbHNlKTtcbiAgICBpZiAoYmlnSW50IDwgTUlOX1UxMjgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgdW5zaWduZWQgY2xhcml0eSBpbnRlZ2VyIGZyb20gbmVnYXRpdmUgdmFsdWUnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYmlnSW50ID4gTUFYX1UxMjgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYENhbm5vdCBjb25zdHJ1Y3QgdW5zaWduZWQgY2xhcml0eSBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiAke01BWF9VMTI4fWApO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5VSW50LCB2YWx1ZTogYmlnSW50IH07XG59O1xuZXhwb3J0cy51aW50Q1YgPSB1aW50Q1Y7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRDVi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/intCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/listCV.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/listCV.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.listCV = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nfunction listCV(values) {\n    return { type: constants_1.ClarityType.List, list: values };\n}\nexports.listCV = listCV;\n//# sourceMappingURL=listCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL2xpc3RDVi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2Qsb0JBQW9CLG1CQUFPLENBQUMseUZBQWM7QUFDMUM7QUFDQSxhQUFhO0FBQ2I7QUFDQSxjQUFjO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL2xpc3RDVi5qcz8zMTcwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5saXN0Q1YgPSB2b2lkIDA7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHNcIik7XG5mdW5jdGlvbiBsaXN0Q1YodmFsdWVzKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuTGlzdCwgbGlzdDogdmFsdWVzIH07XG59XG5leHBvcnRzLmxpc3RDViA9IGxpc3RDVjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpc3RDVi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/listCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/optionalCV.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/optionalCV.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.optionalCVOf = exports.someCV = exports.noneCV = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nfunction noneCV() {\n    return { type: constants_1.ClarityType.OptionalNone };\n}\nexports.noneCV = noneCV;\nfunction someCV(value) {\n    return { type: constants_1.ClarityType.OptionalSome, value };\n}\nexports.someCV = someCV;\nfunction optionalCVOf(value) {\n    if (value) {\n        return someCV(value);\n    }\n    else {\n        return noneCV();\n    }\n}\nexports.optionalCVOf = optionalCVOf;\n//# sourceMappingURL=optionalCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL29wdGlvbmFsQ1YuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsY0FBYyxHQUFHLGNBQWM7QUFDdEQsb0JBQW9CLG1CQUFPLENBQUMseUZBQWM7QUFDMUM7QUFDQSxhQUFhO0FBQ2I7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxhQUFhO0FBQ2I7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L2NsYXJpdHkvdHlwZXMvb3B0aW9uYWxDVi5qcz9lY2Q3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vcHRpb25hbENWT2YgPSBleHBvcnRzLnNvbWVDViA9IGV4cG9ydHMubm9uZUNWID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuZnVuY3Rpb24gbm9uZUNWKCkge1xuICAgIHJldHVybiB7IHR5cGU6IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLk9wdGlvbmFsTm9uZSB9O1xufVxuZXhwb3J0cy5ub25lQ1YgPSBub25lQ1Y7XG5mdW5jdGlvbiBzb21lQ1YodmFsdWUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5PcHRpb25hbFNvbWUsIHZhbHVlIH07XG59XG5leHBvcnRzLnNvbWVDViA9IHNvbWVDVjtcbmZ1bmN0aW9uIG9wdGlvbmFsQ1ZPZih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc29tZUNWKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBub25lQ1YoKTtcbiAgICB9XG59XG5leHBvcnRzLm9wdGlvbmFsQ1ZPZiA9IG9wdGlvbmFsQ1ZPZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wdGlvbmFsQ1YuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/optionalCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/principalCV.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/principalCV.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.contractPrincipalCVFromStandard = exports.contractPrincipalCVFromAddress = exports.contractPrincipalCV = exports.standardPrincipalCVFromAddress = exports.standardPrincipalCV = exports.principalToString = exports.principalCV = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst common_2 = __webpack_require__(/*! ../../common */ \"(ssr)/./node_modules/@stacks/transactions/dist/common.js\");\nconst postcondition_types_1 = __webpack_require__(/*! ../../postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\");\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nfunction principalToString(principal) {\n    if (principal.type === constants_1.ClarityType.PrincipalStandard) {\n        return (0, common_2.addressToString)(principal.address);\n    }\n    else if (principal.type === constants_1.ClarityType.PrincipalContract) {\n        const address = (0, common_2.addressToString)(principal.address);\n        return `${address}.${principal.contractName.content}`;\n    }\n    else {\n        throw new Error(`Unexpected principal data: ${JSON.stringify(principal)}`);\n    }\n}\nexports.principalToString = principalToString;\nfunction principalCV(principal) {\n    if (principal.includes('.')) {\n        const [address, contractName] = principal.split('.');\n        return contractPrincipalCV(address, contractName);\n    }\n    else {\n        return standardPrincipalCV(principal);\n    }\n}\nexports.principalCV = principalCV;\nfunction standardPrincipalCV(addressString) {\n    const addr = (0, postcondition_types_1.createAddress)(addressString);\n    return { type: constants_1.ClarityType.PrincipalStandard, address: addr };\n}\nexports.standardPrincipalCV = standardPrincipalCV;\nfunction standardPrincipalCVFromAddress(address) {\n    return { type: constants_1.ClarityType.PrincipalStandard, address };\n}\nexports.standardPrincipalCVFromAddress = standardPrincipalCVFromAddress;\nfunction contractPrincipalCV(addressString, contractName) {\n    const addr = (0, postcondition_types_1.createAddress)(addressString);\n    const lengthPrefixedContractName = (0, postcondition_types_1.createLPString)(contractName);\n    return contractPrincipalCVFromAddress(addr, lengthPrefixedContractName);\n}\nexports.contractPrincipalCV = contractPrincipalCV;\nfunction contractPrincipalCVFromAddress(address, contractName) {\n    if ((0, common_1.utf8ToBytes)(contractName.content).byteLength >= 128) {\n        throw new Error('Contract name must be less than 128 bytes');\n    }\n    return { type: constants_1.ClarityType.PrincipalContract, address, contractName };\n}\nexports.contractPrincipalCVFromAddress = contractPrincipalCVFromAddress;\nfunction contractPrincipalCVFromStandard(sp, contractName) {\n    const lengthPrefixedContractName = (0, postcondition_types_1.createLPString)(contractName);\n    return {\n        type: constants_1.ClarityType.PrincipalContract,\n        address: sp.address,\n        contractName: lengthPrefixedContractName,\n    };\n}\nexports.contractPrincipalCVFromStandard = contractPrincipalCVFromStandard;\n//# sourceMappingURL=principalCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL3ByaW5jaXBhbENWLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVDQUF1QyxHQUFHLHNDQUFzQyxHQUFHLDJCQUEyQixHQUFHLHNDQUFzQyxHQUFHLDJCQUEyQixHQUFHLHlCQUF5QixHQUFHLG1CQUFtQjtBQUN2TyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsaUJBQWlCLG1CQUFPLENBQUMsOEVBQWM7QUFDdkMsOEJBQThCLG1CQUFPLENBQUMsd0dBQTJCO0FBQ2pFLG9CQUFvQixtQkFBTyxDQUFDLHlGQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRLEdBQUcsK0JBQStCO0FBQzVEO0FBQ0E7QUFDQSxzREFBc0QsMEJBQTBCO0FBQ2hGO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSxhQUFhO0FBQ2I7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvY2xhcml0eS90eXBlcy9wcmluY2lwYWxDVi5qcz9jNzMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb250cmFjdFByaW5jaXBhbENWRnJvbVN0YW5kYXJkID0gZXhwb3J0cy5jb250cmFjdFByaW5jaXBhbENWRnJvbUFkZHJlc3MgPSBleHBvcnRzLmNvbnRyYWN0UHJpbmNpcGFsQ1YgPSBleHBvcnRzLnN0YW5kYXJkUHJpbmNpcGFsQ1ZGcm9tQWRkcmVzcyA9IGV4cG9ydHMuc3RhbmRhcmRQcmluY2lwYWxDViA9IGV4cG9ydHMucHJpbmNpcGFsVG9TdHJpbmcgPSBleHBvcnRzLnByaW5jaXBhbENWID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBjb21tb25fMiA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb25cIik7XG5jb25zdCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vcG9zdGNvbmRpdGlvbi10eXBlc1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmZ1bmN0aW9uIHByaW5jaXBhbFRvU3RyaW5nKHByaW5jaXBhbCkge1xuICAgIGlmIChwcmluY2lwYWwudHlwZSA9PT0gY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUHJpbmNpcGFsU3RhbmRhcmQpIHtcbiAgICAgICAgcmV0dXJuICgwLCBjb21tb25fMi5hZGRyZXNzVG9TdHJpbmcpKHByaW5jaXBhbC5hZGRyZXNzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJpbmNpcGFsLnR5cGUgPT09IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlByaW5jaXBhbENvbnRyYWN0KSB7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSAoMCwgY29tbW9uXzIuYWRkcmVzc1RvU3RyaW5nKShwcmluY2lwYWwuYWRkcmVzcyk7XG4gICAgICAgIHJldHVybiBgJHthZGRyZXNzfS4ke3ByaW5jaXBhbC5jb250cmFjdE5hbWUuY29udGVudH1gO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHByaW5jaXBhbCBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHByaW5jaXBhbCl9YCk7XG4gICAgfVxufVxuZXhwb3J0cy5wcmluY2lwYWxUb1N0cmluZyA9IHByaW5jaXBhbFRvU3RyaW5nO1xuZnVuY3Rpb24gcHJpbmNpcGFsQ1YocHJpbmNpcGFsKSB7XG4gICAgaWYgKHByaW5jaXBhbC5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgIGNvbnN0IFthZGRyZXNzLCBjb250cmFjdE5hbWVdID0gcHJpbmNpcGFsLnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiBjb250cmFjdFByaW5jaXBhbENWKGFkZHJlc3MsIGNvbnRyYWN0TmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhbmRhcmRQcmluY2lwYWxDVihwcmluY2lwYWwpO1xuICAgIH1cbn1cbmV4cG9ydHMucHJpbmNpcGFsQ1YgPSBwcmluY2lwYWxDVjtcbmZ1bmN0aW9uIHN0YW5kYXJkUHJpbmNpcGFsQ1YoYWRkcmVzc1N0cmluZykge1xuICAgIGNvbnN0IGFkZHIgPSAoMCwgcG9zdGNvbmRpdGlvbl90eXBlc18xLmNyZWF0ZUFkZHJlc3MpKGFkZHJlc3NTdHJpbmcpO1xuICAgIHJldHVybiB7IHR5cGU6IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlByaW5jaXBhbFN0YW5kYXJkLCBhZGRyZXNzOiBhZGRyIH07XG59XG5leHBvcnRzLnN0YW5kYXJkUHJpbmNpcGFsQ1YgPSBzdGFuZGFyZFByaW5jaXBhbENWO1xuZnVuY3Rpb24gc3RhbmRhcmRQcmluY2lwYWxDVkZyb21BZGRyZXNzKGFkZHJlc3MpIHtcbiAgICByZXR1cm4geyB0eXBlOiBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5QcmluY2lwYWxTdGFuZGFyZCwgYWRkcmVzcyB9O1xufVxuZXhwb3J0cy5zdGFuZGFyZFByaW5jaXBhbENWRnJvbUFkZHJlc3MgPSBzdGFuZGFyZFByaW5jaXBhbENWRnJvbUFkZHJlc3M7XG5mdW5jdGlvbiBjb250cmFjdFByaW5jaXBhbENWKGFkZHJlc3NTdHJpbmcsIGNvbnRyYWN0TmFtZSkge1xuICAgIGNvbnN0IGFkZHIgPSAoMCwgcG9zdGNvbmRpdGlvbl90eXBlc18xLmNyZWF0ZUFkZHJlc3MpKGFkZHJlc3NTdHJpbmcpO1xuICAgIGNvbnN0IGxlbmd0aFByZWZpeGVkQ29udHJhY3ROYW1lID0gKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVMUFN0cmluZykoY29udHJhY3ROYW1lKTtcbiAgICByZXR1cm4gY29udHJhY3RQcmluY2lwYWxDVkZyb21BZGRyZXNzKGFkZHIsIGxlbmd0aFByZWZpeGVkQ29udHJhY3ROYW1lKTtcbn1cbmV4cG9ydHMuY29udHJhY3RQcmluY2lwYWxDViA9IGNvbnRyYWN0UHJpbmNpcGFsQ1Y7XG5mdW5jdGlvbiBjb250cmFjdFByaW5jaXBhbENWRnJvbUFkZHJlc3MoYWRkcmVzcywgY29udHJhY3ROYW1lKSB7XG4gICAgaWYgKCgwLCBjb21tb25fMS51dGY4VG9CeXRlcykoY29udHJhY3ROYW1lLmNvbnRlbnQpLmJ5dGVMZW5ndGggPj0gMTI4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udHJhY3QgbmFtZSBtdXN0IGJlIGxlc3MgdGhhbiAxMjggYnl0ZXMnKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUHJpbmNpcGFsQ29udHJhY3QsIGFkZHJlc3MsIGNvbnRyYWN0TmFtZSB9O1xufVxuZXhwb3J0cy5jb250cmFjdFByaW5jaXBhbENWRnJvbUFkZHJlc3MgPSBjb250cmFjdFByaW5jaXBhbENWRnJvbUFkZHJlc3M7XG5mdW5jdGlvbiBjb250cmFjdFByaW5jaXBhbENWRnJvbVN0YW5kYXJkKHNwLCBjb250cmFjdE5hbWUpIHtcbiAgICBjb25zdCBsZW5ndGhQcmVmaXhlZENvbnRyYWN0TmFtZSA9ICgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEuY3JlYXRlTFBTdHJpbmcpKGNvbnRyYWN0TmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUHJpbmNpcGFsQ29udHJhY3QsXG4gICAgICAgIGFkZHJlc3M6IHNwLmFkZHJlc3MsXG4gICAgICAgIGNvbnRyYWN0TmFtZTogbGVuZ3RoUHJlZml4ZWRDb250cmFjdE5hbWUsXG4gICAgfTtcbn1cbmV4cG9ydHMuY29udHJhY3RQcmluY2lwYWxDVkZyb21TdGFuZGFyZCA9IGNvbnRyYWN0UHJpbmNpcGFsQ1ZGcm9tU3RhbmRhcmQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmluY2lwYWxDVi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/principalCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/responseCV.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/responseCV.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.responseOkCV = exports.responseErrorCV = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nfunction responseErrorCV(value) {\n    return { type: constants_1.ClarityType.ResponseErr, value };\n}\nexports.responseErrorCV = responseErrorCV;\nfunction responseOkCV(value) {\n    return { type: constants_1.ClarityType.ResponseOk, value };\n}\nexports.responseOkCV = responseOkCV;\n//# sourceMappingURL=responseCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL3Jlc3BvbnNlQ1YuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsdUJBQXVCO0FBQzlDLG9CQUFvQixtQkFBTyxDQUFDLHlGQUFjO0FBQzFDO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvY2xhcml0eS90eXBlcy9yZXNwb25zZUNWLmpzP2U4ZjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlc3BvbnNlT2tDViA9IGV4cG9ydHMucmVzcG9uc2VFcnJvckNWID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuZnVuY3Rpb24gcmVzcG9uc2VFcnJvckNWKHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuUmVzcG9uc2VFcnIsIHZhbHVlIH07XG59XG5leHBvcnRzLnJlc3BvbnNlRXJyb3JDViA9IHJlc3BvbnNlRXJyb3JDVjtcbmZ1bmN0aW9uIHJlc3BvbnNlT2tDVih2YWx1ZSkge1xuICAgIHJldHVybiB7IHR5cGU6IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlJlc3BvbnNlT2ssIHZhbHVlIH07XG59XG5leHBvcnRzLnJlc3BvbnNlT2tDViA9IHJlc3BvbnNlT2tDVjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3BvbnNlQ1YuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/responseCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/stringCV.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/stringCV.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.stringCV = exports.stringUtf8CV = exports.stringAsciiCV = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nconst stringAsciiCV = (data) => {\n    return { type: constants_1.ClarityType.StringASCII, data };\n};\nexports.stringAsciiCV = stringAsciiCV;\nconst stringUtf8CV = (data) => {\n    return { type: constants_1.ClarityType.StringUTF8, data };\n};\nexports.stringUtf8CV = stringUtf8CV;\nconst stringCV = (data, encoding) => {\n    switch (encoding) {\n        case 'ascii':\n            return stringAsciiCV(data);\n        case 'utf8':\n            return stringUtf8CV(data);\n    }\n};\nexports.stringCV = stringCV;\n//# sourceMappingURL=stringCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL3N0cmluZ0NWLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLG9CQUFvQixHQUFHLHFCQUFxQjtBQUMvRCxvQkFBb0IsbUJBQU8sQ0FBQyx5RkFBYztBQUMxQztBQUNBLGFBQWE7QUFDYjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvY2xhcml0eS90eXBlcy9zdHJpbmdDVi5qcz85M2Q4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdHJpbmdDViA9IGV4cG9ydHMuc3RyaW5nVXRmOENWID0gZXhwb3J0cy5zdHJpbmdBc2NpaUNWID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuY29uc3Qgc3RyaW5nQXNjaWlDViA9IChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuQ2xhcml0eVR5cGUuU3RyaW5nQVNDSUksIGRhdGEgfTtcbn07XG5leHBvcnRzLnN0cmluZ0FzY2lpQ1YgPSBzdHJpbmdBc2NpaUNWO1xuY29uc3Qgc3RyaW5nVXRmOENWID0gKGRhdGEpID0+IHtcbiAgICByZXR1cm4geyB0eXBlOiBjb25zdGFudHNfMS5DbGFyaXR5VHlwZS5TdHJpbmdVVEY4LCBkYXRhIH07XG59O1xuZXhwb3J0cy5zdHJpbmdVdGY4Q1YgPSBzdHJpbmdVdGY4Q1Y7XG5jb25zdCBzdHJpbmdDViA9IChkYXRhLCBlbmNvZGluZykgPT4ge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0FzY2lpQ1YoZGF0YSk7XG4gICAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ1V0ZjhDVihkYXRhKTtcbiAgICB9XG59O1xuZXhwb3J0cy5zdHJpbmdDViA9IHN0cmluZ0NWO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5nQ1YuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/stringCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/tupleCV.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/clarity/types/tupleCV.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.tupleCV = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/constants.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nfunction tupleCV(data) {\n    for (const key in data) {\n        if (!(0, utils_1.isClarityName)(key)) {\n            throw new Error(`\"${key}\" is not a valid Clarity name`);\n        }\n    }\n    return { type: constants_1.ClarityType.Tuple, data };\n}\nexports.tupleCV = tupleCV;\n//# sourceMappingURL=tupleCV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL3R1cGxlQ1YuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmLG9CQUFvQixtQkFBTyxDQUFDLHlGQUFjO0FBQzFDLGdCQUFnQixtQkFBTyxDQUFDLDRFQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxJQUFJO0FBQ3BDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxlQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jbGFyaXR5L3R5cGVzL3R1cGxlQ1YuanM/YzkzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudHVwbGVDViA9IHZvaWQgMDtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG5mdW5jdGlvbiB0dXBsZUNWKGRhdGEpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgIGlmICghKDAsIHV0aWxzXzEuaXNDbGFyaXR5TmFtZSkoa2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7a2V5fVwiIGlzIG5vdCBhIHZhbGlkIENsYXJpdHkgbmFtZWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IGNvbnN0YW50c18xLkNsYXJpdHlUeXBlLlR1cGxlLCBkYXRhIH07XG59XG5leHBvcnRzLnR1cGxlQ1YgPSB0dXBsZUNWO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHVwbGVDVi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/tupleCV.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/common.js":
/*!**********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/common.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.addressToString = exports.addressFromVersionHash = exports.addressHashModeToVersion = exports.createMessageSignature = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst c32check_1 = __webpack_require__(/*! c32check */ \"(ssr)/./node_modules/c32check/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nfunction createMessageSignature(signature) {\n    const length = (0, common_1.hexToBytes)(signature).byteLength;\n    if (length != constants_1.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES) {\n        throw Error('Invalid signature');\n    }\n    return {\n        type: constants_1.StacksMessageType.MessageSignature,\n        data: signature,\n    };\n}\nexports.createMessageSignature = createMessageSignature;\nfunction addressHashModeToVersion(hashMode, txVersion) {\n    switch (hashMode) {\n        case constants_1.AddressHashMode.SerializeP2PKH:\n            switch (txVersion) {\n                case constants_1.TransactionVersion.Mainnet:\n                    return constants_1.AddressVersion.MainnetSingleSig;\n                case constants_1.TransactionVersion.Testnet:\n                    return constants_1.AddressVersion.TestnetSingleSig;\n                default:\n                    throw new Error(`Unexpected txVersion ${JSON.stringify(txVersion)} for hashMode ${hashMode}`);\n            }\n        case constants_1.AddressHashMode.SerializeP2SH:\n        case constants_1.AddressHashMode.SerializeP2WPKH:\n        case constants_1.AddressHashMode.SerializeP2WSH:\n            switch (txVersion) {\n                case constants_1.TransactionVersion.Mainnet:\n                    return constants_1.AddressVersion.MainnetMultiSig;\n                case constants_1.TransactionVersion.Testnet:\n                    return constants_1.AddressVersion.TestnetMultiSig;\n                default:\n                    throw new Error(`Unexpected txVersion ${JSON.stringify(txVersion)} for hashMode ${hashMode}`);\n            }\n        default:\n            throw new Error(`Unexpected hashMode ${JSON.stringify(hashMode)}`);\n    }\n}\nexports.addressHashModeToVersion = addressHashModeToVersion;\nfunction addressFromVersionHash(version, hash) {\n    return { type: constants_1.StacksMessageType.Address, version, hash160: hash };\n}\nexports.addressFromVersionHash = addressFromVersionHash;\nfunction addressToString(address) {\n    return (0, c32check_1.c32address)(address.version, address.hash160);\n}\nexports.addressToString = addressToString;\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jb21tb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsOEJBQThCLEdBQUcsZ0NBQWdDLEdBQUcsOEJBQThCO0FBQzVILG9CQUFvQixtQkFBTyxDQUFDLGdGQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLDREQUFVO0FBQ3JDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsMkJBQTJCLGVBQWUsU0FBUztBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwyQkFBMkIsZUFBZSxTQUFTO0FBQy9HO0FBQ0E7QUFDQSxtREFBbUQseUJBQXlCO0FBQzVFO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxhQUFhO0FBQ2I7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvY29tbW9uLmpzPzgxYjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFkZHJlc3NUb1N0cmluZyA9IGV4cG9ydHMuYWRkcmVzc0Zyb21WZXJzaW9uSGFzaCA9IGV4cG9ydHMuYWRkcmVzc0hhc2hNb2RlVG9WZXJzaW9uID0gZXhwb3J0cy5jcmVhdGVNZXNzYWdlU2lnbmF0dXJlID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBjMzJjaGVja18xID0gcmVxdWlyZShcImMzMmNoZWNrXCIpO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlU2lnbmF0dXJlKHNpZ25hdHVyZSkge1xuICAgIGNvbnN0IGxlbmd0aCA9ICgwLCBjb21tb25fMS5oZXhUb0J5dGVzKShzaWduYXR1cmUpLmJ5dGVMZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPSBjb25zdGFudHNfMS5SRUNPVkVSQUJMRV9FQ0RTQV9TSUdfTEVOR1RIX0JZVEVTKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIHNpZ25hdHVyZScpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5NZXNzYWdlU2lnbmF0dXJlLFxuICAgICAgICBkYXRhOiBzaWduYXR1cmUsXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlTWVzc2FnZVNpZ25hdHVyZSA9IGNyZWF0ZU1lc3NhZ2VTaWduYXR1cmU7XG5mdW5jdGlvbiBhZGRyZXNzSGFzaE1vZGVUb1ZlcnNpb24oaGFzaE1vZGUsIHR4VmVyc2lvbikge1xuICAgIHN3aXRjaCAoaGFzaE1vZGUpIHtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJQS0g6XG4gICAgICAgICAgICBzd2l0Y2ggKHR4VmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuVHJhbnNhY3Rpb25WZXJzaW9uLk1haW5uZXQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5BZGRyZXNzVmVyc2lvbi5NYWlubmV0U2luZ2xlU2lnO1xuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuVHJhbnNhY3Rpb25WZXJzaW9uLlRlc3RuZXQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5BZGRyZXNzVmVyc2lvbi5UZXN0bmV0U2luZ2xlU2lnO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eFZlcnNpb24gJHtKU09OLnN0cmluZ2lmeSh0eFZlcnNpb24pfSBmb3IgaGFzaE1vZGUgJHtoYXNoTW9kZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJTSDpcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJXUEtIOlxuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMldTSDpcbiAgICAgICAgICAgIHN3aXRjaCAodHhWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5UcmFuc2FjdGlvblZlcnNpb24uTWFpbm5ldDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkFkZHJlc3NWZXJzaW9uLk1haW5uZXRNdWx0aVNpZztcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLlRyYW5zYWN0aW9uVmVyc2lvbi5UZXN0bmV0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuQWRkcmVzc1ZlcnNpb24uVGVzdG5ldE11bHRpU2lnO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eFZlcnNpb24gJHtKU09OLnN0cmluZ2lmeSh0eFZlcnNpb24pfSBmb3IgaGFzaE1vZGUgJHtoYXNoTW9kZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBoYXNoTW9kZSAke0pTT04uc3RyaW5naWZ5KGhhc2hNb2RlKX1gKTtcbiAgICB9XG59XG5leHBvcnRzLmFkZHJlc3NIYXNoTW9kZVRvVmVyc2lvbiA9IGFkZHJlc3NIYXNoTW9kZVRvVmVyc2lvbjtcbmZ1bmN0aW9uIGFkZHJlc3NGcm9tVmVyc2lvbkhhc2godmVyc2lvbiwgaGFzaCkge1xuICAgIHJldHVybiB7IHR5cGU6IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLkFkZHJlc3MsIHZlcnNpb24sIGhhc2gxNjA6IGhhc2ggfTtcbn1cbmV4cG9ydHMuYWRkcmVzc0Zyb21WZXJzaW9uSGFzaCA9IGFkZHJlc3NGcm9tVmVyc2lvbkhhc2g7XG5mdW5jdGlvbiBhZGRyZXNzVG9TdHJpbmcoYWRkcmVzcykge1xuICAgIHJldHVybiAoMCwgYzMyY2hlY2tfMS5jMzJhZGRyZXNzKShhZGRyZXNzLnZlcnNpb24sIGFkZHJlc3MuaGFzaDE2MCk7XG59XG5leHBvcnRzLmFkZHJlc3NUb1N0cmluZyA9IGFkZHJlc3NUb1N0cmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/common.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/constants.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/constants.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TxRejectedReason = exports.AssetType = exports.NonFungibleConditionCode = exports.FungibleConditionCode = exports.PubKeyEncoding = exports.AddressVersion = exports.AddressHashMode = exports.AuthType = exports.PostConditionPrincipalID = exports.PostConditionType = exports.PostConditionMode = exports.TransactionVersion = exports.anchorModeFromNameOrValue = exports.AnchorModeNames = exports.AnchorMode = exports.ClarityVersion = exports.PayloadType = exports.StacksMessageType = exports.ChainID = exports.DEFAULT_CORE_NODE_API_URL = exports.MEMO_MAX_LENGTH_BYTES = exports.UNCOMPRESSED_PUBKEY_LENGTH_BYTES = exports.COMPRESSED_PUBKEY_LENGTH_BYTES = exports.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES = exports.DEFAULT_TRANSACTION_VERSION = exports.DEFAULT_CHAIN_ID = exports.COINBASE_BYTES_LENGTH = exports.CLARITY_INT_BYTE_SIZE = exports.CLARITY_INT_SIZE = exports.MAX_STRING_LENGTH_BYTES = exports.whenMessageType = void 0;\nvar ChainID;\n(function (ChainID) {\n    ChainID[ChainID[\"Testnet\"] = 2147483648] = \"Testnet\";\n    ChainID[ChainID[\"Mainnet\"] = 1] = \"Mainnet\";\n})(ChainID || (exports.ChainID = ChainID = {}));\nconst DEFAULT_CHAIN_ID = ChainID.Mainnet;\nexports.DEFAULT_CHAIN_ID = DEFAULT_CHAIN_ID;\nconst MAX_STRING_LENGTH_BYTES = 128;\nexports.MAX_STRING_LENGTH_BYTES = MAX_STRING_LENGTH_BYTES;\nconst CLARITY_INT_SIZE = 128;\nexports.CLARITY_INT_SIZE = CLARITY_INT_SIZE;\nconst CLARITY_INT_BYTE_SIZE = 16;\nexports.CLARITY_INT_BYTE_SIZE = CLARITY_INT_BYTE_SIZE;\nconst COINBASE_LENGTH_BYTES = 32;\nexports.COINBASE_BYTES_LENGTH = COINBASE_LENGTH_BYTES;\nconst RECOVERABLE_ECDSA_SIG_LENGTH_BYTES = 65;\nexports.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES = RECOVERABLE_ECDSA_SIG_LENGTH_BYTES;\nconst COMPRESSED_PUBKEY_LENGTH_BYTES = 32;\nexports.COMPRESSED_PUBKEY_LENGTH_BYTES = COMPRESSED_PUBKEY_LENGTH_BYTES;\nconst UNCOMPRESSED_PUBKEY_LENGTH_BYTES = 64;\nexports.UNCOMPRESSED_PUBKEY_LENGTH_BYTES = UNCOMPRESSED_PUBKEY_LENGTH_BYTES;\nconst MEMO_MAX_LENGTH_BYTES = 34;\nexports.MEMO_MAX_LENGTH_BYTES = MEMO_MAX_LENGTH_BYTES;\nconst DEFAULT_CORE_NODE_API_URL = 'https://stacks-node-api.mainnet.stacks.co';\nexports.DEFAULT_CORE_NODE_API_URL = DEFAULT_CORE_NODE_API_URL;\nvar StacksMessageType;\n(function (StacksMessageType) {\n    StacksMessageType[StacksMessageType[\"Address\"] = 0] = \"Address\";\n    StacksMessageType[StacksMessageType[\"Principal\"] = 1] = \"Principal\";\n    StacksMessageType[StacksMessageType[\"LengthPrefixedString\"] = 2] = \"LengthPrefixedString\";\n    StacksMessageType[StacksMessageType[\"MemoString\"] = 3] = \"MemoString\";\n    StacksMessageType[StacksMessageType[\"AssetInfo\"] = 4] = \"AssetInfo\";\n    StacksMessageType[StacksMessageType[\"PostCondition\"] = 5] = \"PostCondition\";\n    StacksMessageType[StacksMessageType[\"PublicKey\"] = 6] = \"PublicKey\";\n    StacksMessageType[StacksMessageType[\"LengthPrefixedList\"] = 7] = \"LengthPrefixedList\";\n    StacksMessageType[StacksMessageType[\"Payload\"] = 8] = \"Payload\";\n    StacksMessageType[StacksMessageType[\"MessageSignature\"] = 9] = \"MessageSignature\";\n    StacksMessageType[StacksMessageType[\"StructuredDataSignature\"] = 10] = \"StructuredDataSignature\";\n    StacksMessageType[StacksMessageType[\"TransactionAuthField\"] = 11] = \"TransactionAuthField\";\n})(StacksMessageType || (exports.StacksMessageType = StacksMessageType = {}));\nfunction whenMessageType(messageType) {\n    return (messageTypeMap) => messageTypeMap[messageType];\n}\nexports.whenMessageType = whenMessageType;\nvar PayloadType;\n(function (PayloadType) {\n    PayloadType[PayloadType[\"TokenTransfer\"] = 0] = \"TokenTransfer\";\n    PayloadType[PayloadType[\"SmartContract\"] = 1] = \"SmartContract\";\n    PayloadType[PayloadType[\"VersionedSmartContract\"] = 6] = \"VersionedSmartContract\";\n    PayloadType[PayloadType[\"ContractCall\"] = 2] = \"ContractCall\";\n    PayloadType[PayloadType[\"PoisonMicroblock\"] = 3] = \"PoisonMicroblock\";\n    PayloadType[PayloadType[\"Coinbase\"] = 4] = \"Coinbase\";\n    PayloadType[PayloadType[\"CoinbaseToAltRecipient\"] = 5] = \"CoinbaseToAltRecipient\";\n})(PayloadType || (exports.PayloadType = PayloadType = {}));\nvar ClarityVersion;\n(function (ClarityVersion) {\n    ClarityVersion[ClarityVersion[\"Clarity1\"] = 1] = \"Clarity1\";\n    ClarityVersion[ClarityVersion[\"Clarity2\"] = 2] = \"Clarity2\";\n})(ClarityVersion || (exports.ClarityVersion = ClarityVersion = {}));\nvar AnchorMode;\n(function (AnchorMode) {\n    AnchorMode[AnchorMode[\"OnChainOnly\"] = 1] = \"OnChainOnly\";\n    AnchorMode[AnchorMode[\"OffChainOnly\"] = 2] = \"OffChainOnly\";\n    AnchorMode[AnchorMode[\"Any\"] = 3] = \"Any\";\n})(AnchorMode || (exports.AnchorMode = AnchorMode = {}));\nconst AnchorModeNames = ['onChainOnly', 'offChainOnly', 'any'];\nexports.AnchorModeNames = AnchorModeNames;\nconst AnchorModeMap = {\n    [AnchorModeNames[0]]: AnchorMode.OnChainOnly,\n    [AnchorModeNames[1]]: AnchorMode.OffChainOnly,\n    [AnchorModeNames[2]]: AnchorMode.Any,\n    [AnchorMode.OnChainOnly]: AnchorMode.OnChainOnly,\n    [AnchorMode.OffChainOnly]: AnchorMode.OffChainOnly,\n    [AnchorMode.Any]: AnchorMode.Any,\n};\nfunction anchorModeFromNameOrValue(mode) {\n    if (mode in AnchorModeMap) {\n        return AnchorModeMap[mode];\n    }\n    throw new Error(`Invalid anchor mode \"${mode}\", must be one of: ${AnchorModeNames.join(', ')}`);\n}\nexports.anchorModeFromNameOrValue = anchorModeFromNameOrValue;\nvar TransactionVersion;\n(function (TransactionVersion) {\n    TransactionVersion[TransactionVersion[\"Mainnet\"] = 0] = \"Mainnet\";\n    TransactionVersion[TransactionVersion[\"Testnet\"] = 128] = \"Testnet\";\n})(TransactionVersion || (exports.TransactionVersion = TransactionVersion = {}));\nconst DEFAULT_TRANSACTION_VERSION = TransactionVersion.Mainnet;\nexports.DEFAULT_TRANSACTION_VERSION = DEFAULT_TRANSACTION_VERSION;\nvar PostConditionMode;\n(function (PostConditionMode) {\n    PostConditionMode[PostConditionMode[\"Allow\"] = 1] = \"Allow\";\n    PostConditionMode[PostConditionMode[\"Deny\"] = 2] = \"Deny\";\n})(PostConditionMode || (exports.PostConditionMode = PostConditionMode = {}));\nvar PostConditionType;\n(function (PostConditionType) {\n    PostConditionType[PostConditionType[\"STX\"] = 0] = \"STX\";\n    PostConditionType[PostConditionType[\"Fungible\"] = 1] = \"Fungible\";\n    PostConditionType[PostConditionType[\"NonFungible\"] = 2] = \"NonFungible\";\n})(PostConditionType || (exports.PostConditionType = PostConditionType = {}));\nvar AuthType;\n(function (AuthType) {\n    AuthType[AuthType[\"Standard\"] = 4] = \"Standard\";\n    AuthType[AuthType[\"Sponsored\"] = 5] = \"Sponsored\";\n})(AuthType || (exports.AuthType = AuthType = {}));\nvar AddressHashMode;\n(function (AddressHashMode) {\n    AddressHashMode[AddressHashMode[\"SerializeP2PKH\"] = 0] = \"SerializeP2PKH\";\n    AddressHashMode[AddressHashMode[\"SerializeP2SH\"] = 1] = \"SerializeP2SH\";\n    AddressHashMode[AddressHashMode[\"SerializeP2WPKH\"] = 2] = \"SerializeP2WPKH\";\n    AddressHashMode[AddressHashMode[\"SerializeP2WSH\"] = 3] = \"SerializeP2WSH\";\n})(AddressHashMode || (exports.AddressHashMode = AddressHashMode = {}));\nvar AddressVersion;\n(function (AddressVersion) {\n    AddressVersion[AddressVersion[\"MainnetSingleSig\"] = 22] = \"MainnetSingleSig\";\n    AddressVersion[AddressVersion[\"MainnetMultiSig\"] = 20] = \"MainnetMultiSig\";\n    AddressVersion[AddressVersion[\"TestnetSingleSig\"] = 26] = \"TestnetSingleSig\";\n    AddressVersion[AddressVersion[\"TestnetMultiSig\"] = 21] = \"TestnetMultiSig\";\n})(AddressVersion || (exports.AddressVersion = AddressVersion = {}));\nvar PubKeyEncoding;\n(function (PubKeyEncoding) {\n    PubKeyEncoding[PubKeyEncoding[\"Compressed\"] = 0] = \"Compressed\";\n    PubKeyEncoding[PubKeyEncoding[\"Uncompressed\"] = 1] = \"Uncompressed\";\n})(PubKeyEncoding || (exports.PubKeyEncoding = PubKeyEncoding = {}));\nvar FungibleConditionCode;\n(function (FungibleConditionCode) {\n    FungibleConditionCode[FungibleConditionCode[\"Equal\"] = 1] = \"Equal\";\n    FungibleConditionCode[FungibleConditionCode[\"Greater\"] = 2] = \"Greater\";\n    FungibleConditionCode[FungibleConditionCode[\"GreaterEqual\"] = 3] = \"GreaterEqual\";\n    FungibleConditionCode[FungibleConditionCode[\"Less\"] = 4] = \"Less\";\n    FungibleConditionCode[FungibleConditionCode[\"LessEqual\"] = 5] = \"LessEqual\";\n})(FungibleConditionCode || (exports.FungibleConditionCode = FungibleConditionCode = {}));\nvar NonFungibleConditionCode;\n(function (NonFungibleConditionCode) {\n    NonFungibleConditionCode[NonFungibleConditionCode[\"Sends\"] = 16] = \"Sends\";\n    NonFungibleConditionCode[NonFungibleConditionCode[\"DoesNotSend\"] = 17] = \"DoesNotSend\";\n})(NonFungibleConditionCode || (exports.NonFungibleConditionCode = NonFungibleConditionCode = {}));\nvar PostConditionPrincipalID;\n(function (PostConditionPrincipalID) {\n    PostConditionPrincipalID[PostConditionPrincipalID[\"Origin\"] = 1] = \"Origin\";\n    PostConditionPrincipalID[PostConditionPrincipalID[\"Standard\"] = 2] = \"Standard\";\n    PostConditionPrincipalID[PostConditionPrincipalID[\"Contract\"] = 3] = \"Contract\";\n})(PostConditionPrincipalID || (exports.PostConditionPrincipalID = PostConditionPrincipalID = {}));\nvar AssetType;\n(function (AssetType) {\n    AssetType[AssetType[\"STX\"] = 0] = \"STX\";\n    AssetType[AssetType[\"Fungible\"] = 1] = \"Fungible\";\n    AssetType[AssetType[\"NonFungible\"] = 2] = \"NonFungible\";\n})(AssetType || (exports.AssetType = AssetType = {}));\nvar TxRejectedReason;\n(function (TxRejectedReason) {\n    TxRejectedReason[\"Serialization\"] = \"Serialization\";\n    TxRejectedReason[\"Deserialization\"] = \"Deserialization\";\n    TxRejectedReason[\"SignatureValidation\"] = \"SignatureValidation\";\n    TxRejectedReason[\"FeeTooLow\"] = \"FeeTooLow\";\n    TxRejectedReason[\"BadNonce\"] = \"BadNonce\";\n    TxRejectedReason[\"NotEnoughFunds\"] = \"NotEnoughFunds\";\n    TxRejectedReason[\"NoSuchContract\"] = \"NoSuchContract\";\n    TxRejectedReason[\"NoSuchPublicFunction\"] = \"NoSuchPublicFunction\";\n    TxRejectedReason[\"BadFunctionArgument\"] = \"BadFunctionArgument\";\n    TxRejectedReason[\"ContractAlreadyExists\"] = \"ContractAlreadyExists\";\n    TxRejectedReason[\"PoisonMicroblocksDoNotConflict\"] = \"PoisonMicroblocksDoNotConflict\";\n    TxRejectedReason[\"PoisonMicroblockHasUnknownPubKeyHash\"] = \"PoisonMicroblockHasUnknownPubKeyHash\";\n    TxRejectedReason[\"PoisonMicroblockIsInvalid\"] = \"PoisonMicroblockIsInvalid\";\n    TxRejectedReason[\"BadAddressVersionByte\"] = \"BadAddressVersionByte\";\n    TxRejectedReason[\"NoCoinbaseViaMempool\"] = \"NoCoinbaseViaMempool\";\n    TxRejectedReason[\"ServerFailureNoSuchChainTip\"] = \"ServerFailureNoSuchChainTip\";\n    TxRejectedReason[\"ServerFailureDatabase\"] = \"ServerFailureDatabase\";\n    TxRejectedReason[\"ServerFailureOther\"] = \"ServerFailureOther\";\n})(TxRejectedReason || (exports.TxRejectedReason = TxRejectedReason = {}));\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcsaUJBQWlCLEdBQUcsZ0NBQWdDLEdBQUcsNkJBQTZCLEdBQUcsc0JBQXNCLEdBQUcsc0JBQXNCLEdBQUcsdUJBQXVCLEdBQUcsZ0JBQWdCLEdBQUcsZ0NBQWdDLEdBQUcseUJBQXlCLEdBQUcseUJBQXlCLEdBQUcsMEJBQTBCLEdBQUcsaUNBQWlDLEdBQUcsdUJBQXVCLEdBQUcsa0JBQWtCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcseUJBQXlCLEdBQUcsZUFBZSxHQUFHLGlDQUFpQyxHQUFHLDZCQUE2QixHQUFHLHdDQUF3QyxHQUFHLHNDQUFzQyxHQUFHLDBDQUEwQyxHQUFHLG1DQUFtQyxHQUFHLHdCQUF3QixHQUFHLDZCQUE2QixHQUFHLDZCQUE2QixHQUFHLHdCQUF3QixHQUFHLCtCQUErQixHQUFHLHVCQUF1QjtBQUNuNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGNBQWMsZUFBZSxlQUFlO0FBQzdDO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3Qix5QkFBeUIseUJBQXlCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtCQUFrQixtQkFBbUIsbUJBQW1CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUIsc0JBQXNCLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpQkFBaUIsa0JBQWtCLGtCQUFrQjtBQUN0RDtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsS0FBSyxxQkFBcUIsMkJBQTJCO0FBQ2pHO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5QkFBeUIsMEJBQTBCLDBCQUEwQjtBQUM5RTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCLHlCQUF5Qix5QkFBeUI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCLHlCQUF5Qix5QkFBeUI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGVBQWUsZ0JBQWdCLGdCQUFnQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNCQUFzQix1QkFBdUIsdUJBQXVCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCLHNCQUFzQixzQkFBc0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFCQUFxQixzQkFBc0Isc0JBQXNCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEIsNkJBQTZCLDZCQUE2QjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsK0JBQStCLGdDQUFnQyxnQ0FBZ0M7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsK0JBQStCLGdDQUFnQyxnQ0FBZ0M7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0JBQWdCLGlCQUFpQixpQkFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsdUJBQXVCLHdCQUF3Qix3QkFBd0I7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jb25zdGFudHMuanM/NWUxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHhSZWplY3RlZFJlYXNvbiA9IGV4cG9ydHMuQXNzZXRUeXBlID0gZXhwb3J0cy5Ob25GdW5naWJsZUNvbmRpdGlvbkNvZGUgPSBleHBvcnRzLkZ1bmdpYmxlQ29uZGl0aW9uQ29kZSA9IGV4cG9ydHMuUHViS2V5RW5jb2RpbmcgPSBleHBvcnRzLkFkZHJlc3NWZXJzaW9uID0gZXhwb3J0cy5BZGRyZXNzSGFzaE1vZGUgPSBleHBvcnRzLkF1dGhUeXBlID0gZXhwb3J0cy5Qb3N0Q29uZGl0aW9uUHJpbmNpcGFsSUQgPSBleHBvcnRzLlBvc3RDb25kaXRpb25UeXBlID0gZXhwb3J0cy5Qb3N0Q29uZGl0aW9uTW9kZSA9IGV4cG9ydHMuVHJhbnNhY3Rpb25WZXJzaW9uID0gZXhwb3J0cy5hbmNob3JNb2RlRnJvbU5hbWVPclZhbHVlID0gZXhwb3J0cy5BbmNob3JNb2RlTmFtZXMgPSBleHBvcnRzLkFuY2hvck1vZGUgPSBleHBvcnRzLkNsYXJpdHlWZXJzaW9uID0gZXhwb3J0cy5QYXlsb2FkVHlwZSA9IGV4cG9ydHMuU3RhY2tzTWVzc2FnZVR5cGUgPSBleHBvcnRzLkNoYWluSUQgPSBleHBvcnRzLkRFRkFVTFRfQ09SRV9OT0RFX0FQSV9VUkwgPSBleHBvcnRzLk1FTU9fTUFYX0xFTkdUSF9CWVRFUyA9IGV4cG9ydHMuVU5DT01QUkVTU0VEX1BVQktFWV9MRU5HVEhfQllURVMgPSBleHBvcnRzLkNPTVBSRVNTRURfUFVCS0VZX0xFTkdUSF9CWVRFUyA9IGV4cG9ydHMuUkVDT1ZFUkFCTEVfRUNEU0FfU0lHX0xFTkdUSF9CWVRFUyA9IGV4cG9ydHMuREVGQVVMVF9UUkFOU0FDVElPTl9WRVJTSU9OID0gZXhwb3J0cy5ERUZBVUxUX0NIQUlOX0lEID0gZXhwb3J0cy5DT0lOQkFTRV9CWVRFU19MRU5HVEggPSBleHBvcnRzLkNMQVJJVFlfSU5UX0JZVEVfU0laRSA9IGV4cG9ydHMuQ0xBUklUWV9JTlRfU0laRSA9IGV4cG9ydHMuTUFYX1NUUklOR19MRU5HVEhfQllURVMgPSBleHBvcnRzLndoZW5NZXNzYWdlVHlwZSA9IHZvaWQgMDtcbnZhciBDaGFpbklEO1xuKGZ1bmN0aW9uIChDaGFpbklEKSB7XG4gICAgQ2hhaW5JRFtDaGFpbklEW1wiVGVzdG5ldFwiXSA9IDIxNDc0ODM2NDhdID0gXCJUZXN0bmV0XCI7XG4gICAgQ2hhaW5JRFtDaGFpbklEW1wiTWFpbm5ldFwiXSA9IDFdID0gXCJNYWlubmV0XCI7XG59KShDaGFpbklEIHx8IChleHBvcnRzLkNoYWluSUQgPSBDaGFpbklEID0ge30pKTtcbmNvbnN0IERFRkFVTFRfQ0hBSU5fSUQgPSBDaGFpbklELk1haW5uZXQ7XG5leHBvcnRzLkRFRkFVTFRfQ0hBSU5fSUQgPSBERUZBVUxUX0NIQUlOX0lEO1xuY29uc3QgTUFYX1NUUklOR19MRU5HVEhfQllURVMgPSAxMjg7XG5leHBvcnRzLk1BWF9TVFJJTkdfTEVOR1RIX0JZVEVTID0gTUFYX1NUUklOR19MRU5HVEhfQllURVM7XG5jb25zdCBDTEFSSVRZX0lOVF9TSVpFID0gMTI4O1xuZXhwb3J0cy5DTEFSSVRZX0lOVF9TSVpFID0gQ0xBUklUWV9JTlRfU0laRTtcbmNvbnN0IENMQVJJVFlfSU5UX0JZVEVfU0laRSA9IDE2O1xuZXhwb3J0cy5DTEFSSVRZX0lOVF9CWVRFX1NJWkUgPSBDTEFSSVRZX0lOVF9CWVRFX1NJWkU7XG5jb25zdCBDT0lOQkFTRV9MRU5HVEhfQllURVMgPSAzMjtcbmV4cG9ydHMuQ09JTkJBU0VfQllURVNfTEVOR1RIID0gQ09JTkJBU0VfTEVOR1RIX0JZVEVTO1xuY29uc3QgUkVDT1ZFUkFCTEVfRUNEU0FfU0lHX0xFTkdUSF9CWVRFUyA9IDY1O1xuZXhwb3J0cy5SRUNPVkVSQUJMRV9FQ0RTQV9TSUdfTEVOR1RIX0JZVEVTID0gUkVDT1ZFUkFCTEVfRUNEU0FfU0lHX0xFTkdUSF9CWVRFUztcbmNvbnN0IENPTVBSRVNTRURfUFVCS0VZX0xFTkdUSF9CWVRFUyA9IDMyO1xuZXhwb3J0cy5DT01QUkVTU0VEX1BVQktFWV9MRU5HVEhfQllURVMgPSBDT01QUkVTU0VEX1BVQktFWV9MRU5HVEhfQllURVM7XG5jb25zdCBVTkNPTVBSRVNTRURfUFVCS0VZX0xFTkdUSF9CWVRFUyA9IDY0O1xuZXhwb3J0cy5VTkNPTVBSRVNTRURfUFVCS0VZX0xFTkdUSF9CWVRFUyA9IFVOQ09NUFJFU1NFRF9QVUJLRVlfTEVOR1RIX0JZVEVTO1xuY29uc3QgTUVNT19NQVhfTEVOR1RIX0JZVEVTID0gMzQ7XG5leHBvcnRzLk1FTU9fTUFYX0xFTkdUSF9CWVRFUyA9IE1FTU9fTUFYX0xFTkdUSF9CWVRFUztcbmNvbnN0IERFRkFVTFRfQ09SRV9OT0RFX0FQSV9VUkwgPSAnaHR0cHM6Ly9zdGFja3Mtbm9kZS1hcGkubWFpbm5ldC5zdGFja3MuY28nO1xuZXhwb3J0cy5ERUZBVUxUX0NPUkVfTk9ERV9BUElfVVJMID0gREVGQVVMVF9DT1JFX05PREVfQVBJX1VSTDtcbnZhciBTdGFja3NNZXNzYWdlVHlwZTtcbihmdW5jdGlvbiAoU3RhY2tzTWVzc2FnZVR5cGUpIHtcbiAgICBTdGFja3NNZXNzYWdlVHlwZVtTdGFja3NNZXNzYWdlVHlwZVtcIkFkZHJlc3NcIl0gPSAwXSA9IFwiQWRkcmVzc1wiO1xuICAgIFN0YWNrc01lc3NhZ2VUeXBlW1N0YWNrc01lc3NhZ2VUeXBlW1wiUHJpbmNpcGFsXCJdID0gMV0gPSBcIlByaW5jaXBhbFwiO1xuICAgIFN0YWNrc01lc3NhZ2VUeXBlW1N0YWNrc01lc3NhZ2VUeXBlW1wiTGVuZ3RoUHJlZml4ZWRTdHJpbmdcIl0gPSAyXSA9IFwiTGVuZ3RoUHJlZml4ZWRTdHJpbmdcIjtcbiAgICBTdGFja3NNZXNzYWdlVHlwZVtTdGFja3NNZXNzYWdlVHlwZVtcIk1lbW9TdHJpbmdcIl0gPSAzXSA9IFwiTWVtb1N0cmluZ1wiO1xuICAgIFN0YWNrc01lc3NhZ2VUeXBlW1N0YWNrc01lc3NhZ2VUeXBlW1wiQXNzZXRJbmZvXCJdID0gNF0gPSBcIkFzc2V0SW5mb1wiO1xuICAgIFN0YWNrc01lc3NhZ2VUeXBlW1N0YWNrc01lc3NhZ2VUeXBlW1wiUG9zdENvbmRpdGlvblwiXSA9IDVdID0gXCJQb3N0Q29uZGl0aW9uXCI7XG4gICAgU3RhY2tzTWVzc2FnZVR5cGVbU3RhY2tzTWVzc2FnZVR5cGVbXCJQdWJsaWNLZXlcIl0gPSA2XSA9IFwiUHVibGljS2V5XCI7XG4gICAgU3RhY2tzTWVzc2FnZVR5cGVbU3RhY2tzTWVzc2FnZVR5cGVbXCJMZW5ndGhQcmVmaXhlZExpc3RcIl0gPSA3XSA9IFwiTGVuZ3RoUHJlZml4ZWRMaXN0XCI7XG4gICAgU3RhY2tzTWVzc2FnZVR5cGVbU3RhY2tzTWVzc2FnZVR5cGVbXCJQYXlsb2FkXCJdID0gOF0gPSBcIlBheWxvYWRcIjtcbiAgICBTdGFja3NNZXNzYWdlVHlwZVtTdGFja3NNZXNzYWdlVHlwZVtcIk1lc3NhZ2VTaWduYXR1cmVcIl0gPSA5XSA9IFwiTWVzc2FnZVNpZ25hdHVyZVwiO1xuICAgIFN0YWNrc01lc3NhZ2VUeXBlW1N0YWNrc01lc3NhZ2VUeXBlW1wiU3RydWN0dXJlZERhdGFTaWduYXR1cmVcIl0gPSAxMF0gPSBcIlN0cnVjdHVyZWREYXRhU2lnbmF0dXJlXCI7XG4gICAgU3RhY2tzTWVzc2FnZVR5cGVbU3RhY2tzTWVzc2FnZVR5cGVbXCJUcmFuc2FjdGlvbkF1dGhGaWVsZFwiXSA9IDExXSA9IFwiVHJhbnNhY3Rpb25BdXRoRmllbGRcIjtcbn0pKFN0YWNrc01lc3NhZ2VUeXBlIHx8IChleHBvcnRzLlN0YWNrc01lc3NhZ2VUeXBlID0gU3RhY2tzTWVzc2FnZVR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gd2hlbk1lc3NhZ2VUeXBlKG1lc3NhZ2VUeXBlKSB7XG4gICAgcmV0dXJuIChtZXNzYWdlVHlwZU1hcCkgPT4gbWVzc2FnZVR5cGVNYXBbbWVzc2FnZVR5cGVdO1xufVxuZXhwb3J0cy53aGVuTWVzc2FnZVR5cGUgPSB3aGVuTWVzc2FnZVR5cGU7XG52YXIgUGF5bG9hZFR5cGU7XG4oZnVuY3Rpb24gKFBheWxvYWRUeXBlKSB7XG4gICAgUGF5bG9hZFR5cGVbUGF5bG9hZFR5cGVbXCJUb2tlblRyYW5zZmVyXCJdID0gMF0gPSBcIlRva2VuVHJhbnNmZXJcIjtcbiAgICBQYXlsb2FkVHlwZVtQYXlsb2FkVHlwZVtcIlNtYXJ0Q29udHJhY3RcIl0gPSAxXSA9IFwiU21hcnRDb250cmFjdFwiO1xuICAgIFBheWxvYWRUeXBlW1BheWxvYWRUeXBlW1wiVmVyc2lvbmVkU21hcnRDb250cmFjdFwiXSA9IDZdID0gXCJWZXJzaW9uZWRTbWFydENvbnRyYWN0XCI7XG4gICAgUGF5bG9hZFR5cGVbUGF5bG9hZFR5cGVbXCJDb250cmFjdENhbGxcIl0gPSAyXSA9IFwiQ29udHJhY3RDYWxsXCI7XG4gICAgUGF5bG9hZFR5cGVbUGF5bG9hZFR5cGVbXCJQb2lzb25NaWNyb2Jsb2NrXCJdID0gM10gPSBcIlBvaXNvbk1pY3JvYmxvY2tcIjtcbiAgICBQYXlsb2FkVHlwZVtQYXlsb2FkVHlwZVtcIkNvaW5iYXNlXCJdID0gNF0gPSBcIkNvaW5iYXNlXCI7XG4gICAgUGF5bG9hZFR5cGVbUGF5bG9hZFR5cGVbXCJDb2luYmFzZVRvQWx0UmVjaXBpZW50XCJdID0gNV0gPSBcIkNvaW5iYXNlVG9BbHRSZWNpcGllbnRcIjtcbn0pKFBheWxvYWRUeXBlIHx8IChleHBvcnRzLlBheWxvYWRUeXBlID0gUGF5bG9hZFR5cGUgPSB7fSkpO1xudmFyIENsYXJpdHlWZXJzaW9uO1xuKGZ1bmN0aW9uIChDbGFyaXR5VmVyc2lvbikge1xuICAgIENsYXJpdHlWZXJzaW9uW0NsYXJpdHlWZXJzaW9uW1wiQ2xhcml0eTFcIl0gPSAxXSA9IFwiQ2xhcml0eTFcIjtcbiAgICBDbGFyaXR5VmVyc2lvbltDbGFyaXR5VmVyc2lvbltcIkNsYXJpdHkyXCJdID0gMl0gPSBcIkNsYXJpdHkyXCI7XG59KShDbGFyaXR5VmVyc2lvbiB8fCAoZXhwb3J0cy5DbGFyaXR5VmVyc2lvbiA9IENsYXJpdHlWZXJzaW9uID0ge30pKTtcbnZhciBBbmNob3JNb2RlO1xuKGZ1bmN0aW9uIChBbmNob3JNb2RlKSB7XG4gICAgQW5jaG9yTW9kZVtBbmNob3JNb2RlW1wiT25DaGFpbk9ubHlcIl0gPSAxXSA9IFwiT25DaGFpbk9ubHlcIjtcbiAgICBBbmNob3JNb2RlW0FuY2hvck1vZGVbXCJPZmZDaGFpbk9ubHlcIl0gPSAyXSA9IFwiT2ZmQ2hhaW5Pbmx5XCI7XG4gICAgQW5jaG9yTW9kZVtBbmNob3JNb2RlW1wiQW55XCJdID0gM10gPSBcIkFueVwiO1xufSkoQW5jaG9yTW9kZSB8fCAoZXhwb3J0cy5BbmNob3JNb2RlID0gQW5jaG9yTW9kZSA9IHt9KSk7XG5jb25zdCBBbmNob3JNb2RlTmFtZXMgPSBbJ29uQ2hhaW5Pbmx5JywgJ29mZkNoYWluT25seScsICdhbnknXTtcbmV4cG9ydHMuQW5jaG9yTW9kZU5hbWVzID0gQW5jaG9yTW9kZU5hbWVzO1xuY29uc3QgQW5jaG9yTW9kZU1hcCA9IHtcbiAgICBbQW5jaG9yTW9kZU5hbWVzWzBdXTogQW5jaG9yTW9kZS5PbkNoYWluT25seSxcbiAgICBbQW5jaG9yTW9kZU5hbWVzWzFdXTogQW5jaG9yTW9kZS5PZmZDaGFpbk9ubHksXG4gICAgW0FuY2hvck1vZGVOYW1lc1syXV06IEFuY2hvck1vZGUuQW55LFxuICAgIFtBbmNob3JNb2RlLk9uQ2hhaW5Pbmx5XTogQW5jaG9yTW9kZS5PbkNoYWluT25seSxcbiAgICBbQW5jaG9yTW9kZS5PZmZDaGFpbk9ubHldOiBBbmNob3JNb2RlLk9mZkNoYWluT25seSxcbiAgICBbQW5jaG9yTW9kZS5BbnldOiBBbmNob3JNb2RlLkFueSxcbn07XG5mdW5jdGlvbiBhbmNob3JNb2RlRnJvbU5hbWVPclZhbHVlKG1vZGUpIHtcbiAgICBpZiAobW9kZSBpbiBBbmNob3JNb2RlTWFwKSB7XG4gICAgICAgIHJldHVybiBBbmNob3JNb2RlTWFwW21vZGVdO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYW5jaG9yIG1vZGUgXCIke21vZGV9XCIsIG11c3QgYmUgb25lIG9mOiAke0FuY2hvck1vZGVOYW1lcy5qb2luKCcsICcpfWApO1xufVxuZXhwb3J0cy5hbmNob3JNb2RlRnJvbU5hbWVPclZhbHVlID0gYW5jaG9yTW9kZUZyb21OYW1lT3JWYWx1ZTtcbnZhciBUcmFuc2FjdGlvblZlcnNpb247XG4oZnVuY3Rpb24gKFRyYW5zYWN0aW9uVmVyc2lvbikge1xuICAgIFRyYW5zYWN0aW9uVmVyc2lvbltUcmFuc2FjdGlvblZlcnNpb25bXCJNYWlubmV0XCJdID0gMF0gPSBcIk1haW5uZXRcIjtcbiAgICBUcmFuc2FjdGlvblZlcnNpb25bVHJhbnNhY3Rpb25WZXJzaW9uW1wiVGVzdG5ldFwiXSA9IDEyOF0gPSBcIlRlc3RuZXRcIjtcbn0pKFRyYW5zYWN0aW9uVmVyc2lvbiB8fCAoZXhwb3J0cy5UcmFuc2FjdGlvblZlcnNpb24gPSBUcmFuc2FjdGlvblZlcnNpb24gPSB7fSkpO1xuY29uc3QgREVGQVVMVF9UUkFOU0FDVElPTl9WRVJTSU9OID0gVHJhbnNhY3Rpb25WZXJzaW9uLk1haW5uZXQ7XG5leHBvcnRzLkRFRkFVTFRfVFJBTlNBQ1RJT05fVkVSU0lPTiA9IERFRkFVTFRfVFJBTlNBQ1RJT05fVkVSU0lPTjtcbnZhciBQb3N0Q29uZGl0aW9uTW9kZTtcbihmdW5jdGlvbiAoUG9zdENvbmRpdGlvbk1vZGUpIHtcbiAgICBQb3N0Q29uZGl0aW9uTW9kZVtQb3N0Q29uZGl0aW9uTW9kZVtcIkFsbG93XCJdID0gMV0gPSBcIkFsbG93XCI7XG4gICAgUG9zdENvbmRpdGlvbk1vZGVbUG9zdENvbmRpdGlvbk1vZGVbXCJEZW55XCJdID0gMl0gPSBcIkRlbnlcIjtcbn0pKFBvc3RDb25kaXRpb25Nb2RlIHx8IChleHBvcnRzLlBvc3RDb25kaXRpb25Nb2RlID0gUG9zdENvbmRpdGlvbk1vZGUgPSB7fSkpO1xudmFyIFBvc3RDb25kaXRpb25UeXBlO1xuKGZ1bmN0aW9uIChQb3N0Q29uZGl0aW9uVHlwZSkge1xuICAgIFBvc3RDb25kaXRpb25UeXBlW1Bvc3RDb25kaXRpb25UeXBlW1wiU1RYXCJdID0gMF0gPSBcIlNUWFwiO1xuICAgIFBvc3RDb25kaXRpb25UeXBlW1Bvc3RDb25kaXRpb25UeXBlW1wiRnVuZ2libGVcIl0gPSAxXSA9IFwiRnVuZ2libGVcIjtcbiAgICBQb3N0Q29uZGl0aW9uVHlwZVtQb3N0Q29uZGl0aW9uVHlwZVtcIk5vbkZ1bmdpYmxlXCJdID0gMl0gPSBcIk5vbkZ1bmdpYmxlXCI7XG59KShQb3N0Q29uZGl0aW9uVHlwZSB8fCAoZXhwb3J0cy5Qb3N0Q29uZGl0aW9uVHlwZSA9IFBvc3RDb25kaXRpb25UeXBlID0ge30pKTtcbnZhciBBdXRoVHlwZTtcbihmdW5jdGlvbiAoQXV0aFR5cGUpIHtcbiAgICBBdXRoVHlwZVtBdXRoVHlwZVtcIlN0YW5kYXJkXCJdID0gNF0gPSBcIlN0YW5kYXJkXCI7XG4gICAgQXV0aFR5cGVbQXV0aFR5cGVbXCJTcG9uc29yZWRcIl0gPSA1XSA9IFwiU3BvbnNvcmVkXCI7XG59KShBdXRoVHlwZSB8fCAoZXhwb3J0cy5BdXRoVHlwZSA9IEF1dGhUeXBlID0ge30pKTtcbnZhciBBZGRyZXNzSGFzaE1vZGU7XG4oZnVuY3Rpb24gKEFkZHJlc3NIYXNoTW9kZSkge1xuICAgIEFkZHJlc3NIYXNoTW9kZVtBZGRyZXNzSGFzaE1vZGVbXCJTZXJpYWxpemVQMlBLSFwiXSA9IDBdID0gXCJTZXJpYWxpemVQMlBLSFwiO1xuICAgIEFkZHJlc3NIYXNoTW9kZVtBZGRyZXNzSGFzaE1vZGVbXCJTZXJpYWxpemVQMlNIXCJdID0gMV0gPSBcIlNlcmlhbGl6ZVAyU0hcIjtcbiAgICBBZGRyZXNzSGFzaE1vZGVbQWRkcmVzc0hhc2hNb2RlW1wiU2VyaWFsaXplUDJXUEtIXCJdID0gMl0gPSBcIlNlcmlhbGl6ZVAyV1BLSFwiO1xuICAgIEFkZHJlc3NIYXNoTW9kZVtBZGRyZXNzSGFzaE1vZGVbXCJTZXJpYWxpemVQMldTSFwiXSA9IDNdID0gXCJTZXJpYWxpemVQMldTSFwiO1xufSkoQWRkcmVzc0hhc2hNb2RlIHx8IChleHBvcnRzLkFkZHJlc3NIYXNoTW9kZSA9IEFkZHJlc3NIYXNoTW9kZSA9IHt9KSk7XG52YXIgQWRkcmVzc1ZlcnNpb247XG4oZnVuY3Rpb24gKEFkZHJlc3NWZXJzaW9uKSB7XG4gICAgQWRkcmVzc1ZlcnNpb25bQWRkcmVzc1ZlcnNpb25bXCJNYWlubmV0U2luZ2xlU2lnXCJdID0gMjJdID0gXCJNYWlubmV0U2luZ2xlU2lnXCI7XG4gICAgQWRkcmVzc1ZlcnNpb25bQWRkcmVzc1ZlcnNpb25bXCJNYWlubmV0TXVsdGlTaWdcIl0gPSAyMF0gPSBcIk1haW5uZXRNdWx0aVNpZ1wiO1xuICAgIEFkZHJlc3NWZXJzaW9uW0FkZHJlc3NWZXJzaW9uW1wiVGVzdG5ldFNpbmdsZVNpZ1wiXSA9IDI2XSA9IFwiVGVzdG5ldFNpbmdsZVNpZ1wiO1xuICAgIEFkZHJlc3NWZXJzaW9uW0FkZHJlc3NWZXJzaW9uW1wiVGVzdG5ldE11bHRpU2lnXCJdID0gMjFdID0gXCJUZXN0bmV0TXVsdGlTaWdcIjtcbn0pKEFkZHJlc3NWZXJzaW9uIHx8IChleHBvcnRzLkFkZHJlc3NWZXJzaW9uID0gQWRkcmVzc1ZlcnNpb24gPSB7fSkpO1xudmFyIFB1YktleUVuY29kaW5nO1xuKGZ1bmN0aW9uIChQdWJLZXlFbmNvZGluZykge1xuICAgIFB1YktleUVuY29kaW5nW1B1YktleUVuY29kaW5nW1wiQ29tcHJlc3NlZFwiXSA9IDBdID0gXCJDb21wcmVzc2VkXCI7XG4gICAgUHViS2V5RW5jb2RpbmdbUHViS2V5RW5jb2RpbmdbXCJVbmNvbXByZXNzZWRcIl0gPSAxXSA9IFwiVW5jb21wcmVzc2VkXCI7XG59KShQdWJLZXlFbmNvZGluZyB8fCAoZXhwb3J0cy5QdWJLZXlFbmNvZGluZyA9IFB1YktleUVuY29kaW5nID0ge30pKTtcbnZhciBGdW5naWJsZUNvbmRpdGlvbkNvZGU7XG4oZnVuY3Rpb24gKEZ1bmdpYmxlQ29uZGl0aW9uQ29kZSkge1xuICAgIEZ1bmdpYmxlQ29uZGl0aW9uQ29kZVtGdW5naWJsZUNvbmRpdGlvbkNvZGVbXCJFcXVhbFwiXSA9IDFdID0gXCJFcXVhbFwiO1xuICAgIEZ1bmdpYmxlQ29uZGl0aW9uQ29kZVtGdW5naWJsZUNvbmRpdGlvbkNvZGVbXCJHcmVhdGVyXCJdID0gMl0gPSBcIkdyZWF0ZXJcIjtcbiAgICBGdW5naWJsZUNvbmRpdGlvbkNvZGVbRnVuZ2libGVDb25kaXRpb25Db2RlW1wiR3JlYXRlckVxdWFsXCJdID0gM10gPSBcIkdyZWF0ZXJFcXVhbFwiO1xuICAgIEZ1bmdpYmxlQ29uZGl0aW9uQ29kZVtGdW5naWJsZUNvbmRpdGlvbkNvZGVbXCJMZXNzXCJdID0gNF0gPSBcIkxlc3NcIjtcbiAgICBGdW5naWJsZUNvbmRpdGlvbkNvZGVbRnVuZ2libGVDb25kaXRpb25Db2RlW1wiTGVzc0VxdWFsXCJdID0gNV0gPSBcIkxlc3NFcXVhbFwiO1xufSkoRnVuZ2libGVDb25kaXRpb25Db2RlIHx8IChleHBvcnRzLkZ1bmdpYmxlQ29uZGl0aW9uQ29kZSA9IEZ1bmdpYmxlQ29uZGl0aW9uQ29kZSA9IHt9KSk7XG52YXIgTm9uRnVuZ2libGVDb25kaXRpb25Db2RlO1xuKGZ1bmN0aW9uIChOb25GdW5naWJsZUNvbmRpdGlvbkNvZGUpIHtcbiAgICBOb25GdW5naWJsZUNvbmRpdGlvbkNvZGVbTm9uRnVuZ2libGVDb25kaXRpb25Db2RlW1wiU2VuZHNcIl0gPSAxNl0gPSBcIlNlbmRzXCI7XG4gICAgTm9uRnVuZ2libGVDb25kaXRpb25Db2RlW05vbkZ1bmdpYmxlQ29uZGl0aW9uQ29kZVtcIkRvZXNOb3RTZW5kXCJdID0gMTddID0gXCJEb2VzTm90U2VuZFwiO1xufSkoTm9uRnVuZ2libGVDb25kaXRpb25Db2RlIHx8IChleHBvcnRzLk5vbkZ1bmdpYmxlQ29uZGl0aW9uQ29kZSA9IE5vbkZ1bmdpYmxlQ29uZGl0aW9uQ29kZSA9IHt9KSk7XG52YXIgUG9zdENvbmRpdGlvblByaW5jaXBhbElEO1xuKGZ1bmN0aW9uIChQb3N0Q29uZGl0aW9uUHJpbmNpcGFsSUQpIHtcbiAgICBQb3N0Q29uZGl0aW9uUHJpbmNpcGFsSURbUG9zdENvbmRpdGlvblByaW5jaXBhbElEW1wiT3JpZ2luXCJdID0gMV0gPSBcIk9yaWdpblwiO1xuICAgIFBvc3RDb25kaXRpb25QcmluY2lwYWxJRFtQb3N0Q29uZGl0aW9uUHJpbmNpcGFsSURbXCJTdGFuZGFyZFwiXSA9IDJdID0gXCJTdGFuZGFyZFwiO1xuICAgIFBvc3RDb25kaXRpb25QcmluY2lwYWxJRFtQb3N0Q29uZGl0aW9uUHJpbmNpcGFsSURbXCJDb250cmFjdFwiXSA9IDNdID0gXCJDb250cmFjdFwiO1xufSkoUG9zdENvbmRpdGlvblByaW5jaXBhbElEIHx8IChleHBvcnRzLlBvc3RDb25kaXRpb25QcmluY2lwYWxJRCA9IFBvc3RDb25kaXRpb25QcmluY2lwYWxJRCA9IHt9KSk7XG52YXIgQXNzZXRUeXBlO1xuKGZ1bmN0aW9uIChBc3NldFR5cGUpIHtcbiAgICBBc3NldFR5cGVbQXNzZXRUeXBlW1wiU1RYXCJdID0gMF0gPSBcIlNUWFwiO1xuICAgIEFzc2V0VHlwZVtBc3NldFR5cGVbXCJGdW5naWJsZVwiXSA9IDFdID0gXCJGdW5naWJsZVwiO1xuICAgIEFzc2V0VHlwZVtBc3NldFR5cGVbXCJOb25GdW5naWJsZVwiXSA9IDJdID0gXCJOb25GdW5naWJsZVwiO1xufSkoQXNzZXRUeXBlIHx8IChleHBvcnRzLkFzc2V0VHlwZSA9IEFzc2V0VHlwZSA9IHt9KSk7XG52YXIgVHhSZWplY3RlZFJlYXNvbjtcbihmdW5jdGlvbiAoVHhSZWplY3RlZFJlYXNvbikge1xuICAgIFR4UmVqZWN0ZWRSZWFzb25bXCJTZXJpYWxpemF0aW9uXCJdID0gXCJTZXJpYWxpemF0aW9uXCI7XG4gICAgVHhSZWplY3RlZFJlYXNvbltcIkRlc2VyaWFsaXphdGlvblwiXSA9IFwiRGVzZXJpYWxpemF0aW9uXCI7XG4gICAgVHhSZWplY3RlZFJlYXNvbltcIlNpZ25hdHVyZVZhbGlkYXRpb25cIl0gPSBcIlNpZ25hdHVyZVZhbGlkYXRpb25cIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiRmVlVG9vTG93XCJdID0gXCJGZWVUb29Mb3dcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiQmFkTm9uY2VcIl0gPSBcIkJhZE5vbmNlXCI7XG4gICAgVHhSZWplY3RlZFJlYXNvbltcIk5vdEVub3VnaEZ1bmRzXCJdID0gXCJOb3RFbm91Z2hGdW5kc1wiO1xuICAgIFR4UmVqZWN0ZWRSZWFzb25bXCJOb1N1Y2hDb250cmFjdFwiXSA9IFwiTm9TdWNoQ29udHJhY3RcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiTm9TdWNoUHVibGljRnVuY3Rpb25cIl0gPSBcIk5vU3VjaFB1YmxpY0Z1bmN0aW9uXCI7XG4gICAgVHhSZWplY3RlZFJlYXNvbltcIkJhZEZ1bmN0aW9uQXJndW1lbnRcIl0gPSBcIkJhZEZ1bmN0aW9uQXJndW1lbnRcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiQ29udHJhY3RBbHJlYWR5RXhpc3RzXCJdID0gXCJDb250cmFjdEFscmVhZHlFeGlzdHNcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiUG9pc29uTWljcm9ibG9ja3NEb05vdENvbmZsaWN0XCJdID0gXCJQb2lzb25NaWNyb2Jsb2Nrc0RvTm90Q29uZmxpY3RcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiUG9pc29uTWljcm9ibG9ja0hhc1Vua25vd25QdWJLZXlIYXNoXCJdID0gXCJQb2lzb25NaWNyb2Jsb2NrSGFzVW5rbm93blB1YktleUhhc2hcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiUG9pc29uTWljcm9ibG9ja0lzSW52YWxpZFwiXSA9IFwiUG9pc29uTWljcm9ibG9ja0lzSW52YWxpZFwiO1xuICAgIFR4UmVqZWN0ZWRSZWFzb25bXCJCYWRBZGRyZXNzVmVyc2lvbkJ5dGVcIl0gPSBcIkJhZEFkZHJlc3NWZXJzaW9uQnl0ZVwiO1xuICAgIFR4UmVqZWN0ZWRSZWFzb25bXCJOb0NvaW5iYXNlVmlhTWVtcG9vbFwiXSA9IFwiTm9Db2luYmFzZVZpYU1lbXBvb2xcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiU2VydmVyRmFpbHVyZU5vU3VjaENoYWluVGlwXCJdID0gXCJTZXJ2ZXJGYWlsdXJlTm9TdWNoQ2hhaW5UaXBcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiU2VydmVyRmFpbHVyZURhdGFiYXNlXCJdID0gXCJTZXJ2ZXJGYWlsdXJlRGF0YWJhc2VcIjtcbiAgICBUeFJlamVjdGVkUmVhc29uW1wiU2VydmVyRmFpbHVyZU90aGVyXCJdID0gXCJTZXJ2ZXJGYWlsdXJlT3RoZXJcIjtcbn0pKFR4UmVqZWN0ZWRSZWFzb24gfHwgKGV4cG9ydHMuVHhSZWplY3RlZFJlYXNvbiA9IFR4UmVqZWN0ZWRSZWFzb24gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/contract-abi.js":
/*!****************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/contract-abi.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parseToCV = exports.validateContractCall = exports.abiFunctionToString = exports.getTypeString = exports.encodeClarityValue = exports.getTypeUnion = exports.isClarityAbiList = exports.isClarityAbiTuple = exports.isClarityAbiOptional = exports.isClarityAbiResponse = exports.isClarityAbiStringUtf8 = exports.isClarityAbiStringAscii = exports.isClarityAbiBuffer = exports.isClarityAbiPrimitive = exports.ClarityAbiTypeId = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nconst clarity_1 = __webpack_require__(/*! ./clarity */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nconst stringCV_1 = __webpack_require__(/*! ./clarity/types/stringCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/stringCV.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nvar ClarityAbiTypeId;\n(function (ClarityAbiTypeId) {\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeUInt128\"] = 1] = \"ClarityAbiTypeUInt128\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeInt128\"] = 2] = \"ClarityAbiTypeInt128\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeBool\"] = 3] = \"ClarityAbiTypeBool\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypePrincipal\"] = 4] = \"ClarityAbiTypePrincipal\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeNone\"] = 5] = \"ClarityAbiTypeNone\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeBuffer\"] = 6] = \"ClarityAbiTypeBuffer\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeResponse\"] = 7] = \"ClarityAbiTypeResponse\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeOptional\"] = 8] = \"ClarityAbiTypeOptional\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeTuple\"] = 9] = \"ClarityAbiTypeTuple\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeList\"] = 10] = \"ClarityAbiTypeList\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeStringAscii\"] = 11] = \"ClarityAbiTypeStringAscii\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeStringUtf8\"] = 12] = \"ClarityAbiTypeStringUtf8\";\n    ClarityAbiTypeId[ClarityAbiTypeId[\"ClarityAbiTypeTraitReference\"] = 13] = \"ClarityAbiTypeTraitReference\";\n})(ClarityAbiTypeId || (exports.ClarityAbiTypeId = ClarityAbiTypeId = {}));\nconst isClarityAbiPrimitive = (val) => typeof val === 'string';\nexports.isClarityAbiPrimitive = isClarityAbiPrimitive;\nconst isClarityAbiBuffer = (val) => val.buffer !== undefined;\nexports.isClarityAbiBuffer = isClarityAbiBuffer;\nconst isClarityAbiStringAscii = (val) => val['string-ascii'] !== undefined;\nexports.isClarityAbiStringAscii = isClarityAbiStringAscii;\nconst isClarityAbiStringUtf8 = (val) => val['string-utf8'] !== undefined;\nexports.isClarityAbiStringUtf8 = isClarityAbiStringUtf8;\nconst isClarityAbiResponse = (val) => val.response !== undefined;\nexports.isClarityAbiResponse = isClarityAbiResponse;\nconst isClarityAbiOptional = (val) => val.optional !== undefined;\nexports.isClarityAbiOptional = isClarityAbiOptional;\nconst isClarityAbiTuple = (val) => val.tuple !== undefined;\nexports.isClarityAbiTuple = isClarityAbiTuple;\nconst isClarityAbiList = (val) => val.list !== undefined;\nexports.isClarityAbiList = isClarityAbiList;\nfunction getTypeUnion(val) {\n    if ((0, exports.isClarityAbiPrimitive)(val)) {\n        if (val === 'uint128') {\n            return { id: ClarityAbiTypeId.ClarityAbiTypeUInt128, type: val };\n        }\n        else if (val === 'int128') {\n            return { id: ClarityAbiTypeId.ClarityAbiTypeInt128, type: val };\n        }\n        else if (val === 'bool') {\n            return { id: ClarityAbiTypeId.ClarityAbiTypeBool, type: val };\n        }\n        else if (val === 'principal') {\n            return { id: ClarityAbiTypeId.ClarityAbiTypePrincipal, type: val };\n        }\n        else if (val === 'trait_reference') {\n            return { id: ClarityAbiTypeId.ClarityAbiTypeTraitReference, type: val };\n        }\n        else if (val === 'none') {\n            return { id: ClarityAbiTypeId.ClarityAbiTypeNone, type: val };\n        }\n        else {\n            throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(val)}`);\n        }\n    }\n    else if ((0, exports.isClarityAbiBuffer)(val)) {\n        return { id: ClarityAbiTypeId.ClarityAbiTypeBuffer, type: val };\n    }\n    else if ((0, exports.isClarityAbiResponse)(val)) {\n        return { id: ClarityAbiTypeId.ClarityAbiTypeResponse, type: val };\n    }\n    else if ((0, exports.isClarityAbiOptional)(val)) {\n        return { id: ClarityAbiTypeId.ClarityAbiTypeOptional, type: val };\n    }\n    else if ((0, exports.isClarityAbiTuple)(val)) {\n        return { id: ClarityAbiTypeId.ClarityAbiTypeTuple, type: val };\n    }\n    else if ((0, exports.isClarityAbiList)(val)) {\n        return { id: ClarityAbiTypeId.ClarityAbiTypeList, type: val };\n    }\n    else if ((0, exports.isClarityAbiStringAscii)(val)) {\n        return { id: ClarityAbiTypeId.ClarityAbiTypeStringAscii, type: val };\n    }\n    else if ((0, exports.isClarityAbiStringUtf8)(val)) {\n        return { id: ClarityAbiTypeId.ClarityAbiTypeStringUtf8, type: val };\n    }\n    else {\n        throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(val)}`);\n    }\n}\nexports.getTypeUnion = getTypeUnion;\nfunction encodeClarityValue(input, val) {\n    let union;\n    if (input.id !== undefined) {\n        union = input;\n    }\n    else {\n        union = getTypeUnion(input);\n    }\n    switch (union.id) {\n        case ClarityAbiTypeId.ClarityAbiTypeUInt128:\n            return (0, clarity_1.uintCV)(val);\n        case ClarityAbiTypeId.ClarityAbiTypeInt128:\n            return (0, clarity_1.intCV)(val);\n        case ClarityAbiTypeId.ClarityAbiTypeBool:\n            if (val === 'false' || val === '0')\n                return (0, clarity_1.falseCV)();\n            else if (val === 'true' || val === '1')\n                return (0, clarity_1.trueCV)();\n            else\n                throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(val)}`);\n        case ClarityAbiTypeId.ClarityAbiTypePrincipal:\n            if (val.includes('.')) {\n                const [addr, name] = val.split('.');\n                return (0, clarity_1.contractPrincipalCV)(addr, name);\n            }\n            else {\n                return (0, clarity_1.standardPrincipalCV)(val);\n            }\n        case ClarityAbiTypeId.ClarityAbiTypeTraitReference:\n            const [addr, name] = val.split('.');\n            return (0, clarity_1.contractPrincipalCV)(addr, name);\n        case ClarityAbiTypeId.ClarityAbiTypeNone:\n            return (0, clarity_1.noneCV)();\n        case ClarityAbiTypeId.ClarityAbiTypeBuffer:\n            return (0, clarity_1.bufferCV)((0, common_1.utf8ToBytes)(val));\n        case ClarityAbiTypeId.ClarityAbiTypeStringAscii:\n            return (0, stringCV_1.stringAsciiCV)(val);\n        case ClarityAbiTypeId.ClarityAbiTypeStringUtf8:\n            return (0, stringCV_1.stringUtf8CV)(val);\n        case ClarityAbiTypeId.ClarityAbiTypeResponse:\n            throw new errors_1.NotImplementedError(`Unsupported encoding for Clarity type: ${union.id}`);\n        case ClarityAbiTypeId.ClarityAbiTypeOptional:\n            throw new errors_1.NotImplementedError(`Unsupported encoding for Clarity type: ${union.id}`);\n        case ClarityAbiTypeId.ClarityAbiTypeTuple:\n            throw new errors_1.NotImplementedError(`Unsupported encoding for Clarity type: ${union.id}`);\n        case ClarityAbiTypeId.ClarityAbiTypeList:\n            throw new errors_1.NotImplementedError(`Unsupported encoding for Clarity type: ${union.id}`);\n        default:\n            throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(union)}`);\n    }\n}\nexports.encodeClarityValue = encodeClarityValue;\nfunction getTypeString(val) {\n    if ((0, exports.isClarityAbiPrimitive)(val)) {\n        if (val === 'int128') {\n            return 'int';\n        }\n        else if (val === 'uint128') {\n            return 'uint';\n        }\n        return val;\n    }\n    else if ((0, exports.isClarityAbiBuffer)(val)) {\n        return `(buff ${val.buffer.length})`;\n    }\n    else if ((0, exports.isClarityAbiStringAscii)(val)) {\n        return `(string-ascii ${val['string-ascii'].length})`;\n    }\n    else if ((0, exports.isClarityAbiStringUtf8)(val)) {\n        return `(string-utf8 ${val['string-utf8'].length})`;\n    }\n    else if ((0, exports.isClarityAbiResponse)(val)) {\n        return `(response ${getTypeString(val.response.ok)} ${getTypeString(val.response.error)})`;\n    }\n    else if ((0, exports.isClarityAbiOptional)(val)) {\n        return `(optional ${getTypeString(val.optional)})`;\n    }\n    else if ((0, exports.isClarityAbiTuple)(val)) {\n        return `(tuple ${val.tuple.map(t => `(${t.name} ${getTypeString(t.type)})`).join(' ')})`;\n    }\n    else if ((0, exports.isClarityAbiList)(val)) {\n        return `(list ${val.list.length} ${getTypeString(val.list.type)})`;\n    }\n    else {\n        throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(val)}`);\n    }\n}\nexports.getTypeString = getTypeString;\nfunction abiFunctionToString(func) {\n    const access = func.access === 'read_only' ? 'read-only' : func.access;\n    return `(define-${access} (${func.name} ${func.args\n        .map(arg => `(${arg.name} ${getTypeString(arg.type)})`)\n        .join(' ')}))`;\n}\nexports.abiFunctionToString = abiFunctionToString;\nfunction matchType(cv, abiType) {\n    const union = getTypeUnion(abiType);\n    switch (cv.type) {\n        case clarity_1.ClarityType.BoolTrue:\n        case clarity_1.ClarityType.BoolFalse:\n            return union.id === ClarityAbiTypeId.ClarityAbiTypeBool;\n        case clarity_1.ClarityType.Int:\n            return union.id === ClarityAbiTypeId.ClarityAbiTypeInt128;\n        case clarity_1.ClarityType.UInt:\n            return union.id === ClarityAbiTypeId.ClarityAbiTypeUInt128;\n        case clarity_1.ClarityType.Buffer:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypeBuffer &&\n                union.type.buffer.length >= cv.buffer.length);\n        case clarity_1.ClarityType.StringASCII:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypeStringAscii &&\n                union.type['string-ascii'].length >= cv.data.length);\n        case clarity_1.ClarityType.StringUTF8:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypeStringUtf8 &&\n                union.type['string-utf8'].length >= cv.data.length);\n        case clarity_1.ClarityType.OptionalNone:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypeNone ||\n                union.id === ClarityAbiTypeId.ClarityAbiTypeOptional);\n        case clarity_1.ClarityType.OptionalSome:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypeOptional &&\n                matchType(cv.value, union.type.optional));\n        case clarity_1.ClarityType.ResponseErr:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypeResponse &&\n                matchType(cv.value, union.type.response.error));\n        case clarity_1.ClarityType.ResponseOk:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypeResponse &&\n                matchType(cv.value, union.type.response.ok));\n        case clarity_1.ClarityType.PrincipalContract:\n            return (union.id === ClarityAbiTypeId.ClarityAbiTypePrincipal ||\n                union.id === ClarityAbiTypeId.ClarityAbiTypeTraitReference);\n        case clarity_1.ClarityType.PrincipalStandard:\n            return union.id === ClarityAbiTypeId.ClarityAbiTypePrincipal;\n        case clarity_1.ClarityType.List:\n            return (union.id == ClarityAbiTypeId.ClarityAbiTypeList &&\n                union.type.list.length >= cv.list.length &&\n                cv.list.every(val => matchType(val, union.type.list.type)));\n        case clarity_1.ClarityType.Tuple:\n            if (union.id == ClarityAbiTypeId.ClarityAbiTypeTuple) {\n                const tuple = (0, utils_1.cloneDeep)(cv.data);\n                for (let i = 0; i < union.type.tuple.length; i++) {\n                    const abiTupleEntry = union.type.tuple[i];\n                    const key = abiTupleEntry.name;\n                    const val = tuple[key];\n                    if (val) {\n                        if (!matchType(val, abiTupleEntry.type)) {\n                            return false;\n                        }\n                        delete tuple[key];\n                    }\n                    else {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            else {\n                return false;\n            }\n        default:\n            return false;\n    }\n}\nfunction validateContractCall(payload, abi) {\n    const filtered = abi.functions.filter(fn => fn.name === payload.functionName.content);\n    if (filtered.length === 1) {\n        const abiFunc = filtered[0];\n        const abiArgs = abiFunc.args;\n        if (payload.functionArgs.length !== abiArgs.length) {\n            throw new Error(`Clarity function expects ${abiArgs.length} argument(s) but received ${payload.functionArgs.length}`);\n        }\n        for (let i = 0; i < payload.functionArgs.length; i++) {\n            const payloadArg = payload.functionArgs[i];\n            const abiArg = abiArgs[i];\n            if (!matchType(payloadArg, abiArg.type)) {\n                const argNum = i + 1;\n                throw new Error(`Clarity function \\`${payload.functionName.content}\\` expects argument ${argNum} to be of type ${getTypeString(abiArg.type)}, not ${(0, clarity_1.getCVTypeString)(payloadArg)}`);\n            }\n        }\n        return true;\n    }\n    else if (filtered.length === 0) {\n        throw new Error(`ABI doesn't contain a function with the name ${payload.functionName.content}`);\n    }\n    else {\n        throw new Error(`Malformed ABI. Contains multiple functions with the name ${payload.functionName.content}`);\n    }\n}\nexports.validateContractCall = validateContractCall;\nfunction parseToCV(input, type) {\n    const typeString = getTypeString(type);\n    if ((0, exports.isClarityAbiPrimitive)(type)) {\n        if (type === 'uint128') {\n            return (0, clarity_1.uintCV)(input);\n        }\n        else if (type === 'int128') {\n            return (0, clarity_1.intCV)(input);\n        }\n        else if (type === 'bool') {\n            if (input.toLowerCase() === 'true') {\n                return (0, clarity_1.trueCV)();\n            }\n            else if (input.toLowerCase() === 'false') {\n                return (0, clarity_1.falseCV)();\n            }\n            else {\n                throw new Error(`Invalid bool value: ${input}`);\n            }\n        }\n        else if (type === 'principal') {\n            if (input.includes('.')) {\n                const [address, contractName] = input.split('.');\n                return (0, clarity_1.contractPrincipalCV)(address, contractName);\n            }\n            else {\n                return (0, clarity_1.standardPrincipalCV)(input);\n            }\n        }\n        else {\n            throw new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`);\n        }\n    }\n    else if ((0, exports.isClarityAbiBuffer)(type)) {\n        const inputLength = (0, common_1.utf8ToBytes)(input).byteLength;\n        if (inputLength > type.buffer.length) {\n            throw new Error(`Input exceeds specified buffer length limit of ${type.buffer.length}`);\n        }\n        return (0, clarity_1.bufferCVFromString)(input);\n    }\n    else if ((0, exports.isClarityAbiResponse)(type)) {\n        throw new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`);\n    }\n    else if ((0, exports.isClarityAbiOptional)(type)) {\n        throw new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`);\n    }\n    else if ((0, exports.isClarityAbiTuple)(type)) {\n        throw new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`);\n    }\n    else if ((0, exports.isClarityAbiList)(type)) {\n        throw new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`);\n    }\n    else {\n        throw new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`);\n    }\n}\nexports.parseToCV = parseToCV;\n//# sourceMappingURL=contract-abi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jb250cmFjdC1hYmkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLEdBQUcsNEJBQTRCLEdBQUcsMkJBQTJCLEdBQUcscUJBQXFCLEdBQUcsMEJBQTBCLEdBQUcsb0JBQW9CLEdBQUcsd0JBQXdCLEdBQUcseUJBQXlCLEdBQUcsNEJBQTRCLEdBQUcsNEJBQTRCLEdBQUcsOEJBQThCLEdBQUcsK0JBQStCLEdBQUcsMEJBQTBCLEdBQUcsNkJBQTZCLEdBQUcsd0JBQXdCO0FBQzFhLGdCQUFnQixtQkFBTyxDQUFDLHdFQUFTO0FBQ2pDLGtCQUFrQixtQkFBTyxDQUFDLGtGQUFXO0FBQ3JDLGlCQUFpQixtQkFBTyxDQUFDLDBFQUFVO0FBQ25DLG1CQUFtQixtQkFBTyxDQUFDLDBHQUEwQjtBQUNyRCxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1QkFBdUIsd0JBQXdCLHdCQUF3QjtBQUN4RTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxzRUFBc0Usb0JBQW9CO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esd0RBQXdELG9CQUFvQjtBQUM1RTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG9CQUFvQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLFNBQVM7QUFDdEc7QUFDQSw2RkFBNkYsU0FBUztBQUN0RztBQUNBLDZGQUE2RixTQUFTO0FBQ3RHO0FBQ0EsNkZBQTZGLFNBQVM7QUFDdEc7QUFDQSwyREFBMkQsc0JBQXNCO0FBQ2pGO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBLGdDQUFnQywyQkFBMkI7QUFDM0Q7QUFDQTtBQUNBLCtCQUErQiwwQkFBMEI7QUFDekQ7QUFDQTtBQUNBLDRCQUE0QixnQ0FBZ0MsRUFBRSxrQ0FBa0M7QUFDaEc7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBLHlCQUF5Qix1QkFBdUIsUUFBUSxFQUFFLHNCQUFzQixjQUFjO0FBQzlGO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCLEVBQUUsNkJBQTZCO0FBQ3hFO0FBQ0E7QUFDQSxxRUFBcUUsb0JBQW9CO0FBQ3pGO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHNCQUFzQixRQUFRLEdBQUcsV0FBVyxFQUFFO0FBQzlDLHdCQUF3QixVQUFVLEVBQUUsd0JBQXdCO0FBQzVELG1CQUFtQjtBQUNuQjtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw2QkFBNkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0JBQWdCLDJCQUEyQiw0QkFBNEI7QUFDL0g7QUFDQSx3QkFBd0IsaUNBQWlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDZCQUE2QixzQkFBc0IsUUFBUSxnQkFBZ0IsMkJBQTJCLFFBQVEsMkNBQTJDO0FBQy9NO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsNkJBQTZCO0FBQ3JHO0FBQ0E7QUFDQSxvRkFBb0YsNkJBQTZCO0FBQ2pIO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxNQUFNO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RixXQUFXO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsbUJBQW1CO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLFdBQVc7QUFDL0Y7QUFDQTtBQUNBLG9GQUFvRixXQUFXO0FBQy9GO0FBQ0E7QUFDQSxvRkFBb0YsV0FBVztBQUMvRjtBQUNBO0FBQ0Esb0ZBQW9GLFdBQVc7QUFDL0Y7QUFDQTtBQUNBLG9GQUFvRixXQUFXO0FBQy9GO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9jb250cmFjdC1hYmkuanM/YzAwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VUb0NWID0gZXhwb3J0cy52YWxpZGF0ZUNvbnRyYWN0Q2FsbCA9IGV4cG9ydHMuYWJpRnVuY3Rpb25Ub1N0cmluZyA9IGV4cG9ydHMuZ2V0VHlwZVN0cmluZyA9IGV4cG9ydHMuZW5jb2RlQ2xhcml0eVZhbHVlID0gZXhwb3J0cy5nZXRUeXBlVW5pb24gPSBleHBvcnRzLmlzQ2xhcml0eUFiaUxpc3QgPSBleHBvcnRzLmlzQ2xhcml0eUFiaVR1cGxlID0gZXhwb3J0cy5pc0NsYXJpdHlBYmlPcHRpb25hbCA9IGV4cG9ydHMuaXNDbGFyaXR5QWJpUmVzcG9uc2UgPSBleHBvcnRzLmlzQ2xhcml0eUFiaVN0cmluZ1V0ZjggPSBleHBvcnRzLmlzQ2xhcml0eUFiaVN0cmluZ0FzY2lpID0gZXhwb3J0cy5pc0NsYXJpdHlBYmlCdWZmZXIgPSBleHBvcnRzLmlzQ2xhcml0eUFiaVByaW1pdGl2ZSA9IGV4cG9ydHMuQ2xhcml0eUFiaVR5cGVJZCA9IHZvaWQgMDtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNvbnN0IGNsYXJpdHlfMSA9IHJlcXVpcmUoXCIuL2NsYXJpdHlcIik7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbmNvbnN0IHN0cmluZ0NWXzEgPSByZXF1aXJlKFwiLi9jbGFyaXR5L3R5cGVzL3N0cmluZ0NWXCIpO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG52YXIgQ2xhcml0eUFiaVR5cGVJZDtcbihmdW5jdGlvbiAoQ2xhcml0eUFiaVR5cGVJZCkge1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlVUludDEyOFwiXSA9IDFdID0gXCJDbGFyaXR5QWJpVHlwZVVJbnQxMjhcIjtcbiAgICBDbGFyaXR5QWJpVHlwZUlkW0NsYXJpdHlBYmlUeXBlSWRbXCJDbGFyaXR5QWJpVHlwZUludDEyOFwiXSA9IDJdID0gXCJDbGFyaXR5QWJpVHlwZUludDEyOFwiO1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlQm9vbFwiXSA9IDNdID0gXCJDbGFyaXR5QWJpVHlwZUJvb2xcIjtcbiAgICBDbGFyaXR5QWJpVHlwZUlkW0NsYXJpdHlBYmlUeXBlSWRbXCJDbGFyaXR5QWJpVHlwZVByaW5jaXBhbFwiXSA9IDRdID0gXCJDbGFyaXR5QWJpVHlwZVByaW5jaXBhbFwiO1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlTm9uZVwiXSA9IDVdID0gXCJDbGFyaXR5QWJpVHlwZU5vbmVcIjtcbiAgICBDbGFyaXR5QWJpVHlwZUlkW0NsYXJpdHlBYmlUeXBlSWRbXCJDbGFyaXR5QWJpVHlwZUJ1ZmZlclwiXSA9IDZdID0gXCJDbGFyaXR5QWJpVHlwZUJ1ZmZlclwiO1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlUmVzcG9uc2VcIl0gPSA3XSA9IFwiQ2xhcml0eUFiaVR5cGVSZXNwb25zZVwiO1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlT3B0aW9uYWxcIl0gPSA4XSA9IFwiQ2xhcml0eUFiaVR5cGVPcHRpb25hbFwiO1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlVHVwbGVcIl0gPSA5XSA9IFwiQ2xhcml0eUFiaVR5cGVUdXBsZVwiO1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlTGlzdFwiXSA9IDEwXSA9IFwiQ2xhcml0eUFiaVR5cGVMaXN0XCI7XG4gICAgQ2xhcml0eUFiaVR5cGVJZFtDbGFyaXR5QWJpVHlwZUlkW1wiQ2xhcml0eUFiaVR5cGVTdHJpbmdBc2NpaVwiXSA9IDExXSA9IFwiQ2xhcml0eUFiaVR5cGVTdHJpbmdBc2NpaVwiO1xuICAgIENsYXJpdHlBYmlUeXBlSWRbQ2xhcml0eUFiaVR5cGVJZFtcIkNsYXJpdHlBYmlUeXBlU3RyaW5nVXRmOFwiXSA9IDEyXSA9IFwiQ2xhcml0eUFiaVR5cGVTdHJpbmdVdGY4XCI7XG4gICAgQ2xhcml0eUFiaVR5cGVJZFtDbGFyaXR5QWJpVHlwZUlkW1wiQ2xhcml0eUFiaVR5cGVUcmFpdFJlZmVyZW5jZVwiXSA9IDEzXSA9IFwiQ2xhcml0eUFiaVR5cGVUcmFpdFJlZmVyZW5jZVwiO1xufSkoQ2xhcml0eUFiaVR5cGVJZCB8fCAoZXhwb3J0cy5DbGFyaXR5QWJpVHlwZUlkID0gQ2xhcml0eUFiaVR5cGVJZCA9IHt9KSk7XG5jb25zdCBpc0NsYXJpdHlBYmlQcmltaXRpdmUgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbmV4cG9ydHMuaXNDbGFyaXR5QWJpUHJpbWl0aXZlID0gaXNDbGFyaXR5QWJpUHJpbWl0aXZlO1xuY29uc3QgaXNDbGFyaXR5QWJpQnVmZmVyID0gKHZhbCkgPT4gdmFsLmJ1ZmZlciAhPT0gdW5kZWZpbmVkO1xuZXhwb3J0cy5pc0NsYXJpdHlBYmlCdWZmZXIgPSBpc0NsYXJpdHlBYmlCdWZmZXI7XG5jb25zdCBpc0NsYXJpdHlBYmlTdHJpbmdBc2NpaSA9ICh2YWwpID0+IHZhbFsnc3RyaW5nLWFzY2lpJ10gIT09IHVuZGVmaW5lZDtcbmV4cG9ydHMuaXNDbGFyaXR5QWJpU3RyaW5nQXNjaWkgPSBpc0NsYXJpdHlBYmlTdHJpbmdBc2NpaTtcbmNvbnN0IGlzQ2xhcml0eUFiaVN0cmluZ1V0ZjggPSAodmFsKSA9PiB2YWxbJ3N0cmluZy11dGY4J10gIT09IHVuZGVmaW5lZDtcbmV4cG9ydHMuaXNDbGFyaXR5QWJpU3RyaW5nVXRmOCA9IGlzQ2xhcml0eUFiaVN0cmluZ1V0Zjg7XG5jb25zdCBpc0NsYXJpdHlBYmlSZXNwb25zZSA9ICh2YWwpID0+IHZhbC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkO1xuZXhwb3J0cy5pc0NsYXJpdHlBYmlSZXNwb25zZSA9IGlzQ2xhcml0eUFiaVJlc3BvbnNlO1xuY29uc3QgaXNDbGFyaXR5QWJpT3B0aW9uYWwgPSAodmFsKSA9PiB2YWwub3B0aW9uYWwgIT09IHVuZGVmaW5lZDtcbmV4cG9ydHMuaXNDbGFyaXR5QWJpT3B0aW9uYWwgPSBpc0NsYXJpdHlBYmlPcHRpb25hbDtcbmNvbnN0IGlzQ2xhcml0eUFiaVR1cGxlID0gKHZhbCkgPT4gdmFsLnR1cGxlICE9PSB1bmRlZmluZWQ7XG5leHBvcnRzLmlzQ2xhcml0eUFiaVR1cGxlID0gaXNDbGFyaXR5QWJpVHVwbGU7XG5jb25zdCBpc0NsYXJpdHlBYmlMaXN0ID0gKHZhbCkgPT4gdmFsLmxpc3QgIT09IHVuZGVmaW5lZDtcbmV4cG9ydHMuaXNDbGFyaXR5QWJpTGlzdCA9IGlzQ2xhcml0eUFiaUxpc3Q7XG5mdW5jdGlvbiBnZXRUeXBlVW5pb24odmFsKSB7XG4gICAgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaVByaW1pdGl2ZSkodmFsKSkge1xuICAgICAgICBpZiAodmFsID09PSAndWludDEyOCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlVUludDEyOCwgdHlwZTogdmFsIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsID09PSAnaW50MTI4Jykge1xuICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVJbnQxMjgsIHR5cGU6IHZhbCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gJ2Jvb2wnKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpZDogQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZUJvb2wsIHR5cGU6IHZhbCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gJ3ByaW5jaXBhbCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlUHJpbmNpcGFsLCB0eXBlOiB2YWwgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWwgPT09ICd0cmFpdF9yZWZlcmVuY2UnKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpZDogQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZVRyYWl0UmVmZXJlbmNlLCB0eXBlOiB2YWwgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWwgPT09ICdub25lJykge1xuICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVOb25lLCB0eXBlOiB2YWwgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBDbGFyaXR5IEFCSSB0eXBlIHByaW1pdGl2ZTogJHtKU09OLnN0cmluZ2lmeSh2YWwpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaUJ1ZmZlcikodmFsKSkge1xuICAgICAgICByZXR1cm4geyBpZDogQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZUJ1ZmZlciwgdHlwZTogdmFsIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaVJlc3BvbnNlKSh2YWwpKSB7XG4gICAgICAgIHJldHVybiB7IGlkOiBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlUmVzcG9uc2UsIHR5cGU6IHZhbCB9O1xuICAgIH1cbiAgICBlbHNlIGlmICgoMCwgZXhwb3J0cy5pc0NsYXJpdHlBYmlPcHRpb25hbCkodmFsKSkge1xuICAgICAgICByZXR1cm4geyBpZDogQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZU9wdGlvbmFsLCB0eXBlOiB2YWwgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKDAsIGV4cG9ydHMuaXNDbGFyaXR5QWJpVHVwbGUpKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHsgaWQ6IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVUdXBsZSwgdHlwZTogdmFsIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaUxpc3QpKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHsgaWQ6IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVMaXN0LCB0eXBlOiB2YWwgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKDAsIGV4cG9ydHMuaXNDbGFyaXR5QWJpU3RyaW5nQXNjaWkpKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHsgaWQ6IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVTdHJpbmdBc2NpaSwgdHlwZTogdmFsIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaVN0cmluZ1V0ZjgpKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHsgaWQ6IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVTdHJpbmdVdGY4LCB0eXBlOiB2YWwgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBDbGFyaXR5IEFCSSB0eXBlOiAke0pTT04uc3RyaW5naWZ5KHZhbCl9YCk7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRUeXBlVW5pb24gPSBnZXRUeXBlVW5pb247XG5mdW5jdGlvbiBlbmNvZGVDbGFyaXR5VmFsdWUoaW5wdXQsIHZhbCkge1xuICAgIGxldCB1bmlvbjtcbiAgICBpZiAoaW5wdXQuaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1bmlvbiA9IGlucHV0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdW5pb24gPSBnZXRUeXBlVW5pb24oaW5wdXQpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHVuaW9uLmlkKSB7XG4gICAgICAgIGNhc2UgQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZVVJbnQxMjg6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS51aW50Q1YpKHZhbCk7XG4gICAgICAgIGNhc2UgQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZUludDEyODpcbiAgICAgICAgICAgIHJldHVybiAoMCwgY2xhcml0eV8xLmludENWKSh2YWwpO1xuICAgICAgICBjYXNlIENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVCb29sOlxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gJ2ZhbHNlJyB8fCB2YWwgPT09ICcwJylcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS5mYWxzZUNWKSgpO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsID09PSAndHJ1ZScgfHwgdmFsID09PSAnMScpXG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBjbGFyaXR5XzEudHJ1ZUNWKSgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBDbGFyaXR5IGJvb2wgdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkodmFsKX1gKTtcbiAgICAgICAgY2FzZSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlUHJpbmNpcGFsOlxuICAgICAgICAgICAgaWYgKHZhbC5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2FkZHIsIG5hbWVdID0gdmFsLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBjbGFyaXR5XzEuY29udHJhY3RQcmluY2lwYWxDVikoYWRkciwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS5zdGFuZGFyZFByaW5jaXBhbENWKSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVUcmFpdFJlZmVyZW5jZTpcbiAgICAgICAgICAgIGNvbnN0IFthZGRyLCBuYW1lXSA9IHZhbC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBjbGFyaXR5XzEuY29udHJhY3RQcmluY2lwYWxDVikoYWRkciwgbmFtZSk7XG4gICAgICAgIGNhc2UgQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZU5vbmU6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS5ub25lQ1YpKCk7XG4gICAgICAgIGNhc2UgQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZUJ1ZmZlcjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgY2xhcml0eV8xLmJ1ZmZlckNWKSgoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKHZhbCkpO1xuICAgICAgICBjYXNlIENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVTdHJpbmdBc2NpaTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgc3RyaW5nQ1ZfMS5zdHJpbmdBc2NpaUNWKSh2YWwpO1xuICAgICAgICBjYXNlIENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVTdHJpbmdVdGY4OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBzdHJpbmdDVl8xLnN0cmluZ1V0ZjhDVikodmFsKTtcbiAgICAgICAgY2FzZSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlUmVzcG9uc2U6XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuTm90SW1wbGVtZW50ZWRFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgZm9yIENsYXJpdHkgdHlwZTogJHt1bmlvbi5pZH1gKTtcbiAgICAgICAgY2FzZSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlT3B0aW9uYWw6XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuTm90SW1wbGVtZW50ZWRFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgZm9yIENsYXJpdHkgdHlwZTogJHt1bmlvbi5pZH1gKTtcbiAgICAgICAgY2FzZSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlVHVwbGU6XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuTm90SW1wbGVtZW50ZWRFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgZm9yIENsYXJpdHkgdHlwZTogJHt1bmlvbi5pZH1gKTtcbiAgICAgICAgY2FzZSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlTGlzdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Ob3RJbXBsZW1lbnRlZEVycm9yKGBVbnN1cHBvcnRlZCBlbmNvZGluZyBmb3IgQ2xhcml0eSB0eXBlOiAke3VuaW9uLmlkfWApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIENsYXJpdHkgdHlwZSBJRDogJHtKU09OLnN0cmluZ2lmeSh1bmlvbil9YCk7XG4gICAgfVxufVxuZXhwb3J0cy5lbmNvZGVDbGFyaXR5VmFsdWUgPSBlbmNvZGVDbGFyaXR5VmFsdWU7XG5mdW5jdGlvbiBnZXRUeXBlU3RyaW5nKHZhbCkge1xuICAgIGlmICgoMCwgZXhwb3J0cy5pc0NsYXJpdHlBYmlQcmltaXRpdmUpKHZhbCkpIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gJ2ludDEyOCcpIHtcbiAgICAgICAgICAgIHJldHVybiAnaW50JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWwgPT09ICd1aW50MTI4Jykge1xuICAgICAgICAgICAgcmV0dXJuICd1aW50JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBlbHNlIGlmICgoMCwgZXhwb3J0cy5pc0NsYXJpdHlBYmlCdWZmZXIpKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGAoYnVmZiAke3ZhbC5idWZmZXIubGVuZ3RofSlgO1xuICAgIH1cbiAgICBlbHNlIGlmICgoMCwgZXhwb3J0cy5pc0NsYXJpdHlBYmlTdHJpbmdBc2NpaSkodmFsKSkge1xuICAgICAgICByZXR1cm4gYChzdHJpbmctYXNjaWkgJHt2YWxbJ3N0cmluZy1hc2NpaSddLmxlbmd0aH0pYDtcbiAgICB9XG4gICAgZWxzZSBpZiAoKDAsIGV4cG9ydHMuaXNDbGFyaXR5QWJpU3RyaW5nVXRmOCkodmFsKSkge1xuICAgICAgICByZXR1cm4gYChzdHJpbmctdXRmOCAke3ZhbFsnc3RyaW5nLXV0ZjgnXS5sZW5ndGh9KWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaVJlc3BvbnNlKSh2YWwpKSB7XG4gICAgICAgIHJldHVybiBgKHJlc3BvbnNlICR7Z2V0VHlwZVN0cmluZyh2YWwucmVzcG9uc2Uub2spfSAke2dldFR5cGVTdHJpbmcodmFsLnJlc3BvbnNlLmVycm9yKX0pYDtcbiAgICB9XG4gICAgZWxzZSBpZiAoKDAsIGV4cG9ydHMuaXNDbGFyaXR5QWJpT3B0aW9uYWwpKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGAob3B0aW9uYWwgJHtnZXRUeXBlU3RyaW5nKHZhbC5vcHRpb25hbCl9KWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaVR1cGxlKSh2YWwpKSB7XG4gICAgICAgIHJldHVybiBgKHR1cGxlICR7dmFsLnR1cGxlLm1hcCh0ID0+IGAoJHt0Lm5hbWV9ICR7Z2V0VHlwZVN0cmluZyh0LnR5cGUpfSlgKS5qb2luKCcgJyl9KWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaUxpc3QpKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGAobGlzdCAke3ZhbC5saXN0Lmxlbmd0aH0gJHtnZXRUeXBlU3RyaW5nKHZhbC5saXN0LnR5cGUpfSlgO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlIHN0cmluZyB1bnN1cHBvcnRlZCBmb3IgQ2xhcml0eSB0eXBlOiAke0pTT04uc3RyaW5naWZ5KHZhbCl9YCk7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRUeXBlU3RyaW5nID0gZ2V0VHlwZVN0cmluZztcbmZ1bmN0aW9uIGFiaUZ1bmN0aW9uVG9TdHJpbmcoZnVuYykge1xuICAgIGNvbnN0IGFjY2VzcyA9IGZ1bmMuYWNjZXNzID09PSAncmVhZF9vbmx5JyA/ICdyZWFkLW9ubHknIDogZnVuYy5hY2Nlc3M7XG4gICAgcmV0dXJuIGAoZGVmaW5lLSR7YWNjZXNzfSAoJHtmdW5jLm5hbWV9ICR7ZnVuYy5hcmdzXG4gICAgICAgIC5tYXAoYXJnID0+IGAoJHthcmcubmFtZX0gJHtnZXRUeXBlU3RyaW5nKGFyZy50eXBlKX0pYClcbiAgICAgICAgLmpvaW4oJyAnKX0pKWA7XG59XG5leHBvcnRzLmFiaUZ1bmN0aW9uVG9TdHJpbmcgPSBhYmlGdW5jdGlvblRvU3RyaW5nO1xuZnVuY3Rpb24gbWF0Y2hUeXBlKGN2LCBhYmlUeXBlKSB7XG4gICAgY29uc3QgdW5pb24gPSBnZXRUeXBlVW5pb24oYWJpVHlwZSk7XG4gICAgc3dpdGNoIChjdi50eXBlKSB7XG4gICAgICAgIGNhc2UgY2xhcml0eV8xLkNsYXJpdHlUeXBlLkJvb2xUcnVlOlxuICAgICAgICBjYXNlIGNsYXJpdHlfMS5DbGFyaXR5VHlwZS5Cb29sRmFsc2U6XG4gICAgICAgICAgICByZXR1cm4gdW5pb24uaWQgPT09IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVCb29sO1xuICAgICAgICBjYXNlIGNsYXJpdHlfMS5DbGFyaXR5VHlwZS5JbnQ6XG4gICAgICAgICAgICByZXR1cm4gdW5pb24uaWQgPT09IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVJbnQxMjg7XG4gICAgICAgIGNhc2UgY2xhcml0eV8xLkNsYXJpdHlUeXBlLlVJbnQ6XG4gICAgICAgICAgICByZXR1cm4gdW5pb24uaWQgPT09IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVVSW50MTI4O1xuICAgICAgICBjYXNlIGNsYXJpdHlfMS5DbGFyaXR5VHlwZS5CdWZmZXI6XG4gICAgICAgICAgICByZXR1cm4gKHVuaW9uLmlkID09PSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlQnVmZmVyICYmXG4gICAgICAgICAgICAgICAgdW5pb24udHlwZS5idWZmZXIubGVuZ3RoID49IGN2LmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICBjYXNlIGNsYXJpdHlfMS5DbGFyaXR5VHlwZS5TdHJpbmdBU0NJSTpcbiAgICAgICAgICAgIHJldHVybiAodW5pb24uaWQgPT09IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVTdHJpbmdBc2NpaSAmJlxuICAgICAgICAgICAgICAgIHVuaW9uLnR5cGVbJ3N0cmluZy1hc2NpaSddLmxlbmd0aCA+PSBjdi5kYXRhLmxlbmd0aCk7XG4gICAgICAgIGNhc2UgY2xhcml0eV8xLkNsYXJpdHlUeXBlLlN0cmluZ1VURjg6XG4gICAgICAgICAgICByZXR1cm4gKHVuaW9uLmlkID09PSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlU3RyaW5nVXRmOCAmJlxuICAgICAgICAgICAgICAgIHVuaW9uLnR5cGVbJ3N0cmluZy11dGY4J10ubGVuZ3RoID49IGN2LmRhdGEubGVuZ3RoKTtcbiAgICAgICAgY2FzZSBjbGFyaXR5XzEuQ2xhcml0eVR5cGUuT3B0aW9uYWxOb25lOlxuICAgICAgICAgICAgcmV0dXJuICh1bmlvbi5pZCA9PT0gQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZU5vbmUgfHxcbiAgICAgICAgICAgICAgICB1bmlvbi5pZCA9PT0gQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZU9wdGlvbmFsKTtcbiAgICAgICAgY2FzZSBjbGFyaXR5XzEuQ2xhcml0eVR5cGUuT3B0aW9uYWxTb21lOlxuICAgICAgICAgICAgcmV0dXJuICh1bmlvbi5pZCA9PT0gQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZU9wdGlvbmFsICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hUeXBlKGN2LnZhbHVlLCB1bmlvbi50eXBlLm9wdGlvbmFsKSk7XG4gICAgICAgIGNhc2UgY2xhcml0eV8xLkNsYXJpdHlUeXBlLlJlc3BvbnNlRXJyOlxuICAgICAgICAgICAgcmV0dXJuICh1bmlvbi5pZCA9PT0gQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZVJlc3BvbnNlICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hUeXBlKGN2LnZhbHVlLCB1bmlvbi50eXBlLnJlc3BvbnNlLmVycm9yKSk7XG4gICAgICAgIGNhc2UgY2xhcml0eV8xLkNsYXJpdHlUeXBlLlJlc3BvbnNlT2s6XG4gICAgICAgICAgICByZXR1cm4gKHVuaW9uLmlkID09PSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlUmVzcG9uc2UgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFR5cGUoY3YudmFsdWUsIHVuaW9uLnR5cGUucmVzcG9uc2Uub2spKTtcbiAgICAgICAgY2FzZSBjbGFyaXR5XzEuQ2xhcml0eVR5cGUuUHJpbmNpcGFsQ29udHJhY3Q6XG4gICAgICAgICAgICByZXR1cm4gKHVuaW9uLmlkID09PSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlUHJpbmNpcGFsIHx8XG4gICAgICAgICAgICAgICAgdW5pb24uaWQgPT09IENsYXJpdHlBYmlUeXBlSWQuQ2xhcml0eUFiaVR5cGVUcmFpdFJlZmVyZW5jZSk7XG4gICAgICAgIGNhc2UgY2xhcml0eV8xLkNsYXJpdHlUeXBlLlByaW5jaXBhbFN0YW5kYXJkOlxuICAgICAgICAgICAgcmV0dXJuIHVuaW9uLmlkID09PSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlUHJpbmNpcGFsO1xuICAgICAgICBjYXNlIGNsYXJpdHlfMS5DbGFyaXR5VHlwZS5MaXN0OlxuICAgICAgICAgICAgcmV0dXJuICh1bmlvbi5pZCA9PSBDbGFyaXR5QWJpVHlwZUlkLkNsYXJpdHlBYmlUeXBlTGlzdCAmJlxuICAgICAgICAgICAgICAgIHVuaW9uLnR5cGUubGlzdC5sZW5ndGggPj0gY3YubGlzdC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBjdi5saXN0LmV2ZXJ5KHZhbCA9PiBtYXRjaFR5cGUodmFsLCB1bmlvbi50eXBlLmxpc3QudHlwZSkpKTtcbiAgICAgICAgY2FzZSBjbGFyaXR5XzEuQ2xhcml0eVR5cGUuVHVwbGU6XG4gICAgICAgICAgICBpZiAodW5pb24uaWQgPT0gQ2xhcml0eUFiaVR5cGVJZC5DbGFyaXR5QWJpVHlwZVR1cGxlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHVwbGUgPSAoMCwgdXRpbHNfMS5jbG9uZURlZXApKGN2LmRhdGEpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5pb24udHlwZS50dXBsZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhYmlUdXBsZUVudHJ5ID0gdW5pb24udHlwZS50dXBsZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYWJpVHVwbGVFbnRyeS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSB0dXBsZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoVHlwZSh2YWwsIGFiaVR1cGxlRW50cnkudHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdHVwbGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRyYWN0Q2FsbChwYXlsb2FkLCBhYmkpIHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGFiaS5mdW5jdGlvbnMuZmlsdGVyKGZuID0+IGZuLm5hbWUgPT09IHBheWxvYWQuZnVuY3Rpb25OYW1lLmNvbnRlbnQpO1xuICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgYWJpRnVuYyA9IGZpbHRlcmVkWzBdO1xuICAgICAgICBjb25zdCBhYmlBcmdzID0gYWJpRnVuYy5hcmdzO1xuICAgICAgICBpZiAocGF5bG9hZC5mdW5jdGlvbkFyZ3MubGVuZ3RoICE9PSBhYmlBcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGFyaXR5IGZ1bmN0aW9uIGV4cGVjdHMgJHthYmlBcmdzLmxlbmd0aH0gYXJndW1lbnQocykgYnV0IHJlY2VpdmVkICR7cGF5bG9hZC5mdW5jdGlvbkFyZ3MubGVuZ3RofWApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF5bG9hZC5mdW5jdGlvbkFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWRBcmcgPSBwYXlsb2FkLmZ1bmN0aW9uQXJnc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGFiaUFyZyA9IGFiaUFyZ3NbaV07XG4gICAgICAgICAgICBpZiAoIW1hdGNoVHlwZShwYXlsb2FkQXJnLCBhYmlBcmcudHlwZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmdOdW0gPSBpICsgMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENsYXJpdHkgZnVuY3Rpb24gXFxgJHtwYXlsb2FkLmZ1bmN0aW9uTmFtZS5jb250ZW50fVxcYCBleHBlY3RzIGFyZ3VtZW50ICR7YXJnTnVtfSB0byBiZSBvZiB0eXBlICR7Z2V0VHlwZVN0cmluZyhhYmlBcmcudHlwZSl9LCBub3QgJHsoMCwgY2xhcml0eV8xLmdldENWVHlwZVN0cmluZykocGF5bG9hZEFyZyl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFCSSBkb2Vzbid0IGNvbnRhaW4gYSBmdW5jdGlvbiB3aXRoIHRoZSBuYW1lICR7cGF5bG9hZC5mdW5jdGlvbk5hbWUuY29udGVudH1gKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWFsZm9ybWVkIEFCSS4gQ29udGFpbnMgbXVsdGlwbGUgZnVuY3Rpb25zIHdpdGggdGhlIG5hbWUgJHtwYXlsb2FkLmZ1bmN0aW9uTmFtZS5jb250ZW50fWApO1xuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVDb250cmFjdENhbGwgPSB2YWxpZGF0ZUNvbnRyYWN0Q2FsbDtcbmZ1bmN0aW9uIHBhcnNlVG9DVihpbnB1dCwgdHlwZSkge1xuICAgIGNvbnN0IHR5cGVTdHJpbmcgPSBnZXRUeXBlU3RyaW5nKHR5cGUpO1xuICAgIGlmICgoMCwgZXhwb3J0cy5pc0NsYXJpdHlBYmlQcmltaXRpdmUpKHR5cGUpKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAndWludDEyOCcpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgY2xhcml0eV8xLnVpbnRDVikoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdpbnQxMjgnKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS5pbnRDVikoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdib29sJykge1xuICAgICAgICAgICAgaWYgKGlucHV0LnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgY2xhcml0eV8xLnRydWVDVikoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0LnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS5mYWxzZUNWKSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGJvb2wgdmFsdWU6ICR7aW5wdXR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3ByaW5jaXBhbCcpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2FkZHJlc3MsIGNvbnRyYWN0TmFtZV0gPSBpbnB1dC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgY2xhcml0eV8xLmNvbnRyYWN0UHJpbmNpcGFsQ1YpKGFkZHJlc3MsIGNvbnRyYWN0TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS5zdGFuZGFyZFByaW5jaXBhbENWKShpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRyYWN0IGZ1bmN0aW9uIGNvbnRhaW5zIHVuc3VwcG9ydGVkIENsYXJpdHkgQUJJIHR5cGU6ICR7dHlwZVN0cmluZ31gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgoMCwgZXhwb3J0cy5pc0NsYXJpdHlBYmlCdWZmZXIpKHR5cGUpKSB7XG4gICAgICAgIGNvbnN0IGlucHV0TGVuZ3RoID0gKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShpbnB1dCkuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKGlucHV0TGVuZ3RoID4gdHlwZS5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElucHV0IGV4Y2VlZHMgc3BlY2lmaWVkIGJ1ZmZlciBsZW5ndGggbGltaXQgb2YgJHt0eXBlLmJ1ZmZlci5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBjbGFyaXR5XzEuYnVmZmVyQ1ZGcm9tU3RyaW5nKShpbnB1dCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaVJlc3BvbnNlKSh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRyYWN0IGZ1bmN0aW9uIGNvbnRhaW5zIHVuc3VwcG9ydGVkIENsYXJpdHkgQUJJIHR5cGU6ICR7dHlwZVN0cmluZ31gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKDAsIGV4cG9ydHMuaXNDbGFyaXR5QWJpT3B0aW9uYWwpKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udHJhY3QgZnVuY3Rpb24gY29udGFpbnMgdW5zdXBwb3J0ZWQgQ2xhcml0eSBBQkkgdHlwZTogJHt0eXBlU3RyaW5nfWApO1xuICAgIH1cbiAgICBlbHNlIGlmICgoMCwgZXhwb3J0cy5pc0NsYXJpdHlBYmlUdXBsZSkodHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250cmFjdCBmdW5jdGlvbiBjb250YWlucyB1bnN1cHBvcnRlZCBDbGFyaXR5IEFCSSB0eXBlOiAke3R5cGVTdHJpbmd9YCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBleHBvcnRzLmlzQ2xhcml0eUFiaUxpc3QpKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udHJhY3QgZnVuY3Rpb24gY29udGFpbnMgdW5zdXBwb3J0ZWQgQ2xhcml0eSBBQkkgdHlwZTogJHt0eXBlU3RyaW5nfWApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250cmFjdCBmdW5jdGlvbiBjb250YWlucyB1bnN1cHBvcnRlZCBDbGFyaXR5IEFCSSB0eXBlOiAke3R5cGVTdHJpbmd9YCk7XG4gICAgfVxufVxuZXhwb3J0cy5wYXJzZVRvQ1YgPSBwYXJzZVRvQ1Y7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250cmFjdC1hYmkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/contract-abi.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/errors.js":
/*!**********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/errors.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VerificationError = exports.SigningError = exports.NotImplementedError = exports.NoEstimateAvailableError = exports.DeserializationError = exports.SerializationError = void 0;\nclass TransactionError extends Error {\n    constructor(message) {\n        super(message);\n        this.message = message;\n        this.name = this.constructor.name;\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n}\nclass SerializationError extends TransactionError {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.SerializationError = SerializationError;\nclass DeserializationError extends TransactionError {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.DeserializationError = DeserializationError;\nclass NoEstimateAvailableError extends TransactionError {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.NoEstimateAvailableError = NoEstimateAvailableError;\nclass NotImplementedError extends TransactionError {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.NotImplementedError = NotImplementedError;\nclass SigningError extends TransactionError {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.SigningError = SigningError;\nclass VerificationError extends TransactionError {\n    constructor(message) {\n        super(message);\n    }\n}\nexports.VerificationError = VerificationError;\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsMkJBQTJCLEdBQUcsZ0NBQWdDLEdBQUcsNEJBQTRCLEdBQUcsMEJBQTBCO0FBQzdLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9lcnJvcnMuanM/ODk5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVmVyaWZpY2F0aW9uRXJyb3IgPSBleHBvcnRzLlNpZ25pbmdFcnJvciA9IGV4cG9ydHMuTm90SW1wbGVtZW50ZWRFcnJvciA9IGV4cG9ydHMuTm9Fc3RpbWF0ZUF2YWlsYWJsZUVycm9yID0gZXhwb3J0cy5EZXNlcmlhbGl6YXRpb25FcnJvciA9IGV4cG9ydHMuU2VyaWFsaXphdGlvbkVycm9yID0gdm9pZCAwO1xuY2xhc3MgVHJhbnNhY3Rpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTZXJpYWxpemF0aW9uRXJyb3IgZXh0ZW5kcyBUcmFuc2FjdGlvbkVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VyaWFsaXphdGlvbkVycm9yID0gU2VyaWFsaXphdGlvbkVycm9yO1xuY2xhc3MgRGVzZXJpYWxpemF0aW9uRXJyb3IgZXh0ZW5kcyBUcmFuc2FjdGlvbkVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuRGVzZXJpYWxpemF0aW9uRXJyb3IgPSBEZXNlcmlhbGl6YXRpb25FcnJvcjtcbmNsYXNzIE5vRXN0aW1hdGVBdmFpbGFibGVFcnJvciBleHRlbmRzIFRyYW5zYWN0aW9uRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5Ob0VzdGltYXRlQXZhaWxhYmxlRXJyb3IgPSBOb0VzdGltYXRlQXZhaWxhYmxlRXJyb3I7XG5jbGFzcyBOb3RJbXBsZW1lbnRlZEVycm9yIGV4dGVuZHMgVHJhbnNhY3Rpb25FcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLk5vdEltcGxlbWVudGVkRXJyb3IgPSBOb3RJbXBsZW1lbnRlZEVycm9yO1xuY2xhc3MgU2lnbmluZ0Vycm9yIGV4dGVuZHMgVHJhbnNhY3Rpb25FcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLlNpZ25pbmdFcnJvciA9IFNpZ25pbmdFcnJvcjtcbmNsYXNzIFZlcmlmaWNhdGlvbkVycm9yIGV4dGVuZHMgVHJhbnNhY3Rpb25FcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLlZlcmlmaWNhdGlvbkVycm9yID0gVmVyaWZpY2F0aW9uRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deserializeTransaction = exports.StacksTransaction = exports.createSTXPostCondition = exports.createNonFungiblePostCondition = exports.createFungiblePostCondition = exports.Pc = exports.serializePayload = exports.isTokenTransferPayload = exports.isSmartContractPayload = exports.isPoisonPayload = exports.isContractCallPayload = exports.isCoinbasePayload = exports.Cl = exports.BytesReader = exports.isSingleSig = exports.emptyMessageSignature = void 0;\n__exportStar(__webpack_require__(/*! ./authorization */ \"(ssr)/./node_modules/@stacks/transactions/dist/authorization.js\"), exports);\nvar authorization_1 = __webpack_require__(/*! ./authorization */ \"(ssr)/./node_modules/@stacks/transactions/dist/authorization.js\");\nObject.defineProperty(exports, \"emptyMessageSignature\", ({ enumerable: true, get: function () { return authorization_1.emptyMessageSignature; } }));\nObject.defineProperty(exports, \"isSingleSig\", ({ enumerable: true, get: function () { return authorization_1.isSingleSig; } }));\n__exportStar(__webpack_require__(/*! ./builders */ \"(ssr)/./node_modules/@stacks/transactions/dist/builders.js\"), exports);\nvar bytesReader_1 = __webpack_require__(/*! ./bytesReader */ \"(ssr)/./node_modules/@stacks/transactions/dist/bytesReader.js\");\nObject.defineProperty(exports, \"BytesReader\", ({ enumerable: true, get: function () { return bytesReader_1.BytesReader; } }));\nexports.Cl = __importStar(__webpack_require__(/*! ./cl */ \"(ssr)/./node_modules/@stacks/transactions/dist/cl.js\"));\n__exportStar(__webpack_require__(/*! ./clarity */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./common */ \"(ssr)/./node_modules/@stacks/transactions/dist/common.js\"), exports);\n__exportStar(__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\"), exports);\n__exportStar(__webpack_require__(/*! ./contract-abi */ \"(ssr)/./node_modules/@stacks/transactions/dist/contract-abi.js\"), exports);\n__exportStar(__webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/transactions/dist/keys.js\"), exports);\nvar payload_1 = __webpack_require__(/*! ./payload */ \"(ssr)/./node_modules/@stacks/transactions/dist/payload.js\");\nObject.defineProperty(exports, \"isCoinbasePayload\", ({ enumerable: true, get: function () { return payload_1.isCoinbasePayload; } }));\nObject.defineProperty(exports, \"isContractCallPayload\", ({ enumerable: true, get: function () { return payload_1.isContractCallPayload; } }));\nObject.defineProperty(exports, \"isPoisonPayload\", ({ enumerable: true, get: function () { return payload_1.isPoisonPayload; } }));\nObject.defineProperty(exports, \"isSmartContractPayload\", ({ enumerable: true, get: function () { return payload_1.isSmartContractPayload; } }));\nObject.defineProperty(exports, \"isTokenTransferPayload\", ({ enumerable: true, get: function () { return payload_1.isTokenTransferPayload; } }));\nObject.defineProperty(exports, \"serializePayload\", ({ enumerable: true, get: function () { return payload_1.serializePayload; } }));\nexports.Pc = __importStar(__webpack_require__(/*! ./pc */ \"(ssr)/./node_modules/@stacks/transactions/dist/pc.js\"));\nvar postcondition_1 = __webpack_require__(/*! ./postcondition */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition.js\");\nObject.defineProperty(exports, \"createFungiblePostCondition\", ({ enumerable: true, get: function () { return postcondition_1.createFungiblePostCondition; } }));\nObject.defineProperty(exports, \"createNonFungiblePostCondition\", ({ enumerable: true, get: function () { return postcondition_1.createNonFungiblePostCondition; } }));\nObject.defineProperty(exports, \"createSTXPostCondition\", ({ enumerable: true, get: function () { return postcondition_1.createSTXPostCondition; } }));\n__exportStar(__webpack_require__(/*! ./postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./signature */ \"(ssr)/./node_modules/@stacks/transactions/dist/signature.js\"), exports);\n__exportStar(__webpack_require__(/*! ./signer */ \"(ssr)/./node_modules/@stacks/transactions/dist/signer.js\"), exports);\n__exportStar(__webpack_require__(/*! ./structuredDataSignature */ \"(ssr)/./node_modules/@stacks/transactions/dist/structuredDataSignature.js\"), exports);\nvar transaction_1 = __webpack_require__(/*! ./transaction */ \"(ssr)/./node_modules/@stacks/transactions/dist/transaction.js\");\nObject.defineProperty(exports, \"StacksTransaction\", ({ enumerable: true, get: function () { return transaction_1.StacksTransaction; } }));\nObject.defineProperty(exports, \"deserializeTransaction\", ({ enumerable: true, get: function () { return transaction_1.deserializeTransaction; } }));\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@stacks/transactions/dist/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCLEdBQUcseUJBQXlCLEdBQUcsOEJBQThCLEdBQUcsc0NBQXNDLEdBQUcsbUNBQW1DLEdBQUcsVUFBVSxHQUFHLHdCQUF3QixHQUFHLDhCQUE4QixHQUFHLDhCQUE4QixHQUFHLHVCQUF1QixHQUFHLDZCQUE2QixHQUFHLHlCQUF5QixHQUFHLFVBQVUsR0FBRyxtQkFBbUIsR0FBRyxtQkFBbUIsR0FBRyw2QkFBNkI7QUFDbmMsYUFBYSxtQkFBTyxDQUFDLHdGQUFpQjtBQUN0QyxzQkFBc0IsbUJBQU8sQ0FBQyx3RkFBaUI7QUFDL0MseURBQXdELEVBQUUscUNBQXFDLGlEQUFpRCxFQUFDO0FBQ2pKLCtDQUE4QyxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUM3SCxhQUFhLG1CQUFPLENBQUMsOEVBQVk7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsb0ZBQWU7QUFDM0MsK0NBQThDLEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQzNILFVBQVUsZ0JBQWdCLG1CQUFPLENBQUMsa0VBQU07QUFDeEMsYUFBYSxtQkFBTyxDQUFDLGtGQUFXO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQywwRUFBVTtBQUMvQixhQUFhLG1CQUFPLENBQUMsZ0ZBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLHNGQUFnQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMsc0VBQVE7QUFDN0IsZ0JBQWdCLG1CQUFPLENBQUMsNEVBQVc7QUFDbkMscURBQW9ELEVBQUUscUNBQXFDLHVDQUF1QyxFQUFDO0FBQ25JLHlEQUF3RCxFQUFFLHFDQUFxQywyQ0FBMkMsRUFBQztBQUMzSSxtREFBa0QsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDL0gsMERBQXlELEVBQUUscUNBQXFDLDRDQUE0QyxFQUFDO0FBQzdJLDBEQUF5RCxFQUFFLHFDQUFxQyw0Q0FBNEMsRUFBQztBQUM3SSxvREFBbUQsRUFBRSxxQ0FBcUMsc0NBQXNDLEVBQUM7QUFDakksVUFBVSxnQkFBZ0IsbUJBQU8sQ0FBQyxrRUFBTTtBQUN4QyxzQkFBc0IsbUJBQU8sQ0FBQyx3RkFBaUI7QUFDL0MsK0RBQThELEVBQUUscUNBQXFDLHVEQUF1RCxFQUFDO0FBQzdKLGtFQUFpRSxFQUFFLHFDQUFxQywwREFBMEQsRUFBQztBQUNuSywwREFBeUQsRUFBRSxxQ0FBcUMsa0RBQWtELEVBQUM7QUFDbkosYUFBYSxtQkFBTyxDQUFDLG9HQUF1QjtBQUM1QyxhQUFhLG1CQUFPLENBQUMsZ0ZBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLDBFQUFVO0FBQy9CLGFBQWEsbUJBQU8sQ0FBQyw0R0FBMkI7QUFDaEQsb0JBQW9CLG1CQUFPLENBQUMsb0ZBQWU7QUFDM0MscURBQW9ELEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDO0FBQ3ZJLDBEQUF5RCxFQUFFLHFDQUFxQyxnREFBZ0QsRUFBQztBQUNqSixhQUFhLG1CQUFPLENBQUMsd0VBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLHdFQUFTO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVhY3QtbmV4dGpzLXRzLy4vbm9kZV9tb2R1bGVzL0BzdGFja3MvdHJhbnNhY3Rpb25zL2Rpc3QvaW5kZXguanM/NDgzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVzZXJpYWxpemVUcmFuc2FjdGlvbiA9IGV4cG9ydHMuU3RhY2tzVHJhbnNhY3Rpb24gPSBleHBvcnRzLmNyZWF0ZVNUWFBvc3RDb25kaXRpb24gPSBleHBvcnRzLmNyZWF0ZU5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbiA9IGV4cG9ydHMuY3JlYXRlRnVuZ2libGVQb3N0Q29uZGl0aW9uID0gZXhwb3J0cy5QYyA9IGV4cG9ydHMuc2VyaWFsaXplUGF5bG9hZCA9IGV4cG9ydHMuaXNUb2tlblRyYW5zZmVyUGF5bG9hZCA9IGV4cG9ydHMuaXNTbWFydENvbnRyYWN0UGF5bG9hZCA9IGV4cG9ydHMuaXNQb2lzb25QYXlsb2FkID0gZXhwb3J0cy5pc0NvbnRyYWN0Q2FsbFBheWxvYWQgPSBleHBvcnRzLmlzQ29pbmJhc2VQYXlsb2FkID0gZXhwb3J0cy5DbCA9IGV4cG9ydHMuQnl0ZXNSZWFkZXIgPSBleHBvcnRzLmlzU2luZ2xlU2lnID0gZXhwb3J0cy5lbXB0eU1lc3NhZ2VTaWduYXR1cmUgPSB2b2lkIDA7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYXV0aG9yaXphdGlvblwiKSwgZXhwb3J0cyk7XG52YXIgYXV0aG9yaXphdGlvbl8xID0gcmVxdWlyZShcIi4vYXV0aG9yaXphdGlvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImVtcHR5TWVzc2FnZVNpZ25hdHVyZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXV0aG9yaXphdGlvbl8xLmVtcHR5TWVzc2FnZVNpZ25hdHVyZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzU2luZ2xlU2lnXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRob3JpemF0aW9uXzEuaXNTaW5nbGVTaWc7IH0gfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYnVpbGRlcnNcIiksIGV4cG9ydHMpO1xudmFyIGJ5dGVzUmVhZGVyXzEgPSByZXF1aXJlKFwiLi9ieXRlc1JlYWRlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJ5dGVzUmVhZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBieXRlc1JlYWRlcl8xLkJ5dGVzUmVhZGVyOyB9IH0pO1xuZXhwb3J0cy5DbCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9jbFwiKSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY2xhcml0eVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY29tbW9uXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25zdGFudHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbnRyYWN0LWFiaVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4va2V5c1wiKSwgZXhwb3J0cyk7XG52YXIgcGF5bG9hZF8xID0gcmVxdWlyZShcIi4vcGF5bG9hZFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzQ29pbmJhc2VQYXlsb2FkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwYXlsb2FkXzEuaXNDb2luYmFzZVBheWxvYWQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc0NvbnRyYWN0Q2FsbFBheWxvYWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBheWxvYWRfMS5pc0NvbnRyYWN0Q2FsbFBheWxvYWQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc1BvaXNvblBheWxvYWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBheWxvYWRfMS5pc1BvaXNvblBheWxvYWQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc1NtYXJ0Q29udHJhY3RQYXlsb2FkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwYXlsb2FkXzEuaXNTbWFydENvbnRyYWN0UGF5bG9hZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzVG9rZW5UcmFuc2ZlclBheWxvYWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBheWxvYWRfMS5pc1Rva2VuVHJhbnNmZXJQYXlsb2FkOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2VyaWFsaXplUGF5bG9hZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGF5bG9hZF8xLnNlcmlhbGl6ZVBheWxvYWQ7IH0gfSk7XG5leHBvcnRzLlBjID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3BjXCIpKTtcbnZhciBwb3N0Y29uZGl0aW9uXzEgPSByZXF1aXJlKFwiLi9wb3N0Y29uZGl0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlRnVuZ2libGVQb3N0Q29uZGl0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwb3N0Y29uZGl0aW9uXzEuY3JlYXRlRnVuZ2libGVQb3N0Q29uZGl0aW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlTm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwb3N0Y29uZGl0aW9uXzEuY3JlYXRlTm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlU1RYUG9zdENvbmRpdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcG9zdGNvbmRpdGlvbl8xLmNyZWF0ZVNUWFBvc3RDb25kaXRpb247IH0gfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcG9zdGNvbmRpdGlvbi10eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2lnbmF0dXJlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zaWduZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3N0cnVjdHVyZWREYXRhU2lnbmF0dXJlXCIpLCBleHBvcnRzKTtcbnZhciB0cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vdHJhbnNhY3Rpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdGFja3NUcmFuc2FjdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJhbnNhY3Rpb25fMS5TdGFja3NUcmFuc2FjdGlvbjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlc2VyaWFsaXplVHJhbnNhY3Rpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zYWN0aW9uXzEuZGVzZXJpYWxpemVUcmFuc2FjdGlvbjsgfSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbHNcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/keys.js":
/*!********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/keys.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.publicKeyToAddress = exports.privateKeyToString = exports.getPublicKey = exports.signMessageHashRsv = exports.signWithKey = exports.makeRandomPrivKey = exports.createStacksPrivateKey = exports.deserializePublicKey = exports.compressPublicKey = exports.pubKeyfromPrivKey = exports.serializePublicKey = exports.publicKeyToString = exports.isCompressed = exports.publicKeyFromBytes = exports.publicKeyFromSignatureRsv = exports.publicKeyFromSignatureVrs = exports.createStacksPublicKey = exports.getAddressFromPublicKey = exports.getAddressFromPrivateKey = void 0;\nconst hmac_1 = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/@noble/hashes/hmac.js\");\nconst sha256_1 = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/sha256.js\");\nconst secp256k1_1 = __webpack_require__(/*! @noble/secp256k1 */ \"(ssr)/./node_modules/@noble/secp256k1/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst c32check_1 = __webpack_require__(/*! c32check */ \"(ssr)/./node_modules/c32check/lib/index.js\");\nconst common_2 = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/@stacks/transactions/dist/common.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nsecp256k1_1.utils.hmacSha256Sync = (key, ...msgs) => {\n    const h = hmac_1.hmac.create(sha256_1.sha256, key);\n    msgs.forEach(msg => h.update(msg));\n    return h.digest();\n};\nfunction getAddressFromPrivateKey(privateKey, transactionVersion = constants_1.TransactionVersion.Mainnet) {\n    const pubKey = pubKeyfromPrivKey(privateKey);\n    return getAddressFromPublicKey(pubKey.data, transactionVersion);\n}\nexports.getAddressFromPrivateKey = getAddressFromPrivateKey;\nfunction getAddressFromPublicKey(publicKey, transactionVersion = constants_1.TransactionVersion.Mainnet) {\n    publicKey = typeof publicKey === 'string' ? publicKey : (0, common_1.bytesToHex)(publicKey);\n    const addrVer = (0, common_2.addressHashModeToVersion)(constants_1.AddressHashMode.SerializeP2PKH, transactionVersion);\n    const addr = (0, common_2.addressFromVersionHash)(addrVer, (0, utils_1.hashP2PKH)((0, common_1.hexToBytes)(publicKey)));\n    const addrString = (0, common_2.addressToString)(addr);\n    return addrString;\n}\nexports.getAddressFromPublicKey = getAddressFromPublicKey;\nfunction createStacksPublicKey(key) {\n    return {\n        type: constants_1.StacksMessageType.PublicKey,\n        data: (0, common_1.hexToBytes)(key),\n    };\n}\nexports.createStacksPublicKey = createStacksPublicKey;\nfunction publicKeyFromSignatureVrs(messageHash, messageSignature, pubKeyEncoding = constants_1.PubKeyEncoding.Compressed) {\n    const parsedSignature = (0, common_1.parseRecoverableSignatureVrs)(messageSignature.data);\n    const signature = new secp256k1_1.Signature((0, common_1.hexToBigInt)(parsedSignature.r), (0, common_1.hexToBigInt)(parsedSignature.s));\n    const point = secp256k1_1.Point.fromSignature(messageHash, signature, parsedSignature.recoveryId);\n    const compressed = pubKeyEncoding === constants_1.PubKeyEncoding.Compressed;\n    return point.toHex(compressed);\n}\nexports.publicKeyFromSignatureVrs = publicKeyFromSignatureVrs;\nfunction publicKeyFromSignatureRsv(messageHash, messageSignature, pubKeyEncoding = constants_1.PubKeyEncoding.Compressed) {\n    return publicKeyFromSignatureVrs(messageHash, { ...messageSignature, data: (0, common_1.signatureRsvToVrs)(messageSignature.data) }, pubKeyEncoding);\n}\nexports.publicKeyFromSignatureRsv = publicKeyFromSignatureRsv;\nfunction publicKeyFromBytes(data) {\n    return { type: constants_1.StacksMessageType.PublicKey, data };\n}\nexports.publicKeyFromBytes = publicKeyFromBytes;\nfunction isCompressed(key) {\n    return !(0, common_1.bytesToHex)(key.data).startsWith('04');\n}\nexports.isCompressed = isCompressed;\nfunction publicKeyToString(key) {\n    return (0, common_1.bytesToHex)(key.data);\n}\nexports.publicKeyToString = publicKeyToString;\nfunction serializePublicKey(key) {\n    return key.data.slice();\n}\nexports.serializePublicKey = serializePublicKey;\nfunction pubKeyfromPrivKey(privateKey) {\n    const privKey = createStacksPrivateKey(privateKey);\n    const publicKey = (0, secp256k1_1.getPublicKey)(privKey.data.slice(0, 32), privKey.compressed);\n    return createStacksPublicKey((0, common_1.bytesToHex)(publicKey));\n}\nexports.pubKeyfromPrivKey = pubKeyfromPrivKey;\nfunction compressPublicKey(publicKey) {\n    const hex = typeof publicKey === 'string' ? publicKey : (0, common_1.bytesToHex)(publicKey);\n    const compressed = secp256k1_1.Point.fromHex(hex).toHex(true);\n    return createStacksPublicKey(compressed);\n}\nexports.compressPublicKey = compressPublicKey;\nfunction deserializePublicKey(bytesReader) {\n    const fieldId = bytesReader.readUInt8();\n    const keyLength = fieldId === 4 ? constants_1.UNCOMPRESSED_PUBKEY_LENGTH_BYTES : constants_1.COMPRESSED_PUBKEY_LENGTH_BYTES;\n    return publicKeyFromBytes((0, common_1.concatArray)([fieldId, bytesReader.readBytes(keyLength)]));\n}\nexports.deserializePublicKey = deserializePublicKey;\nfunction createStacksPrivateKey(key) {\n    const data = (0, common_1.privateKeyToBytes)(key);\n    const compressed = data.length == common_1.PRIVATE_KEY_COMPRESSED_LENGTH;\n    return { data, compressed };\n}\nexports.createStacksPrivateKey = createStacksPrivateKey;\nfunction makeRandomPrivKey() {\n    return createStacksPrivateKey(secp256k1_1.utils.randomPrivateKey());\n}\nexports.makeRandomPrivKey = makeRandomPrivKey;\nfunction signWithKey(privateKey, messageHash) {\n    const [rawSignature, recoveryId] = (0, secp256k1_1.signSync)(messageHash, privateKey.data.slice(0, 32), {\n        canonical: true,\n        recovered: true,\n    });\n    if (recoveryId == null) {\n        throw new Error('No signature recoveryId received');\n    }\n    const recoveryIdHex = (0, common_1.intToHex)(recoveryId, 1);\n    const recoverableSignatureString = recoveryIdHex + secp256k1_1.Signature.fromHex(rawSignature).toCompactHex();\n    return (0, common_2.createMessageSignature)(recoverableSignatureString);\n}\nexports.signWithKey = signWithKey;\nfunction signMessageHashRsv({ messageHash, privateKey, }) {\n    const messageSignature = signWithKey(privateKey, messageHash);\n    return { ...messageSignature, data: (0, common_1.signatureVrsToRsv)(messageSignature.data) };\n}\nexports.signMessageHashRsv = signMessageHashRsv;\nfunction getPublicKey(privateKey) {\n    return pubKeyfromPrivKey(privateKey.data);\n}\nexports.getPublicKey = getPublicKey;\nfunction privateKeyToString(privateKey) {\n    return (0, common_1.bytesToHex)(privateKey.data);\n}\nexports.privateKeyToString = privateKeyToString;\nfunction publicKeyToAddress(version, publicKey) {\n    return (0, c32check_1.c32address)(version, (0, common_1.bytesToHex)((0, utils_1.hash160)(publicKey.data)));\n}\nexports.publicKeyToAddress = publicKeyToAddress;\n//# sourceMappingURL=keys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9rZXlzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLDBCQUEwQixHQUFHLG9CQUFvQixHQUFHLDBCQUEwQixHQUFHLG1CQUFtQixHQUFHLHlCQUF5QixHQUFHLDhCQUE4QixHQUFHLDRCQUE0QixHQUFHLHlCQUF5QixHQUFHLHlCQUF5QixHQUFHLDBCQUEwQixHQUFHLHlCQUF5QixHQUFHLG9CQUFvQixHQUFHLDBCQUEwQixHQUFHLGlDQUFpQyxHQUFHLGlDQUFpQyxHQUFHLDZCQUE2QixHQUFHLCtCQUErQixHQUFHLGdDQUFnQztBQUMvaUIsZUFBZSxtQkFBTyxDQUFDLHNFQUFvQjtBQUMzQyxpQkFBaUIsbUJBQU8sQ0FBQywwRUFBc0I7QUFDL0Msb0JBQW9CLG1CQUFPLENBQUMsNEVBQWtCO0FBQzlDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQyw0REFBVTtBQUNyQyxpQkFBaUIsbUJBQU8sQ0FBQywwRUFBVTtBQUNuQyxvQkFBb0IsbUJBQU8sQ0FBQyxnRkFBYTtBQUN6QyxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0Esb0RBQW9ELG1GQUFtRjtBQUN2STtBQUNBLGlDQUFpQztBQUNqQztBQUNBLGFBQWE7QUFDYjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLDhCQUE4QiwwQkFBMEI7QUFDeEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9rZXlzLmpzP2VkMzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnB1YmxpY0tleVRvQWRkcmVzcyA9IGV4cG9ydHMucHJpdmF0ZUtleVRvU3RyaW5nID0gZXhwb3J0cy5nZXRQdWJsaWNLZXkgPSBleHBvcnRzLnNpZ25NZXNzYWdlSGFzaFJzdiA9IGV4cG9ydHMuc2lnbldpdGhLZXkgPSBleHBvcnRzLm1ha2VSYW5kb21Qcml2S2V5ID0gZXhwb3J0cy5jcmVhdGVTdGFja3NQcml2YXRlS2V5ID0gZXhwb3J0cy5kZXNlcmlhbGl6ZVB1YmxpY0tleSA9IGV4cG9ydHMuY29tcHJlc3NQdWJsaWNLZXkgPSBleHBvcnRzLnB1YktleWZyb21Qcml2S2V5ID0gZXhwb3J0cy5zZXJpYWxpemVQdWJsaWNLZXkgPSBleHBvcnRzLnB1YmxpY0tleVRvU3RyaW5nID0gZXhwb3J0cy5pc0NvbXByZXNzZWQgPSBleHBvcnRzLnB1YmxpY0tleUZyb21CeXRlcyA9IGV4cG9ydHMucHVibGljS2V5RnJvbVNpZ25hdHVyZVJzdiA9IGV4cG9ydHMucHVibGljS2V5RnJvbVNpZ25hdHVyZVZycyA9IGV4cG9ydHMuY3JlYXRlU3RhY2tzUHVibGljS2V5ID0gZXhwb3J0cy5nZXRBZGRyZXNzRnJvbVB1YmxpY0tleSA9IGV4cG9ydHMuZ2V0QWRkcmVzc0Zyb21Qcml2YXRlS2V5ID0gdm9pZCAwO1xuY29uc3QgaG1hY18xID0gcmVxdWlyZShcIkBub2JsZS9oYXNoZXMvaG1hY1wiKTtcbmNvbnN0IHNoYTI1Nl8xID0gcmVxdWlyZShcIkBub2JsZS9oYXNoZXMvc2hhMjU2XCIpO1xuY29uc3Qgc2VjcDI1NmsxXzEgPSByZXF1aXJlKFwiQG5vYmxlL3NlY3AyNTZrMVwiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgYzMyY2hlY2tfMSA9IHJlcXVpcmUoXCJjMzJjaGVja1wiKTtcbmNvbnN0IGNvbW1vbl8yID0gcmVxdWlyZShcIi4vY29tbW9uXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5zZWNwMjU2azFfMS51dGlscy5obWFjU2hhMjU2U3luYyA9IChrZXksIC4uLm1zZ3MpID0+IHtcbiAgICBjb25zdCBoID0gaG1hY18xLmhtYWMuY3JlYXRlKHNoYTI1Nl8xLnNoYTI1Niwga2V5KTtcbiAgICBtc2dzLmZvckVhY2gobXNnID0+IGgudXBkYXRlKG1zZykpO1xuICAgIHJldHVybiBoLmRpZ2VzdCgpO1xufTtcbmZ1bmN0aW9uIGdldEFkZHJlc3NGcm9tUHJpdmF0ZUtleShwcml2YXRlS2V5LCB0cmFuc2FjdGlvblZlcnNpb24gPSBjb25zdGFudHNfMS5UcmFuc2FjdGlvblZlcnNpb24uTWFpbm5ldCkge1xuICAgIGNvbnN0IHB1YktleSA9IHB1YktleWZyb21Qcml2S2V5KHByaXZhdGVLZXkpO1xuICAgIHJldHVybiBnZXRBZGRyZXNzRnJvbVB1YmxpY0tleShwdWJLZXkuZGF0YSwgdHJhbnNhY3Rpb25WZXJzaW9uKTtcbn1cbmV4cG9ydHMuZ2V0QWRkcmVzc0Zyb21Qcml2YXRlS2V5ID0gZ2V0QWRkcmVzc0Zyb21Qcml2YXRlS2V5O1xuZnVuY3Rpb24gZ2V0QWRkcmVzc0Zyb21QdWJsaWNLZXkocHVibGljS2V5LCB0cmFuc2FjdGlvblZlcnNpb24gPSBjb25zdGFudHNfMS5UcmFuc2FjdGlvblZlcnNpb24uTWFpbm5ldCkge1xuICAgIHB1YmxpY0tleSA9IHR5cGVvZiBwdWJsaWNLZXkgPT09ICdzdHJpbmcnID8gcHVibGljS2V5IDogKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKHB1YmxpY0tleSk7XG4gICAgY29uc3QgYWRkclZlciA9ICgwLCBjb21tb25fMi5hZGRyZXNzSGFzaE1vZGVUb1ZlcnNpb24pKGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMlBLSCwgdHJhbnNhY3Rpb25WZXJzaW9uKTtcbiAgICBjb25zdCBhZGRyID0gKDAsIGNvbW1vbl8yLmFkZHJlc3NGcm9tVmVyc2lvbkhhc2gpKGFkZHJWZXIsICgwLCB1dGlsc18xLmhhc2hQMlBLSCkoKDAsIGNvbW1vbl8xLmhleFRvQnl0ZXMpKHB1YmxpY0tleSkpKTtcbiAgICBjb25zdCBhZGRyU3RyaW5nID0gKDAsIGNvbW1vbl8yLmFkZHJlc3NUb1N0cmluZykoYWRkcik7XG4gICAgcmV0dXJuIGFkZHJTdHJpbmc7XG59XG5leHBvcnRzLmdldEFkZHJlc3NGcm9tUHVibGljS2V5ID0gZ2V0QWRkcmVzc0Zyb21QdWJsaWNLZXk7XG5mdW5jdGlvbiBjcmVhdGVTdGFja3NQdWJsaWNLZXkoa2V5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUHVibGljS2V5LFxuICAgICAgICBkYXRhOiAoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoa2V5KSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVTdGFja3NQdWJsaWNLZXkgPSBjcmVhdGVTdGFja3NQdWJsaWNLZXk7XG5mdW5jdGlvbiBwdWJsaWNLZXlGcm9tU2lnbmF0dXJlVnJzKG1lc3NhZ2VIYXNoLCBtZXNzYWdlU2lnbmF0dXJlLCBwdWJLZXlFbmNvZGluZyA9IGNvbnN0YW50c18xLlB1YktleUVuY29kaW5nLkNvbXByZXNzZWQpIHtcbiAgICBjb25zdCBwYXJzZWRTaWduYXR1cmUgPSAoMCwgY29tbW9uXzEucGFyc2VSZWNvdmVyYWJsZVNpZ25hdHVyZVZycykobWVzc2FnZVNpZ25hdHVyZS5kYXRhKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBuZXcgc2VjcDI1NmsxXzEuU2lnbmF0dXJlKCgwLCBjb21tb25fMS5oZXhUb0JpZ0ludCkocGFyc2VkU2lnbmF0dXJlLnIpLCAoMCwgY29tbW9uXzEuaGV4VG9CaWdJbnQpKHBhcnNlZFNpZ25hdHVyZS5zKSk7XG4gICAgY29uc3QgcG9pbnQgPSBzZWNwMjU2azFfMS5Qb2ludC5mcm9tU2lnbmF0dXJlKG1lc3NhZ2VIYXNoLCBzaWduYXR1cmUsIHBhcnNlZFNpZ25hdHVyZS5yZWNvdmVyeUlkKTtcbiAgICBjb25zdCBjb21wcmVzc2VkID0gcHViS2V5RW5jb2RpbmcgPT09IGNvbnN0YW50c18xLlB1YktleUVuY29kaW5nLkNvbXByZXNzZWQ7XG4gICAgcmV0dXJuIHBvaW50LnRvSGV4KGNvbXByZXNzZWQpO1xufVxuZXhwb3J0cy5wdWJsaWNLZXlGcm9tU2lnbmF0dXJlVnJzID0gcHVibGljS2V5RnJvbVNpZ25hdHVyZVZycztcbmZ1bmN0aW9uIHB1YmxpY0tleUZyb21TaWduYXR1cmVSc3YobWVzc2FnZUhhc2gsIG1lc3NhZ2VTaWduYXR1cmUsIHB1YktleUVuY29kaW5nID0gY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuQ29tcHJlc3NlZCkge1xuICAgIHJldHVybiBwdWJsaWNLZXlGcm9tU2lnbmF0dXJlVnJzKG1lc3NhZ2VIYXNoLCB7IC4uLm1lc3NhZ2VTaWduYXR1cmUsIGRhdGE6ICgwLCBjb21tb25fMS5zaWduYXR1cmVSc3ZUb1ZycykobWVzc2FnZVNpZ25hdHVyZS5kYXRhKSB9LCBwdWJLZXlFbmNvZGluZyk7XG59XG5leHBvcnRzLnB1YmxpY0tleUZyb21TaWduYXR1cmVSc3YgPSBwdWJsaWNLZXlGcm9tU2lnbmF0dXJlUnN2O1xuZnVuY3Rpb24gcHVibGljS2V5RnJvbUJ5dGVzKGRhdGEpIHtcbiAgICByZXR1cm4geyB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QdWJsaWNLZXksIGRhdGEgfTtcbn1cbmV4cG9ydHMucHVibGljS2V5RnJvbUJ5dGVzID0gcHVibGljS2V5RnJvbUJ5dGVzO1xuZnVuY3Rpb24gaXNDb21wcmVzc2VkKGtleSkge1xuICAgIHJldHVybiAhKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKGtleS5kYXRhKS5zdGFydHNXaXRoKCcwNCcpO1xufVxuZXhwb3J0cy5pc0NvbXByZXNzZWQgPSBpc0NvbXByZXNzZWQ7XG5mdW5jdGlvbiBwdWJsaWNLZXlUb1N0cmluZyhrZXkpIHtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKGtleS5kYXRhKTtcbn1cbmV4cG9ydHMucHVibGljS2V5VG9TdHJpbmcgPSBwdWJsaWNLZXlUb1N0cmluZztcbmZ1bmN0aW9uIHNlcmlhbGl6ZVB1YmxpY0tleShrZXkpIHtcbiAgICByZXR1cm4ga2V5LmRhdGEuc2xpY2UoKTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplUHVibGljS2V5ID0gc2VyaWFsaXplUHVibGljS2V5O1xuZnVuY3Rpb24gcHViS2V5ZnJvbVByaXZLZXkocHJpdmF0ZUtleSkge1xuICAgIGNvbnN0IHByaXZLZXkgPSBjcmVhdGVTdGFja3NQcml2YXRlS2V5KHByaXZhdGVLZXkpO1xuICAgIGNvbnN0IHB1YmxpY0tleSA9ICgwLCBzZWNwMjU2azFfMS5nZXRQdWJsaWNLZXkpKHByaXZLZXkuZGF0YS5zbGljZSgwLCAzMiksIHByaXZLZXkuY29tcHJlc3NlZCk7XG4gICAgcmV0dXJuIGNyZWF0ZVN0YWNrc1B1YmxpY0tleSgoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkocHVibGljS2V5KSk7XG59XG5leHBvcnRzLnB1YktleWZyb21Qcml2S2V5ID0gcHViS2V5ZnJvbVByaXZLZXk7XG5mdW5jdGlvbiBjb21wcmVzc1B1YmxpY0tleShwdWJsaWNLZXkpIHtcbiAgICBjb25zdCBoZXggPSB0eXBlb2YgcHVibGljS2V5ID09PSAnc3RyaW5nJyA/IHB1YmxpY0tleSA6ICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShwdWJsaWNLZXkpO1xuICAgIGNvbnN0IGNvbXByZXNzZWQgPSBzZWNwMjU2azFfMS5Qb2ludC5mcm9tSGV4KGhleCkudG9IZXgodHJ1ZSk7XG4gICAgcmV0dXJuIGNyZWF0ZVN0YWNrc1B1YmxpY0tleShjb21wcmVzc2VkKTtcbn1cbmV4cG9ydHMuY29tcHJlc3NQdWJsaWNLZXkgPSBjb21wcmVzc1B1YmxpY0tleTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplUHVibGljS2V5KGJ5dGVzUmVhZGVyKSB7XG4gICAgY29uc3QgZmllbGRJZCA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50OCgpO1xuICAgIGNvbnN0IGtleUxlbmd0aCA9IGZpZWxkSWQgPT09IDQgPyBjb25zdGFudHNfMS5VTkNPTVBSRVNTRURfUFVCS0VZX0xFTkdUSF9CWVRFUyA6IGNvbnN0YW50c18xLkNPTVBSRVNTRURfUFVCS0VZX0xFTkdUSF9CWVRFUztcbiAgICByZXR1cm4gcHVibGljS2V5RnJvbUJ5dGVzKCgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoW2ZpZWxkSWQsIGJ5dGVzUmVhZGVyLnJlYWRCeXRlcyhrZXlMZW5ndGgpXSkpO1xufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZVB1YmxpY0tleSA9IGRlc2VyaWFsaXplUHVibGljS2V5O1xuZnVuY3Rpb24gY3JlYXRlU3RhY2tzUHJpdmF0ZUtleShrZXkpIHtcbiAgICBjb25zdCBkYXRhID0gKDAsIGNvbW1vbl8xLnByaXZhdGVLZXlUb0J5dGVzKShrZXkpO1xuICAgIGNvbnN0IGNvbXByZXNzZWQgPSBkYXRhLmxlbmd0aCA9PSBjb21tb25fMS5QUklWQVRFX0tFWV9DT01QUkVTU0VEX0xFTkdUSDtcbiAgICByZXR1cm4geyBkYXRhLCBjb21wcmVzc2VkIH07XG59XG5leHBvcnRzLmNyZWF0ZVN0YWNrc1ByaXZhdGVLZXkgPSBjcmVhdGVTdGFja3NQcml2YXRlS2V5O1xuZnVuY3Rpb24gbWFrZVJhbmRvbVByaXZLZXkoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVN0YWNrc1ByaXZhdGVLZXkoc2VjcDI1NmsxXzEudXRpbHMucmFuZG9tUHJpdmF0ZUtleSgpKTtcbn1cbmV4cG9ydHMubWFrZVJhbmRvbVByaXZLZXkgPSBtYWtlUmFuZG9tUHJpdktleTtcbmZ1bmN0aW9uIHNpZ25XaXRoS2V5KHByaXZhdGVLZXksIG1lc3NhZ2VIYXNoKSB7XG4gICAgY29uc3QgW3Jhd1NpZ25hdHVyZSwgcmVjb3ZlcnlJZF0gPSAoMCwgc2VjcDI1NmsxXzEuc2lnblN5bmMpKG1lc3NhZ2VIYXNoLCBwcml2YXRlS2V5LmRhdGEuc2xpY2UoMCwgMzIpLCB7XG4gICAgICAgIGNhbm9uaWNhbDogdHJ1ZSxcbiAgICAgICAgcmVjb3ZlcmVkOiB0cnVlLFxuICAgIH0pO1xuICAgIGlmIChyZWNvdmVyeUlkID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzaWduYXR1cmUgcmVjb3ZlcnlJZCByZWNlaXZlZCcpO1xuICAgIH1cbiAgICBjb25zdCByZWNvdmVyeUlkSGV4ID0gKDAsIGNvbW1vbl8xLmludFRvSGV4KShyZWNvdmVyeUlkLCAxKTtcbiAgICBjb25zdCByZWNvdmVyYWJsZVNpZ25hdHVyZVN0cmluZyA9IHJlY292ZXJ5SWRIZXggKyBzZWNwMjU2azFfMS5TaWduYXR1cmUuZnJvbUhleChyYXdTaWduYXR1cmUpLnRvQ29tcGFjdEhleCgpO1xuICAgIHJldHVybiAoMCwgY29tbW9uXzIuY3JlYXRlTWVzc2FnZVNpZ25hdHVyZSkocmVjb3ZlcmFibGVTaWduYXR1cmVTdHJpbmcpO1xufVxuZXhwb3J0cy5zaWduV2l0aEtleSA9IHNpZ25XaXRoS2V5O1xuZnVuY3Rpb24gc2lnbk1lc3NhZ2VIYXNoUnN2KHsgbWVzc2FnZUhhc2gsIHByaXZhdGVLZXksIH0pIHtcbiAgICBjb25zdCBtZXNzYWdlU2lnbmF0dXJlID0gc2lnbldpdGhLZXkocHJpdmF0ZUtleSwgbWVzc2FnZUhhc2gpO1xuICAgIHJldHVybiB7IC4uLm1lc3NhZ2VTaWduYXR1cmUsIGRhdGE6ICgwLCBjb21tb25fMS5zaWduYXR1cmVWcnNUb1JzdikobWVzc2FnZVNpZ25hdHVyZS5kYXRhKSB9O1xufVxuZXhwb3J0cy5zaWduTWVzc2FnZUhhc2hSc3YgPSBzaWduTWVzc2FnZUhhc2hSc3Y7XG5mdW5jdGlvbiBnZXRQdWJsaWNLZXkocHJpdmF0ZUtleSkge1xuICAgIHJldHVybiBwdWJLZXlmcm9tUHJpdktleShwcml2YXRlS2V5LmRhdGEpO1xufVxuZXhwb3J0cy5nZXRQdWJsaWNLZXkgPSBnZXRQdWJsaWNLZXk7XG5mdW5jdGlvbiBwcml2YXRlS2V5VG9TdHJpbmcocHJpdmF0ZUtleSkge1xuICAgIHJldHVybiAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkocHJpdmF0ZUtleS5kYXRhKTtcbn1cbmV4cG9ydHMucHJpdmF0ZUtleVRvU3RyaW5nID0gcHJpdmF0ZUtleVRvU3RyaW5nO1xuZnVuY3Rpb24gcHVibGljS2V5VG9BZGRyZXNzKHZlcnNpb24sIHB1YmxpY0tleSkge1xuICAgIHJldHVybiAoMCwgYzMyY2hlY2tfMS5jMzJhZGRyZXNzKSh2ZXJzaW9uLCAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoKDAsIHV0aWxzXzEuaGFzaDE2MCkocHVibGljS2V5LmRhdGEpKSk7XG59XG5leHBvcnRzLnB1YmxpY0tleVRvQWRkcmVzcyA9IHB1YmxpY0tleVRvQWRkcmVzcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/keys.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/payload.js":
/*!***********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/payload.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deserializePayload = exports.serializePayload = exports.createCoinbasePayload = exports.createPoisonPayload = exports.createSmartContractPayload = exports.createContractCallPayload = exports.createTokenTransferPayload = exports.isCoinbasePayload = exports.isPoisonPayload = exports.isSmartContractPayload = exports.isContractCallPayload = exports.isTokenTransferPayload = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst clarity_1 = __webpack_require__(/*! ./clarity/ */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nconst principalCV_1 = __webpack_require__(/*! ./clarity/types/principalCV */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/types/principalCV.js\");\nconst postcondition_types_1 = __webpack_require__(/*! ./postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@stacks/transactions/dist/types.js\");\nfunction isTokenTransferPayload(p) {\n    return p.payloadType === constants_1.PayloadType.TokenTransfer;\n}\nexports.isTokenTransferPayload = isTokenTransferPayload;\nfunction isContractCallPayload(p) {\n    return p.payloadType === constants_1.PayloadType.ContractCall;\n}\nexports.isContractCallPayload = isContractCallPayload;\nfunction isSmartContractPayload(p) {\n    return p.payloadType === constants_1.PayloadType.SmartContract;\n}\nexports.isSmartContractPayload = isSmartContractPayload;\nfunction isPoisonPayload(p) {\n    return p.payloadType === constants_1.PayloadType.PoisonMicroblock;\n}\nexports.isPoisonPayload = isPoisonPayload;\nfunction isCoinbasePayload(p) {\n    return p.payloadType === constants_1.PayloadType.Coinbase;\n}\nexports.isCoinbasePayload = isCoinbasePayload;\nfunction createTokenTransferPayload(recipient, amount, memo) {\n    if (typeof recipient === 'string') {\n        recipient = (0, principalCV_1.principalCV)(recipient);\n    }\n    if (typeof memo === 'string') {\n        memo = (0, types_1.createMemoString)(memo);\n    }\n    return {\n        type: constants_1.StacksMessageType.Payload,\n        payloadType: constants_1.PayloadType.TokenTransfer,\n        recipient,\n        amount: (0, common_1.intToBigInt)(amount, false),\n        memo: memo ?? (0, types_1.createMemoString)(''),\n    };\n}\nexports.createTokenTransferPayload = createTokenTransferPayload;\nfunction createContractCallPayload(contractAddress, contractName, functionName, functionArgs) {\n    if (typeof contractAddress === 'string') {\n        contractAddress = (0, postcondition_types_1.createAddress)(contractAddress);\n    }\n    if (typeof contractName === 'string') {\n        contractName = (0, postcondition_types_1.createLPString)(contractName);\n    }\n    if (typeof functionName === 'string') {\n        functionName = (0, postcondition_types_1.createLPString)(functionName);\n    }\n    return {\n        type: constants_1.StacksMessageType.Payload,\n        payloadType: constants_1.PayloadType.ContractCall,\n        contractAddress,\n        contractName,\n        functionName,\n        functionArgs,\n    };\n}\nexports.createContractCallPayload = createContractCallPayload;\nfunction createSmartContractPayload(contractName, codeBody, clarityVersion) {\n    if (typeof contractName === 'string') {\n        contractName = (0, postcondition_types_1.createLPString)(contractName);\n    }\n    if (typeof codeBody === 'string') {\n        codeBody = (0, types_1.codeBodyString)(codeBody);\n    }\n    if (typeof clarityVersion === 'number') {\n        return {\n            type: constants_1.StacksMessageType.Payload,\n            payloadType: constants_1.PayloadType.VersionedSmartContract,\n            clarityVersion,\n            contractName,\n            codeBody,\n        };\n    }\n    return {\n        type: constants_1.StacksMessageType.Payload,\n        payloadType: constants_1.PayloadType.SmartContract,\n        contractName,\n        codeBody,\n    };\n}\nexports.createSmartContractPayload = createSmartContractPayload;\nfunction createPoisonPayload() {\n    return { type: constants_1.StacksMessageType.Payload, payloadType: constants_1.PayloadType.PoisonMicroblock };\n}\nexports.createPoisonPayload = createPoisonPayload;\nfunction createCoinbasePayload(coinbaseBytes, altRecipient) {\n    if (coinbaseBytes.byteLength != constants_1.COINBASE_BYTES_LENGTH) {\n        throw Error(`Coinbase buffer size must be ${constants_1.COINBASE_BYTES_LENGTH} bytes`);\n    }\n    if (altRecipient != undefined) {\n        return {\n            type: constants_1.StacksMessageType.Payload,\n            payloadType: constants_1.PayloadType.CoinbaseToAltRecipient,\n            coinbaseBytes,\n            recipient: altRecipient,\n        };\n    }\n    return {\n        type: constants_1.StacksMessageType.Payload,\n        payloadType: constants_1.PayloadType.Coinbase,\n        coinbaseBytes,\n    };\n}\nexports.createCoinbasePayload = createCoinbasePayload;\nfunction serializePayload(payload) {\n    const bytesArray = [];\n    bytesArray.push(payload.payloadType);\n    switch (payload.payloadType) {\n        case constants_1.PayloadType.TokenTransfer:\n            bytesArray.push((0, clarity_1.serializeCV)(payload.recipient));\n            bytesArray.push((0, common_1.intToBytes)(payload.amount, false, 8));\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.memo));\n            break;\n        case constants_1.PayloadType.ContractCall:\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.contractAddress));\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.contractName));\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.functionName));\n            const numArgs = new Uint8Array(4);\n            (0, common_1.writeUInt32BE)(numArgs, payload.functionArgs.length, 0);\n            bytesArray.push(numArgs);\n            payload.functionArgs.forEach(arg => {\n                bytesArray.push((0, clarity_1.serializeCV)(arg));\n            });\n            break;\n        case constants_1.PayloadType.SmartContract:\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.contractName));\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.codeBody));\n            break;\n        case constants_1.PayloadType.VersionedSmartContract:\n            bytesArray.push(payload.clarityVersion);\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.contractName));\n            bytesArray.push((0, types_1.serializeStacksMessage)(payload.codeBody));\n            break;\n        case constants_1.PayloadType.PoisonMicroblock:\n            break;\n        case constants_1.PayloadType.Coinbase:\n            bytesArray.push(payload.coinbaseBytes);\n            break;\n        case constants_1.PayloadType.CoinbaseToAltRecipient:\n            bytesArray.push(payload.coinbaseBytes);\n            bytesArray.push((0, clarity_1.serializeCV)(payload.recipient));\n            break;\n    }\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializePayload = serializePayload;\nfunction deserializePayload(bytesReader) {\n    const payloadType = bytesReader.readUInt8Enum(constants_1.PayloadType, n => {\n        throw new Error(`Cannot recognize PayloadType: ${n}`);\n    });\n    switch (payloadType) {\n        case constants_1.PayloadType.TokenTransfer:\n            const recipient = (0, clarity_1.deserializeCV)(bytesReader);\n            const amount = (0, common_1.intToBigInt)(bytesReader.readBytes(8), false);\n            const memo = (0, types_1.deserializeMemoString)(bytesReader);\n            return createTokenTransferPayload(recipient, amount, memo);\n        case constants_1.PayloadType.ContractCall:\n            const contractAddress = (0, types_1.deserializeAddress)(bytesReader);\n            const contractCallName = (0, types_1.deserializeLPString)(bytesReader);\n            const functionName = (0, types_1.deserializeLPString)(bytesReader);\n            const functionArgs = [];\n            const numberOfArgs = bytesReader.readUInt32BE();\n            for (let i = 0; i < numberOfArgs; i++) {\n                const clarityValue = (0, clarity_1.deserializeCV)(bytesReader);\n                functionArgs.push(clarityValue);\n            }\n            return createContractCallPayload(contractAddress, contractCallName, functionName, functionArgs);\n        case constants_1.PayloadType.SmartContract:\n            const smartContractName = (0, types_1.deserializeLPString)(bytesReader);\n            const codeBody = (0, types_1.deserializeLPString)(bytesReader, 4, 100000);\n            return createSmartContractPayload(smartContractName, codeBody);\n        case constants_1.PayloadType.VersionedSmartContract: {\n            const clarityVersion = bytesReader.readUInt8Enum(constants_1.ClarityVersion, n => {\n                throw new Error(`Cannot recognize ClarityVersion: ${n}`);\n            });\n            const smartContractName = (0, types_1.deserializeLPString)(bytesReader);\n            const codeBody = (0, types_1.deserializeLPString)(bytesReader, 4, 100000);\n            return createSmartContractPayload(smartContractName, codeBody, clarityVersion);\n        }\n        case constants_1.PayloadType.PoisonMicroblock:\n            return createPoisonPayload();\n        case constants_1.PayloadType.Coinbase:\n            const coinbaseBytes = bytesReader.readBytes(constants_1.COINBASE_BYTES_LENGTH);\n            return createCoinbasePayload(coinbaseBytes);\n        case constants_1.PayloadType.CoinbaseToAltRecipient:\n            const coinbaseToAltRecipientBuffer = bytesReader.readBytes(constants_1.COINBASE_BYTES_LENGTH);\n            const altRecipient = (0, clarity_1.deserializeCV)(bytesReader);\n            return createCoinbasePayload(coinbaseToAltRecipientBuffer, altRecipient);\n    }\n}\nexports.deserializePayload = deserializePayload;\n//# sourceMappingURL=payload.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9wYXlsb2FkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLHdCQUF3QixHQUFHLDZCQUE2QixHQUFHLDJCQUEyQixHQUFHLGtDQUFrQyxHQUFHLGlDQUFpQyxHQUFHLGtDQUFrQyxHQUFHLHlCQUF5QixHQUFHLHVCQUF1QixHQUFHLDhCQUE4QixHQUFHLDZCQUE2QixHQUFHLDhCQUE4QjtBQUN6WCxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsZ0ZBQWE7QUFDekMsa0JBQWtCLG1CQUFPLENBQUMsbUZBQVk7QUFDdEMsc0JBQXNCLG1CQUFPLENBQUMsZ0hBQTZCO0FBQzNELDhCQUE4QixtQkFBTyxDQUFDLG9HQUF1QjtBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxvREFBb0QsbUNBQW1DO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLHlEQUF5RCxFQUFFO0FBQzNELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0JBQWtCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLEVBQUU7QUFDdEUsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L3BheWxvYWQuanM/M2FlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVzZXJpYWxpemVQYXlsb2FkID0gZXhwb3J0cy5zZXJpYWxpemVQYXlsb2FkID0gZXhwb3J0cy5jcmVhdGVDb2luYmFzZVBheWxvYWQgPSBleHBvcnRzLmNyZWF0ZVBvaXNvblBheWxvYWQgPSBleHBvcnRzLmNyZWF0ZVNtYXJ0Q29udHJhY3RQYXlsb2FkID0gZXhwb3J0cy5jcmVhdGVDb250cmFjdENhbGxQYXlsb2FkID0gZXhwb3J0cy5jcmVhdGVUb2tlblRyYW5zZmVyUGF5bG9hZCA9IGV4cG9ydHMuaXNDb2luYmFzZVBheWxvYWQgPSBleHBvcnRzLmlzUG9pc29uUGF5bG9hZCA9IGV4cG9ydHMuaXNTbWFydENvbnRyYWN0UGF5bG9hZCA9IGV4cG9ydHMuaXNDb250cmFjdENhbGxQYXlsb2FkID0gZXhwb3J0cy5pc1Rva2VuVHJhbnNmZXJQYXlsb2FkID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGNsYXJpdHlfMSA9IHJlcXVpcmUoXCIuL2NsYXJpdHkvXCIpO1xuY29uc3QgcHJpbmNpcGFsQ1ZfMSA9IHJlcXVpcmUoXCIuL2NsYXJpdHkvdHlwZXMvcHJpbmNpcGFsQ1ZcIik7XG5jb25zdCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEgPSByZXF1aXJlKFwiLi9wb3N0Y29uZGl0aW9uLXR5cGVzXCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuZnVuY3Rpb24gaXNUb2tlblRyYW5zZmVyUGF5bG9hZChwKSB7XG4gICAgcmV0dXJuIHAucGF5bG9hZFR5cGUgPT09IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlRva2VuVHJhbnNmZXI7XG59XG5leHBvcnRzLmlzVG9rZW5UcmFuc2ZlclBheWxvYWQgPSBpc1Rva2VuVHJhbnNmZXJQYXlsb2FkO1xuZnVuY3Rpb24gaXNDb250cmFjdENhbGxQYXlsb2FkKHApIHtcbiAgICByZXR1cm4gcC5wYXlsb2FkVHlwZSA9PT0gY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuQ29udHJhY3RDYWxsO1xufVxuZXhwb3J0cy5pc0NvbnRyYWN0Q2FsbFBheWxvYWQgPSBpc0NvbnRyYWN0Q2FsbFBheWxvYWQ7XG5mdW5jdGlvbiBpc1NtYXJ0Q29udHJhY3RQYXlsb2FkKHApIHtcbiAgICByZXR1cm4gcC5wYXlsb2FkVHlwZSA9PT0gY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuU21hcnRDb250cmFjdDtcbn1cbmV4cG9ydHMuaXNTbWFydENvbnRyYWN0UGF5bG9hZCA9IGlzU21hcnRDb250cmFjdFBheWxvYWQ7XG5mdW5jdGlvbiBpc1BvaXNvblBheWxvYWQocCkge1xuICAgIHJldHVybiBwLnBheWxvYWRUeXBlID09PSBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Qb2lzb25NaWNyb2Jsb2NrO1xufVxuZXhwb3J0cy5pc1BvaXNvblBheWxvYWQgPSBpc1BvaXNvblBheWxvYWQ7XG5mdW5jdGlvbiBpc0NvaW5iYXNlUGF5bG9hZChwKSB7XG4gICAgcmV0dXJuIHAucGF5bG9hZFR5cGUgPT09IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLkNvaW5iYXNlO1xufVxuZXhwb3J0cy5pc0NvaW5iYXNlUGF5bG9hZCA9IGlzQ29pbmJhc2VQYXlsb2FkO1xuZnVuY3Rpb24gY3JlYXRlVG9rZW5UcmFuc2ZlclBheWxvYWQocmVjaXBpZW50LCBhbW91bnQsIG1lbW8pIHtcbiAgICBpZiAodHlwZW9mIHJlY2lwaWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmVjaXBpZW50ID0gKDAsIHByaW5jaXBhbENWXzEucHJpbmNpcGFsQ1YpKHJlY2lwaWVudCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbWVtbyA9ICgwLCB0eXBlc18xLmNyZWF0ZU1lbW9TdHJpbmcpKG1lbW8pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QYXlsb2FkLFxuICAgICAgICBwYXlsb2FkVHlwZTogY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuVG9rZW5UcmFuc2ZlcixcbiAgICAgICAgcmVjaXBpZW50LFxuICAgICAgICBhbW91bnQ6ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkoYW1vdW50LCBmYWxzZSksXG4gICAgICAgIG1lbW86IG1lbW8gPz8gKDAsIHR5cGVzXzEuY3JlYXRlTWVtb1N0cmluZykoJycpLFxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZVRva2VuVHJhbnNmZXJQYXlsb2FkID0gY3JlYXRlVG9rZW5UcmFuc2ZlclBheWxvYWQ7XG5mdW5jdGlvbiBjcmVhdGVDb250cmFjdENhbGxQYXlsb2FkKGNvbnRyYWN0QWRkcmVzcywgY29udHJhY3ROYW1lLCBmdW5jdGlvbk5hbWUsIGZ1bmN0aW9uQXJncykge1xuICAgIGlmICh0eXBlb2YgY29udHJhY3RBZGRyZXNzID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb250cmFjdEFkZHJlc3MgPSAoMCwgcG9zdGNvbmRpdGlvbl90eXBlc18xLmNyZWF0ZUFkZHJlc3MpKGNvbnRyYWN0QWRkcmVzcyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29udHJhY3ROYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb250cmFjdE5hbWUgPSAoMCwgcG9zdGNvbmRpdGlvbl90eXBlc18xLmNyZWF0ZUxQU3RyaW5nKShjb250cmFjdE5hbWUpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZ1bmN0aW9uTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZnVuY3Rpb25OYW1lID0gKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVMUFN0cmluZykoZnVuY3Rpb25OYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUGF5bG9hZCxcbiAgICAgICAgcGF5bG9hZFR5cGU6IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLkNvbnRyYWN0Q2FsbCxcbiAgICAgICAgY29udHJhY3RBZGRyZXNzLFxuICAgICAgICBjb250cmFjdE5hbWUsXG4gICAgICAgIGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgZnVuY3Rpb25BcmdzLFxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZUNvbnRyYWN0Q2FsbFBheWxvYWQgPSBjcmVhdGVDb250cmFjdENhbGxQYXlsb2FkO1xuZnVuY3Rpb24gY3JlYXRlU21hcnRDb250cmFjdFBheWxvYWQoY29udHJhY3ROYW1lLCBjb2RlQm9keSwgY2xhcml0eVZlcnNpb24pIHtcbiAgICBpZiAodHlwZW9mIGNvbnRyYWN0TmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29udHJhY3ROYW1lID0gKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVMUFN0cmluZykoY29udHJhY3ROYW1lKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb2RlQm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29kZUJvZHkgPSAoMCwgdHlwZXNfMS5jb2RlQm9keVN0cmluZykoY29kZUJvZHkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNsYXJpdHlWZXJzaW9uID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUGF5bG9hZCxcbiAgICAgICAgICAgIHBheWxvYWRUeXBlOiBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5WZXJzaW9uZWRTbWFydENvbnRyYWN0LFxuICAgICAgICAgICAgY2xhcml0eVZlcnNpb24sXG4gICAgICAgICAgICBjb250cmFjdE5hbWUsXG4gICAgICAgICAgICBjb2RlQm9keSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUGF5bG9hZCxcbiAgICAgICAgcGF5bG9hZFR5cGU6IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlNtYXJ0Q29udHJhY3QsXG4gICAgICAgIGNvbnRyYWN0TmFtZSxcbiAgICAgICAgY29kZUJvZHksXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlU21hcnRDb250cmFjdFBheWxvYWQgPSBjcmVhdGVTbWFydENvbnRyYWN0UGF5bG9hZDtcbmZ1bmN0aW9uIGNyZWF0ZVBvaXNvblBheWxvYWQoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUGF5bG9hZCwgcGF5bG9hZFR5cGU6IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlBvaXNvbk1pY3JvYmxvY2sgfTtcbn1cbmV4cG9ydHMuY3JlYXRlUG9pc29uUGF5bG9hZCA9IGNyZWF0ZVBvaXNvblBheWxvYWQ7XG5mdW5jdGlvbiBjcmVhdGVDb2luYmFzZVBheWxvYWQoY29pbmJhc2VCeXRlcywgYWx0UmVjaXBpZW50KSB7XG4gICAgaWYgKGNvaW5iYXNlQnl0ZXMuYnl0ZUxlbmd0aCAhPSBjb25zdGFudHNfMS5DT0lOQkFTRV9CWVRFU19MRU5HVEgpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYENvaW5iYXNlIGJ1ZmZlciBzaXplIG11c3QgYmUgJHtjb25zdGFudHNfMS5DT0lOQkFTRV9CWVRFU19MRU5HVEh9IGJ5dGVzYCk7XG4gICAgfVxuICAgIGlmIChhbHRSZWNpcGllbnQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QYXlsb2FkLFxuICAgICAgICAgICAgcGF5bG9hZFR5cGU6IGNvbnN0YW50c18xLlBheWxvYWRUeXBlLkNvaW5iYXNlVG9BbHRSZWNpcGllbnQsXG4gICAgICAgICAgICBjb2luYmFzZUJ5dGVzLFxuICAgICAgICAgICAgcmVjaXBpZW50OiBhbHRSZWNpcGllbnQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLlBheWxvYWQsXG4gICAgICAgIHBheWxvYWRUeXBlOiBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Db2luYmFzZSxcbiAgICAgICAgY29pbmJhc2VCeXRlcyxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVDb2luYmFzZVBheWxvYWQgPSBjcmVhdGVDb2luYmFzZVBheWxvYWQ7XG5mdW5jdGlvbiBzZXJpYWxpemVQYXlsb2FkKHBheWxvYWQpIHtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgYnl0ZXNBcnJheS5wdXNoKHBheWxvYWQucGF5bG9hZFR5cGUpO1xuICAgIHN3aXRjaCAocGF5bG9hZC5wYXlsb2FkVHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlRva2VuVHJhbnNmZXI6XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIGNsYXJpdHlfMS5zZXJpYWxpemVDVikocGF5bG9hZC5yZWNpcGllbnQpKTtcbiAgICAgICAgICAgIGJ5dGVzQXJyYXkucHVzaCgoMCwgY29tbW9uXzEuaW50VG9CeXRlcykocGF5bG9hZC5hbW91bnQsIGZhbHNlLCA4KSk7XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIHR5cGVzXzEuc2VyaWFsaXplU3RhY2tzTWVzc2FnZSkocGF5bG9hZC5tZW1vKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Db250cmFjdENhbGw6XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIHR5cGVzXzEuc2VyaWFsaXplU3RhY2tzTWVzc2FnZSkocGF5bG9hZC5jb250cmFjdEFkZHJlc3MpKTtcbiAgICAgICAgICAgIGJ5dGVzQXJyYXkucHVzaCgoMCwgdHlwZXNfMS5zZXJpYWxpemVTdGFja3NNZXNzYWdlKShwYXlsb2FkLmNvbnRyYWN0TmFtZSkpO1xuICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKCgwLCB0eXBlc18xLnNlcmlhbGl6ZVN0YWNrc01lc3NhZ2UpKHBheWxvYWQuZnVuY3Rpb25OYW1lKSk7XG4gICAgICAgICAgICBjb25zdCBudW1BcmdzID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgICAgICAoMCwgY29tbW9uXzEud3JpdGVVSW50MzJCRSkobnVtQXJncywgcGF5bG9hZC5mdW5jdGlvbkFyZ3MubGVuZ3RoLCAwKTtcbiAgICAgICAgICAgIGJ5dGVzQXJyYXkucHVzaChudW1BcmdzKTtcbiAgICAgICAgICAgIHBheWxvYWQuZnVuY3Rpb25BcmdzLmZvckVhY2goYXJnID0+IHtcbiAgICAgICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIGNsYXJpdHlfMS5zZXJpYWxpemVDVikoYXJnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlNtYXJ0Q29udHJhY3Q6XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIHR5cGVzXzEuc2VyaWFsaXplU3RhY2tzTWVzc2FnZSkocGF5bG9hZC5jb250cmFjdE5hbWUpKTtcbiAgICAgICAgICAgIGJ5dGVzQXJyYXkucHVzaCgoMCwgdHlwZXNfMS5zZXJpYWxpemVTdGFja3NNZXNzYWdlKShwYXlsb2FkLmNvZGVCb2R5KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5WZXJzaW9uZWRTbWFydENvbnRyYWN0OlxuICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHBheWxvYWQuY2xhcml0eVZlcnNpb24pO1xuICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKCgwLCB0eXBlc18xLnNlcmlhbGl6ZVN0YWNrc01lc3NhZ2UpKHBheWxvYWQuY29udHJhY3ROYW1lKSk7XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIHR5cGVzXzEuc2VyaWFsaXplU3RhY2tzTWVzc2FnZSkocGF5bG9hZC5jb2RlQm9keSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuUG9pc29uTWljcm9ibG9jazpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLkNvaW5iYXNlOlxuICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHBheWxvYWQuY29pbmJhc2VCeXRlcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Db2luYmFzZVRvQWx0UmVjaXBpZW50OlxuICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHBheWxvYWQuY29pbmJhc2VCeXRlcyk7XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIGNsYXJpdHlfMS5zZXJpYWxpemVDVikocGF5bG9hZC5yZWNpcGllbnQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmNvbmNhdEFycmF5KShieXRlc0FycmF5KTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplUGF5bG9hZCA9IHNlcmlhbGl6ZVBheWxvYWQ7XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVBheWxvYWQoYnl0ZXNSZWFkZXIpIHtcbiAgICBjb25zdCBwYXlsb2FkVHlwZSA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50OEVudW0oY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUsIG4gPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWNvZ25pemUgUGF5bG9hZFR5cGU6ICR7bn1gKTtcbiAgICB9KTtcbiAgICBzd2l0Y2ggKHBheWxvYWRUeXBlKSB7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuVG9rZW5UcmFuc2ZlcjpcbiAgICAgICAgICAgIGNvbnN0IHJlY2lwaWVudCA9ICgwLCBjbGFyaXR5XzEuZGVzZXJpYWxpemVDVikoYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gKDAsIGNvbW1vbl8xLmludFRvQmlnSW50KShieXRlc1JlYWRlci5yZWFkQnl0ZXMoOCksIGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IG1lbW8gPSAoMCwgdHlwZXNfMS5kZXNlcmlhbGl6ZU1lbW9TdHJpbmcpKGJ5dGVzUmVhZGVyKTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUb2tlblRyYW5zZmVyUGF5bG9hZChyZWNpcGllbnQsIGFtb3VudCwgbWVtbyk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuQ29udHJhY3RDYWxsOlxuICAgICAgICAgICAgY29uc3QgY29udHJhY3RBZGRyZXNzID0gKDAsIHR5cGVzXzEuZGVzZXJpYWxpemVBZGRyZXNzKShieXRlc1JlYWRlcik7XG4gICAgICAgICAgICBjb25zdCBjb250cmFjdENhbGxOYW1lID0gKDAsIHR5cGVzXzEuZGVzZXJpYWxpemVMUFN0cmluZykoYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25OYW1lID0gKDAsIHR5cGVzXzEuZGVzZXJpYWxpemVMUFN0cmluZykoYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25BcmdzID0gW107XG4gICAgICAgICAgICBjb25zdCBudW1iZXJPZkFyZ3MgPSBieXRlc1JlYWRlci5yZWFkVUludDMyQkUoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZBcmdzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFyaXR5VmFsdWUgPSAoMCwgY2xhcml0eV8xLmRlc2VyaWFsaXplQ1YpKGJ5dGVzUmVhZGVyKTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbkFyZ3MucHVzaChjbGFyaXR5VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbnRyYWN0Q2FsbFBheWxvYWQoY29udHJhY3RBZGRyZXNzLCBjb250cmFjdENhbGxOYW1lLCBmdW5jdGlvbk5hbWUsIGZ1bmN0aW9uQXJncyk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuU21hcnRDb250cmFjdDpcbiAgICAgICAgICAgIGNvbnN0IHNtYXJ0Q29udHJhY3ROYW1lID0gKDAsIHR5cGVzXzEuZGVzZXJpYWxpemVMUFN0cmluZykoYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgY29uc3QgY29kZUJvZHkgPSAoMCwgdHlwZXNfMS5kZXNlcmlhbGl6ZUxQU3RyaW5nKShieXRlc1JlYWRlciwgNCwgMTAwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVTbWFydENvbnRyYWN0UGF5bG9hZChzbWFydENvbnRyYWN0TmFtZSwgY29kZUJvZHkpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlZlcnNpb25lZFNtYXJ0Q29udHJhY3Q6IHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXJpdHlWZXJzaW9uID0gYnl0ZXNSZWFkZXIucmVhZFVJbnQ4RW51bShjb25zdGFudHNfMS5DbGFyaXR5VmVyc2lvbiwgbiA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVjb2duaXplIENsYXJpdHlWZXJzaW9uOiAke259YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNtYXJ0Q29udHJhY3ROYW1lID0gKDAsIHR5cGVzXzEuZGVzZXJpYWxpemVMUFN0cmluZykoYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgY29uc3QgY29kZUJvZHkgPSAoMCwgdHlwZXNfMS5kZXNlcmlhbGl6ZUxQU3RyaW5nKShieXRlc1JlYWRlciwgNCwgMTAwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVTbWFydENvbnRyYWN0UGF5bG9hZChzbWFydENvbnRyYWN0TmFtZSwgY29kZUJvZHksIGNsYXJpdHlWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlBvaXNvbk1pY3JvYmxvY2s6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUG9pc29uUGF5bG9hZCgpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLkNvaW5iYXNlOlxuICAgICAgICAgICAgY29uc3QgY29pbmJhc2VCeXRlcyA9IGJ5dGVzUmVhZGVyLnJlYWRCeXRlcyhjb25zdGFudHNfMS5DT0lOQkFTRV9CWVRFU19MRU5HVEgpO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvaW5iYXNlUGF5bG9hZChjb2luYmFzZUJ5dGVzKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Db2luYmFzZVRvQWx0UmVjaXBpZW50OlxuICAgICAgICAgICAgY29uc3QgY29pbmJhc2VUb0FsdFJlY2lwaWVudEJ1ZmZlciA9IGJ5dGVzUmVhZGVyLnJlYWRCeXRlcyhjb25zdGFudHNfMS5DT0lOQkFTRV9CWVRFU19MRU5HVEgpO1xuICAgICAgICAgICAgY29uc3QgYWx0UmVjaXBpZW50ID0gKDAsIGNsYXJpdHlfMS5kZXNlcmlhbGl6ZUNWKShieXRlc1JlYWRlcik7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29pbmJhc2VQYXlsb2FkKGNvaW5iYXNlVG9BbHRSZWNpcGllbnRCdWZmZXIsIGFsdFJlY2lwaWVudCk7XG4gICAgfVxufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZVBheWxvYWQgPSBkZXNlcmlhbGl6ZVBheWxvYWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXlsb2FkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/payload.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/pc.js":
/*!******************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/pc.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.principal = void 0;\nconst builders_1 = __webpack_require__(/*! ./builders */ \"(ssr)/./node_modules/@stacks/transactions/dist/builders.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst postcondition_types_1 = __webpack_require__(/*! ./postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\");\nfunction principal(principal) {\n    if (isContractIdString(principal)) {\n        const [address, name] = parseContractId(principal);\n        return new PartialPcWithPrincipal(address, name);\n    }\n    return new PartialPcWithPrincipal(principal, undefined);\n}\nexports.principal = principal;\nclass PartialPcWithPrincipal {\n    constructor(address, contractName) {\n        this.address = address;\n        this.contractName = contractName;\n    }\n    willSendEq(amount) {\n        return new PartialPcFtWithCode(this.address, amount, constants_1.FungibleConditionCode.Equal, this.contractName);\n    }\n    willSendLte(amount) {\n        return new PartialPcFtWithCode(this.address, amount, constants_1.FungibleConditionCode.LessEqual, this.contractName);\n    }\n    willSendLt(amount) {\n        return new PartialPcFtWithCode(this.address, amount, constants_1.FungibleConditionCode.Less, this.contractName);\n    }\n    willSendGte(amount) {\n        return new PartialPcFtWithCode(this.address, amount, constants_1.FungibleConditionCode.GreaterEqual, this.contractName);\n    }\n    willSendGt(amount) {\n        return new PartialPcFtWithCode(this.address, amount, constants_1.FungibleConditionCode.Greater, this.contractName);\n    }\n    willSendAsset() {\n        return new PartialPcNftWithCode(this.address, constants_1.NonFungibleConditionCode.Sends, this.contractName);\n    }\n    willNotSendAsset() {\n        return new PartialPcNftWithCode(this.address, constants_1.NonFungibleConditionCode.DoesNotSend, this.contractName);\n    }\n}\nclass PartialPcFtWithCode {\n    constructor(address, amount, code, contractName) {\n        this.address = address;\n        this.amount = amount;\n        this.code = code;\n        this.contractName = contractName;\n    }\n    ustx() {\n        if (this.contractName) {\n            return (0, builders_1.makeContractSTXPostCondition)(this.address, this.contractName, this.code, this.amount);\n        }\n        return (0, builders_1.makeStandardSTXPostCondition)(this.address, this.code, this.amount);\n    }\n    ft(contractId, tokenName) {\n        const [address, name] = parseContractId(contractId);\n        if (this.contractName) {\n            return (0, builders_1.makeContractFungiblePostCondition)(this.address, this.contractName, this.code, this.amount, (0, postcondition_types_1.createAssetInfo)(address, name, tokenName));\n        }\n        return (0, builders_1.makeStandardFungiblePostCondition)(this.address, this.code, this.amount, (0, postcondition_types_1.createAssetInfo)(address, name, tokenName));\n    }\n}\nclass PartialPcNftWithCode {\n    constructor(principal, code, contractName) {\n        this.principal = principal;\n        this.code = code;\n        this.contractName = contractName;\n    }\n    nft(...args) {\n        const { contractAddress, contractName, tokenName, assetId } = getNftArgs(...args);\n        if (this.contractName) {\n            return (0, builders_1.makeContractNonFungiblePostCondition)(this.principal, this.contractName, this.code, (0, postcondition_types_1.createAssetInfo)(contractAddress, contractName, tokenName), assetId);\n        }\n        return (0, builders_1.makeStandardNonFungiblePostCondition)(this.principal, this.code, (0, postcondition_types_1.createAssetInfo)(contractAddress, contractName, tokenName), assetId);\n    }\n}\nfunction parseContractId(contractId) {\n    const [address, name] = contractId.split('.');\n    if (!address || !name)\n        throw new Error(`Invalid contract identifier: ${contractId}`);\n    return [address, name];\n}\nfunction parseNft(nftAssetName) {\n    const [principal, tokenName] = nftAssetName.split('::');\n    if (!principal || !tokenName)\n        throw new Error(`Invalid fully-qualified nft asset name: ${nftAssetName}`);\n    const [address, name] = parseContractId(principal);\n    return { contractAddress: address, contractName: name, tokenName };\n}\nfunction isContractIdString(value) {\n    return value.includes('.');\n}\nfunction getNftArgs(...args) {\n    if (args.length === 2) {\n        const [assetName, assetId] = args;\n        return { ...parseNft(assetName), assetId };\n    }\n    const [contractId, tokenName, assetId] = args;\n    const [address, name] = parseContractId(contractId);\n    return { contractAddress: address, contractName: name, tokenName, assetId };\n}\n//# sourceMappingURL=pc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9wYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsbUJBQW1CLG1CQUFPLENBQUMsOEVBQVk7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsZ0ZBQWE7QUFDekMsOEJBQThCLG1CQUFPLENBQUMsb0dBQXVCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9EQUFvRDtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsV0FBVztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGFBQWE7QUFDaEY7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9wYy5qcz9hYWU0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wcmluY2lwYWwgPSB2b2lkIDA7XG5jb25zdCBidWlsZGVyc18xID0gcmVxdWlyZShcIi4vYnVpbGRlcnNcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHBvc3Rjb25kaXRpb25fdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3Bvc3Rjb25kaXRpb24tdHlwZXNcIik7XG5mdW5jdGlvbiBwcmluY2lwYWwocHJpbmNpcGFsKSB7XG4gICAgaWYgKGlzQ29udHJhY3RJZFN0cmluZyhwcmluY2lwYWwpKSB7XG4gICAgICAgIGNvbnN0IFthZGRyZXNzLCBuYW1lXSA9IHBhcnNlQ29udHJhY3RJZChwcmluY2lwYWwpO1xuICAgICAgICByZXR1cm4gbmV3IFBhcnRpYWxQY1dpdGhQcmluY2lwYWwoYWRkcmVzcywgbmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUGFydGlhbFBjV2l0aFByaW5jaXBhbChwcmluY2lwYWwsIHVuZGVmaW5lZCk7XG59XG5leHBvcnRzLnByaW5jaXBhbCA9IHByaW5jaXBhbDtcbmNsYXNzIFBhcnRpYWxQY1dpdGhQcmluY2lwYWwge1xuICAgIGNvbnN0cnVjdG9yKGFkZHJlc3MsIGNvbnRyYWN0TmFtZSkge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLmNvbnRyYWN0TmFtZSA9IGNvbnRyYWN0TmFtZTtcbiAgICB9XG4gICAgd2lsbFNlbmRFcShhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWFsUGNGdFdpdGhDb2RlKHRoaXMuYWRkcmVzcywgYW1vdW50LCBjb25zdGFudHNfMS5GdW5naWJsZUNvbmRpdGlvbkNvZGUuRXF1YWwsIHRoaXMuY29udHJhY3ROYW1lKTtcbiAgICB9XG4gICAgd2lsbFNlbmRMdGUoYW1vdW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFydGlhbFBjRnRXaXRoQ29kZSh0aGlzLmFkZHJlc3MsIGFtb3VudCwgY29uc3RhbnRzXzEuRnVuZ2libGVDb25kaXRpb25Db2RlLkxlc3NFcXVhbCwgdGhpcy5jb250cmFjdE5hbWUpO1xuICAgIH1cbiAgICB3aWxsU2VuZEx0KGFtb3VudCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcnRpYWxQY0Z0V2l0aENvZGUodGhpcy5hZGRyZXNzLCBhbW91bnQsIGNvbnN0YW50c18xLkZ1bmdpYmxlQ29uZGl0aW9uQ29kZS5MZXNzLCB0aGlzLmNvbnRyYWN0TmFtZSk7XG4gICAgfVxuICAgIHdpbGxTZW5kR3RlKGFtb3VudCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcnRpYWxQY0Z0V2l0aENvZGUodGhpcy5hZGRyZXNzLCBhbW91bnQsIGNvbnN0YW50c18xLkZ1bmdpYmxlQ29uZGl0aW9uQ29kZS5HcmVhdGVyRXF1YWwsIHRoaXMuY29udHJhY3ROYW1lKTtcbiAgICB9XG4gICAgd2lsbFNlbmRHdChhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWFsUGNGdFdpdGhDb2RlKHRoaXMuYWRkcmVzcywgYW1vdW50LCBjb25zdGFudHNfMS5GdW5naWJsZUNvbmRpdGlvbkNvZGUuR3JlYXRlciwgdGhpcy5jb250cmFjdE5hbWUpO1xuICAgIH1cbiAgICB3aWxsU2VuZEFzc2V0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcnRpYWxQY05mdFdpdGhDb2RlKHRoaXMuYWRkcmVzcywgY29uc3RhbnRzXzEuTm9uRnVuZ2libGVDb25kaXRpb25Db2RlLlNlbmRzLCB0aGlzLmNvbnRyYWN0TmFtZSk7XG4gICAgfVxuICAgIHdpbGxOb3RTZW5kQXNzZXQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFydGlhbFBjTmZ0V2l0aENvZGUodGhpcy5hZGRyZXNzLCBjb25zdGFudHNfMS5Ob25GdW5naWJsZUNvbmRpdGlvbkNvZGUuRG9lc05vdFNlbmQsIHRoaXMuY29udHJhY3ROYW1lKTtcbiAgICB9XG59XG5jbGFzcyBQYXJ0aWFsUGNGdFdpdGhDb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBhbW91bnQsIGNvZGUsIGNvbnRyYWN0TmFtZSkge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLmFtb3VudCA9IGFtb3VudDtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgdGhpcy5jb250cmFjdE5hbWUgPSBjb250cmFjdE5hbWU7XG4gICAgfVxuICAgIHVzdHgoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyYWN0TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBidWlsZGVyc18xLm1ha2VDb250cmFjdFNUWFBvc3RDb25kaXRpb24pKHRoaXMuYWRkcmVzcywgdGhpcy5jb250cmFjdE5hbWUsIHRoaXMuY29kZSwgdGhpcy5hbW91bnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgYnVpbGRlcnNfMS5tYWtlU3RhbmRhcmRTVFhQb3N0Q29uZGl0aW9uKSh0aGlzLmFkZHJlc3MsIHRoaXMuY29kZSwgdGhpcy5hbW91bnQpO1xuICAgIH1cbiAgICBmdChjb250cmFjdElkLCB0b2tlbk5hbWUpIHtcbiAgICAgICAgY29uc3QgW2FkZHJlc3MsIG5hbWVdID0gcGFyc2VDb250cmFjdElkKGNvbnRyYWN0SWQpO1xuICAgICAgICBpZiAodGhpcy5jb250cmFjdE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgYnVpbGRlcnNfMS5tYWtlQ29udHJhY3RGdW5naWJsZVBvc3RDb25kaXRpb24pKHRoaXMuYWRkcmVzcywgdGhpcy5jb250cmFjdE5hbWUsIHRoaXMuY29kZSwgdGhpcy5hbW91bnQsICgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEuY3JlYXRlQXNzZXRJbmZvKShhZGRyZXNzLCBuYW1lLCB0b2tlbk5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIGJ1aWxkZXJzXzEubWFrZVN0YW5kYXJkRnVuZ2libGVQb3N0Q29uZGl0aW9uKSh0aGlzLmFkZHJlc3MsIHRoaXMuY29kZSwgdGhpcy5hbW91bnQsICgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEuY3JlYXRlQXNzZXRJbmZvKShhZGRyZXNzLCBuYW1lLCB0b2tlbk5hbWUpKTtcbiAgICB9XG59XG5jbGFzcyBQYXJ0aWFsUGNOZnRXaXRoQ29kZSB7XG4gICAgY29uc3RydWN0b3IocHJpbmNpcGFsLCBjb2RlLCBjb250cmFjdE5hbWUpIHtcbiAgICAgICAgdGhpcy5wcmluY2lwYWwgPSBwcmluY2lwYWw7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMuY29udHJhY3ROYW1lID0gY29udHJhY3ROYW1lO1xuICAgIH1cbiAgICBuZnQoLi4uYXJncykge1xuICAgICAgICBjb25zdCB7IGNvbnRyYWN0QWRkcmVzcywgY29udHJhY3ROYW1lLCB0b2tlbk5hbWUsIGFzc2V0SWQgfSA9IGdldE5mdEFyZ3MoLi4uYXJncyk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyYWN0TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBidWlsZGVyc18xLm1ha2VDb250cmFjdE5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbikodGhpcy5wcmluY2lwYWwsIHRoaXMuY29udHJhY3ROYW1lLCB0aGlzLmNvZGUsICgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEuY3JlYXRlQXNzZXRJbmZvKShjb250cmFjdEFkZHJlc3MsIGNvbnRyYWN0TmFtZSwgdG9rZW5OYW1lKSwgYXNzZXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBidWlsZGVyc18xLm1ha2VTdGFuZGFyZE5vbkZ1bmdpYmxlUG9zdENvbmRpdGlvbikodGhpcy5wcmluY2lwYWwsIHRoaXMuY29kZSwgKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVBc3NldEluZm8pKGNvbnRyYWN0QWRkcmVzcywgY29udHJhY3ROYW1lLCB0b2tlbk5hbWUpLCBhc3NldElkKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZUNvbnRyYWN0SWQoY29udHJhY3RJZCkge1xuICAgIGNvbnN0IFthZGRyZXNzLCBuYW1lXSA9IGNvbnRyYWN0SWQuc3BsaXQoJy4nKTtcbiAgICBpZiAoIWFkZHJlc3MgfHwgIW5hbWUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb250cmFjdCBpZGVudGlmaWVyOiAke2NvbnRyYWN0SWR9YCk7XG4gICAgcmV0dXJuIFthZGRyZXNzLCBuYW1lXTtcbn1cbmZ1bmN0aW9uIHBhcnNlTmZ0KG5mdEFzc2V0TmFtZSkge1xuICAgIGNvbnN0IFtwcmluY2lwYWwsIHRva2VuTmFtZV0gPSBuZnRBc3NldE5hbWUuc3BsaXQoJzo6Jyk7XG4gICAgaWYgKCFwcmluY2lwYWwgfHwgIXRva2VuTmFtZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZ1bGx5LXF1YWxpZmllZCBuZnQgYXNzZXQgbmFtZTogJHtuZnRBc3NldE5hbWV9YCk7XG4gICAgY29uc3QgW2FkZHJlc3MsIG5hbWVdID0gcGFyc2VDb250cmFjdElkKHByaW5jaXBhbCk7XG4gICAgcmV0dXJuIHsgY29udHJhY3RBZGRyZXNzOiBhZGRyZXNzLCBjb250cmFjdE5hbWU6IG5hbWUsIHRva2VuTmFtZSB9O1xufVxuZnVuY3Rpb24gaXNDb250cmFjdElkU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmluY2x1ZGVzKCcuJyk7XG59XG5mdW5jdGlvbiBnZXROZnRBcmdzKC4uLmFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgY29uc3QgW2Fzc2V0TmFtZSwgYXNzZXRJZF0gPSBhcmdzO1xuICAgICAgICByZXR1cm4geyAuLi5wYXJzZU5mdChhc3NldE5hbWUpLCBhc3NldElkIH07XG4gICAgfVxuICAgIGNvbnN0IFtjb250cmFjdElkLCB0b2tlbk5hbWUsIGFzc2V0SWRdID0gYXJncztcbiAgICBjb25zdCBbYWRkcmVzcywgbmFtZV0gPSBwYXJzZUNvbnRyYWN0SWQoY29udHJhY3RJZCk7XG4gICAgcmV0dXJuIHsgY29udHJhY3RBZGRyZXNzOiBhZGRyZXNzLCBjb250cmFjdE5hbWU6IG5hbWUsIHRva2VuTmFtZSwgYXNzZXRJZCB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/pc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/postcondition-types.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createStandardPrincipal = exports.createContractPrincipal = exports.parsePrincipalString = exports.createAddress = exports.createAssetInfo = exports.createLPString = exports.parseAssetInfoString = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst c32check_1 = __webpack_require__(/*! c32check */ \"(ssr)/./node_modules/c32check/lib/index.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nfunction parseAssetInfoString(id) {\n    const [assetAddress, assetContractName, assetTokenName] = id.split(/\\.|::/);\n    const assetInfo = createAssetInfo(assetAddress, assetContractName, assetTokenName);\n    return assetInfo;\n}\nexports.parseAssetInfoString = parseAssetInfoString;\nfunction createLPString(content, lengthPrefixBytes, maxLengthBytes) {\n    const prefixLength = lengthPrefixBytes || 1;\n    const maxLength = maxLengthBytes || constants_1.MAX_STRING_LENGTH_BYTES;\n    if ((0, utils_1.exceedsMaxLengthBytes)(content, maxLength)) {\n        throw new Error(`String length exceeds maximum bytes ${maxLength}`);\n    }\n    return {\n        type: constants_1.StacksMessageType.LengthPrefixedString,\n        content,\n        lengthPrefixBytes: prefixLength,\n        maxLengthBytes: maxLength,\n    };\n}\nexports.createLPString = createLPString;\nfunction createAssetInfo(addressString, contractName, assetName) {\n    return {\n        type: constants_1.StacksMessageType.AssetInfo,\n        address: createAddress(addressString),\n        contractName: createLPString(contractName),\n        assetName: createLPString(assetName),\n    };\n}\nexports.createAssetInfo = createAssetInfo;\nfunction createAddress(c32AddressString) {\n    const addressData = (0, c32check_1.c32addressDecode)(c32AddressString);\n    return {\n        type: constants_1.StacksMessageType.Address,\n        version: addressData[0],\n        hash160: addressData[1],\n    };\n}\nexports.createAddress = createAddress;\nfunction parsePrincipalString(principalString) {\n    if (principalString.includes('.')) {\n        const [address, contractName] = principalString.split('.');\n        return createContractPrincipal(address, contractName);\n    }\n    else {\n        return createStandardPrincipal(principalString);\n    }\n}\nexports.parsePrincipalString = parsePrincipalString;\nfunction createContractPrincipal(addressString, contractName) {\n    const addr = createAddress(addressString);\n    const name = createLPString(contractName);\n    return {\n        type: constants_1.StacksMessageType.Principal,\n        prefix: constants_1.PostConditionPrincipalID.Contract,\n        address: addr,\n        contractName: name,\n    };\n}\nexports.createContractPrincipal = createContractPrincipal;\nfunction createStandardPrincipal(addressString) {\n    const addr = createAddress(addressString);\n    return {\n        type: constants_1.StacksMessageType.Principal,\n        prefix: constants_1.PostConditionPrincipalID.Standard,\n        address: addr,\n    };\n}\nexports.createStandardPrincipal = createStandardPrincipal;\n//# sourceMappingURL=postcondition-types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9wb3N0Y29uZGl0aW9uLXR5cGVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQixHQUFHLCtCQUErQixHQUFHLDRCQUE0QixHQUFHLHFCQUFxQixHQUFHLHVCQUF1QixHQUFHLHNCQUFzQixHQUFHLDRCQUE0QjtBQUMxTSxvQkFBb0IsbUJBQU8sQ0FBQyxnRkFBYTtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQyw0REFBVTtBQUNyQyxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFVBQVU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9wb3N0Y29uZGl0aW9uLXR5cGVzLmpzPzNkM2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZVN0YW5kYXJkUHJpbmNpcGFsID0gZXhwb3J0cy5jcmVhdGVDb250cmFjdFByaW5jaXBhbCA9IGV4cG9ydHMucGFyc2VQcmluY2lwYWxTdHJpbmcgPSBleHBvcnRzLmNyZWF0ZUFkZHJlc3MgPSBleHBvcnRzLmNyZWF0ZUFzc2V0SW5mbyA9IGV4cG9ydHMuY3JlYXRlTFBTdHJpbmcgPSBleHBvcnRzLnBhcnNlQXNzZXRJbmZvU3RyaW5nID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBjMzJjaGVja18xID0gcmVxdWlyZShcImMzMmNoZWNrXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuZnVuY3Rpb24gcGFyc2VBc3NldEluZm9TdHJpbmcoaWQpIHtcbiAgICBjb25zdCBbYXNzZXRBZGRyZXNzLCBhc3NldENvbnRyYWN0TmFtZSwgYXNzZXRUb2tlbk5hbWVdID0gaWQuc3BsaXQoL1xcLnw6Oi8pO1xuICAgIGNvbnN0IGFzc2V0SW5mbyA9IGNyZWF0ZUFzc2V0SW5mbyhhc3NldEFkZHJlc3MsIGFzc2V0Q29udHJhY3ROYW1lLCBhc3NldFRva2VuTmFtZSk7XG4gICAgcmV0dXJuIGFzc2V0SW5mbztcbn1cbmV4cG9ydHMucGFyc2VBc3NldEluZm9TdHJpbmcgPSBwYXJzZUFzc2V0SW5mb1N0cmluZztcbmZ1bmN0aW9uIGNyZWF0ZUxQU3RyaW5nKGNvbnRlbnQsIGxlbmd0aFByZWZpeEJ5dGVzLCBtYXhMZW5ndGhCeXRlcykge1xuICAgIGNvbnN0IHByZWZpeExlbmd0aCA9IGxlbmd0aFByZWZpeEJ5dGVzIHx8IDE7XG4gICAgY29uc3QgbWF4TGVuZ3RoID0gbWF4TGVuZ3RoQnl0ZXMgfHwgY29uc3RhbnRzXzEuTUFYX1NUUklOR19MRU5HVEhfQllURVM7XG4gICAgaWYgKCgwLCB1dGlsc18xLmV4Y2VlZHNNYXhMZW5ndGhCeXRlcykoY29udGVudCwgbWF4TGVuZ3RoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmluZyBsZW5ndGggZXhjZWVkcyBtYXhpbXVtIGJ5dGVzICR7bWF4TGVuZ3RofWApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5MZW5ndGhQcmVmaXhlZFN0cmluZyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgbGVuZ3RoUHJlZml4Qnl0ZXM6IHByZWZpeExlbmd0aCxcbiAgICAgICAgbWF4TGVuZ3RoQnl0ZXM6IG1heExlbmd0aCxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVMUFN0cmluZyA9IGNyZWF0ZUxQU3RyaW5nO1xuZnVuY3Rpb24gY3JlYXRlQXNzZXRJbmZvKGFkZHJlc3NTdHJpbmcsIGNvbnRyYWN0TmFtZSwgYXNzZXROYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuQXNzZXRJbmZvLFxuICAgICAgICBhZGRyZXNzOiBjcmVhdGVBZGRyZXNzKGFkZHJlc3NTdHJpbmcpLFxuICAgICAgICBjb250cmFjdE5hbWU6IGNyZWF0ZUxQU3RyaW5nKGNvbnRyYWN0TmFtZSksXG4gICAgICAgIGFzc2V0TmFtZTogY3JlYXRlTFBTdHJpbmcoYXNzZXROYW1lKSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVBc3NldEluZm8gPSBjcmVhdGVBc3NldEluZm87XG5mdW5jdGlvbiBjcmVhdGVBZGRyZXNzKGMzMkFkZHJlc3NTdHJpbmcpIHtcbiAgICBjb25zdCBhZGRyZXNzRGF0YSA9ICgwLCBjMzJjaGVja18xLmMzMmFkZHJlc3NEZWNvZGUpKGMzMkFkZHJlc3NTdHJpbmcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLkFkZHJlc3MsXG4gICAgICAgIHZlcnNpb246IGFkZHJlc3NEYXRhWzBdLFxuICAgICAgICBoYXNoMTYwOiBhZGRyZXNzRGF0YVsxXSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVBZGRyZXNzID0gY3JlYXRlQWRkcmVzcztcbmZ1bmN0aW9uIHBhcnNlUHJpbmNpcGFsU3RyaW5nKHByaW5jaXBhbFN0cmluZykge1xuICAgIGlmIChwcmluY2lwYWxTdHJpbmcuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgICBjb25zdCBbYWRkcmVzcywgY29udHJhY3ROYW1lXSA9IHByaW5jaXBhbFN0cmluZy5zcGxpdCgnLicpO1xuICAgICAgICByZXR1cm4gY3JlYXRlQ29udHJhY3RQcmluY2lwYWwoYWRkcmVzcywgY29udHJhY3ROYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVTdGFuZGFyZFByaW5jaXBhbChwcmluY2lwYWxTdHJpbmcpO1xuICAgIH1cbn1cbmV4cG9ydHMucGFyc2VQcmluY2lwYWxTdHJpbmcgPSBwYXJzZVByaW5jaXBhbFN0cmluZztcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRyYWN0UHJpbmNpcGFsKGFkZHJlc3NTdHJpbmcsIGNvbnRyYWN0TmFtZSkge1xuICAgIGNvbnN0IGFkZHIgPSBjcmVhdGVBZGRyZXNzKGFkZHJlc3NTdHJpbmcpO1xuICAgIGNvbnN0IG5hbWUgPSBjcmVhdGVMUFN0cmluZyhjb250cmFjdE5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLlByaW5jaXBhbCxcbiAgICAgICAgcHJlZml4OiBjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uUHJpbmNpcGFsSUQuQ29udHJhY3QsXG4gICAgICAgIGFkZHJlc3M6IGFkZHIsXG4gICAgICAgIGNvbnRyYWN0TmFtZTogbmFtZSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVDb250cmFjdFByaW5jaXBhbCA9IGNyZWF0ZUNvbnRyYWN0UHJpbmNpcGFsO1xuZnVuY3Rpb24gY3JlYXRlU3RhbmRhcmRQcmluY2lwYWwoYWRkcmVzc1N0cmluZykge1xuICAgIGNvbnN0IGFkZHIgPSBjcmVhdGVBZGRyZXNzKGFkZHJlc3NTdHJpbmcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLlByaW5jaXBhbCxcbiAgICAgICAgcHJlZml4OiBjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uUHJpbmNpcGFsSUQuU3RhbmRhcmQsXG4gICAgICAgIGFkZHJlc3M6IGFkZHIsXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlU3RhbmRhcmRQcmluY2lwYWwgPSBjcmVhdGVTdGFuZGFyZFByaW5jaXBhbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvc3Rjb25kaXRpb24tdHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/postcondition.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/postcondition.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createNonFungiblePostCondition = exports.createFungiblePostCondition = exports.createSTXPostCondition = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst postcondition_types_1 = __webpack_require__(/*! ./postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\");\nfunction createSTXPostCondition(principal, conditionCode, amount) {\n    if (typeof principal === 'string') {\n        principal = (0, postcondition_types_1.parsePrincipalString)(principal);\n    }\n    return {\n        type: constants_1.StacksMessageType.PostCondition,\n        conditionType: constants_1.PostConditionType.STX,\n        principal,\n        conditionCode,\n        amount: (0, common_1.intToBigInt)(amount, false),\n    };\n}\nexports.createSTXPostCondition = createSTXPostCondition;\nfunction createFungiblePostCondition(principal, conditionCode, amount, assetInfo) {\n    if (typeof principal === 'string') {\n        principal = (0, postcondition_types_1.parsePrincipalString)(principal);\n    }\n    if (typeof assetInfo === 'string') {\n        assetInfo = (0, postcondition_types_1.parseAssetInfoString)(assetInfo);\n    }\n    return {\n        type: constants_1.StacksMessageType.PostCondition,\n        conditionType: constants_1.PostConditionType.Fungible,\n        principal,\n        conditionCode,\n        amount: (0, common_1.intToBigInt)(amount, false),\n        assetInfo,\n    };\n}\nexports.createFungiblePostCondition = createFungiblePostCondition;\nfunction createNonFungiblePostCondition(principal, conditionCode, assetInfo, assetName) {\n    if (typeof principal === 'string') {\n        principal = (0, postcondition_types_1.parsePrincipalString)(principal);\n    }\n    if (typeof assetInfo === 'string') {\n        assetInfo = (0, postcondition_types_1.parseAssetInfoString)(assetInfo);\n    }\n    return {\n        type: constants_1.StacksMessageType.PostCondition,\n        conditionType: constants_1.PostConditionType.NonFungible,\n        principal,\n        conditionCode,\n        assetInfo,\n        assetName,\n    };\n}\nexports.createNonFungiblePostCondition = createNonFungiblePostCondition;\n//# sourceMappingURL=postcondition.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9wb3N0Y29uZGl0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNDQUFzQyxHQUFHLG1DQUFtQyxHQUFHLDhCQUE4QjtBQUM3RyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsZ0ZBQWE7QUFDekMsOEJBQThCLG1CQUFPLENBQUMsb0dBQXVCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L3Bvc3Rjb25kaXRpb24uanM/NTdjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlTm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uID0gZXhwb3J0cy5jcmVhdGVGdW5naWJsZVBvc3RDb25kaXRpb24gPSBleHBvcnRzLmNyZWF0ZVNUWFBvc3RDb25kaXRpb24gPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCJAc3RhY2tzL2NvbW1vblwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgcG9zdGNvbmRpdGlvbl90eXBlc18xID0gcmVxdWlyZShcIi4vcG9zdGNvbmRpdGlvbi10eXBlc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZVNUWFBvc3RDb25kaXRpb24ocHJpbmNpcGFsLCBjb25kaXRpb25Db2RlLCBhbW91bnQpIHtcbiAgICBpZiAodHlwZW9mIHByaW5jaXBhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcHJpbmNpcGFsID0gKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5wYXJzZVByaW5jaXBhbFN0cmluZykocHJpbmNpcGFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUG9zdENvbmRpdGlvbixcbiAgICAgICAgY29uZGl0aW9uVHlwZTogY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvblR5cGUuU1RYLFxuICAgICAgICBwcmluY2lwYWwsXG4gICAgICAgIGNvbmRpdGlvbkNvZGUsXG4gICAgICAgIGFtb3VudDogKDAsIGNvbW1vbl8xLmludFRvQmlnSW50KShhbW91bnQsIGZhbHNlKSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVTVFhQb3N0Q29uZGl0aW9uID0gY3JlYXRlU1RYUG9zdENvbmRpdGlvbjtcbmZ1bmN0aW9uIGNyZWF0ZUZ1bmdpYmxlUG9zdENvbmRpdGlvbihwcmluY2lwYWwsIGNvbmRpdGlvbkNvZGUsIGFtb3VudCwgYXNzZXRJbmZvKSB7XG4gICAgaWYgKHR5cGVvZiBwcmluY2lwYWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHByaW5jaXBhbCA9ICgwLCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEucGFyc2VQcmluY2lwYWxTdHJpbmcpKHByaW5jaXBhbCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXNzZXRJbmZvID09PSAnc3RyaW5nJykge1xuICAgICAgICBhc3NldEluZm8gPSAoMCwgcG9zdGNvbmRpdGlvbl90eXBlc18xLnBhcnNlQXNzZXRJbmZvU3RyaW5nKShhc3NldEluZm8pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Qb3N0Q29uZGl0aW9uLFxuICAgICAgICBjb25kaXRpb25UeXBlOiBjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uVHlwZS5GdW5naWJsZSxcbiAgICAgICAgcHJpbmNpcGFsLFxuICAgICAgICBjb25kaXRpb25Db2RlLFxuICAgICAgICBhbW91bnQ6ICgwLCBjb21tb25fMS5pbnRUb0JpZ0ludCkoYW1vdW50LCBmYWxzZSksXG4gICAgICAgIGFzc2V0SW5mbyxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVGdW5naWJsZVBvc3RDb25kaXRpb24gPSBjcmVhdGVGdW5naWJsZVBvc3RDb25kaXRpb247XG5mdW5jdGlvbiBjcmVhdGVOb25GdW5naWJsZVBvc3RDb25kaXRpb24ocHJpbmNpcGFsLCBjb25kaXRpb25Db2RlLCBhc3NldEluZm8sIGFzc2V0TmFtZSkge1xuICAgIGlmICh0eXBlb2YgcHJpbmNpcGFsID09PSAnc3RyaW5nJykge1xuICAgICAgICBwcmluY2lwYWwgPSAoMCwgcG9zdGNvbmRpdGlvbl90eXBlc18xLnBhcnNlUHJpbmNpcGFsU3RyaW5nKShwcmluY2lwYWwpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFzc2V0SW5mbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYXNzZXRJbmZvID0gKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5wYXJzZUFzc2V0SW5mb1N0cmluZykoYXNzZXRJbmZvKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUG9zdENvbmRpdGlvbixcbiAgICAgICAgY29uZGl0aW9uVHlwZTogY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvblR5cGUuTm9uRnVuZ2libGUsXG4gICAgICAgIHByaW5jaXBhbCxcbiAgICAgICAgY29uZGl0aW9uQ29kZSxcbiAgICAgICAgYXNzZXRJbmZvLFxuICAgICAgICBhc3NldE5hbWUsXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlTm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uID0gY3JlYXRlTm9uRnVuZ2libGVQb3N0Q29uZGl0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9zdGNvbmRpdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/postcondition.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/signature.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/signature.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.serializeTransactionAuthField = exports.serializeMessageSignature = exports.deserializeTransactionAuthField = exports.createTransactionAuthField = exports.deserializeMessageSignature = exports.AuthFieldType = void 0;\nconst errors_1 = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/transactions/dist/keys.js\");\nconst common_1 = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/@stacks/transactions/dist/common.js\");\nconst common_2 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nvar AuthFieldType;\n(function (AuthFieldType) {\n    AuthFieldType[AuthFieldType[\"PublicKeyCompressed\"] = 0] = \"PublicKeyCompressed\";\n    AuthFieldType[AuthFieldType[\"PublicKeyUncompressed\"] = 1] = \"PublicKeyUncompressed\";\n    AuthFieldType[AuthFieldType[\"SignatureCompressed\"] = 2] = \"SignatureCompressed\";\n    AuthFieldType[AuthFieldType[\"SignatureUncompressed\"] = 3] = \"SignatureUncompressed\";\n})(AuthFieldType || (exports.AuthFieldType = AuthFieldType = {}));\nfunction deserializeMessageSignature(bytesReader) {\n    return (0, common_1.createMessageSignature)((0, common_2.bytesToHex)(bytesReader.readBytes(constants_1.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)));\n}\nexports.deserializeMessageSignature = deserializeMessageSignature;\nfunction createTransactionAuthField(pubKeyEncoding, contents) {\n    return {\n        pubKeyEncoding,\n        type: constants_1.StacksMessageType.TransactionAuthField,\n        contents,\n    };\n}\nexports.createTransactionAuthField = createTransactionAuthField;\nfunction deserializeTransactionAuthField(bytesReader) {\n    const authFieldType = bytesReader.readUInt8Enum(AuthFieldType, n => {\n        throw new errors_1.DeserializationError(`Could not read ${n} as AuthFieldType`);\n    });\n    switch (authFieldType) {\n        case AuthFieldType.PublicKeyCompressed:\n            return createTransactionAuthField(constants_1.PubKeyEncoding.Compressed, (0, keys_1.deserializePublicKey)(bytesReader));\n        case AuthFieldType.PublicKeyUncompressed:\n            return createTransactionAuthField(constants_1.PubKeyEncoding.Uncompressed, (0, keys_1.deserializePublicKey)(bytesReader));\n        case AuthFieldType.SignatureCompressed:\n            return createTransactionAuthField(constants_1.PubKeyEncoding.Compressed, deserializeMessageSignature(bytesReader));\n        case AuthFieldType.SignatureUncompressed:\n            return createTransactionAuthField(constants_1.PubKeyEncoding.Uncompressed, deserializeMessageSignature(bytesReader));\n        default:\n            throw new Error(`Unknown auth field type: ${JSON.stringify(authFieldType)}`);\n    }\n}\nexports.deserializeTransactionAuthField = deserializeTransactionAuthField;\nfunction serializeMessageSignature(messageSignature) {\n    return (0, common_2.hexToBytes)(messageSignature.data);\n}\nexports.serializeMessageSignature = serializeMessageSignature;\nfunction serializeTransactionAuthField(field) {\n    const bytesArray = [];\n    switch (field.contents.type) {\n        case constants_1.StacksMessageType.PublicKey:\n            if (field.pubKeyEncoding == constants_1.PubKeyEncoding.Compressed) {\n                bytesArray.push(AuthFieldType.PublicKeyCompressed);\n                bytesArray.push((0, keys_1.serializePublicKey)(field.contents));\n            }\n            else {\n                bytesArray.push(AuthFieldType.PublicKeyUncompressed);\n                bytesArray.push((0, keys_1.serializePublicKey)((0, keys_1.compressPublicKey)(field.contents.data)));\n            }\n            break;\n        case constants_1.StacksMessageType.MessageSignature:\n            if (field.pubKeyEncoding == constants_1.PubKeyEncoding.Compressed) {\n                bytesArray.push(AuthFieldType.SignatureCompressed);\n            }\n            else {\n                bytesArray.push(AuthFieldType.SignatureUncompressed);\n            }\n            bytesArray.push(serializeMessageSignature(field.contents));\n            break;\n    }\n    return (0, common_2.concatArray)(bytesArray);\n}\nexports.serializeTransactionAuthField = serializeTransactionAuthField;\n//# sourceMappingURL=signature.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9zaWduYXR1cmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUNBQXFDLEdBQUcsaUNBQWlDLEdBQUcsdUNBQXVDLEdBQUcsa0NBQWtDLEdBQUcsbUNBQW1DLEdBQUcscUJBQXFCO0FBQ3ROLGlCQUFpQixtQkFBTyxDQUFDLDBFQUFVO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLGdGQUFhO0FBQ3pDLGVBQWUsbUJBQU8sQ0FBQyxzRUFBUTtBQUMvQixpQkFBaUIsbUJBQU8sQ0FBQywwRUFBVTtBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQkFBb0IscUJBQXFCLHFCQUFxQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLGtFQUFrRSxHQUFHO0FBQ3JFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw4QkFBOEI7QUFDdEY7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9zaWduYXR1cmUuanM/ZDUyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2VyaWFsaXplVHJhbnNhY3Rpb25BdXRoRmllbGQgPSBleHBvcnRzLnNlcmlhbGl6ZU1lc3NhZ2VTaWduYXR1cmUgPSBleHBvcnRzLmRlc2VyaWFsaXplVHJhbnNhY3Rpb25BdXRoRmllbGQgPSBleHBvcnRzLmNyZWF0ZVRyYW5zYWN0aW9uQXV0aEZpZWxkID0gZXhwb3J0cy5kZXNlcmlhbGl6ZU1lc3NhZ2VTaWduYXR1cmUgPSBleHBvcnRzLkF1dGhGaWVsZFR5cGUgPSB2b2lkIDA7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qga2V5c18xID0gcmVxdWlyZShcIi4va2V5c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4vY29tbW9uXCIpO1xuY29uc3QgY29tbW9uXzIgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG52YXIgQXV0aEZpZWxkVHlwZTtcbihmdW5jdGlvbiAoQXV0aEZpZWxkVHlwZSkge1xuICAgIEF1dGhGaWVsZFR5cGVbQXV0aEZpZWxkVHlwZVtcIlB1YmxpY0tleUNvbXByZXNzZWRcIl0gPSAwXSA9IFwiUHVibGljS2V5Q29tcHJlc3NlZFwiO1xuICAgIEF1dGhGaWVsZFR5cGVbQXV0aEZpZWxkVHlwZVtcIlB1YmxpY0tleVVuY29tcHJlc3NlZFwiXSA9IDFdID0gXCJQdWJsaWNLZXlVbmNvbXByZXNzZWRcIjtcbiAgICBBdXRoRmllbGRUeXBlW0F1dGhGaWVsZFR5cGVbXCJTaWduYXR1cmVDb21wcmVzc2VkXCJdID0gMl0gPSBcIlNpZ25hdHVyZUNvbXByZXNzZWRcIjtcbiAgICBBdXRoRmllbGRUeXBlW0F1dGhGaWVsZFR5cGVbXCJTaWduYXR1cmVVbmNvbXByZXNzZWRcIl0gPSAzXSA9IFwiU2lnbmF0dXJlVW5jb21wcmVzc2VkXCI7XG59KShBdXRoRmllbGRUeXBlIHx8IChleHBvcnRzLkF1dGhGaWVsZFR5cGUgPSBBdXRoRmllbGRUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplTWVzc2FnZVNpZ25hdHVyZShieXRlc1JlYWRlcikge1xuICAgIHJldHVybiAoMCwgY29tbW9uXzEuY3JlYXRlTWVzc2FnZVNpZ25hdHVyZSkoKDAsIGNvbW1vbl8yLmJ5dGVzVG9IZXgpKGJ5dGVzUmVhZGVyLnJlYWRCeXRlcyhjb25zdGFudHNfMS5SRUNPVkVSQUJMRV9FQ0RTQV9TSUdfTEVOR1RIX0JZVEVTKSkpO1xufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZU1lc3NhZ2VTaWduYXR1cmUgPSBkZXNlcmlhbGl6ZU1lc3NhZ2VTaWduYXR1cmU7XG5mdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbkF1dGhGaWVsZChwdWJLZXlFbmNvZGluZywgY29udGVudHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwdWJLZXlFbmNvZGluZyxcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuVHJhbnNhY3Rpb25BdXRoRmllbGQsXG4gICAgICAgIGNvbnRlbnRzLFxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZVRyYW5zYWN0aW9uQXV0aEZpZWxkID0gY3JlYXRlVHJhbnNhY3Rpb25BdXRoRmllbGQ7XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVRyYW5zYWN0aW9uQXV0aEZpZWxkKGJ5dGVzUmVhZGVyKSB7XG4gICAgY29uc3QgYXV0aEZpZWxkVHlwZSA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50OEVudW0oQXV0aEZpZWxkVHlwZSwgbiA9PiB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5EZXNlcmlhbGl6YXRpb25FcnJvcihgQ291bGQgbm90IHJlYWQgJHtufSBhcyBBdXRoRmllbGRUeXBlYCk7XG4gICAgfSk7XG4gICAgc3dpdGNoIChhdXRoRmllbGRUeXBlKSB7XG4gICAgICAgIGNhc2UgQXV0aEZpZWxkVHlwZS5QdWJsaWNLZXlDb21wcmVzc2VkOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVRyYW5zYWN0aW9uQXV0aEZpZWxkKGNvbnN0YW50c18xLlB1YktleUVuY29kaW5nLkNvbXByZXNzZWQsICgwLCBrZXlzXzEuZGVzZXJpYWxpemVQdWJsaWNLZXkpKGJ5dGVzUmVhZGVyKSk7XG4gICAgICAgIGNhc2UgQXV0aEZpZWxkVHlwZS5QdWJsaWNLZXlVbmNvbXByZXNzZWQ6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVHJhbnNhY3Rpb25BdXRoRmllbGQoY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuVW5jb21wcmVzc2VkLCAoMCwga2V5c18xLmRlc2VyaWFsaXplUHVibGljS2V5KShieXRlc1JlYWRlcikpO1xuICAgICAgICBjYXNlIEF1dGhGaWVsZFR5cGUuU2lnbmF0dXJlQ29tcHJlc3NlZDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2FjdGlvbkF1dGhGaWVsZChjb25zdGFudHNfMS5QdWJLZXlFbmNvZGluZy5Db21wcmVzc2VkLCBkZXNlcmlhbGl6ZU1lc3NhZ2VTaWduYXR1cmUoYnl0ZXNSZWFkZXIpKTtcbiAgICAgICAgY2FzZSBBdXRoRmllbGRUeXBlLlNpZ25hdHVyZVVuY29tcHJlc3NlZDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2FjdGlvbkF1dGhGaWVsZChjb25zdGFudHNfMS5QdWJLZXlFbmNvZGluZy5VbmNvbXByZXNzZWQsIGRlc2VyaWFsaXplTWVzc2FnZVNpZ25hdHVyZShieXRlc1JlYWRlcikpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGF1dGggZmllbGQgdHlwZTogJHtKU09OLnN0cmluZ2lmeShhdXRoRmllbGRUeXBlKX1gKTtcbiAgICB9XG59XG5leHBvcnRzLmRlc2VyaWFsaXplVHJhbnNhY3Rpb25BdXRoRmllbGQgPSBkZXNlcmlhbGl6ZVRyYW5zYWN0aW9uQXV0aEZpZWxkO1xuZnVuY3Rpb24gc2VyaWFsaXplTWVzc2FnZVNpZ25hdHVyZShtZXNzYWdlU2lnbmF0dXJlKSB7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMi5oZXhUb0J5dGVzKShtZXNzYWdlU2lnbmF0dXJlLmRhdGEpO1xufVxuZXhwb3J0cy5zZXJpYWxpemVNZXNzYWdlU2lnbmF0dXJlID0gc2VyaWFsaXplTWVzc2FnZVNpZ25hdHVyZTtcbmZ1bmN0aW9uIHNlcmlhbGl6ZVRyYW5zYWN0aW9uQXV0aEZpZWxkKGZpZWxkKSB7XG4gICAgY29uc3QgYnl0ZXNBcnJheSA9IFtdO1xuICAgIHN3aXRjaCAoZmllbGQuY29udGVudHMudHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLlB1YmxpY0tleTpcbiAgICAgICAgICAgIGlmIChmaWVsZC5wdWJLZXlFbmNvZGluZyA9PSBjb25zdGFudHNfMS5QdWJLZXlFbmNvZGluZy5Db21wcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKEF1dGhGaWVsZFR5cGUuUHVibGljS2V5Q29tcHJlc3NlZCk7XG4gICAgICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKCgwLCBrZXlzXzEuc2VyaWFsaXplUHVibGljS2V5KShmaWVsZC5jb250ZW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZXNBcnJheS5wdXNoKEF1dGhGaWVsZFR5cGUuUHVibGljS2V5VW5jb21wcmVzc2VkKTtcbiAgICAgICAgICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIGtleXNfMS5zZXJpYWxpemVQdWJsaWNLZXkpKCgwLCBrZXlzXzEuY29tcHJlc3NQdWJsaWNLZXkpKGZpZWxkLmNvbnRlbnRzLmRhdGEpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5NZXNzYWdlU2lnbmF0dXJlOlxuICAgICAgICAgICAgaWYgKGZpZWxkLnB1YktleUVuY29kaW5nID09IGNvbnN0YW50c18xLlB1YktleUVuY29kaW5nLkNvbXByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICBieXRlc0FycmF5LnB1c2goQXV0aEZpZWxkVHlwZS5TaWduYXR1cmVDb21wcmVzc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVzQXJyYXkucHVzaChBdXRoRmllbGRUeXBlLlNpZ25hdHVyZVVuY29tcHJlc3NlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlc0FycmF5LnB1c2goc2VyaWFsaXplTWVzc2FnZVNpZ25hdHVyZShmaWVsZC5jb250ZW50cykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiAoMCwgY29tbW9uXzIuY29uY2F0QXJyYXkpKGJ5dGVzQXJyYXkpO1xufVxuZXhwb3J0cy5zZXJpYWxpemVUcmFuc2FjdGlvbkF1dGhGaWVsZCA9IHNlcmlhbGl6ZVRyYW5zYWN0aW9uQXV0aEZpZWxkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbmF0dXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/signature.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/signer.js":
/*!**********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/signer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TransactionSigner = void 0;\nconst authorization_1 = __webpack_require__(/*! ./authorization */ \"(ssr)/./node_modules/@stacks/transactions/dist/authorization.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nclass TransactionSigner {\n    constructor(transaction) {\n        this.transaction = transaction;\n        this.sigHash = transaction.signBegin();\n        this.originDone = false;\n        this.checkOversign = true;\n        this.checkOverlap = true;\n        const spendingCondition = transaction.auth.spendingCondition;\n        if (spendingCondition && !(0, authorization_1.isSingleSig)(spendingCondition)) {\n            if (spendingCondition.fields.filter(field => field.contents.type === constants_1.StacksMessageType.MessageSignature).length >= spendingCondition.signaturesRequired) {\n                throw new Error('SpendingCondition has more signatures than are expected');\n            }\n            spendingCondition.fields.forEach(field => {\n                if (field.contents.type === constants_1.StacksMessageType.MessageSignature) {\n                    const signature = field.contents;\n                    const nextVerify = (0, authorization_1.nextVerification)(this.sigHash, transaction.auth.authType, spendingCondition.fee, spendingCondition.nonce, constants_1.PubKeyEncoding.Compressed, signature);\n                    this.sigHash = nextVerify.nextSigHash;\n                }\n            });\n        }\n    }\n    static createSponsorSigner(transaction, spendingCondition) {\n        if (transaction.auth.authType != constants_1.AuthType.Sponsored) {\n            throw new errors_1.SigningError('Cannot add sponsor to non-sponsored transaction');\n        }\n        const tx = (0, utils_1.cloneDeep)(transaction);\n        tx.setSponsor(spendingCondition);\n        const originSigHash = tx.verifyOrigin();\n        const signer = new this(tx);\n        signer.originDone = true;\n        signer.sigHash = originSigHash;\n        signer.checkOversign = true;\n        signer.checkOverlap = true;\n        return signer;\n    }\n    signOrigin(privateKey) {\n        if (this.checkOverlap && this.originDone) {\n            throw new errors_1.SigningError('Cannot sign origin after sponsor key');\n        }\n        if (this.transaction.auth === undefined) {\n            throw new errors_1.SigningError('\"transaction.auth\" is undefined');\n        }\n        if (this.transaction.auth.spendingCondition === undefined) {\n            throw new errors_1.SigningError('\"transaction.auth.spendingCondition\" is undefined');\n        }\n        if (!(0, authorization_1.isSingleSig)(this.transaction.auth.spendingCondition)) {\n            const spendingCondition = this.transaction.auth.spendingCondition;\n            if (this.checkOversign &&\n                spendingCondition.fields.filter(field => field.contents.type === constants_1.StacksMessageType.MessageSignature).length >= spendingCondition.signaturesRequired) {\n                throw new Error('Origin would have too many signatures');\n            }\n        }\n        const nextSighash = this.transaction.signNextOrigin(this.sigHash, privateKey);\n        this.sigHash = nextSighash;\n    }\n    appendOrigin(publicKey) {\n        if (this.checkOverlap && this.originDone) {\n            throw Error('Cannot append public key to origin after sponsor key');\n        }\n        if (this.transaction.auth === undefined) {\n            throw new Error('\"transaction.auth\" is undefined');\n        }\n        if (this.transaction.auth.spendingCondition === undefined) {\n            throw new Error('\"transaction.auth.spendingCondition\" is undefined');\n        }\n        this.transaction.appendPubkey(publicKey);\n    }\n    signSponsor(privateKey) {\n        if (this.transaction.auth === undefined) {\n            throw new errors_1.SigningError('\"transaction.auth\" is undefined');\n        }\n        if (this.transaction.auth.authType !== constants_1.AuthType.Sponsored) {\n            throw new errors_1.SigningError('\"transaction.auth.authType\" is not AuthType.Sponsored');\n        }\n        const nextSighash = this.transaction.signNextSponsor(this.sigHash, privateKey);\n        this.sigHash = nextSighash;\n        this.originDone = true;\n    }\n    getTxInComplete() {\n        return (0, utils_1.cloneDeep)(this.transaction);\n    }\n    resume(transaction) {\n        this.transaction = (0, utils_1.cloneDeep)(transaction);\n        this.sigHash = transaction.signBegin();\n    }\n}\nexports.TransactionSigner = TransactionSigner;\n//# sourceMappingURL=signer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9zaWduZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCLHdCQUF3QixtQkFBTyxDQUFDLHdGQUFpQjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBUztBQUNqQyxvQkFBb0IsbUJBQU8sQ0FBQyxnRkFBYTtBQUN6QyxpQkFBaUIsbUJBQU8sQ0FBQywwRUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9zaWduZXIuanM/ZTA2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHJhbnNhY3Rpb25TaWduZXIgPSB2b2lkIDA7XG5jb25zdCBhdXRob3JpemF0aW9uXzEgPSByZXF1aXJlKFwiLi9hdXRob3JpemF0aW9uXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbmNsYXNzIFRyYW5zYWN0aW9uU2lnbmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFuc2FjdGlvbikge1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb247XG4gICAgICAgIHRoaXMuc2lnSGFzaCA9IHRyYW5zYWN0aW9uLnNpZ25CZWdpbigpO1xuICAgICAgICB0aGlzLm9yaWdpbkRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGVja092ZXJzaWduID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGVja092ZXJsYXAgPSB0cnVlO1xuICAgICAgICBjb25zdCBzcGVuZGluZ0NvbmRpdGlvbiA9IHRyYW5zYWN0aW9uLmF1dGguc3BlbmRpbmdDb25kaXRpb247XG4gICAgICAgIGlmIChzcGVuZGluZ0NvbmRpdGlvbiAmJiAhKDAsIGF1dGhvcml6YXRpb25fMS5pc1NpbmdsZVNpZykoc3BlbmRpbmdDb25kaXRpb24pKSB7XG4gICAgICAgICAgICBpZiAoc3BlbmRpbmdDb25kaXRpb24uZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5jb250ZW50cy50eXBlID09PSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5NZXNzYWdlU2lnbmF0dXJlKS5sZW5ndGggPj0gc3BlbmRpbmdDb25kaXRpb24uc2lnbmF0dXJlc1JlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGVuZGluZ0NvbmRpdGlvbiBoYXMgbW9yZSBzaWduYXR1cmVzIHRoYW4gYXJlIGV4cGVjdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcGVuZGluZ0NvbmRpdGlvbi5maWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkLmNvbnRlbnRzLnR5cGUgPT09IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLk1lc3NhZ2VTaWduYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gZmllbGQuY29udGVudHM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRWZXJpZnkgPSAoMCwgYXV0aG9yaXphdGlvbl8xLm5leHRWZXJpZmljYXRpb24pKHRoaXMuc2lnSGFzaCwgdHJhbnNhY3Rpb24uYXV0aC5hdXRoVHlwZSwgc3BlbmRpbmdDb25kaXRpb24uZmVlLCBzcGVuZGluZ0NvbmRpdGlvbi5ub25jZSwgY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuQ29tcHJlc3NlZCwgc2lnbmF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWdIYXNoID0gbmV4dFZlcmlmeS5uZXh0U2lnSGFzaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlU3BvbnNvclNpZ25lcih0cmFuc2FjdGlvbiwgc3BlbmRpbmdDb25kaXRpb24pIHtcbiAgICAgICAgaWYgKHRyYW5zYWN0aW9uLmF1dGguYXV0aFR5cGUgIT0gY29uc3RhbnRzXzEuQXV0aFR5cGUuU3BvbnNvcmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuU2lnbmluZ0Vycm9yKCdDYW5ub3QgYWRkIHNwb25zb3IgdG8gbm9uLXNwb25zb3JlZCB0cmFuc2FjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR4ID0gKDAsIHV0aWxzXzEuY2xvbmVEZWVwKSh0cmFuc2FjdGlvbik7XG4gICAgICAgIHR4LnNldFNwb25zb3Ioc3BlbmRpbmdDb25kaXRpb24pO1xuICAgICAgICBjb25zdCBvcmlnaW5TaWdIYXNoID0gdHgudmVyaWZ5T3JpZ2luKCk7XG4gICAgICAgIGNvbnN0IHNpZ25lciA9IG5ldyB0aGlzKHR4KTtcbiAgICAgICAgc2lnbmVyLm9yaWdpbkRvbmUgPSB0cnVlO1xuICAgICAgICBzaWduZXIuc2lnSGFzaCA9IG9yaWdpblNpZ0hhc2g7XG4gICAgICAgIHNpZ25lci5jaGVja092ZXJzaWduID0gdHJ1ZTtcbiAgICAgICAgc2lnbmVyLmNoZWNrT3ZlcmxhcCA9IHRydWU7XG4gICAgICAgIHJldHVybiBzaWduZXI7XG4gICAgfVxuICAgIHNpZ25PcmlnaW4ocHJpdmF0ZUtleSkge1xuICAgICAgICBpZiAodGhpcy5jaGVja092ZXJsYXAgJiYgdGhpcy5vcmlnaW5Eb25lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuU2lnbmluZ0Vycm9yKCdDYW5ub3Qgc2lnbiBvcmlnaW4gYWZ0ZXIgc3BvbnNvciBrZXknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi5hdXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5TaWduaW5nRXJyb3IoJ1widHJhbnNhY3Rpb24uYXV0aFwiIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uLmF1dGguc3BlbmRpbmdDb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlNpZ25pbmdFcnJvcignXCJ0cmFuc2FjdGlvbi5hdXRoLnNwZW5kaW5nQ29uZGl0aW9uXCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoMCwgYXV0aG9yaXphdGlvbl8xLmlzU2luZ2xlU2lnKSh0aGlzLnRyYW5zYWN0aW9uLmF1dGguc3BlbmRpbmdDb25kaXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBzcGVuZGluZ0NvbmRpdGlvbiA9IHRoaXMudHJhbnNhY3Rpb24uYXV0aC5zcGVuZGluZ0NvbmRpdGlvbjtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrT3ZlcnNpZ24gJiZcbiAgICAgICAgICAgICAgICBzcGVuZGluZ0NvbmRpdGlvbi5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLmNvbnRlbnRzLnR5cGUgPT09IGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLk1lc3NhZ2VTaWduYXR1cmUpLmxlbmd0aCA+PSBzcGVuZGluZ0NvbmRpdGlvbi5zaWduYXR1cmVzUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09yaWdpbiB3b3VsZCBoYXZlIHRvbyBtYW55IHNpZ25hdHVyZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0U2lnaGFzaCA9IHRoaXMudHJhbnNhY3Rpb24uc2lnbk5leHRPcmlnaW4odGhpcy5zaWdIYXNoLCBwcml2YXRlS2V5KTtcbiAgICAgICAgdGhpcy5zaWdIYXNoID0gbmV4dFNpZ2hhc2g7XG4gICAgfVxuICAgIGFwcGVuZE9yaWdpbihwdWJsaWNLZXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tPdmVybGFwICYmIHRoaXMub3JpZ2luRG9uZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBhcHBlbmQgcHVibGljIGtleSB0byBvcmlnaW4gYWZ0ZXIgc3BvbnNvciBrZXknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi5hdXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0cmFuc2FjdGlvbi5hdXRoXCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24uYXV0aC5zcGVuZGluZ0NvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1widHJhbnNhY3Rpb24uYXV0aC5zcGVuZGluZ0NvbmRpdGlvblwiIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb24uYXBwZW5kUHVia2V5KHB1YmxpY0tleSk7XG4gICAgfVxuICAgIHNpZ25TcG9uc29yKHByaXZhdGVLZXkpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24uYXV0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuU2lnbmluZ0Vycm9yKCdcInRyYW5zYWN0aW9uLmF1dGhcIiBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi5hdXRoLmF1dGhUeXBlICE9PSBjb25zdGFudHNfMS5BdXRoVHlwZS5TcG9uc29yZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5TaWduaW5nRXJyb3IoJ1widHJhbnNhY3Rpb24uYXV0aC5hdXRoVHlwZVwiIGlzIG5vdCBBdXRoVHlwZS5TcG9uc29yZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0U2lnaGFzaCA9IHRoaXMudHJhbnNhY3Rpb24uc2lnbk5leHRTcG9uc29yKHRoaXMuc2lnSGFzaCwgcHJpdmF0ZUtleSk7XG4gICAgICAgIHRoaXMuc2lnSGFzaCA9IG5leHRTaWdoYXNoO1xuICAgICAgICB0aGlzLm9yaWdpbkRvbmUgPSB0cnVlO1xuICAgIH1cbiAgICBnZXRUeEluQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfMS5jbG9uZURlZXApKHRoaXMudHJhbnNhY3Rpb24pO1xuICAgIH1cbiAgICByZXN1bWUodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbiA9ICgwLCB1dGlsc18xLmNsb25lRGVlcCkodHJhbnNhY3Rpb24pO1xuICAgICAgICB0aGlzLnNpZ0hhc2ggPSB0cmFuc2FjdGlvbi5zaWduQmVnaW4oKTtcbiAgICB9XG59XG5leHBvcnRzLlRyYW5zYWN0aW9uU2lnbmVyID0gVHJhbnNhY3Rpb25TaWduZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaWduZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/signer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/structuredDataSignature.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/structuredDataSignature.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.signStructuredData = exports.decodeStructuredDataSignature = exports.encodeStructuredData = exports.hashStructuredData = exports.STRUCTURED_DATA_PREFIX = void 0;\nconst sha256_1 = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/sha256.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst clarity_1 = __webpack_require__(/*! ./clarity */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/transactions/dist/keys.js\");\nexports.STRUCTURED_DATA_PREFIX = new Uint8Array([0x53, 0x49, 0x50, 0x30, 0x31, 0x38]);\nfunction hashStructuredData(structuredData) {\n    return (0, sha256_1.sha256)((0, clarity_1.serializeCV)(structuredData));\n}\nexports.hashStructuredData = hashStructuredData;\nconst hash256BytesLength = 32;\nfunction isDomain(value) {\n    if (value.type !== clarity_1.ClarityType.Tuple)\n        return false;\n    if (!['name', 'version', 'chain-id'].every(key => key in value.data))\n        return false;\n    if (!['name', 'version'].every(key => value.data[key].type === clarity_1.ClarityType.StringASCII))\n        return false;\n    if (value.data['chain-id'].type !== clarity_1.ClarityType.UInt)\n        return false;\n    return true;\n}\nfunction encodeStructuredData({ message, domain, }) {\n    const structuredDataHash = hashStructuredData(message);\n    if (!isDomain(domain)) {\n        throw new Error(\"domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt\");\n    }\n    const domainHash = hashStructuredData(domain);\n    return (0, common_1.concatBytes)(exports.STRUCTURED_DATA_PREFIX, domainHash, structuredDataHash);\n}\nexports.encodeStructuredData = encodeStructuredData;\nfunction decodeStructuredDataSignature(signature) {\n    const encodedMessageBytes = typeof signature === 'string' ? (0, common_1.utf8ToBytes)(signature) : signature;\n    const domainHash = encodedMessageBytes.slice(exports.STRUCTURED_DATA_PREFIX.length, exports.STRUCTURED_DATA_PREFIX.length + hash256BytesLength);\n    const messageHash = encodedMessageBytes.slice(exports.STRUCTURED_DATA_PREFIX.length + hash256BytesLength);\n    return {\n        domainHash,\n        messageHash,\n    };\n}\nexports.decodeStructuredDataSignature = decodeStructuredDataSignature;\nfunction signStructuredData({ message, domain, privateKey, }) {\n    const structuredDataHash = (0, common_1.bytesToHex)((0, sha256_1.sha256)(encodeStructuredData({ message, domain })));\n    const { data } = (0, keys_1.signMessageHashRsv)({\n        messageHash: structuredDataHash,\n        privateKey,\n    });\n    return {\n        data,\n        type: constants_1.StacksMessageType.StructuredDataSignature,\n    };\n}\nexports.signStructuredData = signStructuredData;\n//# sourceMappingURL=structuredDataSignature.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC9zdHJ1Y3R1cmVkRGF0YVNpZ25hdHVyZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsR0FBRyxxQ0FBcUMsR0FBRyw0QkFBNEIsR0FBRywwQkFBMEIsR0FBRyw4QkFBOEI7QUFDL0osaUJBQWlCLG1CQUFPLENBQUMsMEVBQXNCO0FBQy9DLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxrQkFBa0IsbUJBQU8sQ0FBQyxrRkFBVztBQUNyQyxvQkFBb0IsbUJBQU8sQ0FBQyxnRkFBYTtBQUN6QyxlQUFlLG1CQUFPLENBQUMsc0VBQVE7QUFDL0IsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0JBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyw4QkFBOEIsOEJBQThCO0FBQzVELG9HQUFvRyxpQkFBaUI7QUFDckgsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L3N0cnVjdHVyZWREYXRhU2lnbmF0dXJlLmpzP2MwODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNpZ25TdHJ1Y3R1cmVkRGF0YSA9IGV4cG9ydHMuZGVjb2RlU3RydWN0dXJlZERhdGFTaWduYXR1cmUgPSBleHBvcnRzLmVuY29kZVN0cnVjdHVyZWREYXRhID0gZXhwb3J0cy5oYXNoU3RydWN0dXJlZERhdGEgPSBleHBvcnRzLlNUUlVDVFVSRURfREFUQV9QUkVGSVggPSB2b2lkIDA7XG5jb25zdCBzaGEyNTZfMSA9IHJlcXVpcmUoXCJAbm9ibGUvaGFzaGVzL3NoYTI1NlwiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgY2xhcml0eV8xID0gcmVxdWlyZShcIi4vY2xhcml0eVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qga2V5c18xID0gcmVxdWlyZShcIi4va2V5c1wiKTtcbmV4cG9ydHMuU1RSVUNUVVJFRF9EQVRBX1BSRUZJWCA9IG5ldyBVaW50OEFycmF5KFsweDUzLCAweDQ5LCAweDUwLCAweDMwLCAweDMxLCAweDM4XSk7XG5mdW5jdGlvbiBoYXNoU3RydWN0dXJlZERhdGEoc3RydWN0dXJlZERhdGEpIHtcbiAgICByZXR1cm4gKDAsIHNoYTI1Nl8xLnNoYTI1NikoKDAsIGNsYXJpdHlfMS5zZXJpYWxpemVDVikoc3RydWN0dXJlZERhdGEpKTtcbn1cbmV4cG9ydHMuaGFzaFN0cnVjdHVyZWREYXRhID0gaGFzaFN0cnVjdHVyZWREYXRhO1xuY29uc3QgaGFzaDI1NkJ5dGVzTGVuZ3RoID0gMzI7XG5mdW5jdGlvbiBpc0RvbWFpbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS50eXBlICE9PSBjbGFyaXR5XzEuQ2xhcml0eVR5cGUuVHVwbGUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIVsnbmFtZScsICd2ZXJzaW9uJywgJ2NoYWluLWlkJ10uZXZlcnkoa2V5ID0+IGtleSBpbiB2YWx1ZS5kYXRhKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghWyduYW1lJywgJ3ZlcnNpb24nXS5ldmVyeShrZXkgPT4gdmFsdWUuZGF0YVtrZXldLnR5cGUgPT09IGNsYXJpdHlfMS5DbGFyaXR5VHlwZS5TdHJpbmdBU0NJSSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodmFsdWUuZGF0YVsnY2hhaW4taWQnXS50eXBlICE9PSBjbGFyaXR5XzEuQ2xhcml0eVR5cGUuVUludClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gZW5jb2RlU3RydWN0dXJlZERhdGEoeyBtZXNzYWdlLCBkb21haW4sIH0pIHtcbiAgICBjb25zdCBzdHJ1Y3R1cmVkRGF0YUhhc2ggPSBoYXNoU3RydWN0dXJlZERhdGEobWVzc2FnZSk7XG4gICAgaWYgKCFpc0RvbWFpbihkb21haW4pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImRvbWFpbiBwYXJhbWV0ZXIgbXVzdCBiZSBhIHZhbGlkIGRvbWFpbiBvZiB0eXBlIFR1cGxlQ1Ygd2l0aCBrZXlzICduYW1lJywgJ3ZlcnNpb24nLCAnY2hhaW4taWQnIHdpdGggcmVzcGVjdGl2ZSB0eXBlcyBTdHJpbmdBU0NJSSwgU3RyaW5nQVNDSUksIFVJbnRcIik7XG4gICAgfVxuICAgIGNvbnN0IGRvbWFpbkhhc2ggPSBoYXNoU3RydWN0dXJlZERhdGEoZG9tYWluKTtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmNvbmNhdEJ5dGVzKShleHBvcnRzLlNUUlVDVFVSRURfREFUQV9QUkVGSVgsIGRvbWFpbkhhc2gsIHN0cnVjdHVyZWREYXRhSGFzaCk7XG59XG5leHBvcnRzLmVuY29kZVN0cnVjdHVyZWREYXRhID0gZW5jb2RlU3RydWN0dXJlZERhdGE7XG5mdW5jdGlvbiBkZWNvZGVTdHJ1Y3R1cmVkRGF0YVNpZ25hdHVyZShzaWduYXR1cmUpIHtcbiAgICBjb25zdCBlbmNvZGVkTWVzc2FnZUJ5dGVzID0gdHlwZW9mIHNpZ25hdHVyZSA9PT0gJ3N0cmluZycgPyAoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKHNpZ25hdHVyZSkgOiBzaWduYXR1cmU7XG4gICAgY29uc3QgZG9tYWluSGFzaCA9IGVuY29kZWRNZXNzYWdlQnl0ZXMuc2xpY2UoZXhwb3J0cy5TVFJVQ1RVUkVEX0RBVEFfUFJFRklYLmxlbmd0aCwgZXhwb3J0cy5TVFJVQ1RVUkVEX0RBVEFfUFJFRklYLmxlbmd0aCArIGhhc2gyNTZCeXRlc0xlbmd0aCk7XG4gICAgY29uc3QgbWVzc2FnZUhhc2ggPSBlbmNvZGVkTWVzc2FnZUJ5dGVzLnNsaWNlKGV4cG9ydHMuU1RSVUNUVVJFRF9EQVRBX1BSRUZJWC5sZW5ndGggKyBoYXNoMjU2Qnl0ZXNMZW5ndGgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvbWFpbkhhc2gsXG4gICAgICAgIG1lc3NhZ2VIYXNoLFxuICAgIH07XG59XG5leHBvcnRzLmRlY29kZVN0cnVjdHVyZWREYXRhU2lnbmF0dXJlID0gZGVjb2RlU3RydWN0dXJlZERhdGFTaWduYXR1cmU7XG5mdW5jdGlvbiBzaWduU3RydWN0dXJlZERhdGEoeyBtZXNzYWdlLCBkb21haW4sIHByaXZhdGVLZXksIH0pIHtcbiAgICBjb25zdCBzdHJ1Y3R1cmVkRGF0YUhhc2ggPSAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoKDAsIHNoYTI1Nl8xLnNoYTI1NikoZW5jb2RlU3RydWN0dXJlZERhdGEoeyBtZXNzYWdlLCBkb21haW4gfSkpKTtcbiAgICBjb25zdCB7IGRhdGEgfSA9ICgwLCBrZXlzXzEuc2lnbk1lc3NhZ2VIYXNoUnN2KSh7XG4gICAgICAgIG1lc3NhZ2VIYXNoOiBzdHJ1Y3R1cmVkRGF0YUhhc2gsXG4gICAgICAgIHByaXZhdGVLZXksXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YSxcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuU3RydWN0dXJlZERhdGFTaWduYXR1cmUsXG4gICAgfTtcbn1cbmV4cG9ydHMuc2lnblN0cnVjdHVyZWREYXRhID0gc2lnblN0cnVjdHVyZWREYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RydWN0dXJlZERhdGFTaWduYXR1cmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/structuredDataSignature.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/transaction.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/transaction.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deserializeTransaction = exports.StacksTransaction = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst authorization_1 = __webpack_require__(/*! ./authorization */ \"(ssr)/./node_modules/@stacks/transactions/dist/authorization.js\");\nconst signature_1 = __webpack_require__(/*! ./signature */ \"(ssr)/./node_modules/@stacks/transactions/dist/signature.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nconst payload_1 = __webpack_require__(/*! ./payload */ \"(ssr)/./node_modules/@stacks/transactions/dist/payload.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@stacks/transactions/dist/types.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/transactions/dist/keys.js\");\nconst bytesReader_1 = __webpack_require__(/*! ./bytesReader */ \"(ssr)/./node_modules/@stacks/transactions/dist/bytesReader.js\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nclass StacksTransaction {\n    constructor(version, auth, payload, postConditions, postConditionMode, anchorMode, chainId) {\n        this.version = version;\n        this.auth = auth;\n        if ('amount' in payload) {\n            this.payload = {\n                ...payload,\n                amount: (0, common_1.intToBigInt)(payload.amount, false),\n            };\n        }\n        else {\n            this.payload = payload;\n        }\n        this.chainId = chainId ?? constants_1.DEFAULT_CHAIN_ID;\n        this.postConditionMode = postConditionMode ?? constants_1.PostConditionMode.Deny;\n        this.postConditions = postConditions ?? (0, types_1.createLPList)([]);\n        if (anchorMode) {\n            this.anchorMode = (0, constants_1.anchorModeFromNameOrValue)(anchorMode);\n        }\n        else {\n            switch (payload.payloadType) {\n                case constants_1.PayloadType.Coinbase:\n                case constants_1.PayloadType.CoinbaseToAltRecipient:\n                case constants_1.PayloadType.PoisonMicroblock: {\n                    this.anchorMode = constants_1.AnchorMode.OnChainOnly;\n                    break;\n                }\n                case constants_1.PayloadType.ContractCall:\n                case constants_1.PayloadType.SmartContract:\n                case constants_1.PayloadType.VersionedSmartContract:\n                case constants_1.PayloadType.TokenTransfer: {\n                    this.anchorMode = constants_1.AnchorMode.Any;\n                    break;\n                }\n            }\n        }\n    }\n    signBegin() {\n        const tx = (0, utils_1.cloneDeep)(this);\n        tx.auth = (0, authorization_1.intoInitialSighashAuth)(tx.auth);\n        return tx.txid();\n    }\n    verifyBegin() {\n        const tx = (0, utils_1.cloneDeep)(this);\n        tx.auth = (0, authorization_1.intoInitialSighashAuth)(tx.auth);\n        return tx.txid();\n    }\n    verifyOrigin() {\n        return (0, authorization_1.verifyOrigin)(this.auth, this.verifyBegin());\n    }\n    signNextOrigin(sigHash, privateKey) {\n        if (this.auth.spendingCondition === undefined) {\n            throw new Error('\"auth.spendingCondition\" is undefined');\n        }\n        if (this.auth.authType === undefined) {\n            throw new Error('\"auth.authType\" is undefined');\n        }\n        return this.signAndAppend(this.auth.spendingCondition, sigHash, constants_1.AuthType.Standard, privateKey);\n    }\n    signNextSponsor(sigHash, privateKey) {\n        if (this.auth.authType === constants_1.AuthType.Sponsored) {\n            return this.signAndAppend(this.auth.sponsorSpendingCondition, sigHash, constants_1.AuthType.Sponsored, privateKey);\n        }\n        else {\n            throw new Error('\"auth.sponsorSpendingCondition\" is undefined');\n        }\n    }\n    appendPubkey(publicKey) {\n        const cond = this.auth.spendingCondition;\n        if (cond && !(0, authorization_1.isSingleSig)(cond)) {\n            const compressed = (0, keys_1.isCompressed)(publicKey);\n            cond.fields.push((0, signature_1.createTransactionAuthField)(compressed ? constants_1.PubKeyEncoding.Compressed : constants_1.PubKeyEncoding.Uncompressed, publicKey));\n        }\n        else {\n            throw new Error(`Can't append public key to a singlesig condition`);\n        }\n    }\n    signAndAppend(condition, curSigHash, authType, privateKey) {\n        const { nextSig, nextSigHash } = (0, authorization_1.nextSignature)(curSigHash, authType, condition.fee, condition.nonce, privateKey);\n        if ((0, authorization_1.isSingleSig)(condition)) {\n            condition.signature = nextSig;\n        }\n        else {\n            const compressed = (0, common_1.bytesToHex)(privateKey.data).endsWith('01');\n            condition.fields.push((0, signature_1.createTransactionAuthField)(compressed ? constants_1.PubKeyEncoding.Compressed : constants_1.PubKeyEncoding.Uncompressed, nextSig));\n        }\n        return nextSigHash;\n    }\n    txid() {\n        const serialized = this.serialize();\n        return (0, utils_1.txidFromData)(serialized);\n    }\n    setSponsor(sponsorSpendingCondition) {\n        if (this.auth.authType != constants_1.AuthType.Sponsored) {\n            throw new errors_1.SigningError('Cannot sponsor sign a non-sponsored transaction');\n        }\n        this.auth = (0, authorization_1.setSponsor)(this.auth, sponsorSpendingCondition);\n    }\n    setFee(amount) {\n        this.auth = (0, authorization_1.setFee)(this.auth, amount);\n    }\n    setNonce(nonce) {\n        this.auth = (0, authorization_1.setNonce)(this.auth, nonce);\n    }\n    setSponsorNonce(nonce) {\n        if (this.auth.authType != constants_1.AuthType.Sponsored) {\n            throw new errors_1.SigningError('Cannot sponsor sign a non-sponsored transaction');\n        }\n        this.auth = (0, authorization_1.setSponsorNonce)(this.auth, nonce);\n    }\n    serialize() {\n        if (this.version === undefined) {\n            throw new errors_1.SerializationError('\"version\" is undefined');\n        }\n        if (this.chainId === undefined) {\n            throw new errors_1.SerializationError('\"chainId\" is undefined');\n        }\n        if (this.auth === undefined) {\n            throw new errors_1.SerializationError('\"auth\" is undefined');\n        }\n        if (this.anchorMode === undefined) {\n            throw new errors_1.SerializationError('\"anchorMode\" is undefined');\n        }\n        if (this.payload === undefined) {\n            throw new errors_1.SerializationError('\"payload\" is undefined');\n        }\n        const bytesArray = [];\n        bytesArray.push(this.version);\n        const chainIdBytes = new Uint8Array(4);\n        (0, common_1.writeUInt32BE)(chainIdBytes, this.chainId, 0);\n        bytesArray.push(chainIdBytes);\n        bytesArray.push((0, authorization_1.serializeAuthorization)(this.auth));\n        bytesArray.push(this.anchorMode);\n        bytesArray.push(this.postConditionMode);\n        bytesArray.push((0, types_1.serializeLPList)(this.postConditions));\n        bytesArray.push((0, payload_1.serializePayload)(this.payload));\n        return (0, common_1.concatArray)(bytesArray);\n    }\n}\nexports.StacksTransaction = StacksTransaction;\nfunction deserializeTransaction(data) {\n    let bytesReader;\n    if (typeof data === 'string') {\n        if (data.slice(0, 2).toLowerCase() === '0x') {\n            bytesReader = new bytesReader_1.BytesReader((0, common_1.hexToBytes)(data.slice(2)));\n        }\n        else {\n            bytesReader = new bytesReader_1.BytesReader((0, common_1.hexToBytes)(data));\n        }\n    }\n    else if (data instanceof Uint8Array) {\n        bytesReader = new bytesReader_1.BytesReader(data);\n    }\n    else {\n        bytesReader = data;\n    }\n    const version = bytesReader.readUInt8Enum(constants_1.TransactionVersion, n => {\n        throw new Error(`Could not parse ${n} as TransactionVersion`);\n    });\n    const chainId = bytesReader.readUInt32BE();\n    const auth = (0, authorization_1.deserializeAuthorization)(bytesReader);\n    const anchorMode = bytesReader.readUInt8Enum(constants_1.AnchorMode, n => {\n        throw new Error(`Could not parse ${n} as AnchorMode`);\n    });\n    const postConditionMode = bytesReader.readUInt8Enum(constants_1.PostConditionMode, n => {\n        throw new Error(`Could not parse ${n} as PostConditionMode`);\n    });\n    const postConditions = (0, types_1.deserializeLPList)(bytesReader, constants_1.StacksMessageType.PostCondition);\n    const payload = (0, payload_1.deserializePayload)(bytesReader);\n    return new StacksTransaction(version, auth, payload, postConditions, postConditionMode, anchorMode, chainId);\n}\nexports.deserializeTransaction = deserializeTransaction;\n//# sourceMappingURL=transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC90cmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEIsR0FBRyx5QkFBeUI7QUFDMUQsaUJBQWlCLG1CQUFPLENBQUMseUVBQWdCO0FBQ3pDLG9CQUFvQixtQkFBTyxDQUFDLGdGQUFhO0FBQ3pDLHdCQUF3QixtQkFBTyxDQUFDLHdGQUFpQjtBQUNqRCxvQkFBb0IsbUJBQU8sQ0FBQyxnRkFBYTtBQUN6QyxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBUztBQUNqQyxrQkFBa0IsbUJBQU8sQ0FBQyw0RUFBVztBQUNyQyxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBUztBQUNqQyxlQUFlLG1CQUFPLENBQUMsc0VBQVE7QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsb0ZBQWU7QUFDN0MsaUJBQWlCLG1CQUFPLENBQUMsMEVBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVCQUF1QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxHQUFHO0FBQzlDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsR0FBRztBQUM5QyxLQUFLO0FBQ0w7QUFDQSwyQ0FBMkMsR0FBRztBQUM5QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZWFjdC1uZXh0anMtdHMvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC90cmFuc2FjdGlvbi5qcz83ZTRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZXNlcmlhbGl6ZVRyYW5zYWN0aW9uID0gZXhwb3J0cy5TdGFja3NUcmFuc2FjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBhdXRob3JpemF0aW9uXzEgPSByZXF1aXJlKFwiLi9hdXRob3JpemF0aW9uXCIpO1xuY29uc3Qgc2lnbmF0dXJlXzEgPSByZXF1aXJlKFwiLi9zaWduYXR1cmVcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBwYXlsb2FkXzEgPSByZXF1aXJlKFwiLi9wYXlsb2FkXCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuY29uc3Qga2V5c18xID0gcmVxdWlyZShcIi4va2V5c1wiKTtcbmNvbnN0IGJ5dGVzUmVhZGVyXzEgPSByZXF1aXJlKFwiLi9ieXRlc1JlYWRlclwiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuY2xhc3MgU3RhY2tzVHJhbnNhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZlcnNpb24sIGF1dGgsIHBheWxvYWQsIHBvc3RDb25kaXRpb25zLCBwb3N0Q29uZGl0aW9uTW9kZSwgYW5jaG9yTW9kZSwgY2hhaW5JZCkge1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLmF1dGggPSBhdXRoO1xuICAgICAgICBpZiAoJ2Ftb3VudCcgaW4gcGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5wYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgYW1vdW50OiAoMCwgY29tbW9uXzEuaW50VG9CaWdJbnQpKHBheWxvYWQuYW1vdW50LCBmYWxzZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYWluSWQgPSBjaGFpbklkID8/IGNvbnN0YW50c18xLkRFRkFVTFRfQ0hBSU5fSUQ7XG4gICAgICAgIHRoaXMucG9zdENvbmRpdGlvbk1vZGUgPSBwb3N0Q29uZGl0aW9uTW9kZSA/PyBjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uTW9kZS5EZW55O1xuICAgICAgICB0aGlzLnBvc3RDb25kaXRpb25zID0gcG9zdENvbmRpdGlvbnMgPz8gKDAsIHR5cGVzXzEuY3JlYXRlTFBMaXN0KShbXSk7XG4gICAgICAgIGlmIChhbmNob3JNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmFuY2hvck1vZGUgPSAoMCwgY29uc3RhbnRzXzEuYW5jaG9yTW9kZUZyb21OYW1lT3JWYWx1ZSkoYW5jaG9yTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBheWxvYWQucGF5bG9hZFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLkNvaW5iYXNlOlxuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuQ29pbmJhc2VUb0FsdFJlY2lwaWVudDpcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlBvaXNvbk1pY3JvYmxvY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmNob3JNb2RlID0gY29uc3RhbnRzXzEuQW5jaG9yTW9kZS5PbkNoYWluT25seTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuQ29udHJhY3RDYWxsOlxuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUGF5bG9hZFR5cGUuU21hcnRDb250cmFjdDpcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBheWxvYWRUeXBlLlZlcnNpb25lZFNtYXJ0Q29udHJhY3Q6XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5QYXlsb2FkVHlwZS5Ub2tlblRyYW5zZmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yTW9kZSA9IGNvbnN0YW50c18xLkFuY2hvck1vZGUuQW55O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2lnbkJlZ2luKCkge1xuICAgICAgICBjb25zdCB0eCA9ICgwLCB1dGlsc18xLmNsb25lRGVlcCkodGhpcyk7XG4gICAgICAgIHR4LmF1dGggPSAoMCwgYXV0aG9yaXphdGlvbl8xLmludG9Jbml0aWFsU2lnaGFzaEF1dGgpKHR4LmF1dGgpO1xuICAgICAgICByZXR1cm4gdHgudHhpZCgpO1xuICAgIH1cbiAgICB2ZXJpZnlCZWdpbigpIHtcbiAgICAgICAgY29uc3QgdHggPSAoMCwgdXRpbHNfMS5jbG9uZURlZXApKHRoaXMpO1xuICAgICAgICB0eC5hdXRoID0gKDAsIGF1dGhvcml6YXRpb25fMS5pbnRvSW5pdGlhbFNpZ2hhc2hBdXRoKSh0eC5hdXRoKTtcbiAgICAgICAgcmV0dXJuIHR4LnR4aWQoKTtcbiAgICB9XG4gICAgdmVyaWZ5T3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gKDAsIGF1dGhvcml6YXRpb25fMS52ZXJpZnlPcmlnaW4pKHRoaXMuYXV0aCwgdGhpcy52ZXJpZnlCZWdpbigpKTtcbiAgICB9XG4gICAgc2lnbk5leHRPcmlnaW4oc2lnSGFzaCwgcHJpdmF0ZUtleSkge1xuICAgICAgICBpZiAodGhpcy5hdXRoLnNwZW5kaW5nQ29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJhdXRoLnNwZW5kaW5nQ29uZGl0aW9uXCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXV0aC5hdXRoVHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiYXV0aC5hdXRoVHlwZVwiIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ25BbmRBcHBlbmQodGhpcy5hdXRoLnNwZW5kaW5nQ29uZGl0aW9uLCBzaWdIYXNoLCBjb25zdGFudHNfMS5BdXRoVHlwZS5TdGFuZGFyZCwgcHJpdmF0ZUtleSk7XG4gICAgfVxuICAgIHNpZ25OZXh0U3BvbnNvcihzaWdIYXNoLCBwcml2YXRlS2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmF1dGguYXV0aFR5cGUgPT09IGNvbnN0YW50c18xLkF1dGhUeXBlLlNwb25zb3JlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2lnbkFuZEFwcGVuZCh0aGlzLmF1dGguc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uLCBzaWdIYXNoLCBjb25zdGFudHNfMS5BdXRoVHlwZS5TcG9uc29yZWQsIHByaXZhdGVLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImF1dGguc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uXCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwZW5kUHVia2V5KHB1YmxpY0tleSkge1xuICAgICAgICBjb25zdCBjb25kID0gdGhpcy5hdXRoLnNwZW5kaW5nQ29uZGl0aW9uO1xuICAgICAgICBpZiAoY29uZCAmJiAhKDAsIGF1dGhvcml6YXRpb25fMS5pc1NpbmdsZVNpZykoY29uZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWQgPSAoMCwga2V5c18xLmlzQ29tcHJlc3NlZCkocHVibGljS2V5KTtcbiAgICAgICAgICAgIGNvbmQuZmllbGRzLnB1c2goKDAsIHNpZ25hdHVyZV8xLmNyZWF0ZVRyYW5zYWN0aW9uQXV0aEZpZWxkKShjb21wcmVzc2VkID8gY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuQ29tcHJlc3NlZCA6IGNvbnN0YW50c18xLlB1YktleUVuY29kaW5nLlVuY29tcHJlc3NlZCwgcHVibGljS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGFwcGVuZCBwdWJsaWMga2V5IHRvIGEgc2luZ2xlc2lnIGNvbmRpdGlvbmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNpZ25BbmRBcHBlbmQoY29uZGl0aW9uLCBjdXJTaWdIYXNoLCBhdXRoVHlwZSwgcHJpdmF0ZUtleSkge1xuICAgICAgICBjb25zdCB7IG5leHRTaWcsIG5leHRTaWdIYXNoIH0gPSAoMCwgYXV0aG9yaXphdGlvbl8xLm5leHRTaWduYXR1cmUpKGN1clNpZ0hhc2gsIGF1dGhUeXBlLCBjb25kaXRpb24uZmVlLCBjb25kaXRpb24ubm9uY2UsIHByaXZhdGVLZXkpO1xuICAgICAgICBpZiAoKDAsIGF1dGhvcml6YXRpb25fMS5pc1NpbmdsZVNpZykoY29uZGl0aW9uKSkge1xuICAgICAgICAgICAgY29uZGl0aW9uLnNpZ25hdHVyZSA9IG5leHRTaWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkID0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKHByaXZhdGVLZXkuZGF0YSkuZW5kc1dpdGgoJzAxJyk7XG4gICAgICAgICAgICBjb25kaXRpb24uZmllbGRzLnB1c2goKDAsIHNpZ25hdHVyZV8xLmNyZWF0ZVRyYW5zYWN0aW9uQXV0aEZpZWxkKShjb21wcmVzc2VkID8gY29uc3RhbnRzXzEuUHViS2V5RW5jb2RpbmcuQ29tcHJlc3NlZCA6IGNvbnN0YW50c18xLlB1YktleUVuY29kaW5nLlVuY29tcHJlc3NlZCwgbmV4dFNpZykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0U2lnSGFzaDtcbiAgICB9XG4gICAgdHhpZCgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHRoaXMuc2VyaWFsaXplKCk7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfMS50eGlkRnJvbURhdGEpKHNlcmlhbGl6ZWQpO1xuICAgIH1cbiAgICBzZXRTcG9uc29yKHNwb25zb3JTcGVuZGluZ0NvbmRpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5hdXRoLmF1dGhUeXBlICE9IGNvbnN0YW50c18xLkF1dGhUeXBlLlNwb25zb3JlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlNpZ25pbmdFcnJvcignQ2Fubm90IHNwb25zb3Igc2lnbiBhIG5vbi1zcG9uc29yZWQgdHJhbnNhY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF1dGggPSAoMCwgYXV0aG9yaXphdGlvbl8xLnNldFNwb25zb3IpKHRoaXMuYXV0aCwgc3BvbnNvclNwZW5kaW5nQ29uZGl0aW9uKTtcbiAgICB9XG4gICAgc2V0RmVlKGFtb3VudCkge1xuICAgICAgICB0aGlzLmF1dGggPSAoMCwgYXV0aG9yaXphdGlvbl8xLnNldEZlZSkodGhpcy5hdXRoLCBhbW91bnQpO1xuICAgIH1cbiAgICBzZXROb25jZShub25jZSkge1xuICAgICAgICB0aGlzLmF1dGggPSAoMCwgYXV0aG9yaXphdGlvbl8xLnNldE5vbmNlKSh0aGlzLmF1dGgsIG5vbmNlKTtcbiAgICB9XG4gICAgc2V0U3BvbnNvck5vbmNlKG5vbmNlKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dGguYXV0aFR5cGUgIT0gY29uc3RhbnRzXzEuQXV0aFR5cGUuU3BvbnNvcmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuU2lnbmluZ0Vycm9yKCdDYW5ub3Qgc3BvbnNvciBzaWduIGEgbm9uLXNwb25zb3JlZCB0cmFuc2FjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXV0aCA9ICgwLCBhdXRob3JpemF0aW9uXzEuc2V0U3BvbnNvck5vbmNlKSh0aGlzLmF1dGgsIG5vbmNlKTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy52ZXJzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5TZXJpYWxpemF0aW9uRXJyb3IoJ1widmVyc2lvblwiIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoYWluSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlNlcmlhbGl6YXRpb25FcnJvcignXCJjaGFpbklkXCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXV0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuU2VyaWFsaXphdGlvbkVycm9yKCdcImF1dGhcIiBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hbmNob3JNb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5TZXJpYWxpemF0aW9uRXJyb3IoJ1wiYW5jaG9yTW9kZVwiIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBheWxvYWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLlNlcmlhbGl6YXRpb25FcnJvcignXCJwYXlsb2FkXCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXNBcnJheSA9IFtdO1xuICAgICAgICBieXRlc0FycmF5LnB1c2godGhpcy52ZXJzaW9uKTtcbiAgICAgICAgY29uc3QgY2hhaW5JZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgICgwLCBjb21tb25fMS53cml0ZVVJbnQzMkJFKShjaGFpbklkQnl0ZXMsIHRoaXMuY2hhaW5JZCwgMCk7XG4gICAgICAgIGJ5dGVzQXJyYXkucHVzaChjaGFpbklkQnl0ZXMpO1xuICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIGF1dGhvcml6YXRpb25fMS5zZXJpYWxpemVBdXRob3JpemF0aW9uKSh0aGlzLmF1dGgpKTtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHRoaXMuYW5jaG9yTW9kZSk7XG4gICAgICAgIGJ5dGVzQXJyYXkucHVzaCh0aGlzLnBvc3RDb25kaXRpb25Nb2RlKTtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKCgwLCB0eXBlc18xLnNlcmlhbGl6ZUxQTGlzdCkodGhpcy5wb3N0Q29uZGl0aW9ucykpO1xuICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIHBheWxvYWRfMS5zZXJpYWxpemVQYXlsb2FkKSh0aGlzLnBheWxvYWQpKTtcbiAgICAgICAgcmV0dXJuICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoYnl0ZXNBcnJheSk7XG4gICAgfVxufVxuZXhwb3J0cy5TdGFja3NUcmFuc2FjdGlvbiA9IFN0YWNrc1RyYW5zYWN0aW9uO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVUcmFuc2FjdGlvbihkYXRhKSB7XG4gICAgbGV0IGJ5dGVzUmVhZGVyO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGRhdGEuc2xpY2UoMCwgMikudG9Mb3dlckNhc2UoKSA9PT0gJzB4Jykge1xuICAgICAgICAgICAgYnl0ZXNSZWFkZXIgPSBuZXcgYnl0ZXNSZWFkZXJfMS5CeXRlc1JlYWRlcigoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoZGF0YS5zbGljZSgyKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnl0ZXNSZWFkZXIgPSBuZXcgYnl0ZXNSZWFkZXJfMS5CeXRlc1JlYWRlcigoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoZGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIGJ5dGVzUmVhZGVyID0gbmV3IGJ5dGVzUmVhZGVyXzEuQnl0ZXNSZWFkZXIoZGF0YSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBieXRlc1JlYWRlciA9IGRhdGE7XG4gICAgfVxuICAgIGNvbnN0IHZlcnNpb24gPSBieXRlc1JlYWRlci5yZWFkVUludDhFbnVtKGNvbnN0YW50c18xLlRyYW5zYWN0aW9uVmVyc2lvbiwgbiA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHBhcnNlICR7bn0gYXMgVHJhbnNhY3Rpb25WZXJzaW9uYCk7XG4gICAgfSk7XG4gICAgY29uc3QgY2hhaW5JZCA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50MzJCRSgpO1xuICAgIGNvbnN0IGF1dGggPSAoMCwgYXV0aG9yaXphdGlvbl8xLmRlc2VyaWFsaXplQXV0aG9yaXphdGlvbikoYnl0ZXNSZWFkZXIpO1xuICAgIGNvbnN0IGFuY2hvck1vZGUgPSBieXRlc1JlYWRlci5yZWFkVUludDhFbnVtKGNvbnN0YW50c18xLkFuY2hvck1vZGUsIG4gPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBwYXJzZSAke259IGFzIEFuY2hvck1vZGVgKTtcbiAgICB9KTtcbiAgICBjb25zdCBwb3N0Q29uZGl0aW9uTW9kZSA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50OEVudW0oY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvbk1vZGUsIG4gPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBwYXJzZSAke259IGFzIFBvc3RDb25kaXRpb25Nb2RlYCk7XG4gICAgfSk7XG4gICAgY29uc3QgcG9zdENvbmRpdGlvbnMgPSAoMCwgdHlwZXNfMS5kZXNlcmlhbGl6ZUxQTGlzdCkoYnl0ZXNSZWFkZXIsIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLlBvc3RDb25kaXRpb24pO1xuICAgIGNvbnN0IHBheWxvYWQgPSAoMCwgcGF5bG9hZF8xLmRlc2VyaWFsaXplUGF5bG9hZCkoYnl0ZXNSZWFkZXIpO1xuICAgIHJldHVybiBuZXcgU3RhY2tzVHJhbnNhY3Rpb24odmVyc2lvbiwgYXV0aCwgcGF5bG9hZCwgcG9zdENvbmRpdGlvbnMsIHBvc3RDb25kaXRpb25Nb2RlLCBhbmNob3JNb2RlLCBjaGFpbklkKTtcbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVUcmFuc2FjdGlvbiA9IGRlc2VyaWFsaXplVHJhbnNhY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2FjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/transaction.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/types.js":
/*!*********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/types.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deserializePostCondition = exports.serializePostCondition = exports.deserializeLPList = exports.serializeLPList = exports.createLPList = exports.deserializeAssetInfo = exports.serializeAssetInfo = exports.deserializeMemoString = exports.serializeMemoString = exports.createMemoString = exports.codeBodyString = exports.deserializeLPString = exports.serializeLPString = exports.deserializePrincipal = exports.serializePrincipal = exports.deserializeAddress = exports.serializeAddress = exports.addressFromPublicKeys = exports.addressFromHashMode = exports.createEmptyAddress = exports.deserializeStacksMessage = exports.serializeStacksMessage = void 0;\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@stacks/transactions/dist/constants.js\");\nconst keys_1 = __webpack_require__(/*! ./keys */ \"(ssr)/./node_modules/@stacks/transactions/dist/keys.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@stacks/transactions/dist/utils.js\");\nconst postcondition_types_1 = __webpack_require__(/*! ./postcondition-types */ \"(ssr)/./node_modules/@stacks/transactions/dist/postcondition-types.js\");\nconst payload_1 = __webpack_require__(/*! ./payload */ \"(ssr)/./node_modules/@stacks/transactions/dist/payload.js\");\nconst errors_1 = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/@stacks/transactions/dist/errors.js\");\nconst signature_1 = __webpack_require__(/*! ./signature */ \"(ssr)/./node_modules/@stacks/transactions/dist/signature.js\");\nconst common_2 = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/@stacks/transactions/dist/common.js\");\nconst clarity_1 = __webpack_require__(/*! ./clarity */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nfunction serializeStacksMessage(message) {\n    switch (message.type) {\n        case constants_1.StacksMessageType.Address:\n            return serializeAddress(message);\n        case constants_1.StacksMessageType.Principal:\n            return serializePrincipal(message);\n        case constants_1.StacksMessageType.LengthPrefixedString:\n            return serializeLPString(message);\n        case constants_1.StacksMessageType.MemoString:\n            return serializeMemoString(message);\n        case constants_1.StacksMessageType.AssetInfo:\n            return serializeAssetInfo(message);\n        case constants_1.StacksMessageType.PostCondition:\n            return serializePostCondition(message);\n        case constants_1.StacksMessageType.PublicKey:\n            return (0, keys_1.serializePublicKey)(message);\n        case constants_1.StacksMessageType.LengthPrefixedList:\n            return serializeLPList(message);\n        case constants_1.StacksMessageType.Payload:\n            return (0, payload_1.serializePayload)(message);\n        case constants_1.StacksMessageType.TransactionAuthField:\n            return (0, signature_1.serializeTransactionAuthField)(message);\n        case constants_1.StacksMessageType.MessageSignature:\n            return (0, signature_1.serializeMessageSignature)(message);\n    }\n}\nexports.serializeStacksMessage = serializeStacksMessage;\nfunction deserializeStacksMessage(bytesReader, type, listType) {\n    switch (type) {\n        case constants_1.StacksMessageType.Address:\n            return deserializeAddress(bytesReader);\n        case constants_1.StacksMessageType.Principal:\n            return deserializePrincipal(bytesReader);\n        case constants_1.StacksMessageType.LengthPrefixedString:\n            return deserializeLPString(bytesReader);\n        case constants_1.StacksMessageType.MemoString:\n            return deserializeMemoString(bytesReader);\n        case constants_1.StacksMessageType.AssetInfo:\n            return deserializeAssetInfo(bytesReader);\n        case constants_1.StacksMessageType.PostCondition:\n            return deserializePostCondition(bytesReader);\n        case constants_1.StacksMessageType.PublicKey:\n            return (0, keys_1.deserializePublicKey)(bytesReader);\n        case constants_1.StacksMessageType.Payload:\n            return (0, payload_1.deserializePayload)(bytesReader);\n        case constants_1.StacksMessageType.LengthPrefixedList:\n            if (!listType) {\n                throw new errors_1.DeserializationError('No List Type specified');\n            }\n            return deserializeLPList(bytesReader, listType);\n        case constants_1.StacksMessageType.MessageSignature:\n            return (0, signature_1.deserializeMessageSignature)(bytesReader);\n        default:\n            throw new Error('Could not recognize StacksMessageType');\n    }\n}\nexports.deserializeStacksMessage = deserializeStacksMessage;\nfunction createEmptyAddress() {\n    return {\n        type: constants_1.StacksMessageType.Address,\n        version: constants_1.AddressVersion.MainnetSingleSig,\n        hash160: '0'.repeat(40),\n    };\n}\nexports.createEmptyAddress = createEmptyAddress;\nfunction addressFromHashMode(hashMode, txVersion, data) {\n    const version = (0, common_2.addressHashModeToVersion)(hashMode, txVersion);\n    return (0, common_2.addressFromVersionHash)(version, data);\n}\nexports.addressFromHashMode = addressFromHashMode;\nfunction addressFromPublicKeys(version, hashMode, numSigs, publicKeys) {\n    if (publicKeys.length === 0) {\n        throw Error('Invalid number of public keys');\n    }\n    if (hashMode === constants_1.AddressHashMode.SerializeP2PKH || hashMode === constants_1.AddressHashMode.SerializeP2WPKH) {\n        if (publicKeys.length !== 1 || numSigs !== 1) {\n            throw Error('Invalid number of public keys or signatures');\n        }\n    }\n    if (hashMode === constants_1.AddressHashMode.SerializeP2WPKH || hashMode === constants_1.AddressHashMode.SerializeP2WSH) {\n        for (let i = 0; i < publicKeys.length; i++) {\n            if (!(0, keys_1.isCompressed)(publicKeys[i])) {\n                throw Error('Public keys must be compressed for segwit');\n            }\n        }\n    }\n    switch (hashMode) {\n        case constants_1.AddressHashMode.SerializeP2PKH:\n            return (0, common_2.addressFromVersionHash)(version, (0, utils_1.hashP2PKH)(publicKeys[0].data));\n        case constants_1.AddressHashMode.SerializeP2WPKH:\n            return (0, common_2.addressFromVersionHash)(version, (0, utils_1.hashP2WPKH)(publicKeys[0].data));\n        case constants_1.AddressHashMode.SerializeP2SH:\n            return (0, common_2.addressFromVersionHash)(version, (0, utils_1.hashP2SH)(numSigs, publicKeys.map(keys_1.serializePublicKey)));\n        case constants_1.AddressHashMode.SerializeP2WSH:\n            return (0, common_2.addressFromVersionHash)(version, (0, utils_1.hashP2WSH)(numSigs, publicKeys.map(keys_1.serializePublicKey)));\n    }\n}\nexports.addressFromPublicKeys = addressFromPublicKeys;\nfunction serializeAddress(address) {\n    const bytesArray = [];\n    bytesArray.push((0, common_1.hexToBytes)((0, common_1.intToHex)(address.version, 1)));\n    bytesArray.push((0, common_1.hexToBytes)(address.hash160));\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeAddress = serializeAddress;\nfunction deserializeAddress(bytesReader) {\n    const version = (0, common_1.hexToInt)((0, common_1.bytesToHex)(bytesReader.readBytes(1)));\n    const data = (0, common_1.bytesToHex)(bytesReader.readBytes(20));\n    return { type: constants_1.StacksMessageType.Address, version, hash160: data };\n}\nexports.deserializeAddress = deserializeAddress;\nfunction serializePrincipal(principal) {\n    const bytesArray = [];\n    bytesArray.push(principal.prefix);\n    bytesArray.push(serializeAddress(principal.address));\n    if (principal.prefix === constants_1.PostConditionPrincipalID.Contract) {\n        bytesArray.push(serializeLPString(principal.contractName));\n    }\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializePrincipal = serializePrincipal;\nfunction deserializePrincipal(bytesReader) {\n    const prefix = bytesReader.readUInt8Enum(constants_1.PostConditionPrincipalID, n => {\n        throw new errors_1.DeserializationError(`Unexpected Principal payload type: ${n}`);\n    });\n    const address = deserializeAddress(bytesReader);\n    if (prefix === constants_1.PostConditionPrincipalID.Standard) {\n        return { type: constants_1.StacksMessageType.Principal, prefix, address };\n    }\n    const contractName = deserializeLPString(bytesReader);\n    return {\n        type: constants_1.StacksMessageType.Principal,\n        prefix,\n        address,\n        contractName,\n    };\n}\nexports.deserializePrincipal = deserializePrincipal;\nfunction serializeLPString(lps) {\n    const bytesArray = [];\n    const contentBytes = (0, common_1.utf8ToBytes)(lps.content);\n    const length = contentBytes.byteLength;\n    bytesArray.push((0, common_1.hexToBytes)((0, common_1.intToHex)(length, lps.lengthPrefixBytes)));\n    bytesArray.push(contentBytes);\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeLPString = serializeLPString;\nfunction deserializeLPString(bytesReader, prefixBytes, maxLength) {\n    prefixBytes = prefixBytes ? prefixBytes : 1;\n    const length = (0, common_1.hexToInt)((0, common_1.bytesToHex)(bytesReader.readBytes(prefixBytes)));\n    const content = (0, common_1.bytesToUtf8)(bytesReader.readBytes(length));\n    return (0, postcondition_types_1.createLPString)(content, prefixBytes, maxLength ?? 128);\n}\nexports.deserializeLPString = deserializeLPString;\nfunction codeBodyString(content) {\n    return (0, postcondition_types_1.createLPString)(content, 4, 100000);\n}\nexports.codeBodyString = codeBodyString;\nfunction createMemoString(content) {\n    if (content && (0, utils_1.exceedsMaxLengthBytes)(content, constants_1.MEMO_MAX_LENGTH_BYTES)) {\n        throw new Error(`Memo exceeds maximum length of ${constants_1.MEMO_MAX_LENGTH_BYTES} bytes`);\n    }\n    return { type: constants_1.StacksMessageType.MemoString, content };\n}\nexports.createMemoString = createMemoString;\nfunction serializeMemoString(memoString) {\n    const bytesArray = [];\n    const contentBytes = (0, common_1.utf8ToBytes)(memoString.content);\n    const paddedContent = (0, utils_1.rightPadHexToLength)((0, common_1.bytesToHex)(contentBytes), constants_1.MEMO_MAX_LENGTH_BYTES * 2);\n    bytesArray.push((0, common_1.hexToBytes)(paddedContent));\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeMemoString = serializeMemoString;\nfunction deserializeMemoString(bytesReader) {\n    const content = (0, common_1.bytesToUtf8)(bytesReader.readBytes(constants_1.MEMO_MAX_LENGTH_BYTES));\n    return { type: constants_1.StacksMessageType.MemoString, content };\n}\nexports.deserializeMemoString = deserializeMemoString;\nfunction serializeAssetInfo(info) {\n    const bytesArray = [];\n    bytesArray.push(serializeAddress(info.address));\n    bytesArray.push(serializeLPString(info.contractName));\n    bytesArray.push(serializeLPString(info.assetName));\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeAssetInfo = serializeAssetInfo;\nfunction deserializeAssetInfo(bytesReader) {\n    return {\n        type: constants_1.StacksMessageType.AssetInfo,\n        address: deserializeAddress(bytesReader),\n        contractName: deserializeLPString(bytesReader),\n        assetName: deserializeLPString(bytesReader),\n    };\n}\nexports.deserializeAssetInfo = deserializeAssetInfo;\nfunction createLPList(values, lengthPrefixBytes) {\n    return {\n        type: constants_1.StacksMessageType.LengthPrefixedList,\n        lengthPrefixBytes: lengthPrefixBytes || 4,\n        values,\n    };\n}\nexports.createLPList = createLPList;\nfunction serializeLPList(lpList) {\n    const list = lpList.values;\n    const bytesArray = [];\n    bytesArray.push((0, common_1.hexToBytes)((0, common_1.intToHex)(list.length, lpList.lengthPrefixBytes)));\n    for (const l of list) {\n        bytesArray.push(serializeStacksMessage(l));\n    }\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializeLPList = serializeLPList;\nfunction deserializeLPList(bytesReader, type, lengthPrefixBytes) {\n    const length = (0, common_1.hexToInt)((0, common_1.bytesToHex)(bytesReader.readBytes(lengthPrefixBytes || 4)));\n    const l = [];\n    for (let index = 0; index < length; index++) {\n        switch (type) {\n            case constants_1.StacksMessageType.Address:\n                l.push(deserializeAddress(bytesReader));\n                break;\n            case constants_1.StacksMessageType.LengthPrefixedString:\n                l.push(deserializeLPString(bytesReader));\n                break;\n            case constants_1.StacksMessageType.MemoString:\n                l.push(deserializeMemoString(bytesReader));\n                break;\n            case constants_1.StacksMessageType.AssetInfo:\n                l.push(deserializeAssetInfo(bytesReader));\n                break;\n            case constants_1.StacksMessageType.PostCondition:\n                l.push(deserializePostCondition(bytesReader));\n                break;\n            case constants_1.StacksMessageType.PublicKey:\n                l.push((0, keys_1.deserializePublicKey)(bytesReader));\n                break;\n            case constants_1.StacksMessageType.TransactionAuthField:\n                l.push((0, signature_1.deserializeTransactionAuthField)(bytesReader));\n                break;\n        }\n    }\n    return createLPList(l, lengthPrefixBytes);\n}\nexports.deserializeLPList = deserializeLPList;\nfunction serializePostCondition(postCondition) {\n    const bytesArray = [];\n    bytesArray.push(postCondition.conditionType);\n    bytesArray.push(serializePrincipal(postCondition.principal));\n    if (postCondition.conditionType === constants_1.PostConditionType.Fungible ||\n        postCondition.conditionType === constants_1.PostConditionType.NonFungible) {\n        bytesArray.push(serializeAssetInfo(postCondition.assetInfo));\n    }\n    if (postCondition.conditionType === constants_1.PostConditionType.NonFungible) {\n        bytesArray.push((0, clarity_1.serializeCV)(postCondition.assetName));\n    }\n    bytesArray.push(postCondition.conditionCode);\n    if (postCondition.conditionType === constants_1.PostConditionType.STX ||\n        postCondition.conditionType === constants_1.PostConditionType.Fungible) {\n        bytesArray.push((0, common_1.intToBytes)(postCondition.amount, false, 8));\n    }\n    return (0, common_1.concatArray)(bytesArray);\n}\nexports.serializePostCondition = serializePostCondition;\nfunction deserializePostCondition(bytesReader) {\n    const postConditionType = bytesReader.readUInt8Enum(constants_1.PostConditionType, n => {\n        throw new errors_1.DeserializationError(`Could not read ${n} as PostConditionType`);\n    });\n    const principal = deserializePrincipal(bytesReader);\n    let conditionCode;\n    let assetInfo;\n    let amount;\n    switch (postConditionType) {\n        case constants_1.PostConditionType.STX:\n            conditionCode = bytesReader.readUInt8Enum(constants_1.FungibleConditionCode, n => {\n                throw new errors_1.DeserializationError(`Could not read ${n} as FungibleConditionCode`);\n            });\n            amount = BigInt(`0x${(0, common_1.bytesToHex)(bytesReader.readBytes(8))}`);\n            return {\n                type: constants_1.StacksMessageType.PostCondition,\n                conditionType: constants_1.PostConditionType.STX,\n                principal,\n                conditionCode,\n                amount,\n            };\n        case constants_1.PostConditionType.Fungible:\n            assetInfo = deserializeAssetInfo(bytesReader);\n            conditionCode = bytesReader.readUInt8Enum(constants_1.FungibleConditionCode, n => {\n                throw new errors_1.DeserializationError(`Could not read ${n} as FungibleConditionCode`);\n            });\n            amount = BigInt(`0x${(0, common_1.bytesToHex)(bytesReader.readBytes(8))}`);\n            return {\n                type: constants_1.StacksMessageType.PostCondition,\n                conditionType: constants_1.PostConditionType.Fungible,\n                principal,\n                conditionCode,\n                amount,\n                assetInfo,\n            };\n        case constants_1.PostConditionType.NonFungible:\n            assetInfo = deserializeAssetInfo(bytesReader);\n            const assetName = (0, clarity_1.deserializeCV)(bytesReader);\n            conditionCode = bytesReader.readUInt8Enum(constants_1.NonFungibleConditionCode, n => {\n                throw new errors_1.DeserializationError(`Could not read ${n} as FungibleConditionCode`);\n            });\n            return {\n                type: constants_1.StacksMessageType.PostCondition,\n                conditionType: constants_1.PostConditionType.NonFungible,\n                principal,\n                conditionCode,\n                assetInfo,\n                assetName,\n            };\n    }\n}\nexports.deserializePostCondition = deserializePostCondition;\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0MsR0FBRyw4QkFBOEIsR0FBRyx5QkFBeUIsR0FBRyx1QkFBdUIsR0FBRyxvQkFBb0IsR0FBRyw0QkFBNEIsR0FBRywwQkFBMEIsR0FBRyw2QkFBNkIsR0FBRywyQkFBMkIsR0FBRyx3QkFBd0IsR0FBRyxzQkFBc0IsR0FBRywyQkFBMkIsR0FBRyx5QkFBeUIsR0FBRyw0QkFBNEIsR0FBRywwQkFBMEIsR0FBRywwQkFBMEIsR0FBRyx3QkFBd0IsR0FBRyw2QkFBNkIsR0FBRywyQkFBMkIsR0FBRywwQkFBMEIsR0FBRyxnQ0FBZ0MsR0FBRyw4QkFBOEI7QUFDem9CLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxvQkFBb0IsbUJBQU8sQ0FBQyxnRkFBYTtBQUN6QyxlQUFlLG1CQUFPLENBQUMsc0VBQVE7QUFDL0IsZ0JBQWdCLG1CQUFPLENBQUMsd0VBQVM7QUFDakMsOEJBQThCLG1CQUFPLENBQUMsb0dBQXVCO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLDRFQUFXO0FBQ3JDLGlCQUFpQixtQkFBTyxDQUFDLDBFQUFVO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLGdGQUFhO0FBQ3pDLGlCQUFpQixtQkFBTyxDQUFDLDBFQUFVO0FBQ25DLGtCQUFrQixtQkFBTyxDQUFDLGtGQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLHNGQUFzRixFQUFFO0FBQ3hGLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLDBEQUEwRCxtQ0FBbUM7QUFDN0Y7QUFDQSxhQUFhO0FBQ2I7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxrRUFBa0UsR0FBRztBQUNyRSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsR0FBRztBQUM3RSxhQUFhO0FBQ2IsaUNBQWlDLG1EQUFtRDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSxHQUFHO0FBQzdFLGFBQWE7QUFDYixpQ0FBaUMsbURBQW1EO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSxHQUFHO0FBQzdFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L3R5cGVzLmpzP2NjMTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlc2VyaWFsaXplUG9zdENvbmRpdGlvbiA9IGV4cG9ydHMuc2VyaWFsaXplUG9zdENvbmRpdGlvbiA9IGV4cG9ydHMuZGVzZXJpYWxpemVMUExpc3QgPSBleHBvcnRzLnNlcmlhbGl6ZUxQTGlzdCA9IGV4cG9ydHMuY3JlYXRlTFBMaXN0ID0gZXhwb3J0cy5kZXNlcmlhbGl6ZUFzc2V0SW5mbyA9IGV4cG9ydHMuc2VyaWFsaXplQXNzZXRJbmZvID0gZXhwb3J0cy5kZXNlcmlhbGl6ZU1lbW9TdHJpbmcgPSBleHBvcnRzLnNlcmlhbGl6ZU1lbW9TdHJpbmcgPSBleHBvcnRzLmNyZWF0ZU1lbW9TdHJpbmcgPSBleHBvcnRzLmNvZGVCb2R5U3RyaW5nID0gZXhwb3J0cy5kZXNlcmlhbGl6ZUxQU3RyaW5nID0gZXhwb3J0cy5zZXJpYWxpemVMUFN0cmluZyA9IGV4cG9ydHMuZGVzZXJpYWxpemVQcmluY2lwYWwgPSBleHBvcnRzLnNlcmlhbGl6ZVByaW5jaXBhbCA9IGV4cG9ydHMuZGVzZXJpYWxpemVBZGRyZXNzID0gZXhwb3J0cy5zZXJpYWxpemVBZGRyZXNzID0gZXhwb3J0cy5hZGRyZXNzRnJvbVB1YmxpY0tleXMgPSBleHBvcnRzLmFkZHJlc3NGcm9tSGFzaE1vZGUgPSBleHBvcnRzLmNyZWF0ZUVtcHR5QWRkcmVzcyA9IGV4cG9ydHMuZGVzZXJpYWxpemVTdGFja3NNZXNzYWdlID0gZXhwb3J0cy5zZXJpYWxpemVTdGFja3NNZXNzYWdlID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiQHN0YWNrcy9jb21tb25cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGtleXNfMSA9IHJlcXVpcmUoXCIuL2tleXNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBwb3N0Y29uZGl0aW9uX3R5cGVzXzEgPSByZXF1aXJlKFwiLi9wb3N0Y29uZGl0aW9uLXR5cGVzXCIpO1xuY29uc3QgcGF5bG9hZF8xID0gcmVxdWlyZShcIi4vcGF5bG9hZFwiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuY29uc3Qgc2lnbmF0dXJlXzEgPSByZXF1aXJlKFwiLi9zaWduYXR1cmVcIik7XG5jb25zdCBjb21tb25fMiA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbmNvbnN0IGNsYXJpdHlfMSA9IHJlcXVpcmUoXCIuL2NsYXJpdHlcIik7XG5mdW5jdGlvbiBzZXJpYWxpemVTdGFja3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLkFkZHJlc3M6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplQWRkcmVzcyhtZXNzYWdlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QcmluY2lwYWw6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplUHJpbmNpcGFsKG1lc3NhZ2UpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLkxlbmd0aFByZWZpeGVkU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUxQU3RyaW5nKG1lc3NhZ2UpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLk1lbW9TdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplTWVtb1N0cmluZyhtZXNzYWdlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Bc3NldEluZm86XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplQXNzZXRJbmZvKG1lc3NhZ2UpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLlBvc3RDb25kaXRpb246XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplUG9zdENvbmRpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QdWJsaWNLZXk6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGtleXNfMS5zZXJpYWxpemVQdWJsaWNLZXkpKG1lc3NhZ2UpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLkxlbmd0aFByZWZpeGVkTGlzdDpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVMUExpc3QobWVzc2FnZSk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUGF5bG9hZDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGF5bG9hZF8xLnNlcmlhbGl6ZVBheWxvYWQpKG1lc3NhZ2UpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLlRyYW5zYWN0aW9uQXV0aEZpZWxkOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBzaWduYXR1cmVfMS5zZXJpYWxpemVUcmFuc2FjdGlvbkF1dGhGaWVsZCkobWVzc2FnZSk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuTWVzc2FnZVNpZ25hdHVyZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgc2lnbmF0dXJlXzEuc2VyaWFsaXplTWVzc2FnZVNpZ25hdHVyZSkobWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5zZXJpYWxpemVTdGFja3NNZXNzYWdlID0gc2VyaWFsaXplU3RhY2tzTWVzc2FnZTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplU3RhY2tzTWVzc2FnZShieXRlc1JlYWRlciwgdHlwZSwgbGlzdFR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5BZGRyZXNzOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplQWRkcmVzcyhieXRlc1JlYWRlcik7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUHJpbmNpcGFsOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplUHJpbmNpcGFsKGJ5dGVzUmVhZGVyKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5MZW5ndGhQcmVmaXhlZFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiBkZXNlcmlhbGl6ZUxQU3RyaW5nKGJ5dGVzUmVhZGVyKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5NZW1vU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplTWVtb1N0cmluZyhieXRlc1JlYWRlcik7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuQXNzZXRJbmZvOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplQXNzZXRJbmZvKGJ5dGVzUmVhZGVyKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Qb3N0Q29uZGl0aW9uOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplUG9zdENvbmRpdGlvbihieXRlc1JlYWRlcik7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUHVibGljS2V5OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBrZXlzXzEuZGVzZXJpYWxpemVQdWJsaWNLZXkpKGJ5dGVzUmVhZGVyKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QYXlsb2FkOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXlsb2FkXzEuZGVzZXJpYWxpemVQYXlsb2FkKShieXRlc1JlYWRlcik7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuTGVuZ3RoUHJlZml4ZWRMaXN0OlxuICAgICAgICAgICAgaWYgKCFsaXN0VHlwZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5EZXNlcmlhbGl6YXRpb25FcnJvcignTm8gTGlzdCBUeXBlIHNwZWNpZmllZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplTFBMaXN0KGJ5dGVzUmVhZGVyLCBsaXN0VHlwZSk7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuTWVzc2FnZVNpZ25hdHVyZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgc2lnbmF0dXJlXzEuZGVzZXJpYWxpemVNZXNzYWdlU2lnbmF0dXJlKShieXRlc1JlYWRlcik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZWNvZ25pemUgU3RhY2tzTWVzc2FnZVR5cGUnKTtcbiAgICB9XG59XG5leHBvcnRzLmRlc2VyaWFsaXplU3RhY2tzTWVzc2FnZSA9IGRlc2VyaWFsaXplU3RhY2tzTWVzc2FnZTtcbmZ1bmN0aW9uIGNyZWF0ZUVtcHR5QWRkcmVzcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5BZGRyZXNzLFxuICAgICAgICB2ZXJzaW9uOiBjb25zdGFudHNfMS5BZGRyZXNzVmVyc2lvbi5NYWlubmV0U2luZ2xlU2lnLFxuICAgICAgICBoYXNoMTYwOiAnMCcucmVwZWF0KDQwKSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVFbXB0eUFkZHJlc3MgPSBjcmVhdGVFbXB0eUFkZHJlc3M7XG5mdW5jdGlvbiBhZGRyZXNzRnJvbUhhc2hNb2RlKGhhc2hNb2RlLCB0eFZlcnNpb24sIGRhdGEpIHtcbiAgICBjb25zdCB2ZXJzaW9uID0gKDAsIGNvbW1vbl8yLmFkZHJlc3NIYXNoTW9kZVRvVmVyc2lvbikoaGFzaE1vZGUsIHR4VmVyc2lvbik7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMi5hZGRyZXNzRnJvbVZlcnNpb25IYXNoKSh2ZXJzaW9uLCBkYXRhKTtcbn1cbmV4cG9ydHMuYWRkcmVzc0Zyb21IYXNoTW9kZSA9IGFkZHJlc3NGcm9tSGFzaE1vZGU7XG5mdW5jdGlvbiBhZGRyZXNzRnJvbVB1YmxpY0tleXModmVyc2lvbiwgaGFzaE1vZGUsIG51bVNpZ3MsIHB1YmxpY0tleXMpIHtcbiAgICBpZiAocHVibGljS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgbnVtYmVyIG9mIHB1YmxpYyBrZXlzJyk7XG4gICAgfVxuICAgIGlmIChoYXNoTW9kZSA9PT0gY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyUEtIIHx8IGhhc2hNb2RlID09PSBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJXUEtIKSB7XG4gICAgICAgIGlmIChwdWJsaWNLZXlzLmxlbmd0aCAhPT0gMSB8fCBudW1TaWdzICE9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBudW1iZXIgb2YgcHVibGljIGtleXMgb3Igc2lnbmF0dXJlcycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNoTW9kZSA9PT0gY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyV1BLSCB8fCBoYXNoTW9kZSA9PT0gY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyV1NIKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHVibGljS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCEoMCwga2V5c18xLmlzQ29tcHJlc3NlZCkocHVibGljS2V5c1tpXSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUHVibGljIGtleXMgbXVzdCBiZSBjb21wcmVzc2VkIGZvciBzZWd3aXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGhhc2hNb2RlKSB7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQWRkcmVzc0hhc2hNb2RlLlNlcmlhbGl6ZVAyUEtIOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBjb21tb25fMi5hZGRyZXNzRnJvbVZlcnNpb25IYXNoKSh2ZXJzaW9uLCAoMCwgdXRpbHNfMS5oYXNoUDJQS0gpKHB1YmxpY0tleXNbMF0uZGF0YSkpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMldQS0g6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNvbW1vbl8yLmFkZHJlc3NGcm9tVmVyc2lvbkhhc2gpKHZlcnNpb24sICgwLCB1dGlsc18xLmhhc2hQMldQS0gpKHB1YmxpY0tleXNbMF0uZGF0YSkpO1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLkFkZHJlc3NIYXNoTW9kZS5TZXJpYWxpemVQMlNIOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBjb21tb25fMi5hZGRyZXNzRnJvbVZlcnNpb25IYXNoKSh2ZXJzaW9uLCAoMCwgdXRpbHNfMS5oYXNoUDJTSCkobnVtU2lncywgcHVibGljS2V5cy5tYXAoa2V5c18xLnNlcmlhbGl6ZVB1YmxpY0tleSkpKTtcbiAgICAgICAgY2FzZSBjb25zdGFudHNfMS5BZGRyZXNzSGFzaE1vZGUuU2VyaWFsaXplUDJXU0g6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNvbW1vbl8yLmFkZHJlc3NGcm9tVmVyc2lvbkhhc2gpKHZlcnNpb24sICgwLCB1dGlsc18xLmhhc2hQMldTSCkobnVtU2lncywgcHVibGljS2V5cy5tYXAoa2V5c18xLnNlcmlhbGl6ZVB1YmxpY0tleSkpKTtcbiAgICB9XG59XG5leHBvcnRzLmFkZHJlc3NGcm9tUHVibGljS2V5cyA9IGFkZHJlc3NGcm9tUHVibGljS2V5cztcbmZ1bmN0aW9uIHNlcmlhbGl6ZUFkZHJlc3MoYWRkcmVzcykge1xuICAgIGNvbnN0IGJ5dGVzQXJyYXkgPSBbXTtcbiAgICBieXRlc0FycmF5LnB1c2goKDAsIGNvbW1vbl8xLmhleFRvQnl0ZXMpKCgwLCBjb21tb25fMS5pbnRUb0hleCkoYWRkcmVzcy52ZXJzaW9uLCAxKSkpO1xuICAgIGJ5dGVzQXJyYXkucHVzaCgoMCwgY29tbW9uXzEuaGV4VG9CeXRlcykoYWRkcmVzcy5oYXNoMTYwKSk7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoYnl0ZXNBcnJheSk7XG59XG5leHBvcnRzLnNlcmlhbGl6ZUFkZHJlc3MgPSBzZXJpYWxpemVBZGRyZXNzO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVBZGRyZXNzKGJ5dGVzUmVhZGVyKSB7XG4gICAgY29uc3QgdmVyc2lvbiA9ICgwLCBjb21tb25fMS5oZXhUb0ludCkoKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKGJ5dGVzUmVhZGVyLnJlYWRCeXRlcygxKSkpO1xuICAgIGNvbnN0IGRhdGEgPSAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoYnl0ZXNSZWFkZXIucmVhZEJ5dGVzKDIwKSk7XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuQWRkcmVzcywgdmVyc2lvbiwgaGFzaDE2MDogZGF0YSB9O1xufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZUFkZHJlc3MgPSBkZXNlcmlhbGl6ZUFkZHJlc3M7XG5mdW5jdGlvbiBzZXJpYWxpemVQcmluY2lwYWwocHJpbmNpcGFsKSB7XG4gICAgY29uc3QgYnl0ZXNBcnJheSA9IFtdO1xuICAgIGJ5dGVzQXJyYXkucHVzaChwcmluY2lwYWwucHJlZml4KTtcbiAgICBieXRlc0FycmF5LnB1c2goc2VyaWFsaXplQWRkcmVzcyhwcmluY2lwYWwuYWRkcmVzcykpO1xuICAgIGlmIChwcmluY2lwYWwucHJlZml4ID09PSBjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uUHJpbmNpcGFsSUQuQ29udHJhY3QpIHtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHNlcmlhbGl6ZUxQU3RyaW5nKHByaW5jaXBhbC5jb250cmFjdE5hbWUpKTtcbiAgICB9XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoYnl0ZXNBcnJheSk7XG59XG5leHBvcnRzLnNlcmlhbGl6ZVByaW5jaXBhbCA9IHNlcmlhbGl6ZVByaW5jaXBhbDtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplUHJpbmNpcGFsKGJ5dGVzUmVhZGVyKSB7XG4gICAgY29uc3QgcHJlZml4ID0gYnl0ZXNSZWFkZXIucmVhZFVJbnQ4RW51bShjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uUHJpbmNpcGFsSUQsIG4gPT4ge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuRGVzZXJpYWxpemF0aW9uRXJyb3IoYFVuZXhwZWN0ZWQgUHJpbmNpcGFsIHBheWxvYWQgdHlwZTogJHtufWApO1xuICAgIH0pO1xuICAgIGNvbnN0IGFkZHJlc3MgPSBkZXNlcmlhbGl6ZUFkZHJlc3MoYnl0ZXNSZWFkZXIpO1xuICAgIGlmIChwcmVmaXggPT09IGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25QcmluY2lwYWxJRC5TdGFuZGFyZCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QcmluY2lwYWwsIHByZWZpeCwgYWRkcmVzcyB9O1xuICAgIH1cbiAgICBjb25zdCBjb250cmFjdE5hbWUgPSBkZXNlcmlhbGl6ZUxQU3RyaW5nKGJ5dGVzUmVhZGVyKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5QcmluY2lwYWwsXG4gICAgICAgIHByZWZpeCxcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgY29udHJhY3ROYW1lLFxuICAgIH07XG59XG5leHBvcnRzLmRlc2VyaWFsaXplUHJpbmNpcGFsID0gZGVzZXJpYWxpemVQcmluY2lwYWw7XG5mdW5jdGlvbiBzZXJpYWxpemVMUFN0cmluZyhscHMpIHtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgY29uc3QgY29udGVudEJ5dGVzID0gKDAsIGNvbW1vbl8xLnV0ZjhUb0J5dGVzKShscHMuY29udGVudCk7XG4gICAgY29uc3QgbGVuZ3RoID0gY29udGVudEJ5dGVzLmJ5dGVMZW5ndGg7XG4gICAgYnl0ZXNBcnJheS5wdXNoKCgwLCBjb21tb25fMS5oZXhUb0J5dGVzKSgoMCwgY29tbW9uXzEuaW50VG9IZXgpKGxlbmd0aCwgbHBzLmxlbmd0aFByZWZpeEJ5dGVzKSkpO1xuICAgIGJ5dGVzQXJyYXkucHVzaChjb250ZW50Qnl0ZXMpO1xuICAgIHJldHVybiAoMCwgY29tbW9uXzEuY29uY2F0QXJyYXkpKGJ5dGVzQXJyYXkpO1xufVxuZXhwb3J0cy5zZXJpYWxpemVMUFN0cmluZyA9IHNlcmlhbGl6ZUxQU3RyaW5nO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVMUFN0cmluZyhieXRlc1JlYWRlciwgcHJlZml4Qnl0ZXMsIG1heExlbmd0aCkge1xuICAgIHByZWZpeEJ5dGVzID0gcHJlZml4Qnl0ZXMgPyBwcmVmaXhCeXRlcyA6IDE7XG4gICAgY29uc3QgbGVuZ3RoID0gKDAsIGNvbW1vbl8xLmhleFRvSW50KSgoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoYnl0ZXNSZWFkZXIucmVhZEJ5dGVzKHByZWZpeEJ5dGVzKSkpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSAoMCwgY29tbW9uXzEuYnl0ZXNUb1V0ZjgpKGJ5dGVzUmVhZGVyLnJlYWRCeXRlcyhsZW5ndGgpKTtcbiAgICByZXR1cm4gKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVMUFN0cmluZykoY29udGVudCwgcHJlZml4Qnl0ZXMsIG1heExlbmd0aCA/PyAxMjgpO1xufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZUxQU3RyaW5nID0gZGVzZXJpYWxpemVMUFN0cmluZztcbmZ1bmN0aW9uIGNvZGVCb2R5U3RyaW5nKGNvbnRlbnQpIHtcbiAgICByZXR1cm4gKDAsIHBvc3Rjb25kaXRpb25fdHlwZXNfMS5jcmVhdGVMUFN0cmluZykoY29udGVudCwgNCwgMTAwMDAwKTtcbn1cbmV4cG9ydHMuY29kZUJvZHlTdHJpbmcgPSBjb2RlQm9keVN0cmluZztcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9TdHJpbmcoY29udGVudCkge1xuICAgIGlmIChjb250ZW50ICYmICgwLCB1dGlsc18xLmV4Y2VlZHNNYXhMZW5ndGhCeXRlcykoY29udGVudCwgY29uc3RhbnRzXzEuTUVNT19NQVhfTEVOR1RIX0JZVEVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1lbW8gZXhjZWVkcyBtYXhpbXVtIGxlbmd0aCBvZiAke2NvbnN0YW50c18xLk1FTU9fTUFYX0xFTkdUSF9CWVRFU30gYnl0ZXNgKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuTWVtb1N0cmluZywgY29udGVudCB9O1xufVxuZXhwb3J0cy5jcmVhdGVNZW1vU3RyaW5nID0gY3JlYXRlTWVtb1N0cmluZztcbmZ1bmN0aW9uIHNlcmlhbGl6ZU1lbW9TdHJpbmcobWVtb1N0cmluZykge1xuICAgIGNvbnN0IGJ5dGVzQXJyYXkgPSBbXTtcbiAgICBjb25zdCBjb250ZW50Qnl0ZXMgPSAoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKG1lbW9TdHJpbmcuY29udGVudCk7XG4gICAgY29uc3QgcGFkZGVkQ29udGVudCA9ICgwLCB1dGlsc18xLnJpZ2h0UGFkSGV4VG9MZW5ndGgpKCgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShjb250ZW50Qnl0ZXMpLCBjb25zdGFudHNfMS5NRU1PX01BWF9MRU5HVEhfQllURVMgKiAyKTtcbiAgICBieXRlc0FycmF5LnB1c2goKDAsIGNvbW1vbl8xLmhleFRvQnl0ZXMpKHBhZGRlZENvbnRlbnQpKTtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmNvbmNhdEFycmF5KShieXRlc0FycmF5KTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplTWVtb1N0cmluZyA9IHNlcmlhbGl6ZU1lbW9TdHJpbmc7XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZU1lbW9TdHJpbmcoYnl0ZXNSZWFkZXIpIHtcbiAgICBjb25zdCBjb250ZW50ID0gKDAsIGNvbW1vbl8xLmJ5dGVzVG9VdGY4KShieXRlc1JlYWRlci5yZWFkQnl0ZXMoY29uc3RhbnRzXzEuTUVNT19NQVhfTEVOR1RIX0JZVEVTKSk7XG4gICAgcmV0dXJuIHsgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuTWVtb1N0cmluZywgY29udGVudCB9O1xufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZU1lbW9TdHJpbmcgPSBkZXNlcmlhbGl6ZU1lbW9TdHJpbmc7XG5mdW5jdGlvbiBzZXJpYWxpemVBc3NldEluZm8oaW5mbykge1xuICAgIGNvbnN0IGJ5dGVzQXJyYXkgPSBbXTtcbiAgICBieXRlc0FycmF5LnB1c2goc2VyaWFsaXplQWRkcmVzcyhpbmZvLmFkZHJlc3MpKTtcbiAgICBieXRlc0FycmF5LnB1c2goc2VyaWFsaXplTFBTdHJpbmcoaW5mby5jb250cmFjdE5hbWUpKTtcbiAgICBieXRlc0FycmF5LnB1c2goc2VyaWFsaXplTFBTdHJpbmcoaW5mby5hc3NldE5hbWUpKTtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmNvbmNhdEFycmF5KShieXRlc0FycmF5KTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplQXNzZXRJbmZvID0gc2VyaWFsaXplQXNzZXRJbmZvO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVBc3NldEluZm8oYnl0ZXNSZWFkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Bc3NldEluZm8sXG4gICAgICAgIGFkZHJlc3M6IGRlc2VyaWFsaXplQWRkcmVzcyhieXRlc1JlYWRlciksXG4gICAgICAgIGNvbnRyYWN0TmFtZTogZGVzZXJpYWxpemVMUFN0cmluZyhieXRlc1JlYWRlciksXG4gICAgICAgIGFzc2V0TmFtZTogZGVzZXJpYWxpemVMUFN0cmluZyhieXRlc1JlYWRlciksXG4gICAgfTtcbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVBc3NldEluZm8gPSBkZXNlcmlhbGl6ZUFzc2V0SW5mbztcbmZ1bmN0aW9uIGNyZWF0ZUxQTGlzdCh2YWx1ZXMsIGxlbmd0aFByZWZpeEJ5dGVzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuTGVuZ3RoUHJlZml4ZWRMaXN0LFxuICAgICAgICBsZW5ndGhQcmVmaXhCeXRlczogbGVuZ3RoUHJlZml4Qnl0ZXMgfHwgNCxcbiAgICAgICAgdmFsdWVzLFxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZUxQTGlzdCA9IGNyZWF0ZUxQTGlzdDtcbmZ1bmN0aW9uIHNlcmlhbGl6ZUxQTGlzdChscExpc3QpIHtcbiAgICBjb25zdCBsaXN0ID0gbHBMaXN0LnZhbHVlcztcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgYnl0ZXNBcnJheS5wdXNoKCgwLCBjb21tb25fMS5oZXhUb0J5dGVzKSgoMCwgY29tbW9uXzEuaW50VG9IZXgpKGxpc3QubGVuZ3RoLCBscExpc3QubGVuZ3RoUHJlZml4Qnl0ZXMpKSk7XG4gICAgZm9yIChjb25zdCBsIG9mIGxpc3QpIHtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHNlcmlhbGl6ZVN0YWNrc01lc3NhZ2UobCkpO1xuICAgIH1cbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmNvbmNhdEFycmF5KShieXRlc0FycmF5KTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplTFBMaXN0ID0gc2VyaWFsaXplTFBMaXN0O1xuZnVuY3Rpb24gZGVzZXJpYWxpemVMUExpc3QoYnl0ZXNSZWFkZXIsIHR5cGUsIGxlbmd0aFByZWZpeEJ5dGVzKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gKDAsIGNvbW1vbl8xLmhleFRvSW50KSgoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkoYnl0ZXNSZWFkZXIucmVhZEJ5dGVzKGxlbmd0aFByZWZpeEJ5dGVzIHx8IDQpKSk7XG4gICAgY29uc3QgbCA9IFtdO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLlN0YWNrc01lc3NhZ2VUeXBlLkFkZHJlc3M6XG4gICAgICAgICAgICAgICAgbC5wdXNoKGRlc2VyaWFsaXplQWRkcmVzcyhieXRlc1JlYWRlcikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5MZW5ndGhQcmVmaXhlZFN0cmluZzpcbiAgICAgICAgICAgICAgICBsLnB1c2goZGVzZXJpYWxpemVMUFN0cmluZyhieXRlc1JlYWRlcikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5NZW1vU3RyaW5nOlxuICAgICAgICAgICAgICAgIGwucHVzaChkZXNlcmlhbGl6ZU1lbW9TdHJpbmcoYnl0ZXNSZWFkZXIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuQXNzZXRJbmZvOlxuICAgICAgICAgICAgICAgIGwucHVzaChkZXNlcmlhbGl6ZUFzc2V0SW5mbyhieXRlc1JlYWRlcikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Qb3N0Q29uZGl0aW9uOlxuICAgICAgICAgICAgICAgIGwucHVzaChkZXNlcmlhbGl6ZVBvc3RDb25kaXRpb24oYnl0ZXNSZWFkZXIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuU3RhY2tzTWVzc2FnZVR5cGUuUHVibGljS2V5OlxuICAgICAgICAgICAgICAgIGwucHVzaCgoMCwga2V5c18xLmRlc2VyaWFsaXplUHVibGljS2V5KShieXRlc1JlYWRlcikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5UcmFuc2FjdGlvbkF1dGhGaWVsZDpcbiAgICAgICAgICAgICAgICBsLnB1c2goKDAsIHNpZ25hdHVyZV8xLmRlc2VyaWFsaXplVHJhbnNhY3Rpb25BdXRoRmllbGQpKGJ5dGVzUmVhZGVyKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUxQTGlzdChsLCBsZW5ndGhQcmVmaXhCeXRlcyk7XG59XG5leHBvcnRzLmRlc2VyaWFsaXplTFBMaXN0ID0gZGVzZXJpYWxpemVMUExpc3Q7XG5mdW5jdGlvbiBzZXJpYWxpemVQb3N0Q29uZGl0aW9uKHBvc3RDb25kaXRpb24pIHtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgYnl0ZXNBcnJheS5wdXNoKHBvc3RDb25kaXRpb24uY29uZGl0aW9uVHlwZSk7XG4gICAgYnl0ZXNBcnJheS5wdXNoKHNlcmlhbGl6ZVByaW5jaXBhbChwb3N0Q29uZGl0aW9uLnByaW5jaXBhbCkpO1xuICAgIGlmIChwb3N0Q29uZGl0aW9uLmNvbmRpdGlvblR5cGUgPT09IGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25UeXBlLkZ1bmdpYmxlIHx8XG4gICAgICAgIHBvc3RDb25kaXRpb24uY29uZGl0aW9uVHlwZSA9PT0gY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvblR5cGUuTm9uRnVuZ2libGUpIHtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHNlcmlhbGl6ZUFzc2V0SW5mbyhwb3N0Q29uZGl0aW9uLmFzc2V0SW5mbykpO1xuICAgIH1cbiAgICBpZiAocG9zdENvbmRpdGlvbi5jb25kaXRpb25UeXBlID09PSBjb25zdGFudHNfMS5Qb3N0Q29uZGl0aW9uVHlwZS5Ob25GdW5naWJsZSkge1xuICAgICAgICBieXRlc0FycmF5LnB1c2goKDAsIGNsYXJpdHlfMS5zZXJpYWxpemVDVikocG9zdENvbmRpdGlvbi5hc3NldE5hbWUpKTtcbiAgICB9XG4gICAgYnl0ZXNBcnJheS5wdXNoKHBvc3RDb25kaXRpb24uY29uZGl0aW9uQ29kZSk7XG4gICAgaWYgKHBvc3RDb25kaXRpb24uY29uZGl0aW9uVHlwZSA9PT0gY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvblR5cGUuU1RYIHx8XG4gICAgICAgIHBvc3RDb25kaXRpb24uY29uZGl0aW9uVHlwZSA9PT0gY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvblR5cGUuRnVuZ2libGUpIHtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKCgwLCBjb21tb25fMS5pbnRUb0J5dGVzKShwb3N0Q29uZGl0aW9uLmFtb3VudCwgZmFsc2UsIDgpKTtcbiAgICB9XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoYnl0ZXNBcnJheSk7XG59XG5leHBvcnRzLnNlcmlhbGl6ZVBvc3RDb25kaXRpb24gPSBzZXJpYWxpemVQb3N0Q29uZGl0aW9uO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVQb3N0Q29uZGl0aW9uKGJ5dGVzUmVhZGVyKSB7XG4gICAgY29uc3QgcG9zdENvbmRpdGlvblR5cGUgPSBieXRlc1JlYWRlci5yZWFkVUludDhFbnVtKGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25UeXBlLCBuID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkRlc2VyaWFsaXphdGlvbkVycm9yKGBDb3VsZCBub3QgcmVhZCAke259IGFzIFBvc3RDb25kaXRpb25UeXBlYCk7XG4gICAgfSk7XG4gICAgY29uc3QgcHJpbmNpcGFsID0gZGVzZXJpYWxpemVQcmluY2lwYWwoYnl0ZXNSZWFkZXIpO1xuICAgIGxldCBjb25kaXRpb25Db2RlO1xuICAgIGxldCBhc3NldEluZm87XG4gICAgbGV0IGFtb3VudDtcbiAgICBzd2l0Y2ggKHBvc3RDb25kaXRpb25UeXBlKSB7XG4gICAgICAgIGNhc2UgY29uc3RhbnRzXzEuUG9zdENvbmRpdGlvblR5cGUuU1RYOlxuICAgICAgICAgICAgY29uZGl0aW9uQ29kZSA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50OEVudW0oY29uc3RhbnRzXzEuRnVuZ2libGVDb25kaXRpb25Db2RlLCBuID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuRGVzZXJpYWxpemF0aW9uRXJyb3IoYENvdWxkIG5vdCByZWFkICR7bn0gYXMgRnVuZ2libGVDb25kaXRpb25Db2RlYCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFtb3VudCA9IEJpZ0ludChgMHgkeygwLCBjb21tb25fMS5ieXRlc1RvSGV4KShieXRlc1JlYWRlci5yZWFkQnl0ZXMoOCkpfWApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Qb3N0Q29uZGl0aW9uLFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvblR5cGU6IGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25UeXBlLlNUWCxcbiAgICAgICAgICAgICAgICBwcmluY2lwYWwsXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uQ29kZSxcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25UeXBlLkZ1bmdpYmxlOlxuICAgICAgICAgICAgYXNzZXRJbmZvID0gZGVzZXJpYWxpemVBc3NldEluZm8oYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgY29uZGl0aW9uQ29kZSA9IGJ5dGVzUmVhZGVyLnJlYWRVSW50OEVudW0oY29uc3RhbnRzXzEuRnVuZ2libGVDb25kaXRpb25Db2RlLCBuID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuRGVzZXJpYWxpemF0aW9uRXJyb3IoYENvdWxkIG5vdCByZWFkICR7bn0gYXMgRnVuZ2libGVDb25kaXRpb25Db2RlYCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFtb3VudCA9IEJpZ0ludChgMHgkeygwLCBjb21tb25fMS5ieXRlc1RvSGV4KShieXRlc1JlYWRlci5yZWFkQnl0ZXMoOCkpfWApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Qb3N0Q29uZGl0aW9uLFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvblR5cGU6IGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25UeXBlLkZ1bmdpYmxlLFxuICAgICAgICAgICAgICAgIHByaW5jaXBhbCxcbiAgICAgICAgICAgICAgICBjb25kaXRpb25Db2RlLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBhc3NldEluZm8sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25UeXBlLk5vbkZ1bmdpYmxlOlxuICAgICAgICAgICAgYXNzZXRJbmZvID0gZGVzZXJpYWxpemVBc3NldEluZm8oYnl0ZXNSZWFkZXIpO1xuICAgICAgICAgICAgY29uc3QgYXNzZXROYW1lID0gKDAsIGNsYXJpdHlfMS5kZXNlcmlhbGl6ZUNWKShieXRlc1JlYWRlcik7XG4gICAgICAgICAgICBjb25kaXRpb25Db2RlID0gYnl0ZXNSZWFkZXIucmVhZFVJbnQ4RW51bShjb25zdGFudHNfMS5Ob25GdW5naWJsZUNvbmRpdGlvbkNvZGUsIG4gPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5EZXNlcmlhbGl6YXRpb25FcnJvcihgQ291bGQgbm90IHJlYWQgJHtufSBhcyBGdW5naWJsZUNvbmRpdGlvbkNvZGVgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBjb25zdGFudHNfMS5TdGFja3NNZXNzYWdlVHlwZS5Qb3N0Q29uZGl0aW9uLFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvblR5cGU6IGNvbnN0YW50c18xLlBvc3RDb25kaXRpb25UeXBlLk5vbkZ1bmdpYmxlLFxuICAgICAgICAgICAgICAgIHByaW5jaXBhbCxcbiAgICAgICAgICAgICAgICBjb25kaXRpb25Db2RlLFxuICAgICAgICAgICAgICAgIGFzc2V0SW5mbyxcbiAgICAgICAgICAgICAgICBhc3NldE5hbWUsXG4gICAgICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVQb3N0Q29uZGl0aW9uID0gZGVzZXJpYWxpemVQb3N0Q29uZGl0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stacks/transactions/dist/utils.js":
/*!*********************************************************!*\
  !*** ./node_modules/@stacks/transactions/dist/utils.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.validateTxId = exports.validateStacksAddress = exports.parseReadOnlyResponse = exports.hexToCV = exports.cvToHex = exports.isClarityName = exports.hashP2WSH = exports.hashP2SH = exports.hashP2WPKH = exports.hashP2PKH = exports.hash160 = exports.txidFromData = exports.omit = exports.cloneDeep = exports.exceedsMaxLengthBytes = exports.rightPadHexToLength = exports.leftPadHexToLength = exports.leftPadHex = exports.randomBytes = exports.verifySignature = void 0;\nconst ripemd160_1 = __webpack_require__(/*! @noble/hashes/ripemd160 */ \"(ssr)/./node_modules/@noble/hashes/ripemd160.js\");\nconst sha256_1 = __webpack_require__(/*! @noble/hashes/sha256 */ \"(ssr)/./node_modules/@noble/hashes/sha256.js\");\nconst sha512_1 = __webpack_require__(/*! @noble/hashes/sha512 */ \"(ssr)/./node_modules/@noble/hashes/sha512.js\");\nconst secp256k1_1 = __webpack_require__(/*! @noble/secp256k1 */ \"(ssr)/./node_modules/@noble/secp256k1/lib/index.js\");\nconst common_1 = __webpack_require__(/*! @stacks/common */ \"(ssr)/./node_modules/@stacks/common/dist/index.js\");\nconst c32check_1 = __webpack_require__(/*! c32check */ \"(ssr)/./node_modules/c32check/lib/index.js\");\nconst lodash_clonedeep_1 = __importDefault(__webpack_require__(/*! lodash.clonedeep */ \"(ssr)/./node_modules/lodash.clonedeep/index.js\"));\nconst clarity_1 = __webpack_require__(/*! ./clarity */ \"(ssr)/./node_modules/@stacks/transactions/dist/clarity/index.js\");\nvar secp256k1_2 = __webpack_require__(/*! @noble/secp256k1 */ \"(ssr)/./node_modules/@noble/secp256k1/lib/index.js\");\nObject.defineProperty(exports, \"verifySignature\", ({ enumerable: true, get: function () { return secp256k1_2.verify; } }));\nconst randomBytes = (bytesLength) => secp256k1_1.utils.randomBytes(bytesLength);\nexports.randomBytes = randomBytes;\nconst leftPadHex = (hexString) => hexString.length % 2 == 0 ? hexString : `0${hexString}`;\nexports.leftPadHex = leftPadHex;\nconst leftPadHexToLength = (hexString, length) => hexString.padStart(length, '0');\nexports.leftPadHexToLength = leftPadHexToLength;\nconst rightPadHexToLength = (hexString, length) => hexString.padEnd(length, '0');\nexports.rightPadHexToLength = rightPadHexToLength;\nconst exceedsMaxLengthBytes = (string, maxLengthBytes) => string ? (0, common_1.utf8ToBytes)(string).length > maxLengthBytes : false;\nexports.exceedsMaxLengthBytes = exceedsMaxLengthBytes;\nfunction cloneDeep(obj) {\n    return (0, lodash_clonedeep_1.default)(obj);\n}\nexports.cloneDeep = cloneDeep;\nfunction omit(obj, prop) {\n    const clone = cloneDeep(obj);\n    delete clone[prop];\n    return clone;\n}\nexports.omit = omit;\nconst txidFromData = (data) => {\n    return (0, common_1.bytesToHex)((0, sha512_1.sha512_256)(data));\n};\nexports.txidFromData = txidFromData;\nconst hash160 = (input) => {\n    return (0, ripemd160_1.ripemd160)((0, sha256_1.sha256)(input));\n};\nexports.hash160 = hash160;\nconst hashP2PKH = (input) => {\n    return (0, common_1.bytesToHex)((0, exports.hash160)(input));\n};\nexports.hashP2PKH = hashP2PKH;\nconst hashP2WPKH = (input) => {\n    const keyHash = (0, exports.hash160)(input);\n    const redeemScript = (0, common_1.concatBytes)(new Uint8Array([0]), new Uint8Array([keyHash.length]), keyHash);\n    const redeemScriptHash = (0, exports.hash160)(redeemScript);\n    return (0, common_1.bytesToHex)(redeemScriptHash);\n};\nexports.hashP2WPKH = hashP2WPKH;\nconst hashP2SH = (numSigs, pubKeys) => {\n    if (numSigs > 15 || pubKeys.length > 15) {\n        throw Error('P2SH multisig address can only contain up to 15 public keys');\n    }\n    const bytesArray = [];\n    bytesArray.push(80 + numSigs);\n    pubKeys.forEach(pubKey => {\n        bytesArray.push(pubKey.length);\n        bytesArray.push(pubKey);\n    });\n    bytesArray.push(80 + pubKeys.length);\n    bytesArray.push(174);\n    const redeemScript = (0, common_1.concatArray)(bytesArray);\n    const redeemScriptHash = (0, exports.hash160)(redeemScript);\n    return (0, common_1.bytesToHex)(redeemScriptHash);\n};\nexports.hashP2SH = hashP2SH;\nconst hashP2WSH = (numSigs, pubKeys) => {\n    if (numSigs > 15 || pubKeys.length > 15) {\n        throw Error('P2WSH multisig address can only contain up to 15 public keys');\n    }\n    const scriptArray = [];\n    scriptArray.push(80 + numSigs);\n    pubKeys.forEach(pubKey => {\n        scriptArray.push(pubKey.length);\n        scriptArray.push(pubKey);\n    });\n    scriptArray.push(80 + pubKeys.length);\n    scriptArray.push(174);\n    const script = (0, common_1.concatArray)(scriptArray);\n    const digest = (0, sha256_1.sha256)(script);\n    const bytesArray = [];\n    bytesArray.push(0);\n    bytesArray.push(digest.length);\n    bytesArray.push(digest);\n    const redeemScript = (0, common_1.concatArray)(bytesArray);\n    const redeemScriptHash = (0, exports.hash160)(redeemScript);\n    return (0, common_1.bytesToHex)(redeemScriptHash);\n};\nexports.hashP2WSH = hashP2WSH;\nfunction isClarityName(name) {\n    const regex = /^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/;\n    return regex.test(name) && name.length < 128;\n}\nexports.isClarityName = isClarityName;\nfunction cvToHex(cv) {\n    const serialized = (0, clarity_1.serializeCV)(cv);\n    return `0x${(0, common_1.bytesToHex)(serialized)}`;\n}\nexports.cvToHex = cvToHex;\nfunction hexToCV(hex) {\n    return (0, clarity_1.deserializeCV)(hex);\n}\nexports.hexToCV = hexToCV;\nconst parseReadOnlyResponse = (response) => {\n    if (response.okay)\n        return hexToCV(response.result);\n    throw new Error(response.cause);\n};\nexports.parseReadOnlyResponse = parseReadOnlyResponse;\nconst validateStacksAddress = (stacksAddress) => {\n    try {\n        (0, c32check_1.c32addressDecode)(stacksAddress);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n};\nexports.validateStacksAddress = validateStacksAddress;\nconst validateTxId = (txid) => {\n    if (txid === 'success')\n        return true;\n    const value = (0, common_1.with0x)(txid).toLowerCase();\n    if (value.length !== 66)\n        return false;\n    return (0, common_1.with0x)(BigInt(value).toString(16).padStart(64, '0')) === value;\n};\nexports.validateTxId = validateTxId;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWNrcy90cmFuc2FjdGlvbnMvZGlzdC91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLDZCQUE2QixHQUFHLDZCQUE2QixHQUFHLGVBQWUsR0FBRyxlQUFlLEdBQUcscUJBQXFCLEdBQUcsaUJBQWlCLEdBQUcsZ0JBQWdCLEdBQUcsa0JBQWtCLEdBQUcsaUJBQWlCLEdBQUcsZUFBZSxHQUFHLG9CQUFvQixHQUFHLFlBQVksR0FBRyxpQkFBaUIsR0FBRyw2QkFBNkIsR0FBRywyQkFBMkIsR0FBRywwQkFBMEIsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyx1QkFBdUI7QUFDNWMsb0JBQW9CLG1CQUFPLENBQUMsZ0ZBQXlCO0FBQ3JELGlCQUFpQixtQkFBTyxDQUFDLDBFQUFzQjtBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQywwRUFBc0I7QUFDL0Msb0JBQW9CLG1CQUFPLENBQUMsNEVBQWtCO0FBQzlDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFnQjtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQyw0REFBVTtBQUNyQywyQ0FBMkMsbUJBQU8sQ0FBQyx3RUFBa0I7QUFDckUsa0JBQWtCLG1CQUFPLENBQUMsa0ZBQVc7QUFDckMsa0JBQWtCLG1CQUFPLENBQUMsNEVBQWtCO0FBQzVDLG1EQUFrRCxFQUFFLHFDQUFxQyw4QkFBOEIsRUFBQztBQUN4SDtBQUNBLG1CQUFtQjtBQUNuQiw4RUFBOEUsVUFBVTtBQUN4RixrQkFBa0I7QUFDbEI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsZ0JBQWdCLHFDQUFxQztBQUNyRDtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlYWN0LW5leHRqcy10cy8uL25vZGVfbW9kdWxlcy9Ac3RhY2tzL3RyYW5zYWN0aW9ucy9kaXN0L3V0aWxzLmpzPzcxMzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZhbGlkYXRlVHhJZCA9IGV4cG9ydHMudmFsaWRhdGVTdGFja3NBZGRyZXNzID0gZXhwb3J0cy5wYXJzZVJlYWRPbmx5UmVzcG9uc2UgPSBleHBvcnRzLmhleFRvQ1YgPSBleHBvcnRzLmN2VG9IZXggPSBleHBvcnRzLmlzQ2xhcml0eU5hbWUgPSBleHBvcnRzLmhhc2hQMldTSCA9IGV4cG9ydHMuaGFzaFAyU0ggPSBleHBvcnRzLmhhc2hQMldQS0ggPSBleHBvcnRzLmhhc2hQMlBLSCA9IGV4cG9ydHMuaGFzaDE2MCA9IGV4cG9ydHMudHhpZEZyb21EYXRhID0gZXhwb3J0cy5vbWl0ID0gZXhwb3J0cy5jbG9uZURlZXAgPSBleHBvcnRzLmV4Y2VlZHNNYXhMZW5ndGhCeXRlcyA9IGV4cG9ydHMucmlnaHRQYWRIZXhUb0xlbmd0aCA9IGV4cG9ydHMubGVmdFBhZEhleFRvTGVuZ3RoID0gZXhwb3J0cy5sZWZ0UGFkSGV4ID0gZXhwb3J0cy5yYW5kb21CeXRlcyA9IGV4cG9ydHMudmVyaWZ5U2lnbmF0dXJlID0gdm9pZCAwO1xuY29uc3QgcmlwZW1kMTYwXzEgPSByZXF1aXJlKFwiQG5vYmxlL2hhc2hlcy9yaXBlbWQxNjBcIik7XG5jb25zdCBzaGEyNTZfMSA9IHJlcXVpcmUoXCJAbm9ibGUvaGFzaGVzL3NoYTI1NlwiKTtcbmNvbnN0IHNoYTUxMl8xID0gcmVxdWlyZShcIkBub2JsZS9oYXNoZXMvc2hhNTEyXCIpO1xuY29uc3Qgc2VjcDI1NmsxXzEgPSByZXF1aXJlKFwiQG5vYmxlL3NlY3AyNTZrMVwiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIkBzdGFja3MvY29tbW9uXCIpO1xuY29uc3QgYzMyY2hlY2tfMSA9IHJlcXVpcmUoXCJjMzJjaGVja1wiKTtcbmNvbnN0IGxvZGFzaF9jbG9uZWRlZXBfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoLmNsb25lZGVlcFwiKSk7XG5jb25zdCBjbGFyaXR5XzEgPSByZXF1aXJlKFwiLi9jbGFyaXR5XCIpO1xudmFyIHNlY3AyNTZrMV8yID0gcmVxdWlyZShcIkBub2JsZS9zZWNwMjU2azFcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2ZXJpZnlTaWduYXR1cmVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlY3AyNTZrMV8yLnZlcmlmeTsgfSB9KTtcbmNvbnN0IHJhbmRvbUJ5dGVzID0gKGJ5dGVzTGVuZ3RoKSA9PiBzZWNwMjU2azFfMS51dGlscy5yYW5kb21CeXRlcyhieXRlc0xlbmd0aCk7XG5leHBvcnRzLnJhbmRvbUJ5dGVzID0gcmFuZG9tQnl0ZXM7XG5jb25zdCBsZWZ0UGFkSGV4ID0gKGhleFN0cmluZykgPT4gaGV4U3RyaW5nLmxlbmd0aCAlIDIgPT0gMCA/IGhleFN0cmluZyA6IGAwJHtoZXhTdHJpbmd9YDtcbmV4cG9ydHMubGVmdFBhZEhleCA9IGxlZnRQYWRIZXg7XG5jb25zdCBsZWZ0UGFkSGV4VG9MZW5ndGggPSAoaGV4U3RyaW5nLCBsZW5ndGgpID0+IGhleFN0cmluZy5wYWRTdGFydChsZW5ndGgsICcwJyk7XG5leHBvcnRzLmxlZnRQYWRIZXhUb0xlbmd0aCA9IGxlZnRQYWRIZXhUb0xlbmd0aDtcbmNvbnN0IHJpZ2h0UGFkSGV4VG9MZW5ndGggPSAoaGV4U3RyaW5nLCBsZW5ndGgpID0+IGhleFN0cmluZy5wYWRFbmQobGVuZ3RoLCAnMCcpO1xuZXhwb3J0cy5yaWdodFBhZEhleFRvTGVuZ3RoID0gcmlnaHRQYWRIZXhUb0xlbmd0aDtcbmNvbnN0IGV4Y2VlZHNNYXhMZW5ndGhCeXRlcyA9IChzdHJpbmcsIG1heExlbmd0aEJ5dGVzKSA9PiBzdHJpbmcgPyAoMCwgY29tbW9uXzEudXRmOFRvQnl0ZXMpKHN0cmluZykubGVuZ3RoID4gbWF4TGVuZ3RoQnl0ZXMgOiBmYWxzZTtcbmV4cG9ydHMuZXhjZWVkc01heExlbmd0aEJ5dGVzID0gZXhjZWVkc01heExlbmd0aEJ5dGVzO1xuZnVuY3Rpb24gY2xvbmVEZWVwKG9iaikge1xuICAgIHJldHVybiAoMCwgbG9kYXNoX2Nsb25lZGVlcF8xLmRlZmF1bHQpKG9iaik7XG59XG5leHBvcnRzLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbmZ1bmN0aW9uIG9taXQob2JqLCBwcm9wKSB7XG4gICAgY29uc3QgY2xvbmUgPSBjbG9uZURlZXAob2JqKTtcbiAgICBkZWxldGUgY2xvbmVbcHJvcF07XG4gICAgcmV0dXJuIGNsb25lO1xufVxuZXhwb3J0cy5vbWl0ID0gb21pdDtcbmNvbnN0IHR4aWRGcm9tRGF0YSA9IChkYXRhKSA9PiB7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KSgoMCwgc2hhNTEyXzEuc2hhNTEyXzI1NikoZGF0YSkpO1xufTtcbmV4cG9ydHMudHhpZEZyb21EYXRhID0gdHhpZEZyb21EYXRhO1xuY29uc3QgaGFzaDE2MCA9IChpbnB1dCkgPT4ge1xuICAgIHJldHVybiAoMCwgcmlwZW1kMTYwXzEucmlwZW1kMTYwKSgoMCwgc2hhMjU2XzEuc2hhMjU2KShpbnB1dCkpO1xufTtcbmV4cG9ydHMuaGFzaDE2MCA9IGhhc2gxNjA7XG5jb25zdCBoYXNoUDJQS0ggPSAoaW5wdXQpID0+IHtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKCgwLCBleHBvcnRzLmhhc2gxNjApKGlucHV0KSk7XG59O1xuZXhwb3J0cy5oYXNoUDJQS0ggPSBoYXNoUDJQS0g7XG5jb25zdCBoYXNoUDJXUEtIID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3Qga2V5SGFzaCA9ICgwLCBleHBvcnRzLmhhc2gxNjApKGlucHV0KTtcbiAgICBjb25zdCByZWRlZW1TY3JpcHQgPSAoMCwgY29tbW9uXzEuY29uY2F0Qnl0ZXMpKG5ldyBVaW50OEFycmF5KFswXSksIG5ldyBVaW50OEFycmF5KFtrZXlIYXNoLmxlbmd0aF0pLCBrZXlIYXNoKTtcbiAgICBjb25zdCByZWRlZW1TY3JpcHRIYXNoID0gKDAsIGV4cG9ydHMuaGFzaDE2MCkocmVkZWVtU2NyaXB0KTtcbiAgICByZXR1cm4gKDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKHJlZGVlbVNjcmlwdEhhc2gpO1xufTtcbmV4cG9ydHMuaGFzaFAyV1BLSCA9IGhhc2hQMldQS0g7XG5jb25zdCBoYXNoUDJTSCA9IChudW1TaWdzLCBwdWJLZXlzKSA9PiB7XG4gICAgaWYgKG51bVNpZ3MgPiAxNSB8fCBwdWJLZXlzLmxlbmd0aCA+IDE1KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdQMlNIIG11bHRpc2lnIGFkZHJlc3MgY2FuIG9ubHkgY29udGFpbiB1cCB0byAxNSBwdWJsaWMga2V5cycpO1xuICAgIH1cbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgYnl0ZXNBcnJheS5wdXNoKDgwICsgbnVtU2lncyk7XG4gICAgcHViS2V5cy5mb3JFYWNoKHB1YktleSA9PiB7XG4gICAgICAgIGJ5dGVzQXJyYXkucHVzaChwdWJLZXkubGVuZ3RoKTtcbiAgICAgICAgYnl0ZXNBcnJheS5wdXNoKHB1YktleSk7XG4gICAgfSk7XG4gICAgYnl0ZXNBcnJheS5wdXNoKDgwICsgcHViS2V5cy5sZW5ndGgpO1xuICAgIGJ5dGVzQXJyYXkucHVzaCgxNzQpO1xuICAgIGNvbnN0IHJlZGVlbVNjcmlwdCA9ICgwLCBjb21tb25fMS5jb25jYXRBcnJheSkoYnl0ZXNBcnJheSk7XG4gICAgY29uc3QgcmVkZWVtU2NyaXB0SGFzaCA9ICgwLCBleHBvcnRzLmhhc2gxNjApKHJlZGVlbVNjcmlwdCk7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS5ieXRlc1RvSGV4KShyZWRlZW1TY3JpcHRIYXNoKTtcbn07XG5leHBvcnRzLmhhc2hQMlNIID0gaGFzaFAyU0g7XG5jb25zdCBoYXNoUDJXU0ggPSAobnVtU2lncywgcHViS2V5cykgPT4ge1xuICAgIGlmIChudW1TaWdzID4gMTUgfHwgcHViS2V5cy5sZW5ndGggPiAxNSkge1xuICAgICAgICB0aHJvdyBFcnJvcignUDJXU0ggbXVsdGlzaWcgYWRkcmVzcyBjYW4gb25seSBjb250YWluIHVwIHRvIDE1IHB1YmxpYyBrZXlzJyk7XG4gICAgfVxuICAgIGNvbnN0IHNjcmlwdEFycmF5ID0gW107XG4gICAgc2NyaXB0QXJyYXkucHVzaCg4MCArIG51bVNpZ3MpO1xuICAgIHB1YktleXMuZm9yRWFjaChwdWJLZXkgPT4ge1xuICAgICAgICBzY3JpcHRBcnJheS5wdXNoKHB1YktleS5sZW5ndGgpO1xuICAgICAgICBzY3JpcHRBcnJheS5wdXNoKHB1YktleSk7XG4gICAgfSk7XG4gICAgc2NyaXB0QXJyYXkucHVzaCg4MCArIHB1YktleXMubGVuZ3RoKTtcbiAgICBzY3JpcHRBcnJheS5wdXNoKDE3NCk7XG4gICAgY29uc3Qgc2NyaXB0ID0gKDAsIGNvbW1vbl8xLmNvbmNhdEFycmF5KShzY3JpcHRBcnJheSk7XG4gICAgY29uc3QgZGlnZXN0ID0gKDAsIHNoYTI1Nl8xLnNoYTI1Nikoc2NyaXB0KTtcbiAgICBjb25zdCBieXRlc0FycmF5ID0gW107XG4gICAgYnl0ZXNBcnJheS5wdXNoKDApO1xuICAgIGJ5dGVzQXJyYXkucHVzaChkaWdlc3QubGVuZ3RoKTtcbiAgICBieXRlc0FycmF5LnB1c2goZGlnZXN0KTtcbiAgICBjb25zdCByZWRlZW1TY3JpcHQgPSAoMCwgY29tbW9uXzEuY29uY2F0QXJyYXkpKGJ5dGVzQXJyYXkpO1xuICAgIGNvbnN0IHJlZGVlbVNjcmlwdEhhc2ggPSAoMCwgZXhwb3J0cy5oYXNoMTYwKShyZWRlZW1TY3JpcHQpO1xuICAgIHJldHVybiAoMCwgY29tbW9uXzEuYnl0ZXNUb0hleCkocmVkZWVtU2NyaXB0SGFzaCk7XG59O1xuZXhwb3J0cy5oYXNoUDJXU0ggPSBoYXNoUDJXU0g7XG5mdW5jdGlvbiBpc0NsYXJpdHlOYW1lKG5hbWUpIHtcbiAgICBjb25zdCByZWdleCA9IC9eW2EtekEtWl0oW2EtekEtWjAtOV18Wy1fIT8rPD49LypdKSokfF5bLSs9LypdJHxeWzw+XT0/JC87XG4gICAgcmV0dXJuIHJlZ2V4LnRlc3QobmFtZSkgJiYgbmFtZS5sZW5ndGggPCAxMjg7XG59XG5leHBvcnRzLmlzQ2xhcml0eU5hbWUgPSBpc0NsYXJpdHlOYW1lO1xuZnVuY3Rpb24gY3ZUb0hleChjdikge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSAoMCwgY2xhcml0eV8xLnNlcmlhbGl6ZUNWKShjdik7XG4gICAgcmV0dXJuIGAweCR7KDAsIGNvbW1vbl8xLmJ5dGVzVG9IZXgpKHNlcmlhbGl6ZWQpfWA7XG59XG5leHBvcnRzLmN2VG9IZXggPSBjdlRvSGV4O1xuZnVuY3Rpb24gaGV4VG9DVihoZXgpIHtcbiAgICByZXR1cm4gKDAsIGNsYXJpdHlfMS5kZXNlcmlhbGl6ZUNWKShoZXgpO1xufVxuZXhwb3J0cy5oZXhUb0NWID0gaGV4VG9DVjtcbmNvbnN0IHBhcnNlUmVhZE9ubHlSZXNwb25zZSA9IChyZXNwb25zZSkgPT4ge1xuICAgIGlmIChyZXNwb25zZS5va2F5KVxuICAgICAgICByZXR1cm4gaGV4VG9DVihyZXNwb25zZS5yZXN1bHQpO1xuICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5jYXVzZSk7XG59O1xuZXhwb3J0cy5wYXJzZVJlYWRPbmx5UmVzcG9uc2UgPSBwYXJzZVJlYWRPbmx5UmVzcG9uc2U7XG5jb25zdCB2YWxpZGF0ZVN0YWNrc0FkZHJlc3MgPSAoc3RhY2tzQWRkcmVzcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgICgwLCBjMzJjaGVja18xLmMzMmFkZHJlc3NEZWNvZGUpKHN0YWNrc0FkZHJlc3MpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5leHBvcnRzLnZhbGlkYXRlU3RhY2tzQWRkcmVzcyA9IHZhbGlkYXRlU3RhY2tzQWRkcmVzcztcbmNvbnN0IHZhbGlkYXRlVHhJZCA9ICh0eGlkKSA9PiB7XG4gICAgaWYgKHR4aWQgPT09ICdzdWNjZXNzJylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgdmFsdWUgPSAoMCwgY29tbW9uXzEud2l0aDB4KSh0eGlkKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IDY2KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuICgwLCBjb21tb25fMS53aXRoMHgpKEJpZ0ludCh2YWx1ZSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDY0LCAnMCcpKSA9PT0gdmFsdWU7XG59O1xuZXhwb3J0cy52YWxpZGF0ZVR4SWQgPSB2YWxpZGF0ZVR4SWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stacks/transactions/dist/utils.js\n");

/***/ })

};
;